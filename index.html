<script>document.write(decodeURIComponent(escape(atob('PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImFyIiBkaXI9InJ0bCI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgogICAgPHRpdGxlPtmF2YbYtdmA2KkgINin2YTZgdmK2LLZitin2KEg2KfZhNmE2LDZitmA2YDYsNmHICAgICA8L3RpdGxlPgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2FwaS5qcyI+PC9zY3JpcHQ+CiAgICA8bGluayByZWw9Imljb24iIHR5cGU9ImltYWdlL3BuZyIgaHJlZj0iZmF2aWNvbi5wbmciPgogICAgPGF1ZGlvIGlkPSJzb3VuZC1jb3JyZWN0IiBzcmM9Imh0dHBzOi8vaS50b3A0dG9wLmlvL21fMzY3M3d4eHlrMS5tcDMiPjwvYXVkaW8+CjxhdWRpbyBpZD0ic291bmQtd3JvbmciIHNyYz0iaHR0cHM6Ly9oLnRvcDR0b3AuaW8vbV8zNjczeTdmejYxLm1wMyI+PC9hdWRpbz4KICAgIDwhLS0g2KPYttmBINmH2LDZhyDYp9mE2KPYs9i32LEg2YHZiiA8aGVhZD4gLS0+CiAgICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vZ3NpL2NsaWVudCIgYXN5bmMgZGVmZXI+PC9zY3JpcHQ+CjwhLS0g2YXZg9iq2KjYqSBNYXRoSmF4INmE2LnYsdi2INis2YXZiti5INin2YTYsdmF2YjYsiDZiNin2YTZhdi52KfYr9mE2KfYqiDYp9mE2LHZitin2LbZitipIC0tPgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9wb2x5ZmlsbC5pby92My9wb2x5ZmlsbC5taW4uanM/ZmVhdHVyZXM9ZXM2Ij48L3NjcmlwdD4KPHNjcmlwdCBpZD0iTWF0aEpheC1zY3JpcHQiIGFzeW5jCiAgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL21hdGhqYXhAMy9lczUvdGV4LW1tbC1jaHRtbC5qcyI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9qc3BkZi8yLjUuMS9qc3BkZi51bWQubWluLmpzIj48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2h0bWwyY2FudmFzLzEuNC4xL2h0bWwyY2FudmFzLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9jaGFydC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvUGFwYVBhcnNlLzUuMy4yL3BhcGFwYXJzZS5taW4uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3hsc3gvMC4xOC41L3hsc3guZnVsbC5taW4uanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9mb250LWF3ZXNvbWUvNi40LjAvY3NzL2FsbC5taW4uY3NzIj4KICAgIDxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbSI+CiAgICA8bGluayByZWw9InByZWNvbm5lY3QiIGhyZWY9Imh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20iIGNyb3Nzb3JpZ2luPgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1DYWlybytQbGF5OndnaHRAMjAwLi4xMDAwJmZhbWlseT1MYWxlemFyJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4gICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9mb250LWF3ZXNvbWUvNC43LjAvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzIj4KICAgIDxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9VGFqYXdhbDp3Z2h0QDQwMDs1MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZm9udC1hd2Vzb21lLzYuNC4wL2Nzcy9hbGwubWluLmNzcyI+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4udGFpbHdpbmRjc3MuY29tIj48L3NjcmlwdD4KICAgIDxzdHlsZT4KICAgICAgOnJvb3QgewogICAgLS1wcmltYXJ5OiAjMGE3MGZmOyAvKiDYo9iy2LHZgiDZgdin2KrYrSAqLwogICAgLS1wcmltYXJ5LWxpZ2h0OiAjMGE3MGZmOyAvKiDYo9iy2LHZgiDYo9mB2KrYrSAqLwogICAgLS1zZWNvbmRhcnk6ICMwYTcwZmY7IC8qINix2YXYp9iv2Yog2YXYstix2YIgKi8KICAgIC0tYWNjZW50OiAjZmZmZmZmOyAvKiDZiNix2K/ZiiDZgdin2KrYrSAqLwogICAgLS1kYXJrOiAjMkMzRTUwOyAvKiDYo9iy2LHZgiDYr9in2YPZhiAqLwogICAgLS1saWdodDogI0Y1RjdGQTsgLyog2K7ZhNmB2YrYqSDZgdin2KrYrdipICovCiAgICAtLXN1Y2Nlc3M6ICMxNGVlODg7IC8qINij2K7YttixINmB2KfYqtitICovCiAgICAtLWRhbmdlcjogI0ZDNUM2NTsgLyog2KPYrdmF2LEg2YHYp9iq2K0gKi8KICAgIC0td2FybmluZzogI0ZGQ0U1NDsgLyog2KPYtdmB2LEg2YHYp9iq2K0gKi8KICAgIC0tZ3JheTogI0FBQjJCRDsgLyog2LHZhdin2K/ZiiDZgdin2KrYrSAqLwogICAgLS10ZXh0OiAjNjU2RDc4OyAvKiDZhNmI2YYg2KfZhNmG2LUg2KfZhNix2KbZitiz2YogKi8KICAgIC0tY2FyZC1iZzogI2ZmZmZmZjsgLyog2K7ZhNmB2YrYqSDYp9mE2KjYt9in2YLYp9iqICovCn0vKiDYo9iy2LHYp9ixINin2YTYqtix2YLZitmFICovCi8qINir2KjZkdiqINi02LHZiti3INin2YTYo9iy2LHYp9ixINmI2KfYrNi52YTZhyDYrNmF2YrZhNin2YsgKi8KI3F1ZXN0aW9uQmFua0FjdGlvbnNCYXIuYWN0aW9ucy1iYXIgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC13cmFwOiB3cmFwOwogIGdhcDogMTBweDsKICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgYm94LXNoYWRvdzogMCAycHggMTBweCAjMGE3MGZmMTE7CiAgcGFkZGluZzogMTRweCAxMHB4OwogIG1hcmdpbi1ib3R0b206IDE4cHg7CiAgcG9zaXRpb246IHN0aWNreTsKICB0b3A6IDExMHB4OyAvKiDYo9iz2YHZhCDYp9mE2YfZitiv2LEgKi8KICB6LWluZGV4OiAxMDsKICBib3JkZXI6IDEuNXB4IHNvbGlkICNlMGU3ZWY7Cn0KLyogT3ZlcnJpZGUgY29udGFjdFVzTW9kYWwgdG8gYmUgc21hbGxlciBhbmQgbW9yZSBjb21wYWN0ICovCiNjb250YWN0VXNNb2RhbCAubW9kYWwtY29udGVudCB7CiAgbWF4LXdpZHRoOiA0MjBweCAhaW1wb3J0YW50OwogIHBhZGRpbmc6IDE0cHggIWltcG9ydGFudDsKICBib3JkZXItcmFkaXVzOiAxMnB4OwogIGJveC1zaGFkb3c6IDAgMTJweCAzMHB4IHJnYmEoMTAsMTEyLDI1NSwwLjEyKTsKfQojY29udGFjdFVzTW9kYWwgLm1vZGFsLXRpdGxlIHsgZm9udC1zaXplOjEuMDVyZW07IG1hcmdpbjowOyB9CiNjb250YWN0VXNNb2RhbCAubW9kYWwtY29udGVudCBwIHsgZm9udC1zaXplOjAuOTZyZW07IGNvbG9yOiMzMzM7IG1hcmdpbjo4cHggMDsgfQojY29udGFjdFVzTW9kYWwgLm1vZGFsLWNvbnRlbnQgYSB7IGZvbnQtd2VpZ2h0OjcwMDsgY29sb3I6IzBhNzBmZjsgfQoKLyogTWFrZSBlbWJlZGRlZCB2aWRlbyBzbWFsbGVyICovCiNjb250YWN0VXNNb2RhbCAubW9kYWwtY29udGVudCA+IGRpdltzdHlsZSo9InBhZGRpbmctYm90dG9tOjU2JSJdIHsKICBwYWRkaW5nLWJvdHRvbTogNTIlOyAvKiBzbGlnaHRseSBzaG9ydGVyICovCn0KI2NvbnRhY3RVc01vZGFsIGlmcmFtZSB7CiAgYm9yZGVyLXJhZGl1czo4cHg7CiAgd2lkdGg6MTAwJTsKICBoZWlnaHQ6MjIwcHg7CiAgbWF4LWhlaWdodDoyNjBweDsKfQoKLyogQ29tcGFjdCBhY3Rpb25zICovCiNjb250YWN0VXNNb2RhbCAubW9kYWwtY29udGVudCAuYnRuIHsgcGFkZGluZzo4cHggMTJweDsgZm9udC1zaXplOjAuOTVyZW07IH0KCi8qIFJlc3BvbnNpdmU6IGV2ZW4gc21hbGxlciBvbiBuYXJyb3cgc2NyZWVucyAqLwpAbWVkaWEgKG1heC13aWR0aDo0ODBweCl7CiAgI2NvbnRhY3RVc01vZGFsIC5tb2RhbC1jb250ZW50IHsgbWF4LXdpZHRoOiAzNDBweCAhaW1wb3J0YW50OyBwYWRkaW5nOjEwcHggIWltcG9ydGFudDsgfQogICNjb250YWN0VXNNb2RhbCBpZnJhbWUgeyBoZWlnaHQ6MTYwcHg7IH0KfQojcXVlc3Rpb25CYW5rQWN0aW9uc0JhciAuYnRuLWRhbmdlciB7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCNmYzVjNjUsI2U3NGMzYyk7CiAgY29sb3I6ICNmZmY7CiAgYm9yZGVyOiBub25lOwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGJveC1zaGFkb3c6IDAgMnB4IDhweCAjZmM1YzY1MTE7CiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjNzLCB0cmFuc2Zvcm0gMC4yczsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgcGFkZGluZzogMTBweCAxOHB4OwogIGZvbnQtc2l6ZTogMXJlbTsKfQoKI3F1ZXN0aW9uQmFua0FjdGlvbnNCYXIgLmJ0bi1kYW5nZXI6aG92ZXIgewogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywjZTc0YzNjLCNmYzVjNjUpOwogIGNvbG9yOiAjZmZmOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KSBzY2FsZSgxLjA0KTsKfQoucGFnaW5hdGlvbi1jb250YWluZXIgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDE4cHg7CiAgbWFyZ2luLWJvdHRvbTogMTJweDsKfQoucGFnaW5hdGlvbi1idG4gewogIGJhY2tncm91bmQ6ICMwYTcwZmY7CiAgY29sb3I6ICNmZmY7CiAgYm9yZGVyOiBub25lOwogIGJvcmRlci1yYWRpdXM6IDIycHg7CiAgcGFkZGluZzogN3B4IDIycHg7CiAgZm9udC1zaXplOiAxcmVtOwogIGN1cnNvcjogcG9pbnRlcjsKICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnM7Cn0KLnBhZ2luYXRpb24tYnRuOmRpc2FibGVkIHsKICBiYWNrZ3JvdW5kOiAjYjJiZWMzOwogIGN1cnNvcjogbm90LWFsbG93ZWQ7Cn0KLnBhZ2luYXRpb24taW5mbyB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgY29sb3I6ICMwYTcwZmY7Cn0KCi5leGFtLWNhcmQgewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiAxNXB4OwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgcGFkZGluZzogMjBweDsKfQoKLmV4YW0tY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBhNzBmZiwgIzE0ZWU4OCk7CiAgICBjb2xvcjogd2hpdGU7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7Cn0KCi5leGFtLWNhcmQtYm9keSB7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgY29sb3I6ICMyMjI7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBsaW5lLWhlaWdodDogMS42OwogICAgdGV4dC1hbGlnbjoganVzdGlmeTsKfQoKLmV4YW0tY2FyZC1mb290ZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7CiAgICBmb250LXNpemU6IDAuOXJlbTsKICAgIGNvbG9yOiAjODg4OwogICAgcGFkZGluZzogMTVweDsKfQoKLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCi5leGFtLXllYXItYmFkZ2UsIC5zZWxmdGVzdC15ZWFyLWJhZGdlIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAxMHB4OwogIGxlZnQ6IDEwcHg7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBhNzBmZiA3MCUsICMxNGVlODggMTAwJSk7CiAgY29sb3I6ICNmZmY7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgZm9udC1zaXplOiAwLjkycmVtOyAgICAgICAgLyog2K3YrNmFINin2YTYrti3INij2YjYttitINmC2YTZitmE2KfZiyAqLwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICB3aWR0aDogNDJweDsgICAgICAgICAgICAgICAvKiDYr9in2KbYsdipINij2YjYttitINmC2YTZitmE2KfZiyAqLwogIGhlaWdodDogNDJweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYm94LXNoYWRvdzogMCAycHggMTBweCAjMGE3MGZmMzM7CiAgei1pbmRleDogMTA7CiAgYm9yZGVyOiAyLjVweCBzb2xpZCAjZmZmOwogIGxldHRlci1zcGFjaW5nOiAwLjdweDsKICBwYWRkaW5nOiAzcHg7ICAgICAgICAgICAgICAvKiDZhdiz2KfYrdipINiv2KfYrtmE2YrYqSDYo9mD2KjYsSDZgtmE2YrZhNin2YsgKi8KICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbGluZS1oZWlnaHQ6IDEuMTsKICB3b3JkLWJyZWFrOiBicmVhay13b3JkOyAgICAvKiDZitiz2YXYrSDYqNmD2LPYsSDYp9mE2LPYt9ixINil2LDYpyDZg9in2YYg2KfZhNmG2LUg2LfZiNmK2YQgKi8KICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkOwogIHdoaXRlLXNwYWNlOiBub3JtYWw7CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMTVzLCBib3gtc2hhZG93IDAuMTVzOwp9CgoKLmV4YW0tbWV0YS1iYWRnZSB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogcm93OyAvKiDYo9i22YEg2YfYsNinINin2YTYs9i32LEg2KPZiCDYp9is2LnZhNmHIHJvdyAqLwogIGdhcDogMTZweDsKICBwYWRkaW5nOiA0cHggMHB4OwogIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgYm9yZGVyLXJhZGl1czogMCAwIDEycHggMTJweDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgICAvKiDYp9is2LnZhCDYp9mE2LnZhtin2LXYsSDZgdmKINin2YTZhdmG2KrYtdmBINij2YHZgtmK2YvYpyAqLwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7ICAgICAgIC8qINin2KzYudmEINin2YTYudmG2KfYtdixINmB2Yog2KfZhNmF2YbYqti12YEg2LnZhdmI2K/ZitmL2KcgKi8KICBkaXJlY3Rpb246IHJ0bDsKfQoKLmV4YW0tYmFkZ2UtbGFiZWwgewogIGZvbnQtc2l6ZTogMC44NXJlbTsKICBjb2xvcjogIzBmMGYwZjsKICBmb250LXdlaWdodDogNzAwOwogIG1hcmdpbi10b3A6IDBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7IC8qINij2LbZgSDZh9iw2Kcg2KfZhNiz2LfYsSAqLwp9CgoKLyog2YXZiNio2KfZitmEOiDYqti12LrZitixINin2YTYtNin2LHYqSDYo9mD2KvYsSAqLwoKLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwoKLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwoKLyog2KrYsdiq2YrYqCDYo9iy2LHYp9ixINin2YTYp9iu2KrYqNin2LE6INin2YTYs9in2KjZgiDZitmF2YrZhtiMINin2YTYqtin2YTZiiDZitiz2KfYsSAqLwovKiBmaWxlcGF0aDogYzpcVXNlcnNcSXNtYWVsIEZhcmFnXERlc2t0b3BcbXkgZmF0aGVyXGluZGV4Lmh0bWwgKi8KI3Rha2VFeGFtUGFnZSAuZXhhbS1mb290ZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlOyAvKiDZhNij2YYg2KfZhNi12YHYrdipIFJUTCAqLwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGdhcDogMTZweDsKfQojcHJldlF1ZXN0aW9uQnRuIHsKICBvcmRlcjogMjsKfQojbmV4dFF1ZXN0aW9uQnRuIHsKICBvcmRlcjogMTsKfQojc3VibWl0RXhhbUJ0biB7CiAgb3JkZXI6IDM7Cn0KCi5vcHRpb24tbGFiZWwuY29ycmVjdCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Q0ZjhlOCAhaW1wb3J0YW50OwogIGNvbG9yOiAjMDBmMDQ4ICFpbXBvcnRhbnQ7Cn0KLm9wdGlvbi1sYWJlbC53cm9uZyB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZWFlYSAhaW1wb3J0YW50OwogIGNvbG9yOiAjYzgyMzMzICFpbXBvcnRhbnQ7Cn0KLyog2KPYttmBINij2Ygg2LnYr9mEINmH2LDYpyDYp9mE2YPZiNivINmB2YogPHN0eWxlPiDZhNis2LnZhCDYrdin2YjZitipINiz2KTYp9mEINin2YTZiNin2KzYqCDZhdiq2YbYp9iz2YLYqSAxMDAlINmB2Yog2KfZhNmH2YjYp9iq2YEg2YjYqNin2YLZiiDYp9mE2LXZgdit2KkgKi8KLyog2KfYrNi52YQg2K3Yp9mI2YrYqSDYs9ik2KfZhCDYp9mE2YjYp9is2Kgg2KfZhNmF2YbYstmE2Yog2KPYtdi62LEg2YHZiiDYp9mE2YfZiNin2KrZgSDZgdmC2LcgKi8KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwoub3B0aW9uLWxhYmVsIHsKICBmb250LXNpemU6IDEuMjVyZW0gIWltcG9ydGFudDsgLyog2K3YrNmFINin2YTYrti3INij2YPYqNixICovCiAgcGFkZGluZzogMTRweCAxOHB4ICFpbXBvcnRhbnQ7Cn0KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwpAbWVkaWEgKG1heC13aWR0aDogNzAwcHgpIHsKICAjc2VsZlRlc3RRdWVzdGlvbiAub3B0aW9uLWxhYmVsLAogICNzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciAub3B0aW9uLWxhYmVsIHsKICAgIGZvbnQtc2l6ZTogMS4xNXJlbSAhaW1wb3J0YW50OyAvKiDYrdis2YUg2KfZhNiu2Lcg2KPZg9io2LEg2YHZiiDYp9mE2YXZiNio2KfZitmEINij2YrYttin2YsgKi8KICAgIHBhZGRpbmc6IDEycHggMTBweCAhaW1wb3J0YW50OwogIH0KfQovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCi8qINit2KfZiNmK2Kkg2LPYpNin2YQg2KfZhNmI2KfYrNioINin2YTZhdmG2LLZhNmKINij2KvZhtin2KEg2KfZhNit2YQgKi8KI3NlbGZUZXN0UXVlc3Rpb24gLnF1ZXN0aW9uLWNhcmQgewogIHdpZHRoOiAxMDAlOwogIG1heC13aWR0aDogOTAwcHg7CiAgbWFyZ2luOiAwIGF1dG8gMjRweCBhdXRvOwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmOGY5ZmEgODAlLCAjZTNmMGZmIDEwMCUpOwogIGJvcmRlci1yYWRpdXM6IDE4cHg7CiAgYm94LXNoYWRvdzogMCA0cHggMThweCByZ2JhKDEwLDExMiwyNTUsMC4xMCk7CiAgcGFkZGluZzogMzJweCAyMnB4IDIycHggMjJweDsKICBib3JkZXI6IDJweCBkYXNoZWQgIzBhNzBmZjQ0OwogIG1pbi1oZWlnaHQ6IDEyMHB4OwogIHRyYW5zaXRpb246IGJveC1zaGFkb3cgMC4yczsKICBkaXNwbGF5OiBibG9jazsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9Ci8qINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDZgdmKINmG2YfYp9mK2Kkg2YXZhNmBINin2YTZgCBDU1Mg2KPZiCDYr9in2K7ZhCA8c3R5bGU+ICovCiNleGl0U2VsZlRlc3RCdG4gewogIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKfQouZXhhbS1mb290ZXIgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiAxNnB4OwogIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsgLyog2YTYo9mGINin2YTYtdmB2K3YqSBSVEwgKi8KfQojcHJldlNlbGZUZXN0UXVlc3Rpb25CdG4gewogIG9yZGVyOiAyOwogIG1hcmdpbi1sZWZ0OiAwOwp9CiNuZXh0U2VsZlRlc3RRdWVzdGlvbkJ0biB7CiAgb3JkZXI6IDE7CiAgbWFyZ2luLXJpZ2h0OiAwOwp9CiNmaW5pc2hTZWxmVGVzdEJ0biB7CiAgb3JkZXI6IDM7Cn0KLyog2KPYttmBINmH2LDYpyDZgdmKIDxzdHlsZT4gKi8KLnBhZ2luYXRpb24tY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiAxOHB4OwogIG1hcmdpbi1ib3R0b206IDEycHg7Cn0KLnBhZ2luYXRpb24tYnRuIHsKICBiYWNrZ3JvdW5kOiAjMGE3MGZmOwogIGNvbG9yOiAjZmZmOwogIGJvcmRlcjogbm9uZTsKICBib3JkZXItcmFkaXVzOiAyMnB4OwogIHBhZGRpbmc6IDdweCAyMnB4OwogIGZvbnQtc2l6ZTogMXJlbTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzOwp9Ci5wYWdpbmF0aW9uLWJ0bjpkaXNhYmxlZCB7CiAgYmFja2dyb3VuZDogI2IyYmVjMzsKICBjdXJzb3I6IG5vdC1hbGxvd2VkOwp9Ci5wYWdpbmF0aW9uLWluZm8gewogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGNvbG9yOiAjMGE3MGZmOwp9Ci8qINit2KfZiNmK2Kkg2LXZgdit2Kkg2KfZhNmI2KfYrNio2KfYqiDYp9mE2YXZhtiy2YTZitmHICjYpdiv2KfYsdipINin2YTYo9iz2KbZhNipKSAqLwojc2VsZlRlc3RRdWVzdGlvbnNDb250YWluZXIgewogIHdpZHRoOiAxMDAlOwogIG1heC13aWR0aDogOTAwcHg7CiAgbWFyZ2luOiAwIGF1dG8gMjRweCBhdXRvOwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmOGY5ZmEgODAlLCAjZTNmMGZmIDEwMCUpOwogIGJvcmRlci1yYWRpdXM6IDE2cHg7CiAgYm94LXNoYWRvdzogMCA0cHggMThweCByZ2JhKDEwLDExMiwyNTUsMC4wOCk7CiAgcGFkZGluZzogMjhweCAxOHB4IDEycHggMThweDsKICBib3JkZXI6IDJweCBkYXNoZWQgIzBhNzBmZjQ0OwogIG1pbi1oZWlnaHQ6IDYwcHg7CiAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjJzOwogIGRpc3BsYXk6IGJsb2NrOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KICAvKiAuLi5leGlzdGluZyBzdHlsZXMuLi4gKi8KCiAgLyog2KrYrdiz2YrZhiDYtNmD2YQg2LLYsSDYqtiz2KzZitmEINio2YAgR29vZ2xlINiv2KfYrtmEINmG2YXZiNiw2Kwg2KfZhNiv2K7ZiNmEINmI2KfZhNmH2YrYr9ixICovCiAgI2dvb2dsZVNpZ25JbkJ0bkZvcm0sCiAgI2dvb2dsZVNpZ25JbkJ0biB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgZ2FwOiAxMHB4OwogICAgd2lkdGg6IDEwMCU7CiAgICBtYXgtd2lkdGg6IDQyMHB4OwogICAgcGFkZGluZzogMTBweCAxNHB4OwogICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgIGNvbG9yOiAjMjAyMTI0OwogICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTZlNjsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBib3gtc2hhZG93OiAwIDRweCAxNHB4IHJnYmEoMjAsIDIwLCAyMCwgMC4wNik7CiAgICBmb250LXdlaWdodDogNzAwOwogICAgZm9udC1zaXplOiAxcmVtOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4xMnMgZWFzZSwgYm94LXNoYWRvdyAuMTJzIGVhc2UsIGJhY2tncm91bmQgLjEycyBlYXNlOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICB9CgogIC8qINij2YrZgtmI2YbYqSDYrNmI2KzZhCDYr9in2K7ZhCDYp9mE2LLYsSAqLwogICNnb29nbGVTaWduSW5CdG5Gb3JtIGltZywKICAjZ29vZ2xlU2lnbkluQnRuIGltZyB7CiAgICB3aWR0aDogMjBweDsKICAgIGhlaWdodDogMjBweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGZpbHRlcjogbm9uZTsKICB9CgogIC8qINmE2YjZhiDZhti1INmI2YXYuNmH2LEg2LnZhtivINin2YTZhdix2YjYsSDZiNin2YTYqtix2YPZitiyICovCiAgI2dvb2dsZVNpZ25JbkJ0bkZvcm06aG92ZXIsCiAgI2dvb2dsZVNpZ25JbkJ0bjpob3ZlciB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTNweCk7CiAgICBib3gtc2hhZG93OiAwIDhweCAyNHB4IHJnYmEoMjAsIDIwLCAyMCwgMC4xMik7CiAgfQogICNnb29nbGVTaWduSW5CdG5Gb3JtOmFjdGl2ZSwKICAjZ29vZ2xlU2lnbkluQnRuOmFjdGl2ZSB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7CiAgICBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoMjAsIDIwLCAyMCwgMC4xMCk7CiAgfQogICNnb29nbGVTaWduSW5CdG5Gb3JtOmZvY3VzLAogICNnb29nbGVTaWduSW5CdG46Zm9jdXMgewogICAgb3V0bGluZTogM3B4IHNvbGlkIHJnYmEoMTAsMTEyLDI1NSwwLjE0KTsKICAgIG91dGxpbmUtb2Zmc2V0OiAycHg7CiAgfQoKICAvKiDZhtmF2Lcg2LXYutmK2LEg2YTZhNmG2LUg2K/Yp9iu2YQg2KfZhNiy2LEg2YTYrNi52YQg2KfZhNiq2LHYqtmK2Kgg2KPYrNmF2YQgKi8KICAjZ29vZ2xlU2lnbkluQnRuRm9ybSAuYnRuLXRleHQsCiAgI2dvb2dsZVNpZ25JbkJ0biAuYnRuLXRleHQgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIGxpbmUtaGVpZ2h0OiAxOwogIH0KCiAgLyog2YbYs9iu2Kkg2K/Yp9mD2YbYqS/Zhdi22KfYr9ipINmE2YTZgCBoaWdoIGNvbnRyYXN0INil2LDYpyDYp9it2KrYp9is2Kog2YTYp9it2YLYp9mLICovCiAgQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykgewogICAgI2dvb2dsZVNpZ25JbkJ0bkZvcm0sCiAgICAjZ29vZ2xlU2lnbkluQnRuIHsKICAgICAgYmFja2dyb3VuZDogIzFlMWYyMjsKICAgICAgY29sb3I6ICNmZmY7CiAgICAgIGJvcmRlci1jb2xvcjogIzJiMmMyZjsKICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuNik7CiAgICB9CiAgfQoKICAvKiDYqtit2LPZitmGINin2YTYudix2LYg2LnZhNmJINin2YTZh9mI2KfYqtmBICovCiAgQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7CiAgICAjZ29vZ2xlU2lnbkluQnRuRm9ybSwKICAgICNnb29nbGVTaWduSW5CdG4gewogICAgICBwYWRkaW5nOiAxMHB4OwogICAgICBmb250LXNpemU6IDAuOThyZW07CiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIH0KICAgICNnb29nbGVTaWduSW5CdG5Gb3JtIGltZywKICAgICNnb29nbGVTaWduSW5CdG4gaW1nIHsgd2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7IH0KICB9CgogIC8qINmG2YfYp9mK2Kkg2KfZhNil2LbYp9mB2KfYqiAqLwovKiDYqtmG2KfYs9mCINmD2KfZhdmEINmB2Yog2KfZhNmH2YjYp9iq2YEgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDcwMHB4KSB7CiAgI3NlbGZUZXN0UXVlc3Rpb24gLnF1ZXN0aW9uLWNhcmQsCiAgI3NlbGZUZXN0UXVlc3Rpb25zQ29udGFpbmVyIHsKICAgIG1heC13aWR0aDogMTAwdncgIWltcG9ydGFudDsKICAgIHdpZHRoOiAxMDB2dyAhaW1wb3J0YW50OwogICAgbWFyZ2luOiAwIDAgMThweCAwICFpbXBvcnRhbnQ7CiAgICBib3JkZXItcmFkaXVzOiAwICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiAxMnB4IDJ2dyAxMHB4IDJ2dyAhaW1wb3J0YW50OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50OwogIH0KICAjc2VsZlRlc3RRdWVzdGlvbiAucXVlc3Rpb24tY2FyZCBoMy5xdWVzdGlvbi10ZXh0IHsKICAgIGZvbnQtc2l6ZTogMS4wOHJlbSAhaW1wb3J0YW50OwogICAgbWFyZ2luLWJvdHRvbTogOHB4OwogIH0KICAjc2VsZlRlc3RRdWVzdGlvbiAub3B0aW9uLWxhYmVsLAogICNzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciAub3B0aW9uLWxhYmVsIHsKICAgIGZvbnQtc2l6ZTogMC45N3JlbSAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMTBweCA4cHggIWltcG9ydGFudDsKICAgIG1hcmdpbi1ib3R0b206IDhweCAhaW1wb3J0YW50OwogIH0KICAjc2VsZlRlc3RRdWVzdGlvbiAucXVlc3Rpb24taW1hZ2UsCiAgI3NlbGZUZXN0UXVlc3Rpb25zQ29udGFpbmVyIC5xdWVzdGlvbi1pbWFnZSB7CiAgICBtYXgtd2lkdGg6IDk4dncgIWltcG9ydGFudDsKICAgIG1heC1oZWlnaHQ6IDE4MHB4ICFpbXBvcnRhbnQ7CiAgICBib3JkZXItcmFkaXVzOiA4cHggIWltcG9ydGFudDsKICB9Cn0KCi8qINil2LLYp9mE2Kkg2KfZhNmB2LHYp9i6INin2YTYrNin2YbYqNmKINmB2Yog2LXZgdit2Kkg2KfZhNmI2KfYrNio2KfYqiDYp9mE2YXZhtiy2YTZitmHICovCkBtZWRpYSAobWF4LXdpZHRoOiA3MDBweCkgewogICNtYW5hZ2VTZWxmVGVzdFBhZ2UgLmV4YW0tZm9ybSwKICAjbWFuYWdlU2VsZlRlc3RQYWdlIC5mb3JtLWdyb3VwLAogICNtYW5hZ2VTZWxmVGVzdFBhZ2UgewogICAgcGFkZGluZy1yaWdodDogMCAhaW1wb3J0YW50OwogICAgcGFkZGluZy1sZWZ0OiAwICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tcmlnaHQ6IDAgIWltcG9ydGFudDsKICAgIG1hcmdpbi1sZWZ0OiAwICFpbXBvcnRhbnQ7CiAgICB3aWR0aDogMTAwdncgIWltcG9ydGFudDsKICAgIG1heC13aWR0aDogMTAwdncgIWltcG9ydGFudDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICB9Cn0KLyog2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmB2YogINij2Ygg2YXZhNmBIENTUyDZhNis2LnZhCDYrdin2YjZitipINiz2KTYp9mEINin2YTZiNin2KzYqCDYqNi52LHYtiDYp9mE2LTYp9i02Kkg2YjZhdiq2YbYp9iz2YLYqSAqLwojc2VsZlRlc3RRdWVzdGlvbiAucXVlc3Rpb24tY2FyZCB7CiAgd2lkdGg6IDEwMCU7CiAgbWF4LXdpZHRoOiA5MDBweDsKICBtYXJnaW46IDAgYXV0byAyNHB4IGF1dG87CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZjlmYSA4MCUsICNlM2YwZmYgMTAwJSk7CiAgYm9yZGVyLXJhZGl1czogMThweDsKICBib3gtc2hhZG93OiAwIDRweCAxOHB4IHJnYmEoMTAsMTEyLDI1NSwwLjEwKTsKICBwYWRkaW5nOiAzMnB4IDIycHggMjJweCAyMnB4OwogIGJvcmRlcjogMnB4IGRhc2hlZCAjMGE3MGZmNDQ7CiAgbWluLWhlaWdodDogMTIwcHg7CiAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjJzOwogIGRpc3BsYXk6IGJsb2NrOwp9CgpAbWVkaWEgKG1heC13aWR0aDogMTAwMHB4KSB7CiAgI3NlbGZUZXN0UXVlc3Rpb24gLnF1ZXN0aW9uLWNhcmQgewogICAgbWF4LXdpZHRoOiA5OHZ3OwogICAgcGFkZGluZzogMThweCA0dncgMTRweCA0dnc7CiAgfQp9CkBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgewogICNzZWxmVGVzdFF1ZXN0aW9uIC5xdWVzdGlvbi1jYXJkIHsKICAgIHBhZGRpbmc6IDEwcHggMnZ3ICFpbXBvcnRhbnQ7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgZm9udC1zaXplOiAxcmVtOwogIH0KfQovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCi8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KI2FkZFF1ZXN0aW9uQmFua01vZGFsIC5tb2RhbC1jb250ZW50IHsKICAgIG1heC13aWR0aDogMzQwcHggIWltcG9ydGFudDsKICAgIHdpZHRoOiA5OHZ3ICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiAxMnB4IDhweCAhaW1wb3J0YW50OwogICAgZm9udC1zaXplOiAwLjk3cmVtICFpbXBvcnRhbnQ7CiAgICBtaW4taGVpZ2h0OiB1bnNldCAhaW1wb3J0YW50OwogICAgbWF4LWhlaWdodDogNDIwcHggIWltcG9ydGFudDsgLyog2KrZgtmE2YrZhCDYp9mE2LfZiNmEINin2YTYo9mC2LXZiSAqLwogICAgb3ZlcmZsb3cteTogYXV0byAhaW1wb3J0YW50Owp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCmJvZHksIGh0bWwgewogIHNjcm9sbGJhci13aWR0aDogYXV0bzsgICAgICAgICAgIC8qIEZpcmVmb3ggKi8KICAtbXMtb3ZlcmZsb3ctc3R5bGU6IGF1dG87ICAgICAgICAvKiBJRSAxMCsgKi8KfQoKQG1lZGlhIChtaW4td2lkdGg6IDkwMXB4KSB7CiAgLnNpZGViYXIgewogICAgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50OwogICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lOyAgICAgICAgLyogRmlyZWZveCAqLwogICAgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lOyAgICAgLyogSUUgMTArICovCiAgfQogIC5zaWRlYmFyOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICBkaXNwbGF5OiBub25lOyAgICAgICAgICAgICAgICAvKiBDaHJvbWUsIFNhZmFyaSAqLwogIH0KfQojdG9nZ2xlU2lkZWJhckJ0biB7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9CgpAbWVkaWEgKG1heC13aWR0aDogOTAwcHgpIHsKICAjdG9nZ2xlU2lkZWJhckJ0biB7CiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7CiAgfQp9CkBtZWRpYSAobWF4LXdpZHRoOiA5MDBweCkgewogICN0b2dnbGVTaWRlYmFyQnRuIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgfQp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KQG1lZGlhIChtYXgtd2lkdGg6IDkwMHB4KSB7CiAgICAjdG9nZ2xlU2lkZWJhckJ0biB7CiAgICAgICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50OwogICAgfQogICAgLnNpZGViYXIgewogICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICB0b3A6IDgwcHg7CiAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgd2lkdGg6IDg1dnc7CiAgICAgICAgbWF4LXdpZHRoOiAzMjBweDsKICAgICAgICBtaW4td2lkdGg6IDE4MHB4OwogICAgICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDgwcHgpOwogICAgICAgIHotaW5kZXg6IDIwMDA7CiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsKICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxNnB4IHJnYmEoMTAsMTEyLDI1NSwwLjA5KTsKICAgICAgICBib3JkZXItcmFkaXVzOiAwIDAgMTBweCAxMHB4OwogICAgICAgIHBhZGRpbmctYm90dG9tOiAzMHB4OwogICAgICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMjAlKTsKICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC40cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpOwogICAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICB9CiAgICAuc2lkZWJhci5zaG93IHsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMjRweCByZ2JhKDAsMCwwLDAuMTIpOwogICAgfQp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KI3RpbWVSZW1haW5pbmcgewogIG1pbi13aWR0aDogNzBweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGZvbnQtc2l6ZTogMS4xNXJlbTsKICBmb250LWZhbWlseTogJ1RhamF3YWwnLCBBcmlhbCwgc2Fucy1zZXJpZjsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBwYWRkaW5nOiA0cHggMDsKICBsZXR0ZXItc3BhY2luZzogMnB4OwogIGZvbnQtdmFyaWFudC1udW1lcmljOiB0YWJ1bGFyLW51bXM7CiAgdHJhbnNpdGlvbjogbm9uZTsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwovKiA9PT09PT09PT09PT09PT09PT0g2KPYs9in2LPZitin2Kog2KfZhNiq2LXZhdmK2YUg2KfZhNmF2KrYrNin2YjYqCA9PT09PT09PT09PT09PT09PT0gKi8KLnNpZGViYXIgewogIG1heC1oZWlnaHQ6IDA7CiAgdHJhbnNpdGlvbjogbWF4LWhlaWdodCAwLjRzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLnNpZGViYXIuc2hvdyB7CiAgbWF4LWhlaWdodDogNTAwcHg7IC8qINi52K/ZhCDYp9mE2YLZitmF2Kkg2K3Ys9ioINi32YjZhCDYp9mE2YLYp9im2YXYqSAqLwogIGJveC1zaGFkb3c6IDAgOHB4IDI0cHggcmdiYSgwLDAsMCwwLjEyKTsKfQovKiDYp9is2LnZhCDYrdin2YjZitipINiz2KTYp9mEINin2YTZiNin2KzYqCAoI3NlbGZUZXN0UXVlc3Rpb24gLnF1ZXN0aW9uLWNhcmQpINio2LnYsdi2INmD2KjZitixINmI2YXYqtmG2KfYs9mCINmF2Lkg2YPZhCDYp9mE2LTYp9i02KfYqiAqLwojc2VsZlRlc3RRdWVzdGlvbiAucXVlc3Rpb24tY2FyZCB7CiAgd2lkdGg6IDEwMCU7CiAgbWF4LXdpZHRoOiA5MDBweDsKICBtYXJnaW46IDAgYXV0byAyNHB4IGF1dG87CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZjlmYSA4MCUsICNlM2YwZmYgMTAwJSk7CiAgYm9yZGVyLXJhZGl1czogMThweDsKICBib3gtc2hhZG93OiAwIDRweCAxOHB4IHJnYmEoMTAsMTEyLDI1NSwwLjEwKTsKICBwYWRkaW5nOiAzMnB4IDIycHggMjJweCAyMnB4OwogIGJvcmRlcjogMnB4IGRhc2hlZCAjMGE3MGZmNDQ7CiAgbWluLWhlaWdodDogMTIwcHg7CiAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjJzOwogIGRpc3BsYXk6IGJsb2NrOwp9CgovKiDYqtmG2KfYs9mCINmF2Lkg2KjYp9mC2Yog2KfZhNi12YHYrdipINmB2Yog2KfZhNmH2YjYp9iq2YEgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDEwMDBweCkgewogICNzZWxmVGVzdFF1ZXN0aW9uIC5xdWVzdGlvbi1jYXJkIHsKICAgIG1heC13aWR0aDogOTh2dzsKICAgIHBhZGRpbmc6IDE4cHggNHZ3IDE0cHggNHZ3OwogIH0KfQpAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAjc2VsZlRlc3RRdWVzdGlvbiAucXVlc3Rpb24tY2FyZCB7CiAgICBwYWRkaW5nOiAxMHB4IDJ2dyAhaW1wb3J0YW50OwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIG1hcmdpbjogMCAwIDE4cHggMDsKICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDEwLDExMiwyNTUsMC4wOCk7CiAgfQogICNzZWxmVGVzdFF1ZXN0aW9uIC5xdWVzdGlvbi1jYXJkIGgzLnF1ZXN0aW9uLXRleHQgewogICAgZm9udC1zaXplOiAxLjA1cmVtICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgfQogICNzZWxmVGVzdFF1ZXN0aW9uIC5vcHRpb24tbGFiZWwgewogICAgZm9udC1zaXplOiAwLjk3cmVtICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiAxMHB4IDhweCAhaW1wb3J0YW50OwogICAgbWFyZ2luLWJvdHRvbTogOHB4ICFpbXBvcnRhbnQ7CiAgfQogICNzZWxmVGVzdFF1ZXN0aW9uIC5xdWVzdGlvbi1pbWFnZSB7CiAgICBtYXgtd2lkdGg6IDk4dncgIWltcG9ydGFudDsKICAgIG1heC1oZWlnaHQ6IDE4MHB4ICFpbXBvcnRhbnQ7CiAgICBib3JkZXItcmFkaXVzOiA4cHggIWltcG9ydGFudDsKICB9Cn0KLyog2KfZhNit2KfZiNmK2Kkg2KfZhNix2KbZitiz2YrYqSAqLwouY29udGFpbmVyIHsKICAgIG1heC13aWR0aDogMTIwMHB4OwogICAgbWFyZ2luOiAwIGF1dG87CiAgICBwYWRkaW5nOiAwIDE1cHg7CiAgICB3aWR0aDogMTAwJTsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwpAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAuY29udGFpbmVyLAogIC5jb250ZW50LWFyZWEsCiAgLmV4YW0tY29udGFpbmVyLAogIC5yZXN1bHRzLWNvbnRhaW5lciwKICAucXVlc3Rpb24tY2FyZCwKICAuc2VsZi10ZXN0LWNhcmQgewogICAgd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7CiAgICBtYXgtd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7CiAgICBtaW4td2lkdGg6IDAgIWltcG9ydGFudDsKICAgIG1hcmdpbi1sZWZ0OiAwICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tcmlnaHQ6IDAgIWltcG9ydGFudDsKICAgIGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDsKICAgIHBhZGRpbmctbGVmdDogMCAhaW1wb3J0YW50OwogICAgcGFkZGluZy1yaWdodDogMCAhaW1wb3J0YW50OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50OwogIH0KICAucXVlc3Rpb24tY2FyZCwKICAuc2VsZi10ZXN0LWNhcmQsCiAgLmV4YW0tY29udGFpbmVyLAogIC5yZXN1bHRzLWNvbnRhaW5lciB7CiAgICBwYWRkaW5nOiAxMnB4IDJ2dyAhaW1wb3J0YW50OwogICAgZm9udC1zaXplOiAxcmVtICFpbXBvcnRhbnQ7CiAgfQogIC5xdWVzdGlvbi1jYXJkIGgzLAogIC5xdWVzdGlvbi1jYXJkIC5xdWVzdGlvbi10ZXh0LAogIC5zZWxmLXRlc3QtY2FyZC1oZWFkZXIsCiAgLmV4YW0tdGl0bGUsCiAgLnBhZ2UtdGl0bGUgewogICAgZm9udC1zaXplOiAxLjFyZW0gIWltcG9ydGFudDsKICAgIG1hcmdpbi1ib3R0b206IDhweCAhaW1wb3J0YW50OwogIH0KICAub3B0aW9uLWxhYmVsIHsKICAgIGZvbnQtc2l6ZTogMC45N3JlbSAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMTBweCA4cHggIWltcG9ydGFudDsKICAgIG1hcmdpbi1ib3R0b206IDhweCAhaW1wb3J0YW50OwogIH0KICAucXVlc3Rpb24taW1hZ2UgewogICAgbWF4LXdpZHRoOiA5OHZ3ICFpbXBvcnRhbnQ7CiAgICBtYXgtaGVpZ2h0OiAxODBweCAhaW1wb3J0YW50OwogICAgYm9yZGVyLXJhZGl1czogOHB4ICFpbXBvcnRhbnQ7CiAgfQogIC5leGFtcy1jb250YWluZXIsCiAgLmV4YW1zLWdyaWQsCiAgI3NsaWRlc0dyaWQsCiAgI2NvdXJzZXNDb250YWluZXIgewogICAgd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7CiAgICBtYXgtd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nLWxlZnQ6IDAgIWltcG9ydGFudDsKICAgIHBhZGRpbmctcmlnaHQ6IDAgIWltcG9ydGFudDsKICAgIG1hcmdpbi1sZWZ0OiAwICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tcmlnaHQ6IDAgIWltcG9ydGFudDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICB9Cn0KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCkBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgewogIC5xdWVzdGlvbi1jYXJkIHsKICAgIHdpZHRoOiAxMDB2dyAhaW1wb3J0YW50OwogICAgbWF4LXdpZHRoOiAxMDB2dyAhaW1wb3J0YW50OwogICAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tbGVmdDogMCAhaW1wb3J0YW50OwogICAgbWFyZ2luLXJpZ2h0OiAwICFpbXBvcnRhbnQ7CiAgICBib3JkZXItcmFkaXVzOiAwICFpbXBvcnRhbnQ7CiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgxMCwxMTIsMjU1LDAuMDgpOwogICAgcGFkZGluZzogMTBweCAydncgIWltcG9ydGFudDsKICAgIGZvbnQtc2l6ZTogMXJlbSAhaW1wb3J0YW50OwogIH0KICAucXVlc3Rpb24tY2FyZCBoMy5xdWVzdGlvbi10ZXh0IHsKICAgIGZvbnQtc2l6ZTogMS4wNXJlbSAhaW1wb3J0YW50OwogICAgbWFyZ2luLWJvdHRvbTogOHB4OwogIH0KICAub3B0aW9ucy1saXN0IHsKICAgIHBhZGRpbmc6IDA7CiAgICBtYXJnaW46IDA7CiAgfQogIC5vcHRpb24tbGFiZWwgewogICAgZm9udC1zaXplOiAwLjk3cmVtICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiAxMHB4IDhweCAhaW1wb3J0YW50OwogICAgbWFyZ2luLWJvdHRvbTogOHB4OwogIH0KICAucXVlc3Rpb24taW1hZ2UgewogICAgbWF4LXdpZHRoOiA5OHZ3ICFpbXBvcnRhbnQ7CiAgICBtYXgtaGVpZ2h0OiAxODBweCAhaW1wb3J0YW50OwogICAgYm9yZGVyLXJhZGl1czogOHB4ICFpbXBvcnRhbnQ7CiAgfQp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KCi8qINin2YTYtNio2YPYqSDYp9mE2LHYptmK2LPZitipICovCi5kYXNoYm9hcmQgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsKICAgIGdhcDogMjBweDsKICAgIG1pbi1oZWlnaHQ6IDcwdmg7CiAgICB3aWR0aDogMTAwJTsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwoucXVlc3Rpb24tY2FyZCB7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZjlmYSA4MCUsICNlM2YwZmYgMTAwJSk7CiAgYm9yZGVyLXJhZGl1czogMTRweDsKICBib3gtc2hhZG93OiAwIDRweCAxOHB4IHJnYmEoMTAsMTEyLDI1NSwwLjA4KTsKICBwYWRkaW5nOiAxOHB4IDE0cHg7CiAgbWFyZ2luLWJvdHRvbTogMThweDsKICBib3JkZXI6IDEuNXB4IHNvbGlkICNlMGU3ZWY7CiAgY29sb3I6ICMyMjI7CiAgYW5pbWF0aW9uOiBmYWRlSW4gMC43czsKICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnM7CiAgbWF4LXdpZHRoOiA2MDBweDsKICB3aWR0aDogMTAwJTsKICBtYXJnaW4tbGVmdDogYXV0bzsKICBtYXJnaW4tcmlnaHQ6IGF1dG87Cn0KCi5xdWVzdGlvbi1jYXJkIGgzLnF1ZXN0aW9uLXRleHQgewogIGZvbnQtc2l6ZTogMS4xNXJlbTsKICBmb250LXdlaWdodDogYm9sZDsKICBjb2xvcjogIzAwMDAwMDsKICBtYXJnaW4tYm90dG9tOiAxMnB4OwogIGxpbmUtaGVpZ2h0OiAxLjY7Cn0KCi5vcHRpb25zLWxpc3QgewogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cgoub3B0aW9uLWxhYmVsIHsKICBmb250LXNpemU6IDFyZW07CiAgcGFkZGluZzogMTBweCAxMnB4OwogIG1hcmdpbi1ib3R0b206IDhweDsKICBib3JkZXItcmFkaXVzOiA3cHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTdlZjsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycywgYm9yZGVyIDAuMnM7Cn0KCi5vcHRpb24tbGFiZWwuc2VsZWN0ZWQgewogIGJhY2tncm91bmQ6ICNlM2YwZmY7CiAgYm9yZGVyLWNvbG9yOiAjMGE3MGZmOwp9CgpAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAucXVlc3Rpb24tY2FyZCB7CiAgICBwYWRkaW5nOiAxMHB4IDZweDsKICAgIG1heC13aWR0aDogOTh2dzsKICAgIGZvbnQtc2l6ZTogMC45N3JlbTsKICB9CiAgLnF1ZXN0aW9uLWNhcmQgaDMucXVlc3Rpb24tdGV4dCB7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgfQogIC5vcHRpb24tbGFiZWwgewogICAgZm9udC1zaXplOiAwLjk1cmVtOwogICAgcGFkZGluZzogOHB4IDhweDsKICB9CiAgLnF1ZXN0aW9uLWltYWdlIHsKICAgIG1heC1oZWlnaHQ6IDE4MHB4ICFpbXBvcnRhbnQ7CiAgfQp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KLyog2KfZhNmC2KfYptmF2Kkg2KfZhNis2KfZhtio2YrYqSAqLwouc2lkZWJhciB7CiAgICBtaW4td2lkdGg6IDIyMHB4OwogICAgbWF4LXdpZHRoOiAyNjBweDsKICAgIHdpZHRoOiAyNDBweDsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgYm94LXNoYWRvdzogMCA0cHggMTZweCByZ2JhKDEwLDExMiwyNTUsMC4wOSk7CiAgICBwYWRkaW5nOiAyMHB4IDEwcHggMzBweCAxMHB4OwogICAgaGVpZ2h0OiBmaXQtY29udGVudDsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHotaW5kZXg6IDEwMDsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwp9CgovKiDYstixINin2YTZgtin2KbZhdipINin2YTYrNin2YbYqNmK2KkgKi8KI3RvZ2dsZVNpZGViYXJCdG4gewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAyMHB4OwogICAgcmlnaHQ6IDIwcHg7CiAgICB6LWluZGV4OiAyMDAxOwogICAgYmFja2dyb3VuZDogIzBhNzBmZjsKICAgIGNvbG9yOiAjZmZmOwogICAgYm9yZGVyOiBub25lOwogICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgd2lkdGg6IDQ4cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CgogICAgaGVpZ2h0OiA0OHB4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgZm9udC1zaXplOiAxLjVyZW07CiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgxMCwxMTIsMjU1LDAuMTIpOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzLCBjb2xvciAwLjJzLCB0cmFuc2Zvcm0gMC4yczsKfQojdG9nZ2xlU2lkZWJhckJ0bjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiAjMTRlZTg4OwogICAgY29sb3I6ICMwYTcwZmY7CiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDgpOwp9CgovKiDZhdmG2LfZgtipINin2YTZhdit2KrZiNmJICovCi5jb250ZW50LWFyZWEgewogICAgZmxleDogMSAxIDAlOwogICAgbWluLXdpZHRoOiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLDAsMCwwLjA1KTsKICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgovKiDYp9mE2YHZiNiq2LEg2K/Yp9im2YXYp9mLINmB2YjZgiDZg9mEINi02YrYoSAqLwovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCi5mb290ZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiDYo9mIINin2K3YsNmBINin2YTYs9i32LEg2KrZhdin2YXYp9mLICovCiAgICB6LWluZGV4OiAxOyAgICAgICAgIC8qINmC2YTZhCDZgtmK2YXYqSB6LWluZGV4ICovCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGE3MGZmOwogICAgY29sb3I6IHdoaXRlOwogICAgcGFkZGluZzogMjBweCAwOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLXRvcDogMzBweDsKICAgIGJveC1zaGFkb3c6IDAgLTJweCAxMHB4IHJnYmEoMCwwLDAsMC4xKTsKICAgIHdpZHRoOiAxMDAlOwp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KCi8qINij2LbZgSDZh9iw2Kcg2KfZhNiz2LfYsSDZhNmK2LbZhdmGINij2YYg2KfZhNmF2K3YqtmI2Ykg2YTYpyDZitiu2KrZgdmKINiu2YTZgSDYp9mE2YHZiNiq2LEgKi8KbWFpbiwgLmNvbnRhaW5lciB7CiAgICBtYXJnaW4tYm90dG9tOiA4MHB4OyAvKiDYudiv2YQg2KfZhNmC2YrZhdipINit2LPYqCDYp9ix2KrZgdin2Lkg2KfZhNmB2YjYqtixICovCn0KCi8qINin2YTZgtin2KbZhdipINin2YTYrNin2YbYqNmK2Kkg2YTYpyDYqti62LfZiiDYp9mE2YHZiNiq2LEgKi8KQG1lZGlhIChtaW4td2lkdGg6IDkwMHB4KSB7CiAgICAuZGFzaGJvYXJkIHsKICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7CiAgICB9CiAgICAuc2lkZWJhciB7CiAgICAgICAgcG9zaXRpb246IHN0aWNreTsKICAgICAgICB0b3A6IDExMHB4OwogICAgICAgIGhlaWdodDogZml0LWNvbnRlbnQ7CiAgICAgICAgbWF4LWhlaWdodDogY2FsYygxMDB2aCAtIDEyMHB4KTsKICAgIH0KfQoKLyog2YXZiNio2KfZitmEINmI2KrYp9io2YTYqjog2KfZhNmC2KfYptmF2Kkg2KfZhNis2KfZhtio2YrYqSDYqti42YfYsSDZgdmI2YIg2KfZhNmF2K3YqtmI2Ykg2YjYqtiu2KrZgdmKINin2YHYqtix2KfYttmK2KfZiyAqLwpAbWVkaWEgKG1heC13aWR0aDogOTAwcHgpIHsKICAgIC5kYXNoYm9hcmQgewogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgZ2FwOiAwOwogICAgfQogICAgLnNpZGViYXIgewogICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICB0b3A6IDgwcHg7CiAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgd2lkdGg6IDg1dnc7CiAgICAgICAgbWF4LXdpZHRoOiAzMjBweDsKICAgICAgICBtaW4td2lkdGg6IDE4MHB4OwogICAgICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDgwcHgpOwogICAgICAgIHotaW5kZXg6IDIwMDA7CiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsKICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxNnB4IHJnYmEoMTAsMTEyLDI1NSwwLjA5KTsKICAgICAgICBib3JkZXItcmFkaXVzOiAwIDAgMTBweCAxMHB4OwogICAgICAgIHBhZGRpbmctYm90dG9tOiAzMHB4OwogICAgICAgICBkaXNwbGF5OiBibG9jazsgLyogQWRkZWQgKi8KICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IC8qIEFkZGVkICovCiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZS1pbi1vdXQ7IC8qIEFkZGVkICovCiAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgIH0KICAgIC5zaWRlYmFyLnNob3cgewogICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyAvKiBBZGRlZCAqLwogICAgfQogICAgLmNvbnRlbnQtYXJlYSB7CiAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgICAgICBtYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgfQp9CgovKiDYp9mE2KzYr9in2YjZhCDZhdiq2KzYp9mI2KjYqSAqLwp0YWJsZSwgLmdyYWRlcy10YWJsZSB7CiAgICB3aWR0aDogMTAwJTsKICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMTAsMTEyLDI1NSwwLjA2KTsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICBmb250LXNpemU6IDFyZW07Cn0KdGgsIHRkIHsKICAgIHBhZGRpbmc6IDEycHggMTVweDsKICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlYWVhZWE7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgd29yZC1icmVhazogYnJlYWstd29yZDsKfQp0aCB7CiAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogICAgY29sb3I6ICMwYTcwZmY7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGZvbnQtc2l6ZTogMS4wNXJlbTsKfQp0cjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiAjZjVmN2ZhOwp9CkBtZWRpYSAobWF4LXdpZHRoOiAxMjAwMHB4KSB7CiAgICB0YWJsZSwgLmdyYWRlcy10YWJsZSB7CiAgICAgICAgZm9udC1zaXplOiAwLjkzcmVtOwogICAgICAgIG1pbi13aWR0aDogNDgwcHg7CiAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgb3ZlcmZsb3cteDogYXV0bzsKICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIH0KICAgIHRoLCB0ZCB7CiAgICAgICAgcGFkZGluZzogOHB4IDVweDsKICAgIH0KfQpAbWVkaWEgKG1heC13aWR0aDogNTAwcHgpIHsKICAgIHRhYmxlLCAuZ3JhZGVzLXRhYmxlIHsKICAgICAgICBmb250LXNpemU6IDAuODlyZW07CiAgICAgICAgbWluLXdpZHRoOiAzNDBweDsKICAgIH0KICAgIHRoLCB0ZCB7CiAgICAgICAgcGFkZGluZzogN3B4IDNweDsKICAgIH0KfQovKiDYp9is2LnZhCDYp9mE2YLYp9im2YXYqSDYp9mE2KzYp9mG2KjZitipIChzaWRlYmFyKSDZgtin2KjZhNipINmE2YTYqtmF2LHZitixINin2YTYudmF2YjYr9mKINmB2YLYtyAqLwouc2lkZWJhciB7CiAgICBvdmVyZmxvdy15OiBhdXRvICFpbXBvcnRhbnQ7CiAgICBvdmVyZmxvdy14OiBoaWRkZW4gIWltcG9ydGFudDsKICAgIG1heC1oZWlnaHQ6IGNhbGMoMTMwdmggLSAxMjBweCk7IC8qINit2KrZiSDZhNinINiq2LrYt9mKINin2YTZgdmI2KrYsSDYo9mIINin2YTZh9mK2K/YsSAqLwp9CgovKiDYqtit2LPZitmGINi02YPZhCDYtNix2YrYtyDYp9mE2KrZhdix2YrYsSDZhNmE2YAgc2lkZWJhciAqLwouc2lkZWJhcjo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDhweDsKfQouc2lkZWJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQouc2lkZWJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogICAgYmFja2dyb3VuZDogI2Y1ZjdmYTsKfQovKiDYp9mE2KjYt9in2YLYp9iqINmF2KrYrNin2YjYqNipICovCi5leGFtLWNhcmQsIC5zbGlkZS1jYXJkLCAuc2VsZi10ZXN0LWNhcmQsIC5jYXJkIHsKICAgIHdpZHRoOiAxMDAlOwogICAgbWluLXdpZHRoOiAwOwogICAgbWF4LXdpZHRoOiAxMDAlOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0KLmV4YW1zLWdyaWQsICNzbGlkZXNHcmlkLCAjY291cnNlc0NvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBncmlkOwogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzAwcHgsIDFmcikpOwogICAgZ2FwOiAyMHB4Owp9CkBtZWRpYSAobWF4LXdpZHRoOiA5MDBweCkgewogICAgLmV4YW1zLWdyaWQsICNzbGlkZXNHcmlkLCAjY291cnNlc0NvbnRhaW5lciB7CiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7CiAgICAgICAgZ2FwOiAxNXB4OwogICAgfQp9CgovKiDYp9mE2YbZiNin2YHYsCDYp9mE2YXZhtio2KvZgtipINmF2KrYrNin2YjYqNipICovCi5tb2RhbC1jb250ZW50IHsKICAgIHdpZHRoOiA5NXZ3OwogICAgbWF4LXdpZHRoOiA0MDBweDsKICAgIG1pbi13aWR0aDogMDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KQG1lZGlhIChtYXgtd2lkdGg6IDUwMHB4KSB7CiAgICAubW9kYWwtY29udGVudCB7CiAgICAgICAgcGFkZGluZzogMTBweCA1cHg7CiAgICAgICAgZm9udC1zaXplOiAwLjk1cmVtOwogICAgfQp9CgovKiDYqtit2LPZitmG2KfYqiDYudin2YXYqSAqLwpib2R5IHsKICAgIGZvbnQtZmFtaWx5OiAnVGFqYXdhbCcsIEFyaWFsLCBzYW5zLXNlcmlmOwogICAgZm9udC1zaXplOiAxNnB4OwogICAgbGluZS1oZWlnaHQ6IDEuNzsKICAgIGNvbG9yOiAjNTU1OwogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKICAgIGJhY2tncm91bmQ6ICNmNWY3ZmE7CiAgICBtaW4taGVpZ2h0OiAxMDB2aDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLnNsaWRlLWNhcmQtYm9keSB7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzBhNzBmZjsKICAgIGNvbG9yOiAjMzMzOyAvKiDZhNmI2YYg2KfZhNmG2LUgKi8KICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5Owp9CmJvZHkgewogICAgZm9udC1mYW1pbHk6ICdUYWphd2FsJywgc2Fucy1zZXJpZjsKICAgIGZvbnQtc2l6ZTogMTZweDsKICAgIGxpbmUtaGVpZ2h0OiAxLjc7CiAgICBjb2xvcjogIzU1NTsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgCn0KI3NlYXJjaElucHV0IHsKICAgIHdpZHRoOiAxMDAlOwogICAgcGFkZGluZzogMTBweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCiNzZWFyY2hJbnB1dDpmb2N1cyB7CiAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgb3V0bGluZTogbm9uZTsKICAgIGJveC1zaGFkb3c6IDAgMCA1cHggcmdiYSg2NywgOTcsIDIzOCwgMC41KTsKfQouY29udGFpbmVyIHsKICAgIG1heC13aWR0aDogMTIwMHB4OwogICAgbWFyZ2luOiAwIGF1dG87CiAgICBwYWRkaW5nOiAwIDE1cHg7Cn0KCmhlYWRlciwgZm9vdGVyIHsKICAgIHdpZHRoOiAxMDAlOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci8qINiq2LXZhdmK2YUg2KjYt9in2YLYqSDYp9mE2KfYrtiq2KjYp9ixICovCi5leGFtLWNhcmQgewogICAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiDYo9i22YEg2YfYsNinINin2YTYs9i32LEgKi8KCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyAvKiDYrtmE2YHZitipINio2YrYttin2KEgKi8KICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7IC8qINit2YjYp9mBINmF2LPYqtiv2YrYsdipICovCiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgYm94LXNoYWRvdzogMCA2cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMSk7IC8qINi42YQg2K7ZgdmK2YEgKi8KICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7IC8qINiq2KPYq9mK2LEg2LnZhtivINin2YTYqtit2YjZitmFICovCiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7IC8qINmE2YjZhiDYp9mE2K3Yr9mI2K8gKi8KfQoKLmV4YW0tY2FyZDpob3ZlciB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7IC8qINix2YHYuSDYp9mE2KjYt9in2YLYqSDYudmG2K8g2KfZhNiq2K3ZiNmK2YUgKi8KICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNXB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7IC8qINiy2YrYp9iv2Kkg2KfZhNi42YQgKi8KfQoKLmV4YW0tY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2E3MzEwNiwgI2ZmNjM0Nyk7IC8qINiq2K/YsdisINmE2YjZhtmKINio2LHYqtmC2KfZhNmKICovCiAgICBjb2xvcjogd2hpdGU7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKfQoKLmV4YW0tY2FyZC1ib2R5IHsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBjb2xvcjogIzMzMzsgLyog2YTZiNmGINin2YTZhti1ICovCiAgICBmb250LXNpemU6IDFyZW07CiAgICBsaW5lLWhlaWdodDogMS42OwogICAgdGV4dC1hbGlnbjoganVzdGlmeTsKICAgIAp9CgouZXhhbS1jYXJkLW1ldGEgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBwYWRkaW5nOiAxM3B4IDNweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwNjdlZjU7IC8qINiu2YTZgdmK2Kkg2LHZhdin2K/ZitipINmB2KfYqtit2KkgKi8KICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMDY3ZWY1OwogICAgZm9udC1zaXplOiAwLjlyZW07CiAgICBjb2xvcjogI2ZmZmZmZjsgLyog2YTZiNmGINin2YTZhti1ICovCn0KCi5tZXRhLWl0ZW0gewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBnYXA6IDVweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyOTk0ZmY7IC8qINiu2YTZgdmK2Kkg2K7ZgdmK2YHYqSAqLwogICAgcGFkZGluZzogOHB4IDEycHg7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpOyAvKiDYuNmEINiu2YHZitmBICovCiAgICBmb250LXdlaWdodDogNTAwOwp9CgoubWV0YS1pdGVtIGkgewogICAgY29sb3I6ICNmZjYzNDc7IC8qINmE2YjZhiDYp9mE2KPZitmC2YjZhtin2KogKi8KICAgIGZvbnQtc2l6ZTogMS4xcmVtOwp9CgouZXhhbS1jYXJkLWZvb3RlciB7CiAgICBwYWRkaW5nOiAxNXB4IDIwcHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7IC8qINiu2YTZgdmK2Kkg2YHYp9iq2K3YqSAqLwogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7Cn0KCi5leGFtLWNhcmQtZm9vdGVyIC5idG4gewogICAgcGFkZGluZzogMTBweCAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgZm9udC1zaXplOiAwLjlyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5leGFtLWNhcmQtZm9vdGVyIC5idG4tcHJpbWFyeSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY2MzQ3OyAvKiDZhNmI2YYg2KjYsdiq2YLYp9mE2YogKi8KICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKfQouZXhhbXMtY29udGFpbmVyIHsKICAgIG1heC1oZWlnaHQ6IDQwMHB4OyAvKiDYp9ix2KrZgdin2Lkg2KvYp9io2Kog2YTZhNit2KfZiNmK2KkgKi8KICAgIG92ZXJmbG93LXk6IGF1dG87IC8qINiq2YXZg9mK2YYg2KfZhNiq2YXYsdmK2LEg2KfZhNi52YXZiNiv2YogKi8KICAgIGJvcmRlcjogNXB4IGRhc2hlZCAjMjk5NGZmOyAvKiDYpdi22KfZgdipINit2K/ZiNivINin2K7YqtmK2KfYsdmK2KkgKi8KICAgIGJvcmRlci1yYWRpdXM6IDhweDsgLyog2K3ZiNin2YEg2YXYs9iq2K/Zitix2KkgKi8KICAgIHBhZGRpbmc6IDEwcHg7IC8qINmF2LPYp9mB2Kkg2K/Yp9iu2YTZitipICovCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyAvKiDZhNmI2YYg2K7ZhNmB2YrYqSDYrtmB2YrZgSAqLwogICAgYm94LXNoYWRvdzogMCA0cHggNnB4ICNmZmZmZmY7IC8qINi42YQg2K7ZgdmK2YEgKi8KfQoKLmV4YW1zLWdyaWQgewogICAgZGlzcGxheTogZ3JpZDsKICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDMwMHB4LCAxZnIpKTsgLyog2KrYtdmF2YrZhSDYp9mE2LTYqNmD2KkgKi8KICAgIGdhcDogMjBweDsgLyog2YXYs9in2YHYqSDYqNmK2YYg2KfZhNi52YbYp9i12LEgKi8KfQoKLmV4YW1zLWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDhweDsgLyog2LnYsdi2INi02LHZiti3INin2YTYqtmF2LHZitixICovCn0KCi5leGFtcy1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7IC8qINmE2YjZhiDYtNix2YrYtyDYp9mE2KrZhdix2YrYsSAqLwogICAgYm9yZGVyLXJhZGl1czogNHB4OyAvKiDYrdmI2KfZgSDZhdiz2KrYr9mK2LHYqSAqLwp9CgouZXhhbXMtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxOyAvKiDZhNmI2YYg2K7ZhNmB2YrYqSDYtNix2YrYtyDYp9mE2KrZhdix2YrYsSAqLwp9Ci5leGFtLWNhcmQtZm9vdGVyIC5idG4tcHJpbWFyeTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTU1MzNkOyAvKiDZhNmI2YYg2KjYsdiq2YLYp9mE2Yog2KPYutmF2YIgKi8KICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KCi5leGFtLWNhcmQtZm9vdGVyIC5idG4tb3V0bGluZSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgIGJvcmRlcjogMnB4IHNvbGlkICNmZjYzNDc7IC8qINmE2YjZhiDYqNix2KrZgtin2YTZiiAqLwogICAgY29sb3I6ICNmZjYzNDc7Cn0KCi5leGFtLWNhcmQtZm9vdGVyIC5idG4tb3V0bGluZTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY2MzQ3OwogICAgY29sb3I6IHdoaXRlOwp9Ci5idG4tcHJpbWFyeSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDkzLCAxNTYsIDIzNiwgMC4yKTsKfQoKLmJ0bi1wcmltYXJ5OmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICM0QTg5REM7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICBib3gtc2hhZG93OiAwIDdweCAxNHB4IHJnYmEoOTMsIDE1NiwgMjM2LCAwLjI1KTsKfQoKLmJ0bi1vdXRsaW5lIHsKICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLXByaW1hcnkpOwogICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7Cn0KCi5idG4tb3V0bGluZTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGNvbG9yOiB3aGl0ZTsKfQoKLnNpZGViYXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZyk7CiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7Cn0KCi5zaWRlYmFyLW1lbnUgYTpob3ZlciwgLnNpZGViYXItbWVudSBhLmFjdGl2ZSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkzLCAxNTYsIDIzNiwgMC4xKTsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKfQoKLmNvbnRlbnQtYXJlYSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYXJkLWJnKTsKICAgIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjA1KTsKfQoKLnBhZ2UtdGl0bGUgewogICAgY29sb3I6IHZhcigtLWRhcmspOwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wNSk7CiAgICBwYWRkaW5nLWJvdHRvbTogMC43NXJlbTsKfQoKLmFsZXJ0LXN1Y2Nlc3MgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg3MiwgMjA3LCAxNzMsIDAuMSk7CiAgICBib3JkZXItY29sb3I6IHZhcigtLXN1Y2Nlc3MpOwogICAgY29sb3I6ICMzN0JDOUI7Cn0KCi5hbGVydC1kYW5nZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTIsIDkyLCAxMDEsIDAuMSk7CiAgICBib3JkZXItY29sb3I6IHZhcigtLWRhbmdlcik7CiAgICBjb2xvcjogI2Y4MjYwNjsKfQpAa2V5ZnJhbWVzIGZhZGVJbiB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQogICAgdG8gewogICAgICAgIG9wYWNpdHk6IDE7CiAgICB9Cn0KCkBrZXlmcmFtZXMgc2xpZGVJbkxlZnQgewogICAgZnJvbSB7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDBweCk7CiAgICAgICAgb3BhY2l0eTogMDsKICAgIH0KICAgIHRvIHsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgICAgICAgb3BhY2l0eTogMTsKICAgIH0KfQoKQGtleWZyYW1lcyBzbGlkZUluUmlnaHQgewogICAgZnJvbSB7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMHB4KTsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQogICAgdG8gewogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgICAgICBvcGFjaXR5OiAxOwogICAgfQp9Ci8qINiq2K3Ys9mK2YbYp9iqINmE2YTYtNix2KfYptitICovCi5zbGlkZS1jYXJkLWJvZHkgewogICAgcGFkZGluZzogMS4yNXJlbTsKICAgIGNvbG9yOiB2YXIoLS10ZXh0KTsKICAgIGxpbmUtaGVpZ2h0OiAxLjg7Cn0KCi5zbGlkZS1jYXJkLWZvb3RlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI0NSwgMjQ3LCAyNTAsIDAuNyk7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjA1KTsKICAgIGNvbG9yOiB2YXIoLS1ncmF5KTsKfQoKLyog2KrYrdiz2YrZhtin2Kog2YTZhNij2LLYsdin2LEgKi8KLmJ0biB7CiAgICBmb250LXdlaWdodDogNjAwOwogICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4OwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKLyog2KrYrdiz2YrZhtin2Kog2YTZhNis2K/ZiNmEICovCi5ncmFkZXMtdGFibGUgdGggewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNDUsIDI0NywgMjUwLCAwLjcpOwogICAgY29sb3I6IHZhcigtLWRhcmspOwp9CgouZ3JhZGVzLXRhYmxlIHRyOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTsKfQoKLyog2KrYrdiz2YrZhtin2Kog2YTZhNi02LHZiti3INin2YTYrNin2YbYqNmKICovCi5zaWRlYmFyLW1lbnUgYSB7CiAgICBwYWRkaW5nOiAwLjc1cmVtIDFyZW07CiAgICBjb2xvcjogdmFyKC0tdGV4dCk7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBtYXJnaW4tYm90dG9tOiAwLjVyZW07Cn0KCi8qINiq2K3Ys9mK2YbYp9iqINmE2YTZiNmC2Kog2KfZhNmF2KrYqNmC2Yog2YHZiiDYp9mE2KfYrtiq2KjYp9ixICovCiN0aW1lUmVtYWluaW5nIHsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KCi8qINiq2K3Ys9mK2YbYp9iqINmE2YTZhtiq2KfYptisICovCi5yZXN1bHRzLXNjb3JlIHsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIHRleHQtc2hhZG93OiAwIDNweCA2cHggcmdiYSg5MywgMTU2LCAyMzYsIDAuMik7Cn0KCi8qINiq2K3Ys9mK2YbYp9iqINmE2YTYrtmK2KfYsdin2Kog2YHZiiDYp9mE2KfYrtiq2KjYp9ixICovCi5vcHRpb24tbGFiZWw6aG92ZXIgewogICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoOTMsIDE1NiwgMjM2LCAwLjA1KTsKfQoKLm9wdGlvbi1sYWJlbC5zZWxlY3RlZCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkzLCAxNTYsIDIzNiwgMC4xKTsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KCi8qINiq2K3Ys9mK2YbYp9iqINmE2YTYtNi52KfYsSAqLwoubG9nbyB7CmZvbnQtZmFtaWx5OiAiTGFsZXphciIsIHN5c3RlbS11aTsKZm9udC13ZWlnaHQ6IDQwMDsKZm9udC1zdHlsZTogbm9ybWFsOwpmb250LXNpemU6IDEuOHJlbTsgLyog2K3YrNmFINin2YTYrti3ICovCmZvbnQtd2VpZ2h0OiA3MDA7IC8qINmI2LLZhiDYp9mE2K7YtyAqLwpjb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpOyAvKiDZhNmI2YYg2KfZhNmG2LUgKi8KfQoKLmxvZ28gaSB7CiAgICBjb2xvcjogdmFyKC0tYWNjZW50KTsKfQoKLyog2KrYrdiz2YrZhtin2Kog2YTZhNi02YPZhCDYp9mE2LnYp9mFICovCi5jb250YWluZXIgewogICAgbWF4LXdpZHRoOiAxMjAwcHg7CiAgICBwYWRkaW5nOiAwIDIwcHg7Cn0KLm1vZGFsIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB6LWluZGV4OiAxMDAwOwp9CgoubW9kYWwtY29udGVudCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgd2lkdGg6IDkwJTsKICAgIG1heC13aWR0aDogNDAwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKICAgIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQ7Cn0KCi5tb2RhbC10aXRsZSB7CiAgICBmb250LXNpemU6IDEuOHJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY29sb3I6ICNmZjQ0NDQ7CiAgICBtYXJnaW4tYm90dG9tOiAxNXB4Owp9CgoubW9kYWwtbWVzc2FnZSB7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgY29sb3I6ICMzMzM7Cn0KCi5tb2RhbC1mb290ZXIgLmJ0biB7CiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmOwogICAgY29sb3I6IHdoaXRlOwogICAgYm9yZGVyOiBub25lOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7Cn0KCi5tb2RhbC1mb290ZXIgLmJ0bjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NmIzOwp9CgpAa2V5ZnJhbWVzIGZhZGVJbiB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC45KTsKICAgIH0KICAgIHRvIHsKICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICB9Cn0KLyog2KrYrdiz2YrZhtin2Kog2YTZhNmH2YjYp9iq2YEgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgICAuZXhhbXMtZ3JpZCB7CiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7CiAgICAgICAgZ2FwOiAxNXB4OwogICAgfQogICAgCiAgICAuZXhhbS1jYXJkLCAuc2xpZGUtY2FyZCB7CiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIH0KfQoKICAgICAgICBib2R5IHsKICAgIGZvbnQtZmFtaWx5OiAnVGFqYXdhbCcsIHNhbnMtc2VyaWY7CiAgICBmb250LXNpemU6IDE2cHg7CiAgICBsaW5lLWhlaWdodDogMS43OwogICAgY29sb3I6ICM1NTU7Cn0KCmgxLCBoMiwgaDMsIGg0IHsKICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICBjb2xvcjogIzJDM0U1MDsKfQouYnRuLmJ0bi1wcmltYXJ5LmRyb3Bkb3duLXRvZ2dsZSB7IAogICAgY29sb3I6I2ZmZmZmZjsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwYTcwZmY7IC8qIEFkZGVkIGJhY2tncm91bmQgY29sb3IgKi8KfQogICAgCiAgICAgICAgLyogSGVhZGVyICovCiAgICAgICAgaGVhZGVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXNlY29uZGFyeSkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDFyZW0gMDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgei1pbmRleDogMTAwMDsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItY29udGVudCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICB9CiAgICAgICAgLm5vdGljZSB7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogMjBweDsKICByaWdodDogMjBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTRlZTg4OyAvKiDZhNmI2YYg2KPYrti22LEgKi8KICBjb2xvcjogd2hpdGU7CiAgcGFkZGluZzogMTVweCAyMHB4OwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICBmb250LXNpemU6IDFyZW07CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgei1pbmRleDogMTAwMDsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNXMgZWFzZSwgdHJhbnNmb3JtIDAuM3MgZWFzZTsKfQoKLm5vdGljZS5ub3RpY2Utc3VjY2VzcyB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzE0ZWU4ODsgLyog2YTZiNmGINij2K7YttixICovCn0KCi5ub3RpY2Uubm90aWNlLWVycm9yIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmM1YzY1OyAvKiDZhNmI2YYg2KPYrdmF2LEgKi8KfQouYnRuLWRvd25sb2FkIHsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgI2ZmMjYwMCwgI2ZmMjYwMCk7CiAgICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50OwogICAgYm9yZGVyOiBub25lOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgyNTUsIDE1MiwgMCwgMC4wOCk7CiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuM3MsIHRyYW5zZm9ybSAwLjJzOwp9Ci5idG4tZG93bmxvYWQ6aG92ZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjZmY2MzQ3LCAjZmY5ODAwKTsKICAgIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCkgc2NhbGUoMS4wNCk7Cn0KLm5vdGljZTpob3ZlciB7CiAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTsKfQogICAgICAgIC5sb2dvIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAubG9nbyBpIHsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQpOwogICAgICAgIH0KCiAgICAgICAgLmF1dGgtYnV0dG9ucyAuYnRuIHsKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLmJ0biB7CiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgcGFkZGluZzogMC42cmVtIDEuNXJlbTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTBweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CgogICAgICAgIC5idG4tcHJpbWFyeSB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CgogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1wcmltYXJ5OmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1saWdodCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtM3B4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMTJweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7CiAgICAgICAgfQoKICAgICAgICAuYnRuLW91dGxpbmUgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICB9CgogICAgICAgIC5idG4tb3V0bGluZTpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAuYnRuLWRhbmdlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRhbmdlcik7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB9CgogICAgICAgIC5idG4tZGFuZ2VyOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2MwMzkyYjsKICAgICAgICB9CgogICAgICAgIC5idG4tc3VjY2VzcyB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN1Y2Nlc3MpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAvKiBNYWluIENvbnRlbnQgKi8KICAgICAgICBtYWluIHsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDgwcHg7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA0MHB4OwogICAgICAgICAgICBtaW4taGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTIwcHgpOwogICAgICAgIH0KCiAgICAgICAgLyogRGFzaGJvYXJkICovCiAgICAgICAgLmRhc2hib2FyZCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMjUwcHggMWZyOwogICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgfQogICAgICAgIC8qINiq2LXZhdmK2YUg2KfZhNij2LLYsdin2LEg2YHZiiDZgtiz2YUg2KXYr9in2LHYqSDYp9mE2LfZhNin2KggKi8KLnN0dWRlbnRzLXRhYmxlIHRkIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAvKiDYrNi52YQg2KfZhNij2LLYsdin2LEg2KrYrdiqINio2LnYttmH2KcgKi8KICAgIGdhcDogMTBweDsgLyog2YXYs9in2YHYqSDYqNmK2YYg2KfZhNij2LLYsdin2LEgKi8KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IC8qINmF2K3Yp9iw2KfYqSDYp9mE2KPYstix2KfYsSDZgdmKINin2YTZhdmG2KrYtdmBICovCn0KCi5zdHVkZW50cy10YWJsZSB0ZCBidXR0b24gewogICAgd2lkdGg6IDEwMCU7IC8qINis2LnZhCDYp9mE2KPYstix2KfYsSDYqNi52LHYtiDZg9in2YXZhCAqLwogICAgbWF4LXdpZHRoOiAyMDBweDsgLyog2KrYrdiv2YrYryDYudix2LYg2KPZgti12Ykg2YTZhNij2LLYsdin2LEgKi8KICAgIHBhZGRpbmc6IDEwcHg7IC8qINiq2K3Ys9mK2YYg2KfZhNmF2LPYp9it2Kkg2KfZhNiv2KfYrtmE2YrYqSAqLwogICAgZm9udC1zaXplOiAwLjlyZW07IC8qINit2KzZhSDYp9mE2YbYtSAqLwogICAgYm9yZGVyLXJhZGl1czogNXB4OyAvKiDYrdmI2KfZgSDZhdiz2KrYr9mK2LHYqSAqLwp9CgovKiDYqtit2LPZitmGINin2YTYqti12YXZitmFINi52YTZiSDYp9mE2LTYp9i02KfYqiDYp9mE2LXYutmK2LHYqSAqLwpAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHsKICAgIC5zdHVkZW50cy10YWJsZSB0ZCBidXR0b24gewogICAgICAgIG1heC13aWR0aDogMTAwJTsgLyog2KzYudmEINin2YTYo9iy2LHYp9ixINio2LnYsdi2INmD2KfZhdmEINi52YTZiSDYp9mE2LTYp9i02KfYqiDYp9mE2LXYutmK2LHYqSAqLwogICAgfQp9CiAgICAgICAgLmFsZXJ0IHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpOwp9Ci8qINiq2LXZhdmK2YUg2K3Yp9mI2YrYqSDYp9mE2KXYtNi52KfYsdin2KogKi8KLm5vdGlmaWNhdGlvbi1jb250YWluZXIgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAyMHB4OwogICAgcmlnaHQ6IDIwcHg7CiAgICB6LWluZGV4OiAxMDAwOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBnYXA6IDEwcHg7CiAgICB3aWR0aDogMzAwcHg7Cn0KCi8qINiq2LXZhdmK2YUg2KfZhNil2LTYudin2LEgKi8KLm5vdGlmaWNhdGlvbiB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgcGFkZGluZzogMTVweCAyMHB4OwogICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGFuaW1hdGlvbjogc2xpZGVEb3duIDAuNXMgZWFzZSBmb3J3YXJkczsKICAgIG9wYWNpdHk6IDA7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwcHgpOwp9CgovKiDYo9mE2YjYp9mGINin2YTYpdi02LnYp9ix2KfYqiAqLwoubm90aWZpY2F0aW9uLnN1Y2Nlc3MgewogICAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCB2YXIoLS1zdWNjZXNzKTsKfQoKLm5vdGlmaWNhdGlvbi5lcnJvciB7CiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkIHZhcigtLWRhbmdlcik7Cn0KCi5ub3RpZmljYXRpb24uaW5mbyB7CiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkIHZhcigtLXByaW1hcnkpOwp9CgovKiDZhti1INin2YTYpdi02LnYp9ixICovCi5ub3RpZmljYXRpb24tdGV4dCB7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBjb2xvcjogdmFyKC0tZGFyayk7CiAgICBmbGV4OiAxOwogICAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9Ci8qINin2KzYudmEINi52YXZiNivINin2YTYpdis2LHYp9ih2KfYqiDZgdmKINis2K/ZiNmEINin2YTYt9mE2KfYqCDZitit2KrZiNmKINi52YTZiSDYo9iy2LHYp9ixINmB2Yog2LPYt9ixINmI2KfYrdivINmF2Lkg2KrZhdix2YrYsSDYo9mB2YLZiiDZgdmC2Lcg2YTZhNij2LLYsdin2LEgKi8KI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQgewogICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50OwogICAgZmxleC1kaXJlY3Rpb246IHJvdyAhaW1wb3J0YW50OwogICAgZ2FwOiA4cHg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgb3ZlcmZsb3cteDogYXV0bzsKICAgIG92ZXJmbG93LXk6IHZpc2libGU7CiAgICBtYXgtd2lkdGg6IDEwMHZ3OwogICAgcGFkZGluZy1ib3R0b206IDhweDsKICAgIHNjcm9sbGJhci13aWR0aDogdGhpbjsKICAgIHNjcm9sbGJhci1jb2xvcjogIzBhNzBmZiAjZjVmN2ZhOwp9Ci5pbXBvcnRlZC1xdWVzdGlvbi1kYXJrIHsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTU2LCAxNTUsIDE1NSkgODAlLCByZ2IoMTE0LCAxMTQsIDExNCkxMDAlKTsKICBib3JkZXItcmFkaXVzOiAxNHB4OwogIGJveC1zaGFkb3c6IDAgNHB4IDE4cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOwogIHBhZGRpbmc6IDI0cHggMThweCAxOHB4IDE4cHg7CiAgbWFyZ2luLWJvdHRvbTogMjJweDsKICBib3JkZXI6IDJweCBzb2xpZCAjZmZmZmZmMzM7CiAgY29sb3I6ICNmZmY7CiAgYW5pbWF0aW9uOiBmYWRlSW4gMC43czsKICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnM7Cn0KLmltcG9ydGVkLXF1ZXN0aW9uLWRhcms6Zm9jdXMtd2l0aGluLCAuaW1wb3J0ZWQtcXVlc3Rpb24tZGFyazpob3ZlciB7CiAgYm94LXNoYWRvdzogMCA4cHggMzJweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTMpOwogIGJvcmRlci1jb2xvcjogIzE0ZWU4ODsKfQovKiDYqtit2LPZitmGINi02YPZhCDYtNix2YrYtyDYp9mE2KrZhdix2YrYsSDZhNmE2KPYstix2KfYsSAqLwojc3R1ZGVudHNQYWdlIC5ncmFkZXMtdGFibGUgdGQ6bGFzdC1jaGlsZDo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgaGVpZ2h0OiA4cHg7Cn0KI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgIGJhY2tncm91bmQ6ICMwYTcwZmY7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgIGJhY2tncm91bmQ6ICNmNWY3ZmE7Cn0KCi8qINin2YTYo9iy2LHYp9ixINmG2YHYs9mH2KcgKi8KI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQgYnV0dG9uIHsKICAgIG1pbi13aWR0aDogMTIwcHg7CiAgICBtYXgtd2lkdGg6IDE4MHB4OwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIGZvbnQtc2l6ZTogMC45NXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDdweDsKICAgIHBhZGRpbmc6IDEwcHggMTJweDsKICAgIG1hcmdpbi1ib3R0b206IDA7CiAgICBtYXJnaW4tdG9wOiAwOwogICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMTAsMTEyLDI1NSwwLjA0KTsKICAgIGJvcmRlcjogbm9uZTsKICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMjVzLCBjb2xvciAwLjI1cywgYm94LXNoYWRvdyAwLjI1czsKfQoKLyog2KrZhtin2LPZgiDYp9mE2KPZhNmI2KfZhiDZhdi5INio2YLZitipINin2YTYo9iy2LHYp9ixICovCiNzdHVkZW50c1BhZ2UgLmJ0bi1wcmltYXJ5IHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCMwYTcwZmYsIzE0ZWU4OCk7IGNvbG9yOiAjZmZmOyB9CiNzdHVkZW50c1BhZ2UgLmJ0bi1kYW5nZXIgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsI0ZDNUM2NSwjZTc0YzNjKTsgY29sb3I6ICNmZmY7IH0KI3N0dWRlbnRzUGFnZSAuYnRuLXdhcm5pbmcgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsI0ZGQzEwNywjRkY5ODAwKTsgY29sb3I6ICMzMzM7IH0KI3N0dWRlbnRzUGFnZSAuYnRuLXN1Y2Nlc3MgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIzE0ZWU4OCwjMGE3MGZmKTsgY29sb3I6ICNmZmY7IH0KI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQgYnV0dG9uOmhvdmVyIHsKICAgIGZpbHRlcjogYnJpZ2h0bmVzcygxLjA4KTsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDE2cHggcmdiYSgxMCwxMTIsMjU1LDAuMDkpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpIHNjYWxlKDEuMDMpOwp9CgovKiDYp9iz2KrYrNin2KjYqSDZhNmE2KzZiNin2YQgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDcwMHB4KSB7CiAgICAjc3R1ZGVudHNQYWdlIC5ncmFkZXMtdGFibGUgdGQ6bGFzdC1jaGlsZCB7CiAgICAgICAgbWF4LXdpZHRoOiA5OHZ3OwogICAgfQogICAgI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQgYnV0dG9uIHsKICAgICAgICBtaW4td2lkdGg6IDEwMHB4OwogICAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsKICAgICAgICBwYWRkaW5nOiA5cHggOHB4OwogICAgfQp9Ci8qINiy2LEg2KXYutmE2KfZgiDYp9mE2KXYtNi52KfYsSAqLwoubm90aWZpY2F0aW9uLWNsb3NlIHsKICAgIGJhY2tncm91bmQ6IG5vbmU7CiAgICBib3JkZXI6IG5vbmU7CiAgICBjb2xvcjogdmFyKC0tZ3JheSk7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3MgZWFzZTsKfQoKLm5vdGlmaWNhdGlvbi1jbG9zZTpob3ZlciB7CiAgICBjb2xvcjogdmFyKC0tZGFyayk7Cn0KCi8qINit2LHZg9ipINin2YTYpdi02LnYp9ixICovCkBrZXlmcmFtZXMgc2xpZGVEb3duIHsKICAgIGZyb20gewogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0yMHB4KTsKICAgIH0KICAgIHRvIHsKICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgIH0KfQouYWxlcnQtc3VjY2VzcyB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQ2LCAyMDQsIDExMywgMC4xKTsKICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXN1Y2Nlc3MpOwogICAgY29sb3I6IHZhcigtLXN1Y2Nlc3MpOwp9CgouYWxlcnQtZGFuZ2VyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjMxLCA3NiwgNjAsIDAuMSk7CiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1kYW5nZXIpOwogICAgY29sb3I6IHZhcigtLWRhbmdlcik7Cn0KICAgICAgICAvKiBTaWRlYmFyICovCiAgICAgICAgLnNpZGViYXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7CiAgICAgICAgICAgIGhlaWdodDogZml0LWNvbnRlbnQ7CiAgICAgICAgfQoKICAgICAgICAuc2lkZWJhci1tZW51IHsKICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsKICAgICAgICB9CgogICAgICAgIC5zaWRlYmFyLW1lbnUgbGkgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLnNpZGViYXItbWVudSBhIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgcGFkZGluZzogMTBweCAxNXB4OwogICAgICAgICAgICBjb2xvcjogdmFyKC0tZGFyayk7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgIH0KCiAgICAgICAgLnNpZGViYXItbWVudSBhOmhvdmVyLCAuc2lkZWJhci1tZW51IGEuYWN0aXZlIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2NywgOTcsIDIzOCwgMC4xKTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgIH0KCiAgICAgICAgLnNpZGViYXItbWVudSBhIGkgewogICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDsKICAgICAgICAgICAgd2lkdGg6IDIwcHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CgogICAgICAgIC8qIE1haW4gQ29udGVudCBBcmVhICovCiAgICAgICAgLmNvbnRlbnQtYXJlYSB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjA1KTsKICAgICAgICB9Ci8qINiq2LXZhdmK2YUg2YLYs9mFINin2YTYqti52LHZitmBICovCi5hYm91dC1jb250YWluZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBmNzZmZCwgIzRhODlkYyk7CiAgICBjb2xvcjogd2hpdGU7CiAgICBtYXJnaW4tdG9wOiAzMHB4OwogICAgcGFkZGluZzogNTBweCAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmFib3V0LWNvbnRlbnQgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtd3JhcDogd3JhcDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGdhcDogMzBweDsKICAgIGFuaW1hdGlvbjogZmFkZUluIDEuNXMgZWFzZS1pbi1vdXQ7IC8qINil2LbYp9mB2Kkg2KPZhtmK2YXZiti02YYg2LnZhtivINin2YTYqtit2YXZitmEICovCn0KCi5hYm91dC10ZXh0IHsKICAgIG1heC13aWR0aDogNjAwcHg7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBhbmltYXRpb246IHNsaWRlSW5MZWZ0IDEuNXMgZWFzZS1pbi1vdXQ7IC8qINit2LHZg9ipINmF2YYg2KfZhNmK2LPYp9ixICovCn0KCi5hYm91dC10ZXh0IGgxIHsKICAgIGZvbnQtc2l6ZTogMi41cmVtOwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY29sb3I6ICNmZmY7Cn0KCi5hYm91dC10ZXh0IHAgewogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQoKLmFib3V0LWltYWdlIHsKICAgIGZsZXgtc2hyaW5rOiAwOwogICAgYW5pbWF0aW9uOiBzbGlkZUluUmlnaHQgMS41cyBlYXNlLWluLW91dDsgLyog2K3YsdmD2Kkg2YXZhiDYp9mE2YrZhdmK2YYgKi8KfQovKiDYqtmI2LPZiti3INi52YbYp9mI2YrZhiDYp9mE2KPZgtiz2KfZhSDYp9mE2LHYptmK2LPZitipINmF2Lkg2KfZhNij2YrZgtmI2YbYp9iqICovCi5wYWdlLXRpdGxlIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IC8qINiq2YjYs9mK2Lcg2KPZgdmC2YogKi8KICAgIGdhcDogMTJweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICBtYXJnaW4tdG9wOiAzMHB4OwogICAgZm9udC1zaXplOiAycmVtICFpbXBvcnRhbnQ7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGxldHRlci1zcGFjaW5nOiAxcHg7Cn0KCi5wYWdlLXRpdGxlIGkgewogICAgZm9udC1zaXplOiAyLjFyZW07CiAgICBjb2xvcjogIzI4MjgyODsKICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgbWFyZ2luLXJpZ2h0OiAwOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQoudGVhY2hlci1pbWFnZSB7CiAgICB3aWR0aDogNDM1cHg7CiAgICBoZWlnaHQ6IDQwMHB4OwogICAgYm9yZGVyLXJhZGl1czogMzAlOwogICAgYm9yZGVyOiA1cHggc29saWQgIHRyYW5zcGFyZW50OwogICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMik7CiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlLWluLW91dDsKfQoKLnRlYWNoZXItaW1hZ2U6aG92ZXIgewogICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpOyAvKiDYqtmD2KjZitixINin2YTYtdmI2LHYqSDYudmG2K8g2KfZhNiq2YXYsdmK2LEgKi8KfQoKLmFib3V0LWZvb3RlciB7CiAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgZm9udC1zaXplOiAxLjFyZW07CiAgICBmb250LXN0eWxlOiBpdGFsaWM7CiAgICBjb2xvcjogI2RmZTZlOTsKfQoKLyog2KrYrdiz2YrZhiDYp9mE2KrYtdmF2YrZhSDYudmE2Ykg2KfZhNi02KfYtNin2Kog2KfZhNi12LrZitix2KkgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgICAuYWJvdXQtY29udGVudCB7CiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIH0KCiAgICAuYWJvdXQtdGV4dCBoMSB7CiAgICAgICAgZm9udC1zaXplOiAycmVtOwogICAgfQoKICAgIC50ZWFjaGVyLWltYWdlIHsKICAgICAgICB3aWR0aDogNDMwcHg7CiAgICAgICAgaGVpZ2h0OiA0MDBweDsKICAgIH0KfQoKLyog2KrYrdiz2YrZhiDYp9mE2KrYtdmF2YrZhSDYudmE2Ykg2KfZhNi02KfYtNin2Kog2KfZhNi12LrZitix2Kkg2KzYr9mL2KcgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7CiAgICAuYWJvdXQtdGV4dCB7CiAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgfQoKICAgIC5hYm91dC10ZXh0IGgxIHsKICAgICAgICBmb250LXNpemU6IDEuOHJlbTsKICAgIH0KCiAgICAudGVhY2hlci1pbWFnZSB7CiAgICAgICAgd2lkdGg6IDMzMHB4OwogICAgICAgIGhlaWdodDogMzAwcHg7CiAgICB9CgogICAgLmFib3V0LWNvbnRhaW5lciB7CiAgICAgICAgcGFkZGluZzogMzBweCAxNXB4OwogICAgfQp9CiNwcm9ncmVzc0JhckNvbnRhaW5lciB7CiAgICB3aWR0aDogMTAwJTsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKfQoKI3Byb2dyZXNzQmFyIHsKICAgIGhlaWdodDogMjBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDhhOGY7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzIGVhc2UtaW4tb3V0Owp9CgoudG9hc3QtbWVzc2FnZSB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICBib3R0b206IDIwcHg7CiAgICByaWdodDogMjBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMxNGVlODg7IC8qINmE2YjZhiDYo9iu2LbYsSAqLwogICAgY29sb3I6IHdoaXRlOwogICAgcGFkZGluZzogMTVweCAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGdhcDogMTBweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgei1pbmRleDogMTAwMDsKICAgIGFuaW1hdGlvbjogZmFkZUluIDAuNXMgZWFzZSBmb3J3YXJkczsKfQoKLnRvYXN0LW1lc3NhZ2UgaSB7CiAgICBmb250LXNpemU6IDEuNXJlbTsKfQoKQGtleWZyYW1lcyBmYWRlSW4gewogICAgZnJvbSB7CiAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMjBweCk7CiAgICB9CiAgICB0byB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICB9Cn0KCkBrZXlmcmFtZXMgZmFkZU91dCB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgIH0KICAgIHRvIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsKICAgIH0KfQogICAgICAgIC5wYWdlLXRpdGxlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tbGlnaHQpOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KCiAgICAgICAgLnBhZ2UtdGl0bGUgaSB7CiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgfQoKICAgICAgICAvKiBFeGFtcyBHcmlkICovCiAgICAgICAgLmV4YW1zLWdyaWQgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzMDBweCwgMWZyKSk7CiAgICAgICAgICAgIGdhcDogMjBweDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgICB9CiAgICAgICAgLmV4YW0tY2FyZCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Cn0KCi5leGFtLWNhcmQ6aG92ZXIgewogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpOwogICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwp9Ci8qINiq2LXZhdmK2YUg2KfZhNiz2KTYp9mEICovCi5xdWVzdGlvbi1jYXJkIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBwYWRkaW5nOiAyMHB4OwogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKfQoKLyog2KrYtdmF2YrZhSDYp9mE2YbYtSAqLwoucXVlc3Rpb24tdGV4dCB7CiAgZm9udC1zaXplOiAxLjVyZW07CiAgbWFyZ2luLWJvdHRvbTogMTVweDsKICBmb250LXdlaWdodDogYm9sZDsKICBjb2xvcjogIzMzMzsKfQoKLyog2KrYtdmF2YrZhSDYp9mE2LXZiNix2KkgKi8KLnF1ZXN0aW9uLWltYWdlLWNvbnRhaW5lciB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbjogMjBweCAwOwp9CgoucXVlc3Rpb24taW1hZ2UgewogIG1heC13aWR0aDogMTAwJTsKICBtYXgtaGVpZ2h0OiAzMDBweDsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZTsKfQoKLnF1ZXN0aW9uLWltYWdlOmhvdmVyIHsKICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOwp9CgovKiDYqti12YXZitmFINin2YTYrtmK2KfYsdin2KogKi8KLm9wdGlvbnMtbGlzdCB7CiAgbGlzdC1zdHlsZTogbm9uZTsKICBwYWRkaW5nOiAwOwp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KI2RlbGV0ZUFsbENoYXRCdG4gewogIHdpZHRoOiAxMDAlOwogIG1hcmdpbi10b3A6IDE4cHg7CiAgZm9udC1zaXplOiAxLjFyZW07CiAgcGFkZGluZzogMTJweCAwOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgYm94LXNoYWRvdzogMCAycHggOHB4ICMwYTcwZmYxMTsKfQpAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAjZGVsZXRlQWxsQ2hhdEJ0biB7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIHBhZGRpbmc6IDE2cHggMDsKICB9Cn0KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwoub3B0aW9uLWxhYmVsIHsKICBkaXNwbGF5OiBibG9jazsKICBwYWRkaW5nOiAxMnB4IDE1cHg7CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7CiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsKfQoKLm9wdGlvbi1sYWJlbDpob3ZlciB7CiAgYm9yZGVyLWNvbG9yOiAjMGE3MGZmOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTAsIDExMiwgMjU1LCAwLjA1KTsKfQoKLm9wdGlvbi1sYWJlbC5zZWxlY3RlZCB7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMCwgMTEyLCAyNTUsIDAuMSk7CiAgYm9yZGVyLWNvbG9yOiAjMGE3MGZmOwp9Cgoub3B0aW9uLWlucHV0IHsKICBtYXJnaW4tcmlnaHQ6IDEwcHg7Cn0KLmV4YW0tY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouZXhhbS1jYXJkLWJvZHkgewogICAgcGFkZGluZzogMjBweDsKICAgIGNvbG9yOiB2YXIoLS1kYXJrKTsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5Owp9CgouZXhhbS1jYXJkLW1ldGEgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICBmb250LXNpemU6IDAuOXJlbTsKICAgIGNvbG9yOiB2YXIoLS1ncmF5KTsKfQoKLmV4YW0tY2FyZC1mb290ZXIgewogICAgcGFkZGluZzogMTVweDsKICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogICAgZm9udC1zaXplOiAwLjlyZW07CiAgICBjb2xvcjogdmFyKC0tZ3JheSk7Cn0KCi5leGFtLWNhcmQtZm9vdGVyIGJ1dHRvbiB7CiAgICBwYWRkaW5nOiAxMHB4IDE1cHg7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBmb250LXNpemU6IDAuOXJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKLmV4YW0tY2FyZC1mb290ZXIgLmJ0bi1wcmltYXJ5IHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgY29sb3I6IHdoaXRlOwogICAgYm9yZGVyOiBub25lOwp9CgouZXhhbS1jYXJkLWZvb3RlciAuYnRuLXByaW1hcnk6aG92ZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1saWdodCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpOwp9CgouZXhhbS1jYXJkLWZvb3RlciAuYnRuLW91dGxpbmUgewogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5KTsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKfQoKLmV4YW0tY2FyZC1mb290ZXIgLmJ0bi1vdXRsaW5lOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgY29sb3I6IHdoaXRlOwp9CiAgICAgICAgLmV4YW0tY2FyZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjA1KTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsKICAgICAgICB9CgogICAgICAgIC5leGFtLWNhcmQ6aG92ZXIgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgICAgICB9CgogICAgICAgIC5leGFtLWNhcmQtaGVhZGVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgIH0KICAgICAgICAjc2VhcmNoU2VsZlRlc3RzSW5wdXQgewogICAgd2lkdGg6IDEwMCU7CiAgICBwYWRkaW5nOiAxMHB4OwogICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZmZmZjsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKI3NlYXJjaFNlbGZUZXN0c0lucHV0OmZvY3VzIHsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICBvdXRsaW5lOiBub25lOwogICAgYm94LXNoYWRvdzogMCAwIDVweCByZ2JhKDY3LCA5NywgMjM4LCAwLjUpOwp9CiAgICAgICAgLmV4YW0tY2FyZC10aXRsZSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7CiAgICAgICAgfQoKICAgICAgICAuZXhhbS1jYXJkLWJvZHkgewogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgIH0KCiAgICAgICAgLmV4YW0tY2FyZC1tZXRhIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLWdyYXkpOwogICAgICAgIH0KCiAgICAgICAgLmV4YW0tY2FyZC1mb290ZXIgewogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgIH0KCiAgICAgICAgLyogRXhhbSBGb3JtICovCiAgICAgICAgLmV4YW0tZm9ybSB7CiAgICAgICAgICAgIG1heC13aWR0aDogODAwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgIH0KCiAgICAgICAgLmZvcm0tZ3JvdXAgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgIH0KCiAgICAgICAgLmZvcm0tbGFiZWwgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgIH0KCiAgICAgICAgLmZvcm0tY29udHJvbCB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgIH0KICAgICAgICAubW9kYWwgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHotaW5kZXg6IDEwMDA7Cn0KCi5tb2RhbC1jb250ZW50IHsKICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICB3aWR0aDogOTAlOwogICAgbWF4LXdpZHRoOiA0MDBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwp9CgoubW9kYWwtdGl0bGUgewogICAgZm9udC1zaXplOiAxLjVyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KCi5tb2RhbC1tZXNzYWdlIHsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICBjb2xvcjogdmFyKC0tdGV4dCk7Cn0KCi5tb2RhbC1hY3Rpb25zIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBnYXA6IDEwcHg7Cn0KCi5tb2RhbC1hY3Rpb25zIC5idG4gewogICAgZmxleDogMTsKICAgIHBhZGRpbmc6IDEwcHg7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwp9Ci51c2VyLWRyb3Bkb3duLW1lbnUgewogICAgYmFja2dyb3VuZDogI2ZjMWIxYjsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7CiAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgYm94LXNoYWRvdzogMCA4cHggMzJweCByZ2JhKDEwLDExMiwyNTUsMC4xMCk7CiAgICBtaW4td2lkdGg6IDE4MHB4OwogICAgcGFkZGluZzogMTBweCAwOwogICAgcmlnaHQ6IDA7CiAgICBsZWZ0OiBhdXRvOwogICAgdG9wOiAxMTAlOwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgYW5pbWF0aW9uOiBmYWRlSW4gMC4zczsKfQoudXNlci1kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZ2FwOiAxMHB4OwogICAgY29sb3I6ICNmZmZmZmY7CiAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgYm9yZGVyOiBub25lOwogICAgd2lkdGg6IDEwMCU7CiAgICBwYWRkaW5nOiAxMnB4IDIycHg7CiAgICBmb250LXNpemU6IDEuMDVyZW07CiAgICBmb250LXdlaWdodDogNTAwOwogICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzLCBjb2xvciAwLjJzOwogICAgYm9yZGVyLXJhZGl1czogMDsKICAgIHRleHQtYWxpZ246IHJpZ2h0Owp9Ci51c2VyLWRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW0gaSB7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGNvbG9yOiAjZmZmZmZmOwogICAgbWFyZ2luLWxlZnQ6IDhweDsKfQoudXNlci1kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOmhvdmVyIHsKICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgICBjb2xvcjogI2ZmNjM0NzsKfQoubW9kYWwtYWN0aW9ucyAuYnRuLWRhbmdlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYW5nZXIpOwogICAgY29sb3I6IHdoaXRlOwogICAgYm9yZGVyOiBub25lOwp9CgoubW9kYWwtYWN0aW9ucyAuYnRuLWRhbmdlcjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzAzOTJiOwp9CgoubW9kYWwtYWN0aW9ucyAuYnRuLW91dGxpbmUgewogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5KTsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKfQoKLm1vZGFsLWFjdGlvbnMgLmJ0bi1vdXRsaW5lOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgY29sb3I6IHdoaXRlOwp9CiAgICAgICAgLmZvcm0tY29udHJvbDpmb2N1cyB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDY3LCA5NywgMjM4LCAwLjIpOwogICAgICAgIH0KCiAgICAgICAgdGV4dGFyZWEuZm9ybS1jb250cm9sIHsKICAgICAgICAgICAgbWluLWhlaWdodDogMTIwcHg7CiAgICAgICAgICAgIHJlc2l6ZTogdmVydGljYWw7CiAgICAgICAgfQoKICAgICAgICAucXVlc3Rpb24tY29udGFpbmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgICBib3JkZXI6IDFweCBkYXNoZWQgI2RkZDsKICAgICAgICB9CiAgICAgICAgLnNlbGYtdGVzdC1jYXJkIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIHBhZGRpbmc6IDIwcHg7Cn0KCi5zZWxmLXRlc3QtY2FyZDpob3ZlciB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7CiAgICBib3gtc2hhZG93OiAwIDEwcHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KCi5zZWxmLXRlc3QtY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDAgMDsKfQoKLnNlbGYtdGVzdC1jYXJkLWJvZHkgewogICAgcGFkZGluZzogMTVweDsKICAgIGNvbG9yOiB2YXIoLS1kYXJrKTsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5Owp9Cgouc2VsZi10ZXN0LWNhcmQtZm9vdGVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBtYXJnaW4tdG9wOiAxNXB4Owp9Cgouc2VsZi10ZXN0LWNhcmQtZm9vdGVyIGJ1dHRvbiB7CiAgICBwYWRkaW5nOiAxMHB4IDE1cHg7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBmb250LXNpemU6IDAuOXJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKLnNlbGYtdGVzdC1jYXJkLWZvb3RlciAuYnRuLXByaW1hcnkgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICBjb2xvcjogd2hpdGU7CiAgICBib3JkZXI6IG5vbmU7Cn0KCi5zZWxmLXRlc3QtY2FyZC1mb290ZXIgLmJ0bi1wcmltYXJ5OmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktbGlnaHQpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKfQogICAgICAgIC5vcHRpb24taXRlbSB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAub3B0aW9uLWl0ZW0gaW5wdXRbdHlwZT0icmFkaW8iXSB7CiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLm9wdGlvbi1pdGVtIGlucHV0W3R5cGU9InRleHQiXSB7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDsKICAgICAgICB9Ci8qINiq2K3Ys9mK2YYg2KrYtdmF2YrZhSDYp9mE2KjYt9in2YLYp9iqICovCi5jYXJkIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtYmcpOwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKLmNhcmQ6aG92ZXIgewogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpOwogICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwp9CgouY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouY2FyZC1ib2R5IHsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBjb2xvcjogdmFyKC0tdGV4dCk7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBsaW5lLWhlaWdodDogMS42OwogICAgdGV4dC1hbGlnbjoganVzdGlmeTsKfQoKLmNhcmQtZm9vdGVyIHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgY29sb3I6IHZhcigtLWdyYXkpOwp9Ci8qINiq2LXZhdmK2YUg2KfZhNmG2KfZgdiw2Kkg2KfZhNmF2YbYqNir2YLYqSAqLwoubW9kYWwgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHotaW5kZXg6IDEwMDA7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKLm1vZGFsLWNvbnRlbnQgewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgcGFkZGluZzogMjBweDsKICAgIHdpZHRoOiAxMDAlOwogICAgbWF4LXdpZHRoOiA2MDBweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwogICAgYW5pbWF0aW9uOiBmYWRlSW4gMC4zcyBlYXNlLWluLW91dDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwp9Ci5tb2RhbCB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgei1pbmRleDogMTAwMDsKfQoKLm1vZGFsLWNvbnRlbnQgewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgcGFkZGluZzogMjBweDsKICAgIHdpZHRoOiA5MCU7CiAgICBtYXgtd2lkdGg6IDQwMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMik7CiAgICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2UtaW4tb3V0Owp9CgoubW9kYWwtdGl0bGUgewogICAgZm9udC1zaXplOiAxLjhyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGNvbG9yOiAjZmY0NDQ0OwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQoKLm1vZGFsLW1lc3NhZ2UgewogICAgZm9udC1zaXplOiAxcmVtOwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGNvbG9yOiAjMzMzOwp9CgoubW9kYWwtYWN0aW9ucyAuYnRuIHsKICAgIHBhZGRpbmc6IDEwcHggMjBweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5tb2RhbC1hY3Rpb25zIC5idG4tc3VjY2VzcyB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjhhNzQ1OwogICAgY29sb3I6IHdoaXRlOwogICAgYm9yZGVyOiBub25lOwp9CgoubW9kYWwtYWN0aW9ucyAuYnRuLXN1Y2Nlc3M6aG92ZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogIzIxODgzODsKfQoKLm1vZGFsLWFjdGlvbnMgLmJ0bi1kYW5nZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2RjMzU0NTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKfQoKLm1vZGFsLWFjdGlvbnMgLmJ0bi1kYW5nZXI6aG92ZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2M4MjMzMzsKfQojY291cnNlc0NvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBncmlkOwogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzAwcHgsIDFmcikpOwogICAgZ2FwOiAyMHB4Owp9CgouZXhhbS1jYXJkIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKLmV4YW0tY2FyZDpob3ZlciB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7CiAgICBib3gtc2hhZG93OiAwIDEwcHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KCi5leGFtLWNhcmQtaGVhZGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7CiAgICBjb2xvcjogd2hpdGU7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmV4YW0tY2FyZC1ib2R5IHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBjb2xvcjogIzMzMzsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjY7Cn0KLyog2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINil2YTZiSDZhdmE2YEg2KfZhNmAIENTUyDYo9mIINiv2KfYrtmEIDxzdHlsZT4g2YHZiiDYsdij2LMg2KfZhNi12YHYrdipICovCgojc3R1ZGVudFByb2dyZXNzQ2hhcnQgewogICAgbWF4LWhlaWdodDogMzIwcHg7CiAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgcGFkZGluZy1sZWZ0OiA1cHg7CiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7CiAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDEwLDExMiwyNTUsMC4wNik7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgZGlyZWN0aW9uOiBydGw7Cn0KCi8qINiq2K3Ys9mK2YYg2LTZg9mEINi02LHZiti3INin2YTYqtmF2LHZitixICovCiNzdHVkZW50UHJvZ3Jlc3NDaGFydDo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDhweDsKfQojc3R1ZGVudFByb2dyZXNzQ2hhcnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgIGJhY2tncm91bmQ6ICMwYTcwZmY7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KI3N0dWRlbnRQcm9ncmVzc0NoYXJ0Ojotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgICBiYWNrZ3JvdW5kOiAjZWFlYWVhOwp9Ci5leGFtLWNhcmQtZm9vdGVyIHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwp9Ci5tb2RhbC1oZWFkZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDsKICAgIHBhZGRpbmctYm90dG9tOiAxMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQouaW1wb3J0ZWQtcXVlc3Rpb24tbGlnaHQgewogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNjN2M3YzcgODAlLCAjYThhOGE4IDEwMCUpOwogIGJvcmRlci1yYWRpdXM6IDE0cHg7CiAgYm94LXNoYWRvdzogMCA0cHggMThweCByZ2JhKDEwLDExMiwyNTUsMC4wOCk7CiAgcGFkZGluZzogMjRweCAxOHB4IDE4cHggMThweDsKICBtYXJnaW4tYm90dG9tOiAyMnB4OwogIGJvcmRlcjogMnB4IHNvbGlkICNlMGU3ZWY7CiAgY29sb3I6ICMyMjI7CiAgYW5pbWF0aW9uOiBmYWRlSW4gMC43czsKICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnMsIGJvcmRlci1jb2xvciAwLjJzOwp9Ci5pbXBvcnRlZC1xdWVzdGlvbi1saWdodDpmb2N1cy13aXRoaW4sIC5pbXBvcnRlZC1xdWVzdGlvbi1saWdodDpob3ZlciB7CiAgYm94LXNoYWRvdzogMCA4cHggMzJweCByZ2JhKDEwLDExMiwyNTUsMC4xMyk7CiAgYm9yZGVyLWNvbG9yOiAjMGE3MGZmOwp9Ci5vcHRpb24taXRlbS1saWdodCB7CiAgYmFja2dyb3VuZDogI2M1YzVjNTsKICBib3JkZXItcmFkaXVzOiA3cHg7CiAgbWFyZ2luLWJvdHRvbTogN3B4OwogIHBhZGRpbmc6IDdweCAxMHB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNjN2M3Yzc7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9Ci5vcHRpb24taXRlbS1saWdodCBpbnB1dFt0eXBlPSJ0ZXh0Il0gewogIGJhY2tncm91bmQ6ICNmOGZhZmY7CiAgY29sb3I6ICMyMjI7CiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTdlZjsKfQouYWRkLWJ0biwgLnJlbW92ZS1idG4gewogIG1hcmdpbi10b3A6IDEwcHg7Cn0KLm1vZGFsLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICBtYXJnaW46IDA7Cn0KCi5tb2RhbC1jbG9zZSB7CiAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgYm9yZGVyOiBub25lOwogICAgZm9udC1zaXplOiAxLjVyZW07CiAgICBjb2xvcjogI2FhYTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3MgZWFzZTsKfQoKLm1vZGFsLWNsb3NlOmhvdmVyIHsKICAgIGNvbG9yOiB2YXIoLS1kYW5nZXIpOwp9CgoubW9kYWwtYm9keSB7CiAgICBtYXgtaGVpZ2h0OiA0MDBweDsKICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICBwYWRkaW5nOiAxMHB4IDA7Cn0KCi5tb2RhbC1mb290ZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgICBnYXA6IDEwcHg7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2RkZDsKICAgIHBhZGRpbmctdG9wOiAxMHB4OwogICAgbWFyZ2luLXRvcDogMTVweDsKfQojbWFuYWdlU2VsZlRlc3RQYWdlIHsKICAgIHBhZGRpbmc6IDIwcHg7Cn0KCi5xdWVzdGlvbi1jb250YWluZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgYm9yZGVyOiAxcHggZGFzaGVkICNkZGQ7Cn0KCi5vcHRpb24taXRlbSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KCi5vcHRpb24taXRlbSBpbnB1dFt0eXBlPSJyYWRpbyJdIHsKICAgIG1hcmdpbi1sZWZ0OiAxMHB4Owp9Cgoub3B0aW9uLWl0ZW0gaW5wdXRbdHlwZT0idGV4dCJdIHsKICAgIGZsZXg6IDE7CiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7Cn0KLm1vZGFsLWZvb3RlciAuYnRuIHsKICAgIHBhZGRpbmc6IDEwcHggMjBweDsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5tb2RhbC1mb290ZXIgLmJ0bi1kYW5nZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFuZ2VyKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKfQoKLm1vZGFsLWZvb3RlciAuYnRuLWRhbmdlcjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzAzOTJiOwp9CgovKiDYrdix2YPYqSDYudmG2K8g2LjZh9mI2LEg2KfZhNmG2KfZgdiw2KkgKi8KQGtleWZyYW1lcyBmYWRlSW4gewogICAgZnJvbSB7CiAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOSk7CiAgICB9CiAgICB0byB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpOwogICAgfQp9Ci50b2FzdC1jb250YWluZXIgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAyMHB4OwogICAgcmlnaHQ6IDIwcHg7CiAgICB6LWluZGV4OiAxMDAwOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBnYXA6IDEwcHg7CiAgICB3aWR0aDogMzAwcHg7Cn0KCi50b2FzdCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTRlZTg4OyAvKiDZhNmI2YYg2KPYrti22LEgKi8KICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDE1cHggMjBweDsKICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbmltYXRpb246IHNsaWRlRG93biAwLjVzIGVhc2UgZm9yd2FyZHM7CiAgICBvcGFjaXR5OiAwOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0yMHB4KTsKfQoKLnRvYXN0IGkgewogICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgZm9udC1zaXplOiAxLjJyZW07Cn0KCi50b2FzdC1jbG9zZSB7CiAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgYm9yZGVyOiBub25lOwogICAgY29sb3I6IHdoaXRlOwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjNzIGVhc2U7Cn0KCi50b2FzdC1jbG9zZTpob3ZlciB7CiAgICBjb2xvcjogIzBjYmY2YjsKfQoKQGtleWZyYW1lcyBzbGlkZURvd24gewogICAgZnJvbSB7CiAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwcHgpOwogICAgfQogICAgdG8gewogICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwogICAgfQp9CgpAa2V5ZnJhbWVzIGZhZGVPdXQgewogICAgZnJvbSB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICB9CiAgICB0byB7CiAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwcHgpOwogICAgfQp9Ci8qINiq2K3Ys9mK2YYg2KfZhNiq2YXYsdmK2LEg2K/Yp9iu2YQg2KfZhNmG2KfZgdiw2KkgKi8KLm1vZGFsLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgIHdpZHRoOiA4cHg7Cn0KCi5tb2RhbC1ib2R5Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKLm1vZGFsLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7Cn0KICAgICAgICAuYWRkLWJ0biB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN1Y2Nlc3MpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLnJlbW92ZS1idG4gewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYW5nZXIpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgIH0KICAgICAgICAuZm9vdGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwYTcwZmY7IC8qINmE2YjZhiDYp9mE2K7ZhNmB2YrYqSAqLwogICAgY29sb3I6IHdoaXRlOyAvKiDZhNmI2YYg2KfZhNmG2LUgKi8KICAgIHBhZGRpbmc6IDIwcHggMDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICBib3gtc2hhZG93OiAwIC0ycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7Cn0KCi5mb290ZXIgLmNvbnRhaW5lciB7CiAgICBtYXgtd2lkdGg6IDEyMDBweDsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgcGFkZGluZzogMCAyMHB4Owp9CgouZm9vdGVyIHAgewogICAgbWFyZ2luOiAwOwogICAgZm9udC1zaXplOiAxcmVtOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5mb290ZXIgLnNvY2lhbC1saW5rcyB7CiAgICBsaXN0LXN0eWxlOiBub25lOwogICAgcGFkZGluZzogMDsKICAgIG1hcmdpbjogMTBweCAwIDA7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBnYXA6IDE1cHg7Cn0KLm1vZGFsIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB6LWluZGV4OiAxMDAwOwp9CgoubW9kYWwtY29udGVudCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgd2lkdGg6IDkwJTsKICAgIG1heC13aWR0aDogNDAwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKICAgIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQ7Cn0KCi5tb2RhbC10aXRsZSB7CiAgICBmb250LXNpemU6IDEuOHJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY29sb3I6ICNmZjQ0NDQ7CiAgICBtYXJnaW4tYm90dG9tOiAxNXB4Owp9CgoubW9kYWwtbWVzc2FnZSB7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgY29sb3I6ICMzMzM7Cn0KCi5tb2RhbC1jb250ZW50IC5idG4gewogICAgcGFkZGluZzogMTBweCAyMHB4OwogICAgZm9udC1zaXplOiAxcmVtOwogICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlOwp9CgoubW9kYWwtY29udGVudCAuYnRuOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDU2YjM7Cn0KCkBrZXlmcmFtZXMgZmFkZUluIHsKICAgIGZyb20gewogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkpOwogICAgfQogICAgdG8gewogICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTsKICAgIH0KfQouc2VsZi10ZXN0LWNhcmQtZm9vdGVyIGJ1dHRvbiB7CiAgICBtYXJnaW4tbGVmdDogMTBweDsgLyog2YXYs9in2YHYqSDYqNmK2YYg2KfZhNij2LLYsdin2LEgKi8KfQouZm9vdGVyIC5zb2NpYWwtbGlua3MgbGkgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwp9Ci5kcm9wZG93biB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KCi5kcm9wZG93bi1tZW51IHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMTAwJTsKICAgIGxlZnQ6IDA7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGE3MGZmOwogICAgYm9yZGVyOiAxcHggc29saWQgIzBhNzBmZjsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICB6LWluZGV4OiAxMDAwOwogICAgbWluLXdpZHRoOiAxNTBweDsKICAgIHBhZGRpbmc6IDEwcHggMDsKfQoKLmRyb3Bkb3duLWl0ZW0gewogICAgcGFkZGluZzogMTBweCAxNXB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBib3JkZXI6IG5vbmU7CiAgICB3aWR0aDogMTAwJTsKICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZTsKfQoKLmRyb3Bkb3duLWl0ZW06aG92ZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogIzBhNzBmZjsKfQouZm9vdGVyIC5zb2NpYWwtbGlua3MgYSB7CiAgICBjb2xvcjogcmdiKDAsIDE3MCwgMjU1KTsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgdHJhbnNpdGlvbjogY29sb3IgMC4zcyBlYXNlOwp9CgouZm9vdGVyIC5zb2NpYWwtbGlua3MgYTpob3ZlciB7CiAgICBjb2xvcjogI2ZmNjM0NzsgLyog2YTZiNmGINi52YbYryDYp9mE2KrYrdmI2YrZhSAqLwp9CiAgICAgICAgLyogRXhhbSBUYWtpbmcgKi8KICAgICAgICAuZXhhbS1jb250YWluZXIgewogICAgICAgICAgICBtYXgtd2lkdGg6IDgwMHB4OwogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDMwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjA4KTsKICAgICAgICB9CgogICAgICAgIC5leGFtLWhlYWRlciB7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOwogICAgICAgIH0KCiAgICAgICAgLmV4YW0tdGl0bGUgewogICAgICAgICAgICBmb250LXNpemU6IDEuOHJlbTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLmV4YW0tbWV0YSB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1ncmF5KTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9Ci8qINiq2LrZitmK2LEg2YTZiNmGINiy2LEg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQgKi8KI2xvZ2luQnRuIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7IC8qINin2YTZhNmI2YYg2KfZhNij2K7YttixICovCiAgICBjb2xvcjogcmdiKDAsIDAsIDApOwogICAgYm9yZGVyOiBub25lOwogICAgcGFkZGluZzogMTBweCAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgZm9udC1zaXplOiAxcmVtOwogICAgY3Vyc29yOiBwb2ludGVyOwp9CiNsb2dpbkJ0bjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyAvKiDZhNmI2YYg2KPYrti22LEg2KPYutmF2YIg2YLZhNmK2YTYp9mLICovCiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KLyog2KXYstin2YTYqSDYqtij2KvZitixIGhvdmVyICovCiNsb2dpbkJ0bjpob3ZlciB7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KICAgICAgICAucXVlc3Rpb24tY2FyZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9CgogICAgICAgIC5xdWVzdGlvbi10ZXh0IHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjJyZW07CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgfQoKICAgICAgICAub3B0aW9ucy1saXN0IHsKICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsKICAgICAgICB9CgogICAgICAgIC5vcHRpb24tbGFiZWwgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNXB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgfQogICAgICAgIC50b2FzdC1tZXNzYWdlIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIGJvdHRvbTogMjBweDsKICAgIHJpZ2h0OiAyMHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzE0ZWU4ODsgLyog2YTZiNmGINij2K7YttixICovCiAgICBjb2xvcjogd2hpdGU7CiAgICBwYWRkaW5nOiAxNXB4IDIwcHg7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZ2FwOiAxMHB4OwogICAgZm9udC1zaXplOiAxcmVtOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICB6LWluZGV4OiAxMDAwOwogICAgYW5pbWF0aW9uOiBmYWRlSW4gMC41cyBlYXNlIGZvcndhcmRzOwp9CgoudG9hc3QtbWVzc2FnZSBpIHsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwp9CgpAa2V5ZnJhbWVzIGZhZGVJbiB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsKICAgIH0KICAgIHRvIHsKICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgIH0KfQoKQGtleWZyYW1lcyBmYWRlT3V0IHsKICAgIGZyb20gewogICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwogICAgfQogICAgdG8gewogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDIwcHgpOwogICAgfQp9CiAgICAgICAgLm9wdGlvbi1sYWJlbDpob3ZlciB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgfQoKICAgICAgICAub3B0aW9uLWxhYmVsLnNlbGVjdGVkIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2NywgOTcsIDIzOCwgMC4xKTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICB9CgogICAgICAgIC5vcHRpb24taW5wdXQgewogICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDsKICAgICAgICB9CgogICAgICAgIC5leGFtLWZvb3RlciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDIwcHg7CiAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOwogICAgICAgIH0KICAgICAgICAuZXhhbS1tZXRhIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZ2FwOiAxNXB4OwogICAgZm9udC1zaXplOiAwLjlyZW07CiAgICBjb2xvcjogdmFyKC0tZ3JheSk7CiAgICBtYXJnaW4tdG9wOiAxMHB4Owp9CgoubWV0YS1pdGVtIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZ2FwOiA1cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogICAgcGFkZGluZzogOHB4IDEycHg7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgZm9udC13ZWlnaHQ6IDUwMDsKfQoKLm1ldGEtaXRlbSBpIHsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGZvbnQtc2l6ZTogMS4xcmVtOwp9CiAgICAgICAgLyogUmVzdWx0cyAqLwogICAgICAgIC5yZXN1bHRzLWNvbnRhaW5lciB7CiAgICAgICAgICAgIG1heC13aWR0aDogODAwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgcGFkZGluZzogMzBweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMDgpOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAucmVzdWx0cy1zY29yZSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogM3JlbTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBtYXJnaW46IDIwcHggMDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICB9CgogICAgICAgIC5yZXN1bHRzLW1ldGEgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiAzMHB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogICAgICAgIH0KCiAgICAgICAgLnJlc3VsdHMtbWV0YS1pdGVtIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgICAgICAgICAgcGFkZGluZzogMTVweCAyNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgfQoKICAgICAgICAucmVzdWx0cy1tZXRhLXZhbHVlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICB9CgogICAgICAgIC5yZXN1bHRzLXF1ZXN0aW9ucyB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgIH0KCiAgICAgICAgLnJlc3VsdC1xdWVzdGlvbiB7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsKICAgICAgICB9CgogICAgICAgIC5jb3JyZWN0LWFuc3dlciB7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1zdWNjZXNzKTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICB9CgogICAgICAgIC53cm9uZy1hbnN3ZXIgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tZGFuZ2VyKTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICB9CgogICAgICAgIC8qIEF1dGggRm9ybXMgKi8KICAgICAgICAuYXV0aC1jb250YWluZXIgewogICAgICAgICAgICBtYXgtd2lkdGg6IDUwMHB4OwogICAgICAgICAgICBtYXJnaW46IDUwcHggYXV0bzsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDQwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjA4KTsKICAgICAgICB9CgogICAgICAgIC5hdXRoLXRpdGxlIHsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgfQoKICAgICAgICAuYXV0aC1mb3JtIC5mb3JtLWdyb3VwIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjVweDsKICAgICAgICB9CgogICAgICAgIC5hdXRoLWZvb3RlciB7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgICAgICAgY29sb3I6IHZhcigtLWdyYXkpOwogICAgICAgIH0KCiAgICAgICAgLmF1dGgtZm9vdGVyIGEgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICB9Ci8qINij2YbZhdin2Lcg2KzYr9mK2K/YqSDZhNiq2K3Ys9mK2YYg2YjYp9is2YfYqSDYsdmB2Lkg2KfZhNmF2YTZgdin2Kog2YjYudix2LYg2KfZhNi12YjYsSAqLwoucXVlc3Rpb24taW1hZ2UtcHJldmlldyB7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICBtYXgtaGVpZ2h0OiAyMDBweDsKICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICBkaXNwbGF5OiBub25lOwp9CgouYnVsay11cGxvYWQtaW5zdHJ1Y3Rpb25zIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgbWFyZ2luLXRvcDogMTBweDsKICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjZGRkOwp9Cgojc2VsZlRlc3RQYWdlIHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKI3NlbGZUZXN0Q29udGFpbmVyIHsKICAgIG1hcmdpbi10b3A6IDIwcHg7Cn0KCi5xdWVzdGlvbi1jYXJkIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7Cn0KCi5xdWVzdGlvbi1jYXJkIGgzIHsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQoKLm9wdGlvbnMtbGlzdCB7CiAgICBsaXN0LXN0eWxlOiBub25lOwogICAgcGFkZGluZzogMDsKfQoKLm9wdGlvbi1sYWJlbCB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHBhZGRpbmc6IDEycHggMTVweDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOwp9Cgoub3B0aW9uLWxhYmVsOmhvdmVyIHsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KI3doYXRzYXBwQnRuIHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgYm90dG9tOiAzMHB4OwogIGxlZnQ6IDMwcHg7CiAgYmFja2dyb3VuZDogIzI1ZDM2NjsKICBjb2xvcjogI2ZmZjsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgd2lkdGg6IDYwcHg7CiAgaGVpZ2h0OiA2MHB4OwogIGZvbnQtc2l6ZTogMi4ycmVtOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBib3gtc2hhZG93OiAwIDRweCAxNnB4IHJnYmEoMzcsMjExLDEwMiwwLjE4KTsKICB6LWluZGV4OiAyMDAwOwogIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycywgdHJhbnNmb3JtIDAuMnM7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9CiN3aGF0c2FwcEJ0bjpob3ZlciB7CiAgYmFja2dyb3VuZDogIzEyOGM3ZTsKICB0cmFuc2Zvcm06IHNjYWxlKDEuMDgpOwp9Ci5vcHRpb24tbGFiZWwuc2VsZWN0ZWQgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2NywgOTcsIDIzOCwgMC4xKTsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KLmV4cG9ydC1idG4gewogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQouZmVlZGJhY2stY29udGFpbmVyIHsKICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGFuaW1hdGlvbjogZmFkZUluIDAuNXMgZWFzZS1pbi1vdXQ7Cn0KCi5mZWVkYmFjay1jb250YWluZXIuc3VjY2VzcyB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQ2LCAyMDQsIDExMywgMC4xKTsgLyog2KPYrti22LEg2YHYp9iq2K0gKi8KICAgIGNvbG9yOiAjMmVjYzcxOyAvKiDYo9iu2LbYsSAqLwogICAgYm9yZGVyOiAycHggc29saWQgIzJlY2M3MTsKfQoKLmZlZWRiYWNrLWNvbnRhaW5lci5lcnJvciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzMSwgNzYsIDYwLCAwLjEpOyAvKiDYo9it2YXYsSDZgdin2KrYrSAqLwogICAgY29sb3I6ICNlNzRjM2M7IC8qINij2K3ZhdixICovCiAgICBib3JkZXI6IDJweCBzb2xpZCAjZTc0YzNjOwp9CgpAa2V5ZnJhbWVzIGZhZGVJbiB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTBweCk7CiAgICB9CiAgICB0byB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICB9Cn0KICAgICAgICAvKiBBbGVydHMgKi8KICAgICAgICAuYWxlcnQgewogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAuYWxlcnQtc3VjY2VzcyB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNzYsIDIwMSwgMjQwLCAwLjEpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zdWNjZXNzKTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXN1Y2Nlc3MpOwogICAgICAgIH0KCiAgICAgICAgLmFsZXJ0LWRhbmdlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjM5LCAzNSwgNjAsIDAuMSk7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWRhbmdlcik7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1kYW5nZXIpOwogICAgICAgIH0KCiAgICAgICAgLmFsZXJ0IGkgewogICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjJyZW07CiAgICAgICAgfQoKICAgICAgICAvKiBMb2FkaW5nICovCiAgICAgICAgLmxvYWRpbmcgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgaGVpZ2h0OiAyMDBweDsKICAgICAgICB9CgogICAgICAgIC5zcGlubmVyIHsKICAgICAgICAgICAgd2lkdGg6IDQwcHg7CiAgICAgICAgICAgIGhlaWdodDogNDBweDsKICAgICAgICAgICAgYm9yZGVyOiA0cHggc29saWQgcmdiYSg2NywgOTcsIDIzOCwgMC4xKTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBib3JkZXItdG9wLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTsKICAgICAgICB9CgogICAgICAgIEBrZXlmcmFtZXMgc3BpbiB7CiAgICAgICAgICAgIHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfQogICAgICAgIH0KCiAgICAgICAgLyogU3R1ZGVudCBHcmFkZXMgKi8KICAgICAgICAuZ3JhZGVzLXRhYmxlIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgfQoKICAgICAgICAuZ3JhZGVzLXRhYmxlIHRoLCAuZ3JhZGVzLXRhYmxlIHRkIHsKICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNXB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgfQoKICAgICAgICAuZ3JhZGVzLXRhYmxlIHRoIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICB9CgogICAgICAgIC5ncmFkZXMtdGFibGUgdHI6aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZhOwogICAgICAgIH0KCiAgICAgICAgLmdyYWRlLWJhZGdlIHsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICBwYWRkaW5nOiA0cHggMTBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgIH0KCiAgICAgICAgLmdyYWRlLWV4Y2VsbGVudCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNzYsIDIwMSwgMjQwLCAwLjEpOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tc3VjY2Vzcyk7CiAgICAgICAgfQoKICAgICAgICAuZ3JhZGUtZ29vZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNjcsIDk3LCAyMzgsIDAuMSk7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICB9CgogICAgICAgIC5ncmFkZS1hdmVyYWdlIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE1OCwgMCwgMC4xKTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXdhcm5pbmcpOwogICAgICAgIH0KCiAgICAgICAgLmdyYWRlLXBvb3IgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzOSwgMzUsIDYwLCAwLjEpOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tZGFuZ2VyKTsKICAgICAgICB9CgogICAgICAgIC8qIFByb2dyZXNzIENoYXJ0ICovCiAgICAgICAgLnByb2dyZXNzLWNoYXJ0IHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMzAwcHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIH0KCiAgICAgICAgLnByb2dyZXNzLWJhciB7CiAgICAgICAgICAgIGhlaWdodDogMjBweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZWNlZjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICB9CgogICAgICAgIC5wcm9ncmVzcy1maWxsIHsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHZhcigtLXByaW1hcnkpLCB2YXIoLS1wcmltYXJ5LWxpZ2h0KSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuNXMgZWFzZTsKICAgICAgICB9CgogICAgICAgIC5wcm9ncmVzcy1sYWJlbCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4OwogICAgICAgIH0KCiAgICAgICAgLyogUmVzcG9uc2l2ZSAqLwogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA5OTJweCkgewogICAgICAgICAgICAuZGFzaGJvYXJkIHsKICAgICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAuc2lkZWJhciB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHsKICAgICAgICAgICAgLmhlYWRlci1jb250ZW50IHsKICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgICBnYXA6IDE1cHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLnNpZGViYXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgcGFkZGluZzogMS41cmVtOwogICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMDMpOwp9Ci5zbGlkZS1jYXJkIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5zbGlkZS1jYXJkOmJlZm9yZSB7CiAgICBjb250ZW50OiAnJzsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICByaWdodDogMDsKICAgIGhlaWdodDogNHB4OwogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCB2YXIoLS1wcmltYXJ5KSwgdmFyKC0tcHJpbWFyeS1saWdodCkpOwp9Ci5mb3JtLWNvbnRyb2wgewogICAgYm9yZGVyOiAxcHggc29saWQgI0U2RTlFRDsKICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5mb3JtLWNvbnRyb2w6Zm9jdXMgewogICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDkzLCAxNTYsIDIzNiwgMC4yKTsKfQovKiDYqtij2KvZitix2KfYqiDYrdix2YPZitipINi52YbYryDYp9mE2KrZhdix2YrYsSAqLwouZXhhbS1jYXJkLCAuc2xpZGUtY2FyZCB7CiAgICBhbmltYXRpb246IGZhZGVJblVwIDAuNnMgZWFzZSBmb3J3YXJkczsKfQoKQGtleWZyYW1lcyBmYWRlSW5VcCB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsKICAgIH0KICAgIHRvIHsKICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgIH0KfQoKLyog2KrYo9ir2YrYsdin2Kog2LnZhtivINin2YTYqtit2YjZitmFICovCi5idG4gewogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgY3ViaWMtYmV6aWVyKDAuMjUsIDAuOCwgMC4yNSwgMSk7Cn0KCi8qINiq2KPYq9mK2LHYp9iqINin2YTZhtmC2LEgKi8KLmJ0bjphY3RpdmUgewogICAgdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTsKfQouZm9ybS1sYWJlbCB7CiAgICBmb250LXdlaWdodDogNTAwOwogICAgY29sb3I6IHZhcigtLWRhcmspOwogICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOwp9Ci5zaWRlYmFyLW1lbnUgYSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHBhZGRpbmc6IDAuNzVyZW0gMS4yNXJlbTsKICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5zaWRlYmFyLW1lbnUgYSBpIHsKICAgIG1hcmdpbi1sZWZ0OiAwLjc1cmVtOwogICAgd2lkdGg6IDIwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0gICAgIAogICAgICAgICAgICAuYXV0aC1idXR0b25zIHsKICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAuZXhhbXMtZ3JpZCB7CiAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLnJlc3VsdHMtbWV0YSB7CiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgZ2FwOiAxNXB4OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAKLyog2KrYrdiz2YrZhiDYqti12YXZitmFINio2LfYp9mC2KfYqiDYp9mE2LTYsdin2KbYrSAqLwouc2xpZGUtY2FyZCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Cn0KLyog2KrYtdmF2YrZhSDYp9mE2YbYp9mB2LDYqSDYp9mE2YXZhtio2KvZgtipICovCi5tb2RhbCB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgei1pbmRleDogMTAwMDsKfQoKLm1vZGFsLWNvbnRlbnQgewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgcGFkZGluZzogMjBweDsKICAgIHdpZHRoOiA5MCU7CiAgICBtYXgtd2lkdGg6IDQwMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KCi5tb2RhbC10aXRsZSB7CiAgICBmb250LXNpemU6IDEuNXJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKfQoKLm1vZGFsLW1lc3NhZ2UgewogICAgZm9udC1zaXplOiAxcmVtOwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGNvbG9yOiB2YXIoLS10ZXh0KTsKfQoKLm1vZGFsLWFjdGlvbnMgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGdhcDogMTBweDsKfQoKLm1vZGFsLWFjdGlvbnMgLmJ0biB7CiAgICBmbGV4OiAxOwogICAgcGFkZGluZzogMTBweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5tb2RhbC1hY3Rpb25zIC5idG4tc3VjY2VzcyB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdWNjZXNzKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKfQoKLm1vZGFsLWFjdGlvbnMgLmJ0bi1zdWNjZXNzOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMxMmM4NzQ7Cn0KCi5tb2RhbC1hY3Rpb25zIC5idG4tZGFuZ2VyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRhbmdlcik7CiAgICBjb2xvcjogd2hpdGU7CiAgICBib3JkZXI6IG5vbmU7Cn0KCi5tb2RhbC1hY3Rpb25zIC5idG4tZGFuZ2VyOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNjMDM5MmI7Cn0KLnNsaWRlLWNhcmQ6aG92ZXIgewogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpOwogICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwp9Cgouc2xpZGUtY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9Cgouc2xpZGUtY2FyZC1ib2R5IHsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBjb2xvcjogdmFyKC0tZGFyayk7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBsaW5lLWhlaWdodDogMS42OwogICAgdGV4dC1hbGlnbjoganVzdGlmeTsKfQoKLnNsaWRlLWNhcmQtZm9vdGVyIHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgY29sb3I6IHZhcigtLWdyYXkpOwp9Cgouc2xpZGUtY2FyZC1mb290ZXIgaSB7CiAgICBtYXJnaW4tcmlnaHQ6IDVweDsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKfQoubW9kYWwgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHotaW5kZXg6IDEwMDA7Cn0KCi5tb2RhbC1jb250ZW50IHsKICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIHBhZGRpbmc6IDMwcHg7CiAgICB3aWR0aDogOTAlOwogICAgbWF4LXdpZHRoOiA0MDBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwogICAgYW5pbWF0aW9uOiBmYWRlSW4gMC41cyBlYXNlLWluLW91dDsKfQoKLm1vZGFsLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQoKLm1vZGFsLW1lc3NhZ2UgewogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgY29sb3I6IHZhcigtLXRleHQpOwp9CgoucmVzdWx0LWRldGFpbHMgcCB7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBtYXJnaW46IDEwcHggMDsKICAgIGNvbG9yOiB2YXIoLS1kYXJrKTsKfQoKLnJlc3VsdC1kZXRhaWxzIHN0cm9uZyB7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KCi5idG4tcHJpbWFyeSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKICAgIHBhZGRpbmc6IDEwcHggMjBweDsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5idG4tcHJpbWFyeTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWxpZ2h0KTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KCkBrZXlmcmFtZXMgZmFkZUluIHsKICAgIGZyb20gewogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkpOwogICAgfQogICAgdG8gewogICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTsKICAgIH0KfQovKiDYp9is2LnZhCDZg9mEINi02LHZitit2Kkg2KrYo9iu2LAg2KfYsdiq2YHYp9i52YfYpyDYp9mE2LfYqNmK2LnZiiDZgdmC2LcgKi8KLmV4YW1zLWdyaWQsICNzbGlkZXNHcmlkIHsKICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0Owp9Cgouc2xpZGUtY2FyZCB7CiAgICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDsKfQoKLyog2KfYrNi52YQg2K3Yp9mI2YrYqSDYs9ik2KfZhCDYp9mE2YjYp9is2Kgg2KfZhNmF2YbYstmE2Yog2KPYtdi62LEg2KzYr9in2Ysg2YHZiiDYp9mE2YfZiNin2KrZgSDZiNio2K/ZiNmGINij2Yog2YXYs9in2YHYqSDYrNin2YbYqNmK2KkgKi8KLyog2KfYrdiw2YEg2KPZiCDYudiv2YQg2KPZiiDZg9mI2K8g2LPYp9io2YIg2YXYqti22KfYsdioINmE2YfYsNinINin2YTYudmG2LXYsSAqLwoKQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7CiAgI3NlbGZUZXN0UXVlc3Rpb24gLnF1ZXN0aW9uLWNhcmQgewogICAgd2lkdGg6IDkwdncgIWltcG9ydGFudDsKICAgIG1heC13aWR0aDogOTB2dyAhaW1wb3J0YW50OwogICAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7CiAgICBtYXJnaW46IDAgYXV0byAxMHB4IGF1dG8gIWltcG9ydGFudDsKICAgIHBhZGRpbmc6IDVweCAydncgNXB4IDJ2dyAhaW1wb3J0YW50OwogICAgYm9yZGVyLXJhZGl1czogNnB4ICFpbXBvcnRhbnQ7CiAgICBmb250LXNpemU6IDAuOTFyZW0gIWltcG9ydGFudDsKICAgIGJveC1zaGFkb3c6IDAgMXB4IDRweCByZ2JhKDEwLDExMiwyNTUsMC4wNyk7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7CiAgfQogIC8qINil2LLYp9mE2Kkg2KPZiiDZhdiz2KfZgdipINis2KfZhtio2YrYqSDZhdmGINin2YTYrdin2YjZitin2Kog2KfZhNix2KbZitiz2YrYqSAqLwogIC5jb250YWluZXIsCiAgLmNvbnRlbnQtYXJlYSwKICAuZXhhbS1jb250YWluZXIsCiAgLnJlc3VsdHMtY29udGFpbmVyLAogICNzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciB7CiAgICB3aWR0aDogMTAwdncgIWltcG9ydGFudDsKICAgIG1heC13aWR0aDogMTAwdncgIWltcG9ydGFudDsKICAgIG1pbi13aWR0aDogMCAhaW1wb3J0YW50OwogICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nLWxlZnQ6IDAgIWltcG9ydGFudDsKICAgIHBhZGRpbmctcmlnaHQ6IDAgIWltcG9ydGFudDsKICAgIGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICB9CiAgLyog2KXYstin2YTYqSDYo9mKIHBhZGRpbmcg2YXZhiBib2R5INij2YggaHRtbCAqLwogIGJvZHksIGh0bWwgewogICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7CiAgICBvdmVyZmxvdy14OiBoaWRkZW4gIWltcG9ydGFudDsKICB9Cn0KLyog2KfYrNi52YQg2K3Yp9mI2YrYqSDYs9ik2KfZhCDYp9mE2YjYp9is2Kgg2KfZhNmF2YbYstmE2Yog2KPYtdi62LEg2KzYr9in2Ysg2YHZiiDYp9mE2YfZiNin2KrZgSAqLwoKICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJjb25maXJtTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4KICAgICAgICAgICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSI+2KrYo9mD2YrYryDYqtiz2YTZitmFINin2YTYp9iu2KrYqNin2LE8L2gzPgogICAgICAgICAgICA8cCBjbGFzcz0ibW9kYWwtbWVzc2FnZSI+2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2KrYs9mE2YrZhSDYp9mE2KfYrtiq2KjYp9ix2J88L3A+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlybVllcyIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+2YbYudmFPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjb25maXJtTm8iIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPCEtLSBGaXJlYmFzZSBTREsgLS0+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy84LjEwLjAvZmlyZWJhc2UtYXBwLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL3d3dy5nc3RhdGljLmNvbS9maXJlYmFzZWpzLzguMTAuMC9maXJlYmFzZS1hdXRoLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL3d3dy5nc3RhdGljLmNvbS9maXJlYmFzZWpzLzguMTAuMC9maXJlYmFzZS1maXJlc3RvcmUuanMiPjwvc2NyaXB0PgogICAgCiAgICA8aGVhZGVyPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1jb250ZW50Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxvZ28iPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZ3JhZHVhdGlvbi1jYXAiPjwvaT4KICAgICAgICAgICAgICAgICAgICA8c3Bhbj48c3BhbiBjbGFzcz0idGV4dC1wcmltYXJ5Ij7ZhdmA2YbZgNi12YDYqSAgPC9zcGFuPiAgICAgICDYp9mE2YHZitiy2YrZgNmA2KfYoSDYp9mE2YTYsNmK2YDZgNiw2YcgICA8c3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgCiAgICAgPGRpdiBjbGFzcz0iYXV0aC1idXR0b25zIiBpZD0iYXV0aEJ1dHRvbnMiPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0ibG9naW5CdG4iPtiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEPC9idXR0b24+CiAgICA8YnV0dG9uIGNsYXNzPSIiIGlkPSJyZWdpc3RlckJ0biI+ICA8L2J1dHRvbj4KCiAgICA8IS0tINiy2LEg2KrZiNin2LXZhCDZhdi52YbYpyAtLT4KICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImNvbnRhY3RVc0J0biIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweDsiPgogICAgICA8aSBjbGFzcz0iZmFzIGZhLWhlYWRzZXQiIHN0eWxlPSJtYXJnaW4tbGVmdDo2cHg7Ij48L2k+INiq2YjYp9i12YQg2YXYudmG2KcKICAgIDwvYnV0dG9uPgo8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InVzZXItbWVudSIgaWQ9InVzZXJNZW51IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ1c2VyTmFtZSI+PC9zcGFuPgogICAgICAgICAgIDxkaXYgY2xhc3M9ImRyb3Bkb3duIj4KICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBkcm9wZG93bi10b2dnbGUiIGlkPSJ1c2VyTWVudURyb3Bkb3duIiBvbmNsaWNrPSJ0b2dnbGVEcm9wZG93bigpIj4KICAgICAgICA8c3BhbiBzdHlsZT0ibWFyZ2luLXJpZ2h0OjhweDsiPjwvc3Bhbj4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoZXZyb24tZG93biI+PC9pPgogICAgPC9idXR0b24gPgogICAgPGRpdiBjbGFzcz0iZHJvcGRvd24tbWVudSB1c2VyLWRyb3Bkb3duLW1lbnUiIGlkPSJkcm9wZG93bk1lbnUiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZHJvcGRvd24taXRlbSIgaWQ9InJlbG9hZEhvbWVCdG4iPgogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24gY2xhc3M9ImRyb3Bkb3duLWl0ZW0iIGlkPSJsb2dvdXRCdG4iPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXNpZ24tb3V0LWFsdCI+PC9pPiDYqtiz2KzZitmEINin2YTYrtix2YjYrAogICAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9oZWFkZXI+Cjxicj4KICAgIDxtYWluPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgICAgIDwhLS0gTG9hZGluZyBTY3JlZW4gLS0+CiAgICAgICAgICAgIDxkaXYgaWQ9ImxvYWRpbmdTY3JlZW4iIGNsYXNzPSJsb2FkaW5nIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNwaW5uZXIiPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDwhLS0gQXV0aCBTY3JlZW5zIC0tPgogICAgICAgICAgICA8ZGl2IGlkPSJhYm91dFNlY3Rpb24iIGNsYXNzPSJhYm91dC1jb250YWluZXIiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYm91dC1jb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYm91dC10ZXh0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGgxPtmF2LHYrdio2KfZiyDYqNmDINmB2Yog2YXZgNmG2YDYtdmA2Kkg2KfZhNmB2YrYstmK2YDZgNin2KEg2KfZhNmE2LDZitmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2LDZhyAgICAgPC9oMT4KICAgICAgICAgICAgICAgICAgICAgICAgPHA+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtivLyDZgdix2Kwg2LHYstmCICAgPC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINmF2YYg2KPYqNix2LIg2YXYr9ix2LPZiiDYp9mE2YHZitiy2YrYp9ihINmE2YTYq9in2YbZiNmK2Kkg2KfZhNi52KfZhdipIPCfk5rimqHYjCDYrdmK2Ksg2YrYrNmF2Lkg2KjZitmGINin2YTYrtio2LHYqSDYp9mE2KPZg9in2K/ZitmF2YrYqSDZiNin2YTYtNix2K0g2KfZhNmF2KjYs9i3IPCfp6DinKjYjCDZiNmK2KrZhdmK2LIg2KjZgtiv2LHYqtmHINi52YTZiSDYqtit2YjZitmEINij2LXYudioINin2YTZgtmI2KfZhtmK2YYg2KXZhNmJINij2YHZg9in2LEg2LPZh9mE2Kkg2YjZhdmF2KrYudipIPCfjq/wn5OW2Iwg2YXZhdinINmK2KzYudmE2Ycg2KfYrtiq2YrYp9ix2YvYpyDZhdmB2LbZhNmL2Kcg2YTZg9mEINi32KfZhNioINmK2LPYudmJINmE2YTYqtmB2YjZgiDZiNin2YTYqtmF2YrYsiDwn4+G8J+agC4KICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgINin2YbYttmFINil2YTZitmG2Kcg2KfZhNii2YYg2YjYp9iz2KrZhdiq2Lkg2KjYqtis2LHYqNipINiq2LnZhNmK2YXZitipINmF2YXYqti52Kkg2YjZhdmB2YrYr9ipIQogICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWJvdXQtaW1hZ2UiPgogICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iZmFyYWcucG5nIiBhbHQ9Iti12YjYsdipINin2YTYo9iz2KrYp9iwIiBjbGFzcz0idGVhY2hlci1pbWFnZSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFib3V0LWZvb3RlciI+CiAgICAgICAgICAgICAgICAgICAgPHA+2KrYudmE2YUgINio2LfYsdmK2YLYqSDYrNiv2YrYr9ipINmI2YXZhdiq2LnYqSDZhdi5INmF2YbYp9i42LEg2LfYqNmK2LnZitipINmF2YTZh9mF2KkuPC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgIDxkaXYgaWQ9ImF1dGhTY3JlZW5zIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICA8ZGl2IGlkPSJsb2dpbkZvcm0iIGNsYXNzPSJhdXRoLWNvbnRhaW5lciIgc3R5bGU9Im1heC13aWR0aDo0MjBweDttYXJnaW46NTBweCBhdXRvO2JhY2tncm91bmQ6I2VjZWNmNztib3JkZXItcmFkaXVzOjE4cHg7Ym94LXNoYWRvdzowIDRweCAyNHB4ICMwYTcwZmYxMTtwYWRkaW5nOjM4cHggMjhweDsiPgogICAgPGgyIGNsYXNzPSJhdXRoLXRpdGxlIiBzdHlsZT0iY29sb3I6IzBhNzBmZjtmb250LXNpemU6MnJlbTttYXJnaW4tYm90dG9tOjI0cHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXNpZ24taW4tYWx0IiBzdHlsZT0ibWFyZ2luLWxlZnQ6MTBweDtjb2xvcjojMTRlZTg4OyI+PC9pPgogICAgICAgINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmECiAgICA8L2gyPgogICAgPGRpdiBpZD0ibG9naW5FcnJvciIgY2xhc3M9ImFsZXJ0IGFsZXJ0LWRhbmdlciIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZSI+PC9pPgogICAgICAgIDxzcGFuIGlkPSJsb2dpbkVycm9yVGV4dCI+PC9zcGFuPgogICAgPC9kaXY+CiAgICA8Zm9ybSBjbGFzcz0iYXV0aC1mb3JtIiBpZD0ibG9naW5Gb3JtRmllbGRzIj4KICAgICAgICA8IS0tINij2LbZgSDYrdmC2YjZhCDYp9mE2KjYsdmK2K8g2YjZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YfZhtinINil2LDYpyDZhNmFINiq2YPZhiDZhdmI2KzZiNiv2KkgLS0+CiAgICA8L2Zvcm0+CiAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjE4cHg7Ij4KICAgICAgICA8YnV0dG9uIGlkPSJnb29nbGVTaWduSW5CdG5Gb3JtIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4iIHN0eWxlPSJiYWNrZ3JvdW5kOiNmZmY7Y29sb3I6IzExMTtib3JkZXI6MS41cHggc29saWQgIzBhNzBmZjt3aWR0aDoxMDAlO3BhZGRpbmc6MTJweCAwO21hcmdpbi10b3A6OHB4O2JvcmRlci1yYWRpdXM6MTBweDtib3gtc2hhZG93OjAgMnB4IDhweCAjMGE3MGZmMTE7Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZToxLjA4cmVtO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtnYXA6MTBweDsiPgogICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy91aS8yLjAuMC9pbWFnZXMvYXV0aC9nb29nbGUuc3ZnIiBzdHlsZT0id2lkdGg6MjJweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Ij4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImJ0bi10ZXh0Ij7Yqtiz2KzZitmEINio2YAgR29vZ2xlPC9zcGFuPgogICAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJhdXRoLWZvb3RlciIgc3R5bGU9Im1hcmdpbi10b3A6MjJweDt0ZXh0LWFsaWduOmNlbnRlcjsiPgogICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjojODg4OyI+ICAg2LPYrNmEINioICBnb29nbGUgINmKINmF2K3Yqtix2YUg8J+YjTxicj7imqDvuI8gINmE2Ygg2LnYp9mI2LIg2KrYudix2YEg2KfYstin2Yog2KrYs9is2YQg2KfYtti62Lcg2LnZhNmKINiy2LEg2KrZiNin2LXZhCDZhdi52YbYpyDYqNin2YTYp9i52YTZiiAgPC9zcGFuPgogICAgICAgIDxhIGhyZWY9IiMiIGlkPSJzaG93UmVnaXN0ZXIiIHN0eWxlPSJjb2xvcjojMGE3MGZmO2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bWFyZ2luLXJpZ2h0OjhweDsiPiAgPC9hPgogICAgPC9kaXY+CjwvZGl2PgoKCiAgICAgICAgICAgICAgICA8IS0tIFJlZ2lzdGVyIEZvcm0gLS0+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJyZWdpc3RlckZvcm0iIGNsYXNzPSJhdXRoLWNvbnRhaW5lciIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9ImF1dGgtdGl0bGUiPtil2YbYtNin2KEg2K3Ys9in2Kgg2KzYr9mK2K88L2gyPgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InJlZ2lzdGVyRXJyb3IiIGNsYXNzPSJhbGVydCBhbGVydC1kYW5nZXIiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZXhjbGFtYXRpb24tY2lyY2xlIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJyZWdpc3RlckVycm9yVGV4dCI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJhdXRoLWZvcm0iIGlkPSJyZWdpc3RlckZvcm1GaWVsZHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InJlZ2lzdGVyTmFtZSIgY2xhc3M9ImZvcm0tbGFiZWwiPtin2YTYp9iz2YUg2KfZhNmD2KfZhdmEPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icmVnaXN0ZXJOYW1lIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icmVnaXN0ZXJFbWFpbCIgY2xhc3M9ImZvcm0tbGFiZWwiPtin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZijwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZW1haWwiIGlkPSJyZWdpc3RlckVtYWlsIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icmVnaXN0ZXJQYXNzd29yZCIgY2xhc3M9ImZvcm0tbGFiZWwiPtmD2YTZhdipINin2YTZhdix2YjYsTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJyZWdpc3RlclBhc3N3b3JkIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icmVnaXN0ZXJDb25maXJtUGFzc3dvcmQiIGNsYXNzPSJmb3JtLWxhYmVsIj7Yqtij2YPZitivINmD2YTZhdipINin2YTZhdix2YjYsTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJyZWdpc3RlckNvbmZpcm1QYXNzd29yZCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2YbZiNi5INin2YTYrdiz2KfYqDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJyZWdpc3RlclJvbGUiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InN0dWRlbnQiPti32KfZhNioPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7Ij7YpdmG2LTYp9ihINin2YTYrdiz2KfYqDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdXRoLWZvb3RlciI+CiAgICAgICAgICAgICAgICAgICAgICAgINmE2K/ZitmDINit2LPYp9ioINio2KfZhNmB2LnZhNifIDxhIGhyZWY9IiMiIGlkPSJzaG93TG9naW4iPtiz2KzZhCDYp9mE2K/YrtmI2YQ8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8IS0tIE1haW4gQXBwIC0tPgogICAgICAgICAgICA8ZGl2IGlkPSJhcHBDb250ZW50IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGFzaGJvYXJkIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzaWRlYmFyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJzaWRlYmFyLW1lbnUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9IiMiIGNsYXNzPSJhY3RpdmUiIGlkPSJtZW51RGFzaGJvYXJkIj48aSBjbGFzcz0iZmFzIGZhLWhvbWUiPjwvaT4g2KfZhNix2KbZitiz2YrYqSA8L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIjIiBpZD0ibWVudUNyZWF0ZUV4YW0iPjxpIGNsYXNzPSJmYXMgZmEtcGx1cy1jaXJjbGUiPjwvaT4gICDYpdmG2LTYp9ihINin2YXYqtit2KfZhiA8L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iIyIgaWQ9Im1lbnVHcmFkZXMiPjxpIGNsYXNzPSJmYXMgZmEtc3RhciI+PC9pPiDYr9ix2K/YrNin2Kog2KfZhNin2YXYqtit2KfZhtin2Ko8L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIjIiBpZD0ibWVudU1hbmFnZVNlbGZUZXN0IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjxpIGNsYXNzPSJmYXMgZmEtYnJhaW4iPjwvaT4g2KXYr9in2LHYqSDZiNin2KzYqCA8L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIjIiBpZD0ibWVudVNlbGZUZXN0UmVzdWx0cyI+PGkgY2xhc3M9ImZhcyBmYS1jaGFydC1iYXIiPjwvaT4g2K/Ysdis2KfYqiDYp9mE2YjYp9is2KggPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iIyIgaWQ9Im1lbnVDcmVhdGVTbGlkZSI+PGkgY2xhc3M9ImZhcyBmYS1jaGFsa2JvYXJkLXRlYWNoZXIiPjwvaT4g2KXZhti02KfYoSDZhdmC2LHYsTwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGlkPSJsaVF1ZXN0aW9uQmFuayIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxhIGhyZWY9IiMiIGlkPSJtZW51UXVlc3Rpb25CYW5rIj48aSBjbGFzcz0iZmFzIGZhLWRhdGFiYXNlIj48L2k+INio2YbZgyDYp9mE2KPYs9im2YTYqTwvYT4KPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBpZD0ibGlTZW5kTm90aWZpY2F0aW9uIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgPGEgaHJlZj0iIyIgaWQ9Im1lbnVTZW5kTm90aWZpY2F0aW9uIj4KICAgIDxpIGNsYXNzPSJmYXMgZmEtYmVsbCI+PC9pPiDYpdix2LPYp9mEINil2LTYudin2LEKICA8L2E+CjwvbGk+CjwhLS0g2KPYttmBINmH2LDYpyDYp9mE2LLYsSDZgdmKINin2YTZgtin2KbZhdipINin2YTYrNin2YbYqNmK2Kkg2YXYuSDYqNmC2YrYqSDYudmG2KfYtdixINin2YTZgCBzaWRlYmFyLW1lbnUgLS0+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9IiMiIGlkPSJtZW51U3R1ZGVudHMiPjxpIGNsYXNzPSJmYXMgZmEtdXNlcnMiPjwvaT4g2KfZhNi32YTYp9ioPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgaWQ9Im1lbnVTdHVkZW50c1N0YXRpc3RpY3NMaSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxhIGhyZWY9IiMiIGlkPSJtZW51U3R1ZGVudHNTdGF0aXN0aWNzIj48aSBjbGFzcz0iZmFzIGZhLWNoYXJ0LWxpbmUiPjwvaT4g2KXYrdi12KfYptmK2KfYqiDYp9mE2LfZhNin2Kg8L2E+CjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iIyIgaWQ9Im1lbnVSZXN1bHRzIj48aSBjbGFzcz0iZmFzIGZhLWNoYXJ0LWJhciI+PC9pPiDYp9mE2YbYqtin2KbYrDwvYT48L2xpPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIjIiBpZD0ibWVudVByb2ZpbGUiPjxpIGNsYXNzPSJmYXMgZmEtdXNlciI+PC9pPiDYp9mE2YXZhNmBINin2YTYtNiu2LXZijwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9IiMiIGlkPSJtZW51Q2hhdCI+PGkgY2xhc3M9ImZhcyBmYS1jb21tZW50cyI+PC9pPiDYp9mE2YXYrdin2K/Yq9ipPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic2VsZlRlc3RQYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9InBhZ2UtdGl0bGUiPjxpIGNsYXNzPSJmYXMgZmEtYnJhaW4iPjwvaT4gINin2YTZiNin2KzYqNin2Kog2KfZhNmF2YbYstmE2YrZhyA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic2VsZlRlc3RDb250YWluZXIiIGNsYXNzPSJleGFtLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwcm9ncmVzc0JhckNvbnRhaW5lciIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwcm9ncmVzc0JhciIgc3R5bGU9IndpZHRoOiAwJTsgaGVpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjNGNhZjUwOyBib3JkZXItcmFkaXVzOiA1cHg7IHRyYW5zaXRpb246IHdpZHRoIDAuM3M7IHRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6IHdoaXRlOyBsaW5lLWhlaWdodDogMjBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwJQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzZWxmVGVzdFF1ZXN0aW9uIiBjbGFzcz0icXVlc3Rpb24tY2FyZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSDYs9mK2KrZhSDYqtit2YXZitmEINin2YTYs9ik2KfZhCDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImZlZWRiYWNrQ29udGFpbmVyIiBjbGFzcz0iZmVlZGJhY2stY29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2KfZhNiq2LrYsNmK2Kkg2KfZhNix2KfYrNi52Kkg2KrYuNmH2LEg2YfZhtinIC0tPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtLWZvb3RlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0icHJldlNlbGZUZXN0UXVlc3Rpb25CdG4iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+2KfZhNiz2KfYqNmCPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIGlkPSJleGl0U2VsZlRlc3RCdG4iIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij7Yp9mE2K7YsdmI2Kw8L2J1dHRvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0ibmV4dFNlbGZUZXN0UXVlc3Rpb25CdG4iPtin2YTYqtin2YTZgNmA2YDZgNmKPC9idXR0b24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9ImZpbmlzaFNlbGZUZXN0QnRuIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPtil2YbZh9in2KEg2KfZhNin2K7Yqtio2KfYsTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImRlbGV0ZVNlbGZUZXN0TW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9Im1vZGFsLXRpdGxlIj7Yqtij2YPZitivINin2YTYrdiw2YE8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiPtmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINit2LDZgSDZh9iw2Kcg2KfZhNin2K7Yqtio2KfYsdifPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlybURlbGV0ZVNlbGZUZXN0QnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtit2LDZgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNhbmNlbERlbGV0ZVNlbGZUZXN0QnRuIiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudC1hcmVhIj4KICAgICAgICAgICAgICAgICAgICAgIDwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KPGRpdiBpZD0iY2hhdFBhZ2UiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICA8aDIgY2xhc3M9InBhZ2UtdGl0bGUiPjxpIGNsYXNzPSIiPjwvaT4g2KrYrdmA2K/YqyDZhdi5INin2YTYo9iu2YDYsdmK2YDZgNmGIDwvaDI+CiAgPGRpdiBpZD0iY2hhdE1lc3NhZ2VzIiBzdHlsZT0iYmFja2dyb3VuZDojZjhmOWZhO2JvcmRlci1yYWRpdXM6MTJweDttaW4taGVpZ2h0OjIyMHB4O21heC1oZWlnaHQ6MzUwcHg7b3ZlcmZsb3cteTphdXRvO3BhZGRpbmc6MThweDttYXJnaW4tYm90dG9tOjE1cHg7Ym94LXNoYWRvdzowIDJweCA4cHggIzBhNzBmZjExOyI+PC9kaXY+CiAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDoxMHB4OyI+CiAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImNoYXRJbnB1dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Itin2YPYqtioINix2LPYp9mE2KrZgyDZh9mG2KcuLi4iIHN0eWxlPSJmbGV4OjE7Ij4KICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9InNlbmRDaGF0QnRuIj48aSBjbGFzcz0iZmFzIGZhLXBhcGVyLXBsYW5lIj48L2k+INil2LHYs9in2YQ8L2J1dHRvbj4KICA8L2Rpdj4KICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNmC2LPZhSDYo9iz2YHZhCDYtdmG2K/ZiNmCINil2K/Yrtin2YQg2KfZhNmF2K3Yp9iv2KvYqSDZhdio2KfYtNix2Kkg2YHZiiDZgtiz2YUg2KfZhNmF2K3Yp9iv2KvYqSAoY2hhdFBhZ2UpIC0tPgo8IS0tINin2K3YsNmBINij2Ygg2LnZhNmR2YIg2YfYsNinINin2YTZgtiz2YUg2YXZhiDYtdmB2K3YqSDYp9mE2YXYrdin2K/Yq9ipINmE2KXYstin2YTYqSDYstixINin2YTYqtiz2KzZitmEINin2YTYtdmI2KrZiiDYqNin2YTZg9in2YXZhCAtLT4KPCEtLQo8ZGl2IGlkPSJjaGF0UmVjb3JkQ29udGFpbmVyIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4O2Rpc3BsYXk6ZmxleDtnYXA6MTBweDthbGlnbi1pdGVtczpjZW50ZXI7Ij4KICA8YnV0dG9uIGlkPSJzdGFydFJlY29yZEJ0biIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgdGl0bGU9Itiq2LPYrNmK2YQg2LXZiNiq2YoiPjxpIGNsYXNzPSJmYXMgZmEtbWljcm9waG9uZSI+PC9pPiDYqtiz2KzZitmEPC9idXR0b24+CiAgPGJ1dHRvbiBpZD0ic3RvcFJlY29yZEJ0biIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBzdHlsZT0iZGlzcGxheTpub25lOyIgdGl0bGU9Itil2YrZgtin2YEg2KfZhNiq2LPYrNmK2YQiPjxpIGNsYXNzPSJmYXMgZmEtc3RvcCI+PC9pPiDYpdmK2YLYp9mBPC9idXR0b24+CiAgPGF1ZGlvIGlkPSJyZWNvcmRlZEF1ZGlvUHJldmlldyIgY29udHJvbHMgc3R5bGU9ImRpc3BsYXk6bm9uZTttYXgtd2lkdGg6MjIwcHg7Ij48L2F1ZGlvPgogIDxidXR0b24gaWQ9InNlbmRSZWNvcmRCdG4iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48aSBjbGFzcz0iZmFzIGZhLXBhcGVyLXBsYW5lIj48L2k+INil2LHYs9in2YQg2KfZhNiq2LPYrNmK2YQ8L2J1dHRvbj4KPC9kaXY+Ci0tPgogIDwhLS0g2LLYsSDYrdiw2YEg2YPZhCDYp9mE2YXYrdin2K/Yq9ipINmK2LjZh9ixINmE2YTZhdi52YTZhSDZgdmC2Lcg2YHZiiDYp9mE2KPYs9mB2YQgLS0+CiAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIGlkPSJkZWxldGVBbGxDaGF0QnRuIiBzdHlsZT0iZGlzcGxheTpub25lO3dpZHRoOjEwMCU7bWFyZ2luLXRvcDoxOHB4OyI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDZg9mEINin2YTZhdit2KfYr9ir2KkKICA8L2J1dHRvbj4KPC9kaXY+CjwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KPCEtLSDYtti5INmH2LDYpyDYp9mE2YLYs9mFINmB2Yog2KfZhNmF2YPYp9mGINin2YTZhdmG2KfYs9ioINiv2KfYrtmEIGNvbnRlbnQtYXJlYSDYo9mIINio2LnYryA8ZGl2IGNsYXNzPSJjb250ZW50LWFyZWEiPiAtLT4KPGRpdiBpZD0ic2VsZlRlc3RSZXN1bHRzUGFnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgIDxkaXYgY2xhc3M9InJlc3VsdHMtY29udGFpbmVyIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBhNzBmZiA2MCUsICMwYTcwZmYgMTAwJSk7IGNvbG9yOiAjZmZmOyBib3JkZXItcmFkaXVzOiAxOHB4OyBib3gtc2hhZG93OiAwIDRweCAyNHB4IHJnYmEoMTAsMTEyLDI1NSwwLjA4KTsgcGFkZGluZzogMzVweCAyNXB4IDI1cHggMjVweDsgdGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgPGgyIHN0eWxlPSJmb250LXNpemU6Mi4ycmVtOyBtYXJnaW4tYm90dG9tOiAxMHB4OyBmb250LXdlaWdodDogYm9sZDsiPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoYXJ0LWJhciI+PC9pPiDYr9ix2KzYp9iqINin2YTZiNin2KzYqNin2Kog2KfZhNmF2YbYstmE2YrZhyAgCiAgICAgICAgPC9oMj4KICAgICAgIAogICAgPC9kaXY+CiAgICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNiy2LEg2YHZiNmCINis2K/ZiNmEINiv2LHYrNin2Kog2KfZhNmI2KfYrNioINmB2Yog2YLYs9mFIHNlbGZUZXN0UmVzdWx0c1BhZ2UgLS0+CjxidXR0b24gaWQ9ImRvd25sb2FkU2VsZlRlc3RHcmFkZXNCdG4iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE1cHg7ZGlzcGxheTpub25lOyI+CiAgPGkgY2xhc3M9ImZhcyBmYS1kb3dubG9hZCI+PC9pPiDYqtmG2LLZitmEINin2YTYr9ix2KzYp9iqIFBERiAvINi12YjYsdipCjwvYnV0dG9uPgo8YnI+CiAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgaWQ9ImRlbGV0ZUFsbFNlbGZUZXN0UmVzdWx0c0J0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7Ij4KICAgIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINis2YXZiti5INin2YTZhtiq2KfYptisCjwvYnV0dG9uPgogICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2ZmZjsgYm9yZGVyLXJhZGl1czogMTJweDsgYm94LXNoYWRvdzogMCAycHggMTBweCByZ2JhKDEwLDExMiwyNTUsMC4wNyk7IHBhZGRpbmc6IDIwcHg7Ij4KICAgICAgICA8dGFibGUgY2xhc3M9ImdyYWRlcy10YWJsZSIgc3R5bGU9Im1hcmdpbi1ib3R0b206MDsiPgogICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgPHRoPtin2LPZhSDYp9mE2LfYp9mE2Kg8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aD7YudmG2YjYp9mGINin2YTYp9iu2KrYqNin2LE8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2K/Ysdis2Kkg2KfZhNmF2K3YtdmE2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YbYs9io2Kkg2KfZhNmF2KbZiNmK2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2KrYp9ix2YrYrjwvdGg+CiAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICA8dGJvZHkgaWQ9InNlbGZUZXN0UmVzdWx0c1RhYmxlIj4KICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2KrYrdmF2YrZhCDYp9mE2YbYqtin2KbYrCDZh9mG2KcgLS0+CiAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgPC90YWJsZT4KICAgIDwvZGl2Pgo8L2Rpdj4KCgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIERhc2hib2FyZCAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGFzaGJvYXJkUGFnZSI+Cjxicj48YnI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS1jbGlwYm9hcmQtbGlzdCI+PC9pPiDYp9mE2KfYrtiq2KjYp9ix2KfYqjwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhhbXMtY29udGFpbmVyIj4KCgogICAgPGRpdiBjbGFzcz0iZXhhbXMtZ3JpZCIgaWQ9InJlY2VudEV4YW1zIj4KICAgICAgICA8IS0tINiz2YrYqtmFINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2Kog2YfZhtinIC0tPgogICAgPC9kaXY+CiAgICAKPC9kaXY+ICAgICAgICAgICAgICAgICAKPGJyPjxicj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzZWxmVGVzdHNEYXNoYm9hcmQiIHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPSJwYWdlLXRpdGxlIj48aSBjbGFzcz0iZmFzIGZhLWJyYWluIj48L2k+ICDYp9mE2YjYp9is2KjYp9iqINin2YTZhdmG2LLZhNmK2Yc8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtcy1jb250YWluZXIiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4gPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtcy1ncmlkIiBpZD0ic2VsZlRlc3RzR3JpZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2KrYrdmF2YrZhCDYp9iu2KrYqNin2LHYp9iqICLYp9iu2KrYqNixINmG2YHYs9mDIiDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzbGlkZXNDb250YWluZXIiIHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyIgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7IiBzdHlsZT0ibWFyZ2luLXRvcDogMzBweDsiIHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS1jaGFsa2JvYXJkLXRlYWNoZXIiPjwvaT4g2KfZhNmF2YLYsdix2KfYqjwvaDM+CiAgICA8cD4gICA8L3A+IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtcy1jb250YWluZXIiPgoKIDxkaXYgY2xhc3M9ImV4YW1zLWdyaWQiIGlkPSJzbGlkZXNHcmlkIj4KICAgICAgICA8IS0tINin2YTYtNix2KfYptitINiz2YrYqtmFINiq2K3ZhdmK2YTZh9inINmH2YbYpyAtLT4KICAgIDwvZGl2Pgo8L2Rpdj4KPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0ZWFjaGVyRGFzaGJvYXJkIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0icGFnZS10aXRsZSIgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7Ij48aSBjbGFzcz0iZmFzIGZhLWNoYXJ0LWxpbmUiPjwvaT4g2KXYrdi12KfYptmK2KfYqiDYp9mE2LfZhNin2Kg8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LLYsSDYqtmB2KfYtdmK2YQg2KfZhNi32YTYp9ioINit2LPYqCDYp9mE2YXYs9iq2YjZiSAo2YTZhNmF2LnZhNmFINmB2YLYtykgLS0+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByZ3Jlc2hhcnQiIGlkPSJzdHVkZW50c1Byb2dyZXNzQ2hhcnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFByb2dyZXNzIGNoYXJ0IHdpbGwgYmUgbG9hZGVkIGhlcmUgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InN0dWRlbnRzU3RhdGlzdGljc1BhZ2UiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICA8aDIgY2xhc3M9InBhZ2UtdGl0bGUiPjxpIGNsYXNzPSJmYXMgZmEtY2hhcnQtbGluZSI+PC9pPiDYpdit2LXYp9im2YrYp9iqINin2YTYt9mE2KfYqDwvaDI+CiAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTozMHB4OyI+CiAgICA8Y2FudmFzIGlkPSJleGFtQXZlcmFnZUNoYXJ0IiBoZWlnaHQ9IjEyMCI+PC9jYW52YXM+CiAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjE4cHg7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMGE3MGZmOyI+2YXYqtmI2LPYtyDYr9ix2KzYp9iqINin2YTYt9mE2KfYqCDZgdmKINmD2YQg2KfZhdiq2K3Yp9mGPC9kaXY+CiAgPC9kaXY+CiAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTozMHB4OyI+CiAgICA8Y2FudmFzIGlkPSJzdHVkZW50R2VuZXJhbENoYXJ0IiBoZWlnaHQ9IjEyMCI+PC9jYW52YXM+CiAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjE4cHg7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMTRlZTg4OyI+2KfZhNmF2LPYqtmI2Ykg2KfZhNi52KfZhSDZhNmD2YQg2LfYp9mE2Kg8L2Rpdj4KICA8L2Rpdj4KICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjMwcHg7Ij4KICAgIDxjYW52YXMgaWQ9InN0dWRlbnRzQ29tcGFyZUNoYXJ0IiBoZWlnaHQ9IjEyMCI+PC9jYW52YXM+CiAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjE4cHg7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMGE3MGZmOyI+2YXZgtin2LHZhtipINmF2LPYqtmI2YrYp9iqINin2YTYt9mE2KfYqCDYqNio2LnYttmH2YUg2KfZhNio2LnYtjwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KPGRpdiBpZD0icXVlc3Rpb25CYW5rUGFnZSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxoMiBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS1kYXRhYmFzZSI+PC9pPiDYqNmG2YMg2KfZhNij2LPYptmE2Kk8L2gyPgogIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MThweDsiPgogICAgPGxhYmVsIGZvcj0icXVlc3Rpb25CYW5rQ2F0ZWdvcnkiIGNsYXNzPSJmb3JtLWxhYmVsIj7Yp9mE2YHYptipPC9sYWJlbD4KCiAgICA8c2VsZWN0IGlkPSJxdWVzdGlvbkJhbmtDYXRlZ29yeSIgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9Im1heC13aWR0aDozMDBweDtkaXNwbGF5OmlubGluZS1ibG9jazsiPjwvc2VsZWN0PgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIGlkPSJhZGRDYXRlZ29yeUJ0biIgc3R5bGU9Im1hcmdpbi1yaWdodDoxMHB4OyI+CiAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINmB2KbYqSDYrNiv2YrYr9ipCiAgICA8L2J1dHRvbj4KCiAgICA8YnI+PGJyPgogICAgPCEtLSDYp9is2YXYuSDZg9mEINij2LLYsdin2LEg2KfZhNit2LDZgSDZgdmKINit2KfZiNmK2Kkg2YjYp9it2K/YqSDZiNir2KjYqtmH2KcgLS0+CgogICAgPCEtLSDYtti5INin2YTYo9iy2LHYp9ixINin2YTYqtin2YTZitipINio2LnYryDZgtin2KbZhdipINin2YTZgdim2KfYqiDZgdmKINmC2LPZhSDYqNmG2YMg2KfZhNij2LPYptmE2KkgKNio2LnYryA8c2VsZWN0IGlkPSJxdWVzdGlvbkJhbmtDYXRlZ29yeSIgLi4uPikg2YjZgtio2YQg2KPZiCDYqNi52K8g2KPYstix2KfYsSDZhtiz2K4v2YbZgtmEINin2YTYo9iz2KbZhNipINit2LPYqCDYsdi62KjYqtmDIC0tPgoKPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTJweDsgZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyI+CiAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXdhcm5pbmciIGlkPSJlZGl0Q2F0ZWdvcnlCdG4iPgogICAgPGkgY2xhc3M9ImZhcyBmYS1lZGl0Ij48L2k+INiq2LnYr9mK2YQg2KfYs9mFINin2YTZgdim2KkKICA8L2J1dHRvbj4KICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9Im1vdmVDYXRlZ29yeUJ0biI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXJhbmRvbSI+PC9pPiDZhtmC2YQg2KfZhNmB2KbYqSDYpdmE2Ykg2YHYptipINij2K7YsdmJCiAgPC9idXR0b24+CjwvZGl2PgogICAgIAogICAgCiAgICA8IS0tIC4uLmV4aXN0aW5nIGNvZGUuLi4gLS0+CjwhLS0g2LbYuSDYp9mE2KPYstix2KfYsSDYp9mE2KrYp9mE2YrYqSDZhdio2KfYtNix2Kkg2KjYudivINmC2KfYptmF2Kkg2KfZhNmB2KbYp9iqINmB2Yog2YLYs9mFINio2YbZgyDYp9mE2KPYs9im2YTYqSAo2KjYudivIDxzZWxlY3QgaWQ9InF1ZXN0aW9uQmFua0NhdGVnb3J5IiAuLi4+KSAtLT4KCjxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEycHg7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsiPgogIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iY29weVF1ZXN0aW9uc0J0biI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLWNvcHkiPjwvaT4g2YbYs9iuINij2LPYptmE2Kkg2KXZhNmJINmB2KbYqSDYo9iu2LHZiQogIDwvYnV0dG9uPgogIDxicj48YnI+CiAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXdhcm5pbmciIGlkPSJtb3ZlUXVlc3Rpb25zQnRuIj4KICAgIDxpIGNsYXNzPSJmYXMgZmEtZXhjaGFuZ2UtYWx0Ij48L2k+INmG2YLZhCDYo9iz2KbZhNipINil2YTZiSDZgdim2Kkg2KPYrtix2YkKICA8L2J1dHRvbj4KPC9kaXY+CjwhLS0g2LbYuSDZh9iw2Kcg2KfZhNiy2LEg2KjYudivINmC2KfYptmF2Kkg2KfZhNmB2KbYp9iqINij2Ygg2YXYuSDYo9iy2LHYp9ixINio2YbZgyDYp9mE2KPYs9im2YTYqSDZgdmKINmC2LPZhSDYqNmG2YMg2KfZhNij2LPYptmE2KkgLS0+Cgo8IS0tIC4uLmV4aXN0aW5nIGNvZGUuLi4gLS0+CiAgICA8IS0tINij2LbZgSDZh9iw2Kcg2K/Yp9iu2YQg2YbYp9mB2LDYqSDYpdi22KfZgdipINin2YTZgdim2KkgLS0+CjwhLS0g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmB2Yog2KPZiiDZhdmD2KfZhiDYr9in2K7ZhCA8Ym9keT4gKNmK2YHYttmEINio2LnYryDZgtiz2YUg2KjZhtmDINin2YTYo9iz2KbZhNipINmF2KjYp9i02LHYqSkgLS0+CjxkaXYgaWQ9ImFkZENhdGVnb3J5TW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSI+2KXYttin2YHYqSDZgdim2Kkg2KzYr9mK2K/YqTwvaDM+CiAgICA8Zm9ybSBpZD0iYWRkQ2F0ZWdvcnlGb3JtIj4KICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPtin2LPZhSDYp9mE2YHYptipPC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImNhdGVnb3J5TmFtZUlucHV0IiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbD7Yp9mE2YHYptipINin2YTYsdim2YrYs9mK2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgPHNlbGVjdCBpZD0icGFyZW50Q2F0ZWdvcnlTZWxlY3QiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7YqNiv2YjZhiDZgdim2Kkg2LHYptmK2LPZitipPC9vcHRpb24+CiAgICAgICAgICA8IS0tINiz2YrYqtmFINiq2K3ZhdmK2YQg2KfZhNmB2KbYp9iqINin2YTYsdim2YrYs9mK2Kkg2YfZhtinIC0tPgogICAgICAgIDwvc2VsZWN0PgogICAgICA8L2Rpdj4KICAgICAgPCEtLSDYo9i22YEg2YfYsNinINin2YTYudmG2LXYsSDZgdmKINin2YTZhdmD2KfZhiDYp9mE2LDZiiDYqtix2YrYryDYudix2LYg2LTYrNix2Kkg2KfZhNmB2KbYp9iqINmB2YrZhyAo2YXYq9mE2KfZiyDYqtit2Kog2YLYp9im2YXYqSDYp9iu2KrZitin2LEg2KfZhNmB2KbYqSkgLS0+CiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIj7Ypdi22KfZgdipPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgaWQ9ImNhbmNlbEFkZENhdGVnb3J5QnRuIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgPC9mb3JtPgogIDwvZGl2Pgo8L2Rpdj4KICAgIDwhLS0g2KPYttmBINmH2LDYpyDYp9mE2LLYsSDYqtit2Kog2YLYp9im2YXYqSDYp9iu2KrZitin2LEg2KfZhNmB2KbYqSDZgdmKINio2YbZgyDYp9mE2KPYs9im2YTYqSAtLT4KPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgaWQ9ImRlbGV0ZUFsbFF1ZXN0aW9uc0luQ2F0ZWdvcnlCdG4iIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE1cHg7ZGlzcGxheTpibG9jazsiPgogIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINis2YXZiti5INij2LPYptmE2Kkg2KfZhNmB2KbYqSDYp9mE2YXYrdiv2K/YqQo8L2J1dHRvbj4KICA8L2Rpdj4KICA8YnI+PGJyPgogIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImFkZFF1ZXN0aW9uQmFua0J0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTVweDsiPgogICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2LPYpNin2YQg2KzYr9mK2K8KICA8L2J1dHRvbj4KICAKICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDYr9in2K7ZhCDZgtiz2YUg2KjZhtmDINin2YTYo9iz2KbZhNipICjYr9in2K7ZhCA8ZGl2IGlkPSJxdWVzdGlvbkJhbmtQYWdlIj4g2YHZiNmCINij2Ygg2KrYrdiqINiy2LEg2KXYttin2YHYqSDYs9ik2KfZhCDYrNiv2YrYrykgLS0+CjxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYnVsa1VwbG9hZFF1ZXN0aW9uQmFua0J0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTVweDsiPgogICAgPGkgY2xhc3M9ImZhcyBmYS11cGxvYWQiPjwvaT4g2LHZgdi5INij2LPYptmE2Kkg2KjZhtmDINin2YTYo9iz2KbZhNipIChDU1YvRXhjZWwpCiAgPC9idXR0b24+CiAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMnB4OyBkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXI7Ij4KICA8YnV0dG9uIGlkPSJleHBvcnRDYXRlZ29yeUV4Y2VsQnRuIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7Ij4KICAgIDxpIGNsYXNzPSJmYXMgZmEtZmlsZS1leHBvcnQiPjwvaT4g2KrYtdiv2YrYsSDYp9mE2YHYptipIEV4Y2VsCiAgPC9idXR0b24+CiAgPGJ1dHRvbiBpZD0iaW1wb3J0Q2F0ZWdvcnlFeGNlbEJ0biIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrOyI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLWZpbGUtaW1wb3J0Ij48L2k+INin2LPYqtmK2LHYp9ivIEV4Y2VsINil2YTZiSDZh9iw2Ycg2KfZhNmB2KbYqQogIDwvYnV0dG9uPgogIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0icXVlc3Rpb25CYW5rQ2F0ZWdvcnlJbXBvcnRJbnB1dCIgYWNjZXB0PSIuY3N2LC54bHN4LC54bHMiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KPC9kaXY+CiAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJidWxrVXBsb2FkUXVlc3Rpb25CYW5rSW5wdXQiIGFjY2VwdD0iLmNzdiwueGxzeCwueGxzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogIDxzbWFsbCBjbGFzcz0idGV4dC1tdXRlZCI+2YrZhdmD2YbZgyDYsdmB2Lkg2YXZhNmBINmK2K3YqtmI2Yog2LnZhNmJINis2YXZiti5INin2YTYo9iz2KbZhNipINiv2YHYudipINmI2KfYrdiv2Kk8L3NtYWxsPgo8L2Rpdj4KICA8ZGl2IGlkPSJxdWVzdGlvbkJhbmtDb250YWluZXIiPjwvZGl2Pgo8L2Rpdj4KPGRpdiBpZD0iYWRkUXVlc3Rpb25CYW5rTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSI+2KXYttin2YHYqSDYs9ik2KfZhCDZhNio2YbZgyDYp9mE2KPYs9im2YTYqTwvaDM+CiAgICA8Zm9ybSBpZD0iYWRkUXVlc3Rpb25CYW5rRm9ybSI+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbD7Zhti1INin2YTYs9ik2KfZhDwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJxdWVzdGlvbkJhbmtUZXh0IiByZXF1aXJlZD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9ImNhdGVnb3JpZXNUcmVlQ29udGFpbmVyIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPtin2YTYrtmK2KfYsdin2Ko8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0ib3B0aW9uMSIgcGxhY2Vob2xkZXI9Itin2YTYrtmK2KfYsSAxIiByZXF1aXJlZD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgaWQ9Im9wdGlvbjIiIHBsYWNlaG9sZGVyPSLYp9mE2K7Zitin2LEgMiIgcmVxdWlyZWQ+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJvcHRpb24zIiBwbGFjZWhvbGRlcj0i2KfZhNiu2YrYp9ixIDMiPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0ib3B0aW9uNCIgcGxhY2Vob2xkZXI9Itin2YTYrtmK2KfYsSA0Ij4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbD7YsdmC2YUg2KfZhNil2KzYp9io2Kkg2KfZhNi12K3Zitit2KkgKDEtNCk8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJjb3JyZWN0T3B0aW9uIiBtaW49IjEiIG1heD0iNCIgcmVxdWlyZWQ+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWw+2LHYp9io2Lcg2LXZiNix2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgcXVlc3Rpb24taW1hZ2UtdXJsIiBpZD0icXVlc3Rpb25CYW5rSW1hZ2VVcmwiPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPtin2YTZgdim2Kk8L2xhYmVsPgogICAgICAgIDxzZWxlY3QgaWQ9InF1ZXN0aW9uQmFua0NhdGVnb3J5QWRkIiBjbGFzcz0iZm9ybS1jb250cm9sIj48L3NlbGVjdD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIj7YrdmB2Lg8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBpZD0iY2FuY2VsQWRkUXVlc3Rpb25CYW5rQnRuIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgPC9mb3JtPgogIDwvZGl2Pgo8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBFeGFtcyBMaXN0IC0tPgogICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibWFuYWdlU2VsZlRlc3RQYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJwYWdlLXRpdGxlIj48aSBjbGFzcz0iZmFzIGZhLWJyYWluIj48L2k+ICAg2KfYr9in2LHYqSDYp9mE2YjYp9is2KjYp9iqINin2YTZhdmG2LLZhNmK2Yc8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic2VsZlRlc3RDcmVhdGlvblN1Y2Nlc3MiIGNsYXNzPSJhbGVydCBhbGVydC1zdWNjZXNzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hlY2stY2lyY2xlIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+2KrZhSDYpdmG2LTYp9ihINin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSE8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIGlkPSJzZWxmVGVzdEZvcm0iIGNsYXNzPSJleGFtLWZvcm0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJzZWxmVGVzdFRpdGxlIiBjbGFzcz0iZm9ybS1sYWJlbCI+2LnZhtmI2KfZhiDYp9mE2KfYrtiq2KjYp9ixPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzZWxmVGVzdFRpdGxlIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIDEuINij2LbZgSDYrdmC2YQg2KfYrtiq2YrYp9ixINin2YTZhdix2K3ZhNipINin2YTYr9ix2KfYs9mK2Kkg2YHZiiDZhtmF2YjYsNisINil2YbYtNin2KEg2KfZhNin2YXYqtit2KfZhiAtLT4KPCEtLSDYr9in2K7ZhCA8Zm9ybSBpZD0iZXhhbUZvcm0iIGNsYXNzPSJleGFtLWZvcm0iPiDYqNi52K8g2KPZiCDZgtio2YQg2KPZiiDYrdmC2YQg2YXZhtin2LPYqCAtLT4KCgo8IS0tIDIuINij2LbZgSDYrdmC2YQg2KfYrtiq2YrYp9ixINin2YTZhdix2K3ZhNipINin2YTYr9ix2KfYs9mK2Kkg2YHZiiDZhtmF2YjYsNisINil2YbYtNin2KEg2KfZhNmI2KfYrNioINin2YTZhdmG2LLZhNmKIC0tPgo8IS0tINiv2KfYrtmEIDxmb3JtIGlkPSJzZWxmVGVzdEZvcm0iIGNsYXNzPSJleGFtLWZvcm0iPiDYqNi52K8g2KPZiCDZgtio2YQg2KPZiiDYrdmC2YQg2YXZhtin2LPYqCAtLT4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgPGxhYmVsIGZvcj0ic2VsZlRlc3RZZWFyIiBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqTwvbGFiZWw+CiAgPHNlbGVjdCBpZD0ic2VsZlRlc3RZZWFyIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqTwvb3B0aW9uPgogICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNij2YjZhNmJINir2KfZhtmI2YoiPtin2YTYo9mI2YTZiSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKIj7Yp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mE2KvYqSDYq9in2YbZiNmKIj7Yp9mE2KvYp9mE2KvYqSDYq9in2YbZiNmKPC9vcHRpb24+CiAgPC9zZWxlY3Q+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICA8bGFiZWwgZm9yPSJzZWxmVGVzdFRlcm0iIGNsYXNzPSJmb3JtLWxhYmVsIj7Yp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9sYWJlbD4KICA8c2VsZWN0IGlkPSJzZWxmVGVzdFRlcm0iIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHJlcXVpcmVkPgogICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9vcHRpb24+CiAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KPZiNmEIj7Yqtix2YUg2KPZiNmEPC9vcHRpb24+CiAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mG2YoiPtiq2LHZhSDYq9in2YbZijwvb3B0aW9uPgogIDwvc2VsZWN0Pgo8L2Rpdj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJzZWxmVGVzdERlc2NyaXB0aW9uIiBjbGFzcz0iZm9ybS1sYWJlbCI+2YjYtdmBINin2YTYp9iu2KrYqNin2LE8L2xhYmVsPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJzZWxmVGVzdERlc2NyaXB0aW9uIiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2YjYtdmB2YvYpyDZhNmE2KfYrtiq2KjYp9ixIj48L3RleHRhcmVhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciIgc3R5bGU9IgogICAgd2lkdGg6IDEwMCU7CiAgICBtYXgtd2lkdGg6IDkwMHB4OwogICAgbWFyZ2luOiAwIGF1dG8gMjRweCBhdXRvOwogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZjlmYSA4MCUsICNlM2YwZmYgMTAwJSk7CiAgICBib3JkZXItcmFkaXVzOiAxNnB4OwogICAgYm94LXNoYWRvdzogMCA0cHggMThweCByZ2JhKDEwLDExMiwyNTUsMC4wOCk7CiAgICBwYWRkaW5nOiAyOHB4IDE4cHggMTJweCAxOHB4OwogICAgYm9yZGVyOiAycHggZGFzaGVkICMwYTcwZmY0NDsKICAgIG1pbi1oZWlnaHQ6IDYwcHg7CiAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnM7CiAgICBkaXNwbGF5OiBibG9jazsKIj4KICAgIDwhLS0g2LPZitiq2YUg2KXYttin2YHYqSDYp9mE2KPYs9im2YTYqSDZh9mG2KcgLS0+CjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYWRkU2VsZlRlc3RRdWVzdGlvbkJ0biI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINiz2KTYp9mECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+Cjxicj48YnI+CjwhLS0g2KPYttmBINmH2LDYpyDYp9mE2LLYsSDYr9in2K7ZhCA8Zm9ybSBpZD0ic2VsZlRlc3RGb3JtIiAuLi4+INmB2Yog2YLYs9mFINil2K/Yp9ix2Kkg2KfZhNmI2KfYrNioIC0tPgo8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9ImltcG9ydEZyb21RdWVzdGlvbkJhbmtTZWxmVGVzdEJ0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTVweDsiPgogIDxpIGNsYXNzPSJmYXMgZmEtZGF0YWJhc2UiPjwvaT4g2KfYs9iq2YrYsdin2K8g2YXZhiDYqNmG2YMg2KfZhNij2LPYptmE2KkKPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPjxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJidWxrVXBsb2FkU2VsZlRlc3RCdG4iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS11cGxvYWQiPjwvaT4g2LHZgdi5INij2LPYptmE2KkgIiDYp9mE2YjYp9is2KgiIChDU1YvRXhjZWwpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImJ1bGtVcGxvYWRTZWxmVGVzdElucHV0IiBhY2NlcHQ9Ii5jc3YsLnhsc3gsLnhscyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJ0ZXh0LW11dGVkIj7ZitmF2YPZhtmDINix2YHYuSDZhdmE2YEg2YrYrdiq2YjZiiDYudmE2Ykg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2K/Zgdi52Kkg2YjYp9it2K/YqTwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTJweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1zYXZlIj48L2k+INit2YHYuCDYp9mE2KfYrtiq2KjYp9ixCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+IDxicj4gPGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2KPYstix2KfYsSDYp9mE2KrYrdiv2YrYryDYp9mE2LPYsdmK2Lkg2K3Ys9ioINin2YTYsdmC2YUg2YHZiiDYp9mE2KfYs9mFIC0tPgo8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjEwcHg7ZGlzcGxheTpmbGV4O2dhcDo4cHg7Ij4KICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgb25jbGljaz0ic2VsZWN0U3R1ZGVudHNCeU51bWJlcignYWxsb3dlZFNlbGZUZXN0U3R1ZGVudHMnLCAnMScpIj4gIDE8L2J1dHRvbj4KICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgb25jbGljaz0ic2VsZWN0U3R1ZGVudHNCeU51bWJlcignYWxsb3dlZFNlbGZUZXN0U3R1ZGVudHMnLCAnMicpIj4gICAyPC9idXR0b24+CiAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIG9uY2xpY2s9InNlbGVjdFN0dWRlbnRzQnlOdW1iZXIoJ2FsbG93ZWRTZWxmVGVzdFN0dWRlbnRzJywgJzMnKSI+ICAzPC9idXR0b24+CjwvZGl2PgogICAgPGxhYmVsIGZvcj0iYWxsb3dlZFNlbGZUZXN0U3R1ZGVudHMiIGNsYXNzPSJmb3JtLWxhYmVsIj7Yp9mE2LfZhNin2Kgg2KfZhNmF2LPZhdmI2K0g2YTZh9mFINio2LHYpNmK2Kkg2KfZhNin2K7Yqtio2KfYsTwvbGFiZWw+CiAgICA8c2VsZWN0IGlkPSJhbGxvd2VkU2VsZlRlc3RTdHVkZW50cyIgY2xhc3M9ImZvcm0tY29udHJvbCIgbXVsdGlwbGU+CiAgICAgICAgPCEtLSDYs9mK2KrZhSDYqtit2YXZitmEINmC2KfYptmF2Kkg2KfZhNi32YTYp9ioINmH2YbYpyAtLT4KICAgIDwvc2VsZWN0PgogICAgPHNtYWxsIGNsYXNzPSJ0ZXh0LW11dGVkIj7Yp9iq2LHZgyDZh9iw2Kcg2KfZhNit2YLZhCDZgdin2LHYutmL2Kcg2KXYsNinINmD2YbYqiDYqtix2YrYryDYo9mGINmK2YPZiNmGINin2YTYp9iu2KrYqNin2LEg2YXYqtin2K3Zi9inINmE2KzZhdmK2Lkg2KfZhNi32YTYp9ioLjwvc21hbGw+CjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIENyZWF0ZSBFeGFtIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjcmVhdGVFeGFtUGFnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS1wbHVzLWNpcmNsZSI+PC9pPiDYpdmG2LTYp9ihINin2K7Yqtio2KfYsSDYrNiv2YrYrzwvaDI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJleGFtQ3JlYXRpb25TdWNjZXNzIiBjbGFzcz0iYWxlcnQgYWxlcnQtc3VjY2VzcyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoZWNrLWNpcmNsZSI+PC9pPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPtiq2YUg2KXZhti02KfYoSDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD0iZXhhbUZvcm0iIGNsYXNzPSJleGFtLWZvcm0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJleGFtVGl0bGUiIGNsYXNzPSJmb3JtLWxhYmVsIj7YudmG2YjYp9mGINin2YTYp9iu2KrYqNin2LE8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImV4YW1UaXRsZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImV4YW1EZXNjcmlwdGlvbiIgY2xhc3M9ImZvcm0tbGFiZWwiPtmI2LXZgSDYp9mE2KfYrtiq2KjYp9ixPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJleGFtRGVzY3JpcHRpb24iIGNsYXNzPSJmb3JtLWNvbnRyb2wiPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgPGxhYmVsIGZvcj0iZXhhbVllYXIiIGNsYXNzPSJmb3JtLWxhYmVsIj7Yp9mE2YXYsdit2YTYqSDYp9mE2K/Ysdin2LPZitipPC9sYWJlbD4KICA8c2VsZWN0IGlkPSJleGFtWWVhciIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+CiAgICA8b3B0aW9uIHZhbHVlPSIiPtin2K7YqtixINin2YTZhdix2K3ZhNipINin2YTYr9ix2KfYs9mK2Kk8L29wdGlvbj4KICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YTZiSDYq9in2YbZiNmKIj7Yp9mE2KPZiNmE2Ykg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogIDwvc2VsZWN0Pgo8L2Rpdj4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgPGxhYmVsIGZvcj0iZXhhbVRlcm0iIGNsYXNzPSJmb3JtLWxhYmVsIj7Yp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9sYWJlbD4KICA8c2VsZWN0IGlkPSJleGFtVGVybSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+CiAgICA8b3B0aW9uIHZhbHVlPSIiPtin2K7YqtixINin2YTYqtix2YUg2KfZhNiv2LHYp9iz2Yo8L29wdGlvbj4KICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YQiPtiq2LHZhSDYo9mI2YQ8L29wdGlvbj4KICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YbZiiI+2KrYsdmFINir2KfZhtmKPC9vcHRpb24+CiAgPC9zZWxlY3Q+CjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJleGFtRHVyYXRpb24iIGNsYXNzPSJmb3JtLWxhYmVsIj7Zhdiv2Kkg2KfZhNin2K7Yqtio2KfYsSAo2K/Zgtin2KbZgik8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0iZXhhbUR1cmF0aW9uIiBjbGFzcz0iZm9ybS1jb250cm9sIiBtaW49IjEiIHZhbHVlPSIzMCIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJleGFtVG90YWxNYXJrcyIgY2xhc3M9ImZvcm0tbGFiZWwiPtin2YTYr9ix2KzYqSDYp9mE2YPZhNmK2Kkg2YTZhNin2K7Yqtio2KfYsTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJleGFtVG90YWxNYXJrcyIgY2xhc3M9ImZvcm0tY29udHJvbCIgbWluPSIxIiB2YWx1ZT0iMTAwIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tINij2LbZgSDZh9iw2Ycg2KfZhNit2YLZiNmEINiv2KfYrtmEIDxmb3JtIGlkPSJleGFtRm9ybSIgY2xhc3M9ImV4YW0tZm9ybSI+INmC2KjZhCDYo9mIINio2LnYryDZhdiv2Kkg2KfZhNin2K7Yqtio2KfYsSAtLT4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICA8bGFiZWwgZm9yPSJleGFtU3RhcnRUaW1lIiBjbGFzcz0iZm9ybS1sYWJlbCI+2YjZgtiqINio2K/Yp9mK2Kkg2KfZhNin2K7Yqtio2KfYsSAo2KrZiNmC2YrYqiDYudin2YTZhdmKIFVUQyk8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9ImRhdGV0aW1lLWxvY2FsIiBpZD0iZXhhbVN0YXJ0VGltZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgPgo8L2Rpdj4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICA8bGFiZWwgZm9yPSJleGFtRW5kVGltZSIgY2xhc3M9ImZvcm0tbGFiZWwiPtmI2YLYqiDZhtmH2KfZitipINin2YTYp9iu2KrYqNin2LEgKNiq2YjZgtmK2Kog2LnYp9mE2YXZiiBVVEMpPC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSJkYXRldGltZS1sb2NhbCIgaWQ9ImV4YW1FbmRUaW1lIiBjbGFzcz0iZm9ybS1jb250cm9sIiA+CjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InF1ZXN0aW9uc0NvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gUXVlc3Rpb25zIHdpbGwgYmUgYWRkZWQgaGVyZSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImFkZFF1ZXN0aW9uQnRuIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2LPYpNin2YQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0iaW1wb3J0RnJvbVF1ZXN0aW9uQmFua0J0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTVweDsiPgogIDxpIGNsYXNzPSJmYXMgZmEtZGF0YWJhc2UiPjwvaT4g2KfYs9iq2YrYsdin2K8g2YXZhiDYqNmG2YMg2KfZhNij2LPYptmE2KkKPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImJ1bGtVcGxvYWRCdG4iPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdXBsb2FkIj48L2k+INix2YHYuSDYp9mF2KrYrdin2YYg2YPYp9mF2YQgKENTVi9FeGNlbCkKICAgIDwvYnV0dG9uPgogICAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJidWxrVXBsb2FkSW5wdXQiIGFjY2VwdD0iLmNzdiwueGxzeCwueGxzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgPHNtYWxsIGNsYXNzPSJ0ZXh0LW11dGVkIj7ZitmF2YPZhtmDINix2YHYuSDZhdmE2YEg2YrYrdiq2YjZiiDYudmE2Ykg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2K/Zgdi52Kkg2YjYp9it2K/YqTwvc21hbGw+CjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc2F2ZSI+PC9pPiDYrdmB2Lgg2KfZhNin2K7Yqtio2KfYsQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMHB4O2Rpc3BsYXk6ZmxleDtnYXA6OHB4OyI+CiAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIG9uY2xpY2s9InNlbGVjdFN0dWRlbnRzQnlOdW1iZXIoJ2FsbG93ZWRTdHVkZW50cycsICcxJykiPiAgMTwvYnV0dG9uPgogIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBvbmNsaWNrPSJzZWxlY3RTdHVkZW50c0J5TnVtYmVyKCdhbGxvd2VkU3R1ZGVudHMnLCAnMicpIj4gIDI8L2J1dHRvbj4KICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgb25jbGljaz0ic2VsZWN0U3R1ZGVudHNCeU51bWJlcignYWxsb3dlZFN0dWRlbnRzJywgJzMnKSI+ICAgIDM8L2J1dHRvbj4KPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYWxsb3dlZFN0dWRlbnRzIiBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNi32YTYp9ioINin2YTZhdiz2YXZiNitINmE2YfZhSDYqNix2KTZitipINin2YTYp9iu2KrYqNin2LE8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImFsbG93ZWRTdHVkZW50cyIgY2xhc3M9ImZvcm0tY29udHJvbCIgbXVsdGlwbGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2KrYrdmF2YrZhCDZgtin2KbZhdipINin2YTYt9mE2KfYqCDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJ0ZXh0LW11dGVkIj7Yp9iq2LHZgyDZh9iw2Kcg2KfZhNit2YLZhCDZgdin2LHYutmL2Kcg2KXYsNinINmD2YbYqiDYqtix2YrYryDYo9mGINmK2YPZiNmGINin2YTYp9iu2KrYqNin2LEg2YXYqtin2K3Zi9inINmE2KzZhdmK2Lkg2KfZhNi32YTYp9ioLjwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJkZWxldGVFeGFtTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiPtiq2KPZg9mK2K8g2KfZhNit2LDZgTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiPtmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINit2LDZgSDZh9iw2Kcg2KfZhNin2K7Yqtio2KfYsdifPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjb25maXJtRGVsZXRlQnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtit2LDZgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjYW5jZWxEZWxldGVCdG4iIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGVsZXRlU2xpZGVNb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSI+2KrYo9mD2YrYryDYp9mE2K3YsNmBPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibW9kYWwtbWVzc2FnZSI+2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2K3YsNmBINmH2LDYpyDYp9mE2YXZgtix2LHYnzwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1hY3Rpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlybURlbGV0ZVNsaWRlQnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtit2LDZgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjYW5jZWxEZWxldGVTbGlkZUJ0biIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0b2FzdE1lc3NhZ2UiIGNsYXNzPSJ0b2FzdC1tZXNzYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jaGVjay1jaXJjbGUiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ0b2FzdFRleHQiPtiq2YUg2K3YsNmBINin2YTZhdmC2LHYsSDYqNmG2KzYp9itITwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImltcG9ydFF1ZXN0aW9uc01vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjcwMHB4OyI+CiAgICA8aDMgY2xhc3M9Im1vZGFsLXRpdGxlIj7Yp9iz2KrZitix2KfYryDYo9iz2KbZhNipINmF2YYg2KjZhtmDINin2YTYo9iz2KbZhNipPC9oMz4KICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTVweDsiPgogICAgICA8bGFiZWw+2KfYrtiq2LEg2KfZhNmB2KbYqTo8L2xhYmVsPgogICAgICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDYo9i52YTZiSDYrNiv2YjZhCDYp9mE2KPYs9im2YTYqSDZgdmKINmG2KfZgdiw2Kkg2KfZhNin2LPYqtmK2LHYp9ivICjZgtio2YQgPHRhYmxlIC4uLj4pIC0tPgo8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjEwcHg7Ij4KICA8bGFiZWw+CiAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzZWxlY3RBbGxJbXBvcnRRdWVzdGlvbnMiPgogICAg2KrYrdiv2YrYryDYp9mE2YPZhAogIDwvbGFiZWw+CjwvZGl2PgogICAgICA8c2VsZWN0IGlkPSJpbXBvcnRCYW5rQ2F0ZWdvcnkiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHN0eWxlPSJtYXgtd2lkdGg6MzAwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7Ij48L3NlbGVjdD4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0iaW1wb3J0UXVlc3Rpb25zTGlzdCIgc3R5bGU9Im1heC1oZWlnaHQ6MzUwcHg7b3ZlcmZsb3cteTphdXRvO21hcmdpbi1ib3R0b206MTVweDsiPjwvZGl2PgogICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9ImFkZFNlbGVjdGVkUXVlc3Rpb25zQnRuIj7Ypdi22KfZgdipINmE2YTYo9iz2KbZhNipINin2YTZhdiu2KrYp9ix2Kk8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnRRdWVzdGlvbnNNb2RhbCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICA8L2Rpdj4KICA8L2Rpdj4KPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gQ3JlYXRlIFNsaWRlIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjcmVhdGVTbGlkZVBhZ2UiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9InBhZ2UtdGl0bGUiPjxpIGNsYXNzPSJmYXMgZmEtY2hhbGtib2FyZC10ZWFjaGVyIj48L2k+INil2YbYtNin2KEg2YXZgtix2LEg2KzYr9mK2K88L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic2xpZGVDcmVhdGlvblN1Y2Nlc3MiIGNsYXNzPSJhbGVydCBhbGVydC1zdWNjZXNzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hlY2stY2lyY2xlIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+2KrZhSDYpdmG2LTYp9ihINmF2YLYsdixINio2YbYrNin2K0hPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD0ic2xpZGVGb3JtIiBjbGFzcz0iZXhhbS1mb3JtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICA8bGFiZWwgZm9yPSJzbGlkZUltYWdlVXJsIiBjbGFzcz0iZm9ybS1sYWJlbCI+2LHYp9io2Lcg2LXZiNix2Kkg2KfZhNmF2YLYsdixICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzbGlkZUltYWdlVXJsIiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2LHYp9io2Lcg2KfZhNi12YjYsdipICjYp9iu2KrZitin2LHZiikiPgo8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ic2xpZGVUaXRsZSIgY2xhc3M9ImZvcm0tbGFiZWwiPti52YbZiNin2YYg2KfZhNmF2YLYsdixPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzbGlkZVRpdGxlIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtin2YTZgdi12YjZhDwvbGFiZWw+CiAgPGRpdiBpZD0iY2hhcHRlcnNDb250YWluZXIiPjwvZGl2PgogIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYWRkQ2hhcHRlckJ0biIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsiPgogICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2YHYtdmECiAgPC9idXR0b24+CjwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7Ij4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc2F2ZSI+PC9pPiDYrdmB2Lgg2KfZhNmF2YLYsdixCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZ3JhZGVzTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiPtiv2LHYrNin2Kog2KfZhNi32KfZhNioPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibW9kYWwtY2xvc2UiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFkZXNNb2RhbCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnIj4mdGltZXM7PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSIgaWQ9ImdyYWRlc01vZGFsQ29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2KrYrdmF2YrZhCDYp9mE2K/Ysdis2KfYqiDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZm9vdGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFkZXNNb2RhbCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnIj7Ypdi62YTYp9mCPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gVGFrZSBFeGFtIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0YWtlRXhhbVBhZ2UiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhhbS1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3M9ImV4YW0tdGl0bGUiIGlkPSJleGFtVmlld1RpdGxlIj7YudmG2YjYp9mGINin2YTYp9iu2KrYqNin2LE8L2gxPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtLW1ldGEiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PGkgY2xhc3M9ImZhcyBmYS1jbG9jayI+PC9pPiDYp9mE2YjZgtiqINin2YTZhdiq2KjZgtmKOiA8c3BhbiBpZD0idGltZVJlbWFpbmluZyI+MzA6MDA8L3NwYW4+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PGkgY2xhc3M9ImZhcyBmYS1xdWVzdGlvbi1jaXJjbGUiPjwvaT4g2KfZhNij2LPYptmE2Kk6IDxzcGFuIGlkPSJxdWVzdGlvbkNvdW50Ij4wPC9zcGFuPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjxpIGNsYXNzPSJmYXMgZmEtc3RhciI+PC9pPiDYp9mE2K/Ysdis2Kkg2KfZhNmD2YTZitipOiA8c3BhbiBpZD0idG90YWxNYXJrcyI+MTAwPC9zcGFuPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImV4YW1RdWVzdGlvbnNDb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEV4YW0gcXVlc3Rpb25zIHdpbGwgYmUgbG9hZGVkIGhlcmUgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhhbS1mb290ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJwcmV2UXVlc3Rpb25CdG4iIGRpc2FibGVkPtin2YTYs9in2KjZgjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJuZXh0UXVlc3Rpb25CdG4iPtin2YTYqtin2YTZijwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIGlkPSJzdWJtaXRFeGFtQnRuIj7Yqtiz2YTZitmFINin2YTYp9iu2KrYqNin2LE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iY291cnNlc1BhZ2UiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9InBhZ2UtdGl0bGUiPjxpIGNsYXNzPSJmYXMgZmEtYm9vayI+PC9pPiDYp9mE2YXZgtix2LHYp9iqINin2YTYr9ix2KfYs9mK2Kk8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iY291cnNlc0NvbnRhaW5lciIgY2xhc3M9ImV4YW1zLWdyaWQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2KrYrdmF2YrZhCDYp9mE2YXZgtix2LHYp9iqINmH2YbYpyAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYWRkQ291cnNlQnRuIiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINmF2YLYsdixINiv2LHYp9iz2YoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImNvdXJzZURldGFpbHNQYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJwYWdlLXRpdGxlIj48aSBjbGFzcz0iZmFzIGZhLWluZm8tY2lyY2xlIj48L2k+INiq2YHYp9i12YrZhCDYp9mE2YXZgtix2LE8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iY291cnNlQ29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSDYs9mK2KrZhSDYqtit2YXZitmEINmF2K3YqtmI2Ykg2KfZhNmF2YLYsdixINmH2YbYpyAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYmFja1RvQ291cnNlc0J0biIgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7Ij7Yp9mE2LnZiNiv2Kkg2KXZhNmJINin2YTZhdmC2LHYsdin2Ko8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRXhhbSBSZXN1bHRzIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJyZXN1bHRzUGFnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJlc3VsdHMtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDI+2YbYqtmK2KzYqSDYp9mE2KfYrtiq2KjYp9ixPC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLXNjb3JlIiBpZD0iZmluYWxTY29yZSI+MCU8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLW1ldGEiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLW1ldGEtaXRlbSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLW1ldGEtdmFsdWUiIGlkPSJjb3JyZWN0QW5zd2VycyI+MDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj7Ypdis2KfYqNin2Kog2LXYrdmK2K3YqTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVzdWx0cy1tZXRhLWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVzdWx0cy1tZXRhLXZhbHVlIiBpZD0id3JvbmdBbnN3ZXJzIj4wPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2Ptil2KzYp9io2KfYqiDYrtin2LfYptipPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLW1ldGEtaXRlbSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLW1ldGEtdmFsdWUiIGlkPSJ0aW1lVGFrZW4iPjA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+2K/ZgtmK2YLYqTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVzdWx0cy1tZXRhLWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVzdWx0cy1tZXRhLXZhbHVlIiBpZD0ib2J0YWluZWRNYXJrcyI+MDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj7Yp9mE2K/Ysdis2Kkg2KfZhNmF2K3YtdmE2Kk8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYmFja1RvRXhhbXNCdG4iPtin2YTYudmI2K/YqSDYpdmE2Ykg2KfZhNin2K7Yqtio2KfYsdin2Ko8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLXF1ZXN0aW9ucyIgaWQ9InJlc3VsdHNEZXRhaWxzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBSZXN1bHRzIGRldGFpbHMgd2lsbCBiZSBsb2FkZWQgaGVyZSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0idG9hc3RDb250YWluZXIiIGNsYXNzPSJ0b2FzdC1jb250YWluZXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEdyYWRlcyBQYWdlIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJncmFkZXNQYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJwYWdlLXRpdGxlIj48aSBjbGFzcz0iZmFzIGZhLXN0YXIiPjwvaT4g2LPYrNmEINin2YTYr9ix2KzYp9iqPC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tINiy2LEg2K3YsNmBINin2YTZhtiq2KfYptisIC0tPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tINij2LbZgSDYp9mE2KPYstix2KfYsSDZgdmKINmC2LPZhSDYs9is2YQg2KfZhNiv2LHYrNin2KogKGdyYWRlc1BhZ2Up2Iwg2KrYrdiqINi52YbZiNin2YYg2KfZhNi12YHYrdipINmF2KjYp9i02LHYqSAtLT4KPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMThweDsiPgogIDwhLS0g2KPYttmBINmH2LDYpyDYp9mE2LLYsSDZgdmI2YIg2KzYr9mI2YQg2KfZhNiv2LHYrNin2Kog2YHZiiDZgtiz2YUg2LPYrNmEINin2YTYr9ix2KzYp9iqIChncmFkZXNQYWdlKSAtLT4KPGJ1dHRvbiBpZD0iZG93bmxvYWRFeGFtR3JhZGVzQnRuIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxNXB4O2Rpc3BsYXk6bm9uZTsiPgogIDxpIGNsYXNzPSJmYXMgZmEtZG93bmxvYWQiPjwvaT4g2KrZhtiy2YrZhCDYp9mE2K/Ysdis2KfYqiBQREYgLyDYtdmI2LHYqQo8L2J1dHRvbj4KICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgaWQ9ImRlbGV0ZUV4YW1HcmFkZXNCdG4iIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrOyI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYr9ix2KzYp9iqINin2K7Yqtio2KfYsSDZhdit2K/YrwogIDwvYnV0dG9uPgogIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBpZD0iZGVsZXRlQWxsU3R1ZGVudEdyYWRlc0J0biIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrOyI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYrNmF2YrYuSDYr9ix2KzYp9iqINin2YTYt9in2YTYqAogIDwvYnV0dG9uPgogIAo8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InN0dWRlbnRHcmFkZXNWaWV3Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+2K/Ysdis2KfYqtmKINmB2Yog2KfZhNin2K7Yqtio2KfYsdin2Ko8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz0iZ3JhZGVzLXRhYmxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9iz2YUg2KfZhNin2K7Yqtio2KfYsTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYqtin2LHZitiuPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNiv2LHYrNipINin2YTZhdit2LXZhNipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmG2LPYqNipINin2YTZhdim2YjZitipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNit2KfZhNipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keSBpZD0ic3R1ZGVudEdyYWRlc1RhYmxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gU3R1ZGVudCBncmFkZXMgd2lsbCBiZSBsb2FkZWQgaGVyZSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzLWNoYXJ0IiBpZD0ic3R1ZGVudFByb2dyZXNzQ2hhcnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFByb2dyZXNzIGNoYXJ0IHdpbGwgYmUgbG9hZGVkIGhlcmUgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0idGVhY2hlckdyYWRlc1ZpZXciIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPtiv2LHYrNin2Kog2KfZhNi32YTYp9ioPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZ3JhZGVFeGFtRmlsdGVyIiBjbGFzcz0iZm9ybS1sYWJlbCI+2KrYtdmB2YrYqSDYrdiz2Kgg2KfZhNin2K7Yqtio2KfYsTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImdyYWRlRXhhbUZpbHRlciIgY2xhc3M9ImZvcm0tY29udHJvbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtis2YXZiti5INin2YTYp9iu2KrYqNin2LHYp9iqPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEV4YW0gb3B0aW9ucyB3aWxsIGJlIGxvYWRlZCBoZXJlIC0tPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9ImdyYWRlcy10YWJsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KPHRoZWFkPgogIDx0cj4KICAgIDx0aD7Yp9iz2YUg2KfZhNi32KfZhNioPC90aD4KICAgIDx0aD7Yp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2Yo8L3RoPgogICAgPHRoPti52K/YryDYp9mE2KfYrtiq2KjYp9ix2KfYqjwvdGg+CiAgICA8dGg+2YXYqtmI2LPYtyDYp9mE2K/Ysdis2KfYqjwvdGg+CiAgICA8dGg+2KfZhNit2KfZhNipPC90aD4KICAgIDx0aD7Yp9mE2KXYrNix2KfYodin2Ko8L3RoPgogIDwvdHI+CjwvdGhlYWQ+CjwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keSBpZD0iYWxsR3JhZGVzVGFibGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBBbGwgZ3JhZGVzIHdpbGwgYmUgbG9hZGVkIGhlcmUgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZmVlZGJhY2tDb250YWluZXIiIGNsYXNzPSJmZWVkYmFjay1jb250YWluZXIiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tINiz2YrYqtmFINi52LHYtiDYp9mE2KrZgtmK2YrZhSDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFN0dWRlbnRzIFBhZ2UgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InN0dWRlbnRzUGFnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS11c2VycyI+PC9pPiDYpdiv2KfYsdipINin2YTYt9mE2KfYqDwvaDI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgaWQ9ImRpc2FibGVBbGxTdHVkZW50c0J0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDYqti52LfZitmEINin2YTZg9mECiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBpZD0iZW5hYmxlQWxsU3R1ZGVudHNCdG4iIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg2KrZgdi52YrZhCDYp9mE2YPZhAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi13YXJuaW5nIiBpZD0ibG9ja0FsbFN0dWRlbnRzQnRuIj4KICAgIDxpIGNsYXNzPSJmYXMgZmEtbG9jayI+PC9pPiDZgtmB2YQg2KfZhNmD2YQKICA8L2J1dHRvbj4KICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIGlkPSJ1bmxvY2tBbGxTdHVkZW50c0J0biI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXVubG9jayI+PC9pPiDYpdmE2LrYp9ihINmC2YHZhCDYp9mE2YPZhAogIDwvYnV0dG9uPgogIDxicj48YnI+CiAgICAgPCEtLSDYp9iz2KrYrtiv2YUg2YfYsNinINin2YTZg9mI2K8g2KjYr9mE2KfZiyDZhdmGINin2YTZg9mI2K8g2KfZhNiz2KfYqNmCINmB2Yog2YbZgdizINin2YTZhdmD2KfZhiAtLT4KPGRpdiBpZD0ic3R1ZGVudHNDb3VudEJveCIgc3R5bGU9IgogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBnYXA6IDhweDsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzBhNzBmZiA4MCUsICMwYTcwZmYgMTAwJSk7CiAgICBjb2xvcjogI2ZmZjsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgxMCwxMTIsMjU1LDAuMTApOwogICAgcGFkZGluZzogOHB4IDE2cHg7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBmb250LXdlaWdodDogNjAwOwogICAgbWFyZ2luLWJvdHRvbTogMTJweDsKICAgIHdpZHRoOiBmaXQtY29udGVudDsKICAgIG1pbi13aWR0aDogMTIwcHg7CiI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXVzZXItZ3JhZHVhdGUiIHN0eWxlPSJmb250LXNpemU6MS4zcmVtO2NvbG9yOiNmZmY7YmFja2dyb3VuZDojMGE3MGZmO3BhZGRpbmc6NnB4IDhweDtib3JkZXItcmFkaXVzOjUwJTtib3gtc2hhZG93OjAgMXB4IDRweCAjMGE3MGZmMjI7Ij48L2k+CiAgICA8c3Bhbj7Yudiv2K8g2KfZhNi32YTYp9ioOiA8c3BhbiBpZD0ic3R1ZGVudHNDb3VudCIgc3R5bGU9ImZvbnQtc2l6ZToxLjJyZW07Y29sb3I6I2ZmZjtmb250LXdlaWdodDo5MDA7Ij4wPC9zcGFuPjwvc3Bhbj4KPC9kaXY+CiAgPGJyPjxicj4KICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDYo9i52YTZiSDYrNiv2YjZhCDYp9mE2LfZhNin2Kgg2YXYqNin2LTYsdipINmB2Yog2YLYs9mFINil2K/Yp9ix2Kkg2KfZhNi32YTYp9ioIC0tPgo8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxOHB4OyI+CiAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzZWFyY2hTdHVkZW50c0lucHV0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0i2KfYqNit2Ksg2LnZhiDYt9in2YTYqCDYqNin2YTYp9iz2YUuLi4iPgo8L2Rpdj4KPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9ImdyYWRlcy10YWJsZSI+CiAgCjwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KPHRoZWFkPgogIDx0cj4KICAgIDx0aD7Yp9iz2YUg2KfZhNi32KfZhNioPC90aD4KICAgIDx0aD7Yp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2Yo8L3RoPgogICAgPHRoPti52K/YryDYp9mE2KfYrtiq2KjYp9ix2KfYqjwvdGg+CiAgICA8dGg+2YXYqtmI2LPYtyDYp9mE2K/Ysdis2KfYqjwvdGg+CiAgICA8dGg+2KfZhNit2KfZhNipPC90aD4KICAgIDx0aD7Yp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2Kk8L3RoPgogICAgPHRoPtin2YTYqtix2YUg2KfZhNiv2LHYp9iz2Yo8L3RoPiA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNiz2LfYsSAtLT4KICAgIDx0aD7Yp9mE2KXYrNix2KfYodin2Ko8L3RoPgogIDwvdHI+CjwvdGhlYWQ+CjwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHkgaWQ9InN0dWRlbnRzVGFibGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFN0dWRlbnRzIGxpc3Qgd2lsbCBiZSBsb2FkZWQgaGVyZSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFVzZXIgUHJvZmlsZSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSAuLi5leGlzdGluZyBjb2RlLi4uIC0tPgo8ZGl2IGlkPSJwcm9maWxlUGFnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgIDxoMiBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS11c2VyIj48L2k+INin2YTZhdmE2YEg2KfZhNi02K7YtdmKPC9oMj4KICAgIDxkaXYgY2xhc3M9ImV4YW0tZm9ybSI+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNin2LPZhSDYp9mE2YPYp9mF2YQ8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9maWxlTmFtZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgZGlzYWJsZWQ+CiAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIGlkPSJzYXZlUHJvZmlsZU5hbWVCdG4iIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHg7ZGlzcGxheTpub25lOyI+2K3Zgdi4INin2YTYp9iz2YU8L2J1dHRvbj4KPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKPC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiBpZD0icHJvZmlsZUVtYWlsIiBjbGFzcz0iZm9ybS1jb250cm9sIiBkaXNhYmxlZD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7ZhtmI2Lkg2KfZhNit2LPYp9ioPC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9maWxlUm9sZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgZGlzYWJsZWQ+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPCEtLSDYo9i22YEg2YfYsNinINin2YTZgtiz2YUg2YfZhtinIC0tPgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJwcm9maWxlWWVhckdyb3VwIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipPC9sYWJlbD4KICAgICAgICAgICAgPHNlbGVjdCBpZD0icHJvZmlsZVllYXIiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2Kk8L29wdGlvbj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YTZiSDYq9in2YbZiNmKIj7Yp9mE2KPZiNmE2Ykg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBpZD0ic2F2ZVByb2ZpbGVZZWFyQnRuIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4OyI+2K3Zgdi4INin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqTwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgaWQ9InByb2ZpbGVUZXJtR3JvdXAiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZijwvbGFiZWw+CiAgICA8c2VsZWN0IGlkPSJwcm9maWxlVGVybSIgY2xhc3M9ImZvcm0tY29udHJvbCI+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNij2YjZhCI+2KrYsdmFINij2YjZhDwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YbZiiI+2KrYsdmFINir2KfZhtmKPC9vcHRpb24+CiAgICA8L3NlbGVjdD4KICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9InNhdmVQcm9maWxlVGVybUJ0biIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsiPtit2YHYuCDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9idXR0b24+CjwvZGl2Pgo8IS0tIC4uLmV4aXN0aW5nIGNvZGUuLi4gLS0+CiAgICAgICAgPCEtLSAuLi5leGlzdGluZyBjb2RlLi4uIC0tPgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPti52K/YryDYp9mE2KfYrtiq2KjYp9ix2KfYqiDYp9mE2KrZiiDYo9mG2LTYo9iq2YfYpzwvbGFiZWw+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icHJvZmlsZUV4YW1zQ3JlYXRlZCIgY2xhc3M9ImZvcm0tY29udHJvbCIgZGlzYWJsZWQ+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2LnYr9ivINin2YTYp9iu2KrYqNin2LHYp9iqINin2YTYqtmKINij2KzYsdmK2KrZh9inPC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9maWxlRXhhbXNUYWtlbiIgY2xhc3M9ImZvcm0tY29udHJvbCIgZGlzYWJsZWQ+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KPC9kaXY+CjwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAKICAgIDwvbWFpbj4KICAgIDxmb290ZXIgY2xhc3M9ImZvb3RlciI+CiAgICAgICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgICAgICAgICAgPGZvb3RlciBjbGFzcz0iZm9vdGVyIj4KICAgICAgICAgICAgICAgICAgICA8cD5NYWRlIHdpdGgg4p2k77iPIGJ5IDxzdHJvbmc+IGRyLUlzbWFpbCBGYXJhZzwvc3Ryb25nPjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+IDxzdHJvbmc+LS0tLS0tLS0tLS0tLS0tLS0tPC9zdHJvbmc+PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPiA8c3Ryb25nPnBsYXRmb3JtIHY5LjUgIGVkaXRpb24gMTwvc3Ryb25nPjwvcD4KCiA8dWwgY2xhc3M9InNvY2lhbC1saW5rcyI+CjxsaT48YSBocmVmPSJodHRwczovL3d3dy5mYWNlYm9vay5jb20iIHRhcmdldD0iX2JsYW5rIj48aSBjbGFzcz0iZmFiIGZhLWZhY2Vib29rIj48L2k+PC9hPjwvbGk+CjxsaT48YSBocmVmPSJodHRwczovL3d3dy50d2l0dGVyLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPjxpIGNsYXNzPSJmYWIgZmEtdHdpdHRlciI+PC9pPjwvYT48L2xpPgo8bGk+PGEgaHJlZj0iaHR0cHM6Ly93d3cubGlua2VkaW4uY29tIiB0YXJnZXQ9Il9ibGFuayI+PGkgY2xhc3M9ImZhYiBmYS1saW5rZWRpbiI+PC9pPjwvYT48L2xpPgo8bGk+PGEgaHJlZj0iaHR0cHM6Ly93d3cuZ2l0aHViLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPjxpIGNsYXNzPSJmYWIgZmEtZ2l0aHViIj48L2k+PC9hPjwvbGk+CjwvdWw+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9mb290ZXI+ICAgICAgICAgICAKICAgICAgICA8L2Rpdj4KICAgIDwvZm9vdGVyPgogICAgCgoKIAogICAgPGRpdiBpZD0ic2VsZlRlc3RSZXN1bHRNb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICA8aDIgY2xhc3M9Im1vZGFsLXRpdGxlIj7wn46JINiq2YfYp9mG2YrZhtinITwvaDI+CiAgICAgICAgICAgIDxwIGNsYXNzPSJtb2RhbC1tZXNzYWdlIj7ZhNmC2K8g2KPZg9mF2YTYqiDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hPC9wPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHQtZGV0YWlscyI+CiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtmG2KrZitis2KrZgzo8L3N0cm9uZz4gPHNwYW4gaWQ9InNlbGZUZXN0UmVzdWx0U2NvcmUiPjAlPC9zcGFuPjwvcD4KICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+2LnYr9ivINin2YTYpdis2KfYqNin2Kog2KfZhNi12K3Zitit2Kk6PC9zdHJvbmc+IDxzcGFuIGlkPSJzZWxmVGVzdENvcnJlY3RBbnN3ZXJzIj4wPC9zcGFuPjwvcD4KICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+2LnYr9ivINin2YTYpdis2KfYqNin2Kog2KfZhNiu2KfYt9im2Kk6PC9zdHJvbmc+IDxzcGFuIGlkPSJzZWxmVGVzdFdyb25nQW5zd2VycyI+MDwvc3Bhbj48L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJjbG9zZVNlbGZUZXN0UmVzdWx0TW9kYWwiPtil2LrZhNin2YI8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0idG9hc3RNZXNzYWdlIiBjbGFzcz0idG9hc3QtbWVzc2FnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoZWNrLWNpcmNsZSI+PC9pPgogICAgICAgIDxzcGFuIGlkPSJ0b2FzdFRleHQiPtiq2YUg2K3YsNmBINin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSE8L3NwYW4+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGlkPSJzZWxmVGVzdFJlc3VsdHNQYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgIDxoMiBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS1jaGFydC1iYXIiPjwvaT4g2YbYqtin2KbYrCDYp9iu2KrYqNixINmG2YHYs9mDPC9oMj4KICAgICAgICA8dGFibGUgY2xhc3M9ImdyYWRlcy10YWJsZSI+CiAgICAgICAgICAgIDx0aGVhZD4KICAgICA8dHI+CiAgICAgICAgPHRoPtin2LPZhSDYp9mE2LfYp9mE2Kg8L3RoPgogICAgICAgIDx0aD7YudmG2YjYp9mGINin2YTYp9iu2KrYqNin2LE8L3RoPgogICAgICAgIDx0aD7Yp9mE2K/Ysdis2Kkg2KfZhNmF2K3YtdmE2Kk8L3RoPgogICAgICAgIDx0aD7Yp9mE2YbYs9io2Kkg2KfZhNmF2KbZiNmK2Kk8L3RoPgogICAgICAgIDx0aD7Yp9mE2KrYp9ix2YrYrjwvdGg+CiAgICAgPC90cj4KICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgPHRib2R5IGlkPSJzZWxmVGVzdFJlc3VsdHNUYWJsZSI+CiAgICAgICAgICAgICAgICA8IS0tINiz2YrYqtmFINiq2K3ZhdmK2YQg2KfZhNmG2KrYp9im2Kwg2YfZhtinIC0tPgogICAgICAgICAgICA8L3Rib2R5PgogICAgICAgIDwvdGFibGU+CiAgICA8L2Rpdj4KIDwhLS0g2KfYs9iq2KjYr9mEINin2YTZg9mI2K8g2KfZhNiq2KfZhNmKINmB2Yog2YXZhNmB2YMgLS0+CjxkaXYgaWQ9ImFjY291bnREaXNhYmxlZE1vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjQyMHB4O3RleHQtYWxpZ246Y2VudGVyOyI+CiAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxOHB4OyI+CiAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdXNlci1zbGFzaCIgc3R5bGU9ImZvbnQtc2l6ZTozcmVtO2NvbG9yOiNGQzVDNjU7Ij48L2k+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGgyIGNsYXNzPSJtb2RhbC10aXRsZSIgc3R5bGU9ImNvbG9yOiNGQzVDNjU7Ij7wn5qrINit2LPYp9ioINmF2LnYt9mEPC9oMj4KICAgICAgICA8cCBjbGFzcz0ibW9kYWwtbWVzc2FnZSIgc3R5bGU9ImZvbnQtc2l6ZToxLjE1cmVtO2NvbG9yOiMzMzM7bWFyZ2luLWJvdHRvbToxOHB4OyI+CiAgICAgICAgICAgINi52LDYsdmL2KfYjCDYqtmFINiq2LnYt9mK2YQg2K3Ys9in2KjZgy4g2YrYsdis2Ykg2KfZhNiq2YjYp9i12YQg2YXYuSDYp9mE2KXYr9in2LHYqSDZhNmE2K3YtdmI2YQg2LnZhNmJINin2YTZhdiy2YrYryDZhdmGINin2YTYqtmB2KfYtdmK2YQuPGJyPgogICAgICAgICAgICDYpdiw2Kcg2YPYp9mGINmE2K/ZitmDINij2Yog2KfYs9iq2YHYs9in2LEg2KPZiCDYqtix2LrYqCDZgdmKINin2YTYqtmI2KfYtdmEINmF2Lkg2KfZhNil2K/Yp9ix2KnYjCDYp9i22LrYtyDYp9mE2LLYsSDYqNin2YTYo9iz2YHZhC4KICAgICAgICA8L3A+CiAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93YS5tZS8yMDEwNjA5MTEwOTMiIHRhcmdldD0iX2JsYW5rIiBpZD0id2hhdHNhcHBDb250YWN0QnRuIgogICAgICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kOiMyNWQzNjY7Y29sb3I6I2ZmZjtmb250LXNpemU6MS4ycmVtO3BhZGRpbmc6MTJweCAzMnB4O2JvcmRlci1yYWRpdXM6OHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtd2VpZ2h0OmJvbGQ7bWFyZ2luLWJvdHRvbToxMHB4OyI+CiAgICAgICAgICAgIDxpIGNsYXNzPSJmYWIgZmEtd2hhdHNhcHAiIHN0eWxlPSJtYXJnaW4tbGVmdDo4cHg7Zm9udC1zaXplOjEuNXJlbTsiPjwvaT4g2KrZiNin2LXZhCDZhdi5INin2YTYpdiv2KfYsdipINi52KjYsSDZiNin2KrYs9in2KgKICAgICAgICA8L2E+CiAgICAgICAgPGJyPgogICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iY2xvc2VBY2NvdW50RGlzYWJsZWRNb2RhbCgpIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4OyI+2KXYutmE2KfZgjwvYnV0dG9uPgogICAgPC9kaXY+CjwvZGl2PgogICAgPGRpdiBpZD0idW5hbnN3ZXJlZFF1ZXN0aW9uc01vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgPGgyIGNsYXNzPSJtb2RhbC10aXRsZSI+4pqg77iPINiq2YbYqNmK2Yc8L2gyPgogICAgICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiIGlkPSJ1bmFuc3dlcmVkUXVlc3Rpb25zTWVzc2FnZSI+PC9wPgogICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29udGludWVTdWJtaXRCdG4iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPtiq2LPZhNmK2YU8L2J1dHRvbj4KICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjYW5jZWxTdWJtaXRCdG4iIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogIDwvZGl2PgogIDxkaXYgaWQ9Imxlc3Nvbk1vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjcwMHB4OyI+CiAgICA8ZGl2IGlkPSJsZXNzb25Nb2RhbEJvZHkiIHN0eWxlPSJtYXJnaW4tdG9wOjE1cHg7Ij48L2Rpdj4KICA8L2Rpdj4KPC9kaXY+CjwhLS0g2KPYttmBINit2YLZhCDYpdiv2K7Yp9mEINix2KfYqNi3INin2YTYtdmI2Kog2YHZiiDZhtin2YHYsNipINin2YTYpdi02LnYp9ixIC0tPgo8ZGl2IGlkPSJub3RpZmljYXRpb25Nb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICA8aDIgY2xhc3M9Im1vZGFsLXRpdGxlIj7Ypdix2LPYp9mEINil2LTYudin2LEg2YTZhNi32YTYp9ioPC9oMj4KICAgIDx0ZXh0YXJlYSBpZD0ibm90aWZpY2F0aW9uTWVzc2FnZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcm93cz0iNCIgcGxhY2Vob2xkZXI9Itin2YPYqtioINix2LPYp9mE2KrZgyDZh9mG2KcuLi4iIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE1cHg7Ij48L3RleHRhcmVhPgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJub3RpZmljYXRpb25BdWRpb1VybCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Itix2KfYqNi3INmF2YTZgSDYtdmI2KrZiiAo2KfYrtiq2YrYp9ix2YopIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxNXB4OyI+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1hY3Rpb25zIj4KICAgICAgPGJ1dHRvbiBpZD0ic2VuZE5vdGlmaWNhdGlvbkJ0biIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+2KXYsdiz2KfZhDwvYnV0dG9uPgogICAgICA8YnV0dG9uIGlkPSJjYW5jZWxOb3RpZmljYXRpb25CdG4iIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+CjwvZGl2Pgo8YnV0dG9uIGlkPSJ0b2dnbGVTaWRlYmFyQnRuIiBzdHlsZT0icG9zaXRpb246Zml4ZWQ7dG9wOjEwMHB4O3JpZ2h0OjI1cHg7ei1pbmRleDoyMDAxO2JhY2tncm91bmQ6IzBhNzBmZjtjb2xvcjojZmZmO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6NTAlO3dpZHRoOjQ4cHg7aGVpZ2h0OjQ4cHg7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZvbnQtc2l6ZToxLjVyZW07Ym94LXNoYWRvdzowIDJweCA4cHggcmdiYSgxMCwxMTIsMjU1LDAuMTIpO2N1cnNvcjpwb2ludGVyOyI+CiAgPGkgY2xhc3M9ImZhcyBmYS1iYXJzIj48L2k+CjwvYnV0dG9uPgo8IS0tINmG2KfZgdiw2Kkg2KrYrdiv2YrYryDYp9mE2LXZhNin2K3Zitin2Kog2YTZhNi32KfZhNioIC0tPgo8ZGl2IGlkPSJzdHVkZW50UGVybWlzc2lvbnNNb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDo1MDBweDsiPgogICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSIgaWQ9InN0dWRlbnRQZXJtaXNzaW9uc1RpdGxlIj7Yqtit2K/ZitivINin2YTYtdmE2KfYrdmK2KfYqjwvaDM+CiAgICA8ZGl2IGlkPSJzdHVkZW50UGVybWlzc2lvbnNCb2R5IiBzdHlsZT0ibWFyZ2luOjE4cHggMDsiPjwvZGl2PgogICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9InNhdmVTdHVkZW50UGVybWlzc2lvbnNCdG4iPtit2YHYuDwvYnV0dG9uPgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0dWRlbnRQZXJtaXNzaW9uc01vZGFsJykuc3R5bGUuZGlzcGxheT0nbm9uZSciPtil2LrZhNin2YI8L2J1dHRvbj4KICAgIDwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KPGRpdiBpZD0iY29udGFjdFVzTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6NzIwcHg7dGV4dC1hbGlnbjpyaWdodDsiPgogICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW4tYm90dG9tOjhweDsiPgogICAgICA8aDMgY2xhc3M9Im1vZGFsLXRpdGxlIiBzdHlsZT0ibWFyZ2luOjA7Ij7YqtmI2KfYtdmEINmF2LnZhtinPC9oMz4KICAgICAgPGJ1dHRvbiBpZD0iY2xvc2VDb250YWN0VXNNb2RhbCIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgc3R5bGU9InBhZGRpbmc6NnB4IDEwcHg7Ij7Ypdi62YTYp9mCPC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxwIHN0eWxlPSJjb2xvcjojMzMzO21hcmdpbi1ib3R0b206MTJweDsiPgogICAgPC9wPgogICAgPHAgc3R5bGU9ImZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tYm90dG9tOjZweDsiPtix2YLZhSDYp9mE2KrZiNin2LXZhCAvINmI2KfYqtiz2KfYqDo8L3A+CiAgICA8cCBzdHlsZT0ibWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MTJweDsiPjxhIGhyZWY9Imh0dHBzOi8vd2EubWUvMjAxMDY0MTc0MjcwIiB0YXJnZXQ9Il9ibGFuayIgc3R5bGU9ImNvbG9yOiMwYTcwZmY7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ij4rMjAgMTAgNjQxIDc0MiA3MDwvYT48L3A+CgogICAgPHAgc3R5bGU9ImZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tYm90dG9tOjZweDsiPtmB2YrYr9mK2Yg6INmD2YrZgdmK2Kkg2KfZhNiq2LPYrNmK2YQ8L3A+CiAgICA8ZGl2IHN0eWxlPSJ3aWR0aDoxMDAlO2hlaWdodDowO3BhZGRpbmctYm90dG9tOjU2JTtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW4tYm90dG9tOjEycHg7Ij4KICAgICAgPGlmcmFtZSBpZD0iY29udGFjdFVzVmlkZW8iIHNyYz0iaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvWU9VUl9WSURFT19JRCIgdGl0bGU9Iti02LHYrSDYp9mE2KrYs9is2YrZhCIgZnJhbWVib3JkZXI9IjAiIGFsbG93PSJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlIiBhbGxvd2Z1bGxzY3JlZW4KICAgICAgICBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Ym9yZGVyLXJhZGl1czo4cHg7Ij48L2lmcmFtZT4KICAgIDwvZGl2PgoKICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246bGVmdDttYXJnaW4tdG9wOjhweDsiPgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJjb250YWN0VXNXaGF0c0FwcEJ0biIgb25jbGljaz0id2luZG93Lm9wZW4oJ2h0dHBzOi8vd2EubWUvMjAxMDY0MTc0MjcwJywnX2JsYW5rJykiPtix2KfYs9mE2YbYpyDYp9mE2KLZhjwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSDZhtin2YHYsNipINmF2YbYqNir2YLYqSDZhNix2LPYp9mE2Kkg2LnYr9mFINin2YTYs9mF2KfYrSDYqNin2YTYr9iu2YjZhCAtLT4KPGRpdiBpZD0iYWNjZXNzRGVuaWVkTW9kYWwiIHN0eWxlPSJkaXNwbGF5Om5vbmU7IHBvc2l0aW9uOmZpeGVkOyB0b3A6MDsgbGVmdDowOyB3aWR0aDoxMDB2dzsgaGVpZ2h0OjEwMHZoOyBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC40KTsgei1pbmRleDo5OTk5OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpjZW50ZXI7Ij4KICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiNmZmY7IHBhZGRpbmc6MzBweCAyMHB4OyBib3JkZXItcmFkaXVzOjEwcHg7IG1heC13aWR0aDo5MHZ3OyB3aWR0aDozNTBweDsgdGV4dC1hbGlnbjpjZW50ZXI7IGJveC1zaGFkb3c6MCAycHggMTBweCAjMDAwMjsiPgogICAgPGgzIHN0eWxlPSJjb2xvcjojYzAwOyBtYXJnaW4tYm90dG9tOjE1cHg7Ij7Yudiw2LHZi9in2Iwg2YTYpyDZitmF2YPZhtmDINin2YTZiNi12YjZhCDYp9mE2YrZhyA8L2gzPgogICAgPHAgc3R5bGU9Im1hcmdpbi1ib3R0b206MjBweDsgY29sb3I6IzQ0NDsiPgogICAgICDZh9iw2KcgINmF2KrYp9itINmB2YLYtyDZhNmE2KPYudi22KfYoSDYp9mE2YXYtNiq2LHZg9mK2YYuPGJyPgogICAgICDYpdiw2Kcg2LHYutio2Kog2KjYp9mE2KfZhti22YXYp9mFINij2Ygg2YTYr9mK2YMg2KPZiiDYp9iz2KrZgdiz2KfYsdiMINmK2LPYudiv2YbYpyDYqtmI2KfYtdmE2YMg2YXYudmG2KchCiAgICA8L3A+CiAgICA8YSBocmVmPSJodHRwczovL3dhLm1lLysyMDEwNjQxNzQyNzAiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7IGJhY2tncm91bmQ6IzI1ZDM2NjsgY29sb3I6I2ZmZjsgcGFkZGluZzoxMHB4IDI1cHg7IGJvcmRlci1yYWRpdXM6NXB4OyBmb250LXNpemU6MTZweDsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7IG1hcmdpbi1ib3R0b206MTBweDsgdHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDAuMnM7Ij4KICAgICAg2KrZiNin2LXZhCDZhdi52YbYpyDYudio2LEg2KfZhNmI2KfYqtiz2KfYqAogICAgPC9hPgogICAgPGJyPgogICAgPGJ1dHRvbiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjZXNzRGVuaWVkTW9kYWwnKS5zdHlsZS5kaXNwbGF5PSdub25lJyIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsgYmFja2dyb3VuZDojZWVlOyBib3JkZXI6bm9uZTsgcGFkZGluZzo4cHggMThweDsgYm9yZGVyLXJhZGl1czo1cHg7IGN1cnNvcjpwb2ludGVyOyI+CiAgICAgINil2LrZhNin2YIKICAgIDwvYnV0dG9uPgogICAgPHAgc3R5bGU9Im1hcmdpbi10b3A6MTVweDsgZm9udC1zaXplOjEzcHg7IGNvbG9yOiM4ODg7Ij4KICAgICAg2YbYs9i52K8g2KjYrtiv2YXYqtmDINmI2YbYqtmF2YbZiSDZhNmDINiq2KzYsdio2Kkg2KrYudmE2YrZhdmK2Kkg2YXZhdiq2LnYqSEKICAgIDwvcD4KICA8L2Rpdj4KPC9kaXY+CjxzY3JpcHQ+CgoKCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmNvbnN0IEdPT0dMRV9DTElFTlRfSUQgPSAnNTkxOTM4MTg2MzI1LTY2YjBkYzY5Mzc3MzhtN2FtY2U5cnJicGt0dTllbmw5LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJzsKY29uc3QgR09PR0xFX1NDT1BFUyA9ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2RyaXZlLmZpbGUnOwoKZnVuY3Rpb24gaW5pdEdvb2dsZURyaXZlUGlja2VyKCkgewogIGdhcGkubG9hZCgnY2xpZW50OmF1dGgyJywgKCkgPT4gewogICAgZ2FwaS5jbGllbnQuaW5pdCh7CiAgICAgIGNsaWVudElkOiBHT09HTEVfQ0xJRU5UX0lELAogICAgICBzY29wZTogR09PR0xFX1NDT1BFUwogICAgfSk7CiAgfSk7Cn0KCi8vINiv2KfZhNipINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEINmE2KzZiNis2YQKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpsZXQgZ29vZ2xlQWNjZXNzVG9rZW4gPSBudWxsOwoKLy8g2K/Yp9mE2Kkg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2KfZhNis2K/Zitiv2KkKZnVuY3Rpb24gZ29vZ2xlRHJpdmVTaWduSW4oKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIGlmIChnb29nbGVBY2Nlc3NUb2tlbikgewogICAgICBjb25zb2xlLmxvZygnZ29vZ2xlRHJpdmVTaWduSW46IHVzaW5nIGNhY2hlZCB0b2tlbicpOwogICAgICByZXR1cm4gcmVzb2x2ZShnb29nbGVBY2Nlc3NUb2tlbik7CiAgICB9CiAgICBpZiAoISh3aW5kb3cuZ29vZ2xlICYmIGdvb2dsZS5hY2NvdW50cyAmJiBnb29nbGUuYWNjb3VudHMub2F1dGgyICYmIHR5cGVvZiBnb29nbGUuYWNjb3VudHMub2F1dGgyLmluaXRUb2tlbkNsaWVudCA9PT0gJ2Z1bmN0aW9uJykpIHsKICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ0dvb2dsZSBJZGVudGl0eSBsaWJyYXJ5IG5vdCBsb2FkZWQnKSk7CiAgICB9CiAgICB0cnkgewogICAgICBjb25zdCBjbGllbnQgPSBnb29nbGUuYWNjb3VudHMub2F1dGgyLmluaXRUb2tlbkNsaWVudCh7CiAgICAgICAgY2xpZW50X2lkOiBHT09HTEVfQ0xJRU5UX0lELAogICAgICAgIHNjb3BlOiBHT09HTEVfU0NPUEVTLAogICAgICAgIGNhbGxiYWNrOiAodG9rZW5SZXNwb25zZSkgPT4gewogICAgICAgICAgaWYgKHRva2VuUmVzcG9uc2UgJiYgdG9rZW5SZXNwb25zZS5hY2Nlc3NfdG9rZW4pIHsKICAgICAgICAgICAgZ29vZ2xlQWNjZXNzVG9rZW4gPSB0b2tlblJlc3BvbnNlLmFjY2Vzc190b2tlbjsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2dvb2dsZURyaXZlU2lnbkluOiBnb3QgYWNjZXNzIHRva2VuJyk7CiAgICAgICAgICAgIHJlc29sdmUoZ29vZ2xlQWNjZXNzVG9rZW4pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcignZ29vZ2xlRHJpdmVTaWduSW46IHRva2VuUmVzcG9uc2UgbWlzc2luZyBhY2Nlc3NfdG9rZW4nLCB0b2tlblJlc3BvbnNlKTsKICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIG9idGFpbiBhY2Nlc3MgdG9rZW4nKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLy8gcmVxdWVzdCBpbnRlcmFjdGl2ZSB0b2tlbiAod2lsbCBzaG93IGNvbnNlbnQgaWYgbmVlZGVkKQogICAgICBjbGllbnQucmVxdWVzdEFjY2Vzc1Rva2VuKHsgcHJvbXB0OiAnJyB9KTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICBjb25zb2xlLmVycm9yKCdnb29nbGVEcml2ZVNpZ25JbiBlcnJvcicsIGVycik7CiAgICAgIHJlamVjdChlcnIpOwogICAgfQogIH0pOwp9Cgphc3luYyBmdW5jdGlvbiB1cGxvYWRJbWFnZVRvR29vZ2xlRHJpdmUoZmlsZSkgewogIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXdhaXQgZ29vZ2xlRHJpdmVTaWduSW4oKTsKICBjb25zdCBtZXRhZGF0YSA9IHsKICAgIG5hbWU6IGZpbGUubmFtZSwKICAgIG1pbWVUeXBlOiBmaWxlLnR5cGUKICB9OwogIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKICBmb3JtLmFwcGVuZCgnbWV0YWRhdGEnLCBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSkpOwogIGZvcm0uYXBwZW5kKCdmaWxlJywgZmlsZSk7CgogIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3VwbG9hZC9kcml2ZS92My9maWxlcz91cGxvYWRUeXBlPW11bHRpcGFydCZmaWVsZHM9aWQnLCB7CiAgICBtZXRob2Q6ICdQT1NUJywKICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHsgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyBhY2Nlc3NUb2tlbiB9KSwKICAgIGJvZHk6IGZvcm0KICB9KTsKCiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogIC8vINis2LnZhCDYp9mE2YXZhNmBICLYudin2YUiCiAgYXdhaXQgZmV0Y2goYGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2RyaXZlL3YzL2ZpbGVzLyR7cmVzdWx0LmlkfS9wZXJtaXNzaW9uc2AsIHsKICAgIG1ldGhvZDogJ1BPU1QnLAogICAgaGVhZGVyczogbmV3IEhlYWRlcnMoewogICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIGFjY2Vzc1Rva2VuLAogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICB9KSwKICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgcm9sZTogJ3JlYWRlcicsIHR5cGU6ICdhbnlvbmUnIH0pCiAgfSk7CgogLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpyZXR1cm4gYGh0dHBzOi8vbGgzLmdvb2dsZS5jb20vdS8wL2QvJHtyZXN1bHQuaWR9YDsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gY29tcGF0aWJpbGl0eSB3cmFwcGVyOiBlbnN1cmUgdXBsb2FkRmlsZVRvR29vZ2xlRHJpdmUgZXhpc3RzICh1c2VkIGJ5IGZpbGUtcGlja2VyIGhhbmRsZXJzKQpmdW5jdGlvbiB1cGxvYWRGaWxlVG9Hb29nbGVEcml2ZShmaWxlKSB7CiAgaWYgKHR5cGVvZiB1cGxvYWRJbWFnZVRvR29vZ2xlRHJpdmUgPT09ICdmdW5jdGlvbicpIHJldHVybiB1cGxvYWRJbWFnZVRvR29vZ2xlRHJpdmUoZmlsZSk7CiAgaWYgKHR5cGVvZiB1cGxvYWRUb0dvb2dsZURyaXZlID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdXBsb2FkVG9Hb29nbGVEcml2ZShmaWxlKTsKICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVwbG9hZCBmdW5jdGlvbiBmb3IgR29vZ2xlIERyaXZlIGZvdW5kJyk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDZhdiz2KrZhdi5IHBhc3RlINi52YTZiSDYrNmF2YrYuSDYrdmC2YjZhCDYsdin2KjYtyDYp9mE2LXZiNix2KkKZnVuY3Rpb24gZW5hYmxlSW1hZ2VQYXN0ZU9uVXJsRmllbGRzKCkgewogIGZ1bmN0aW9uIGhhbmRsZVBhc3RlKGUpIHsKICAgIGNvbnN0IGl0ZW1zID0gKGUuY2xpcGJvYXJkRGF0YSB8fCB3aW5kb3cuY2xpcGJvYXJkRGF0YSkuaXRlbXM7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChpdGVtc1tpXS50eXBlLmluZGV4T2YoImltYWdlIikgIT09IC0xKSB7CiAgICAgICAgY29uc3QgZmlsZSA9IGl0ZW1zW2ldLmdldEFzRmlsZSgpOwogICAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICB0aGlzLnZhbHVlID0gItis2KfYsdmKINix2YHYuSDYp9mE2LXZiNix2Kkg2KXZhNmJIEdvb2dsZSBEcml2ZS4uLiI7CiAgICAgICAgICB1cGxvYWRJbWFnZVRvR29vZ2xlRHJpdmUoZmlsZSkudGhlbih1cmwgPT4gewogICAgICAgICAgICB0aGlzLnZhbHVlID0gdXJsOwogICAgICAgICAgICBzaG93VG9hc3QoItiq2YUg2LHZgdi5INin2YTYtdmI2LHYqSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICB0aGlzLnZhbHVlID0gIiI7CiAgICAgICAgICAgIHNob3dUb2FzdCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINix2YHYuSDYp9mE2LXZiNix2Kk6ICIgKyBlcnIubWVzc2FnZSwgImVycm9yIik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KICB9CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnF1ZXN0aW9uLWltYWdlLXVybCwgI3F1ZXN0aW9uQmFua0ltYWdlVXJsIikuZm9yRWFjaChpbnB1dCA9PiB7CiAgICBpbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCJwYXN0ZSIsIGhhbmRsZVBhc3RlKTsKICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoInBhc3RlIiwgaGFuZGxlUGFzdGUpOwogIH0pOwp9CgovLyDYqtmH2YrYptipIEdvb2dsZSBBUEkg2LnZhtivINiq2K3ZhdmK2YQg2KfZhNi12YHYrdipCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gewogIGdhcGkubG9hZCgnY2xpZW50OmF1dGgyJywgaW5pdEdvb2dsZURyaXZlUGlja2VyKTsKICBlbmFibGVJbWFnZVBhc3RlT25VcmxGaWVsZHMoKTsKfSk7CmNvbnN0IGZpcmViYXNlQ29uZmlnID0gewogIGFwaUtleTogIkFJemFTeUNPangweGhDT3JnZERCOWlaTS1ESVVpT1RrZllsYXFIWSIsCiAgYXV0aERvbWFpbjogImRyZmFyYWctMjk3ZTMuZmlyZWJhc2VhcHAuY29tIiwKICBwcm9qZWN0SWQ6ICJkcmZhcmFnLTI5N2UzIiwKICBzdG9yYWdlQnVja2V0OiAiZHJmYXJhZy0yOTdlMy5maXJlYmFzZXN0b3JhZ2UuYXBwIiwKICBtZXNzYWdpbmdTZW5kZXJJZDogIjU5MTkzODE4NjMyNSIsCiAgYXBwSWQ6ICIxOjU5MTkzODE4NjMyNTp3ZWI6N2MyYTMwYjNiNDQ2MTEwNDg0YjhkYyIsCiAgbWVhc3VyZW1lbnRJZDogIkctNUJXTUdNWFZSMiIKfTsKZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7CmNvbnN0IGF1dGggPSBmaXJlYmFzZS5hdXRoKCk7CmNvbnN0IGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7Cgpjb25zdCBsb2FkaW5nU2NyZWVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvYWRpbmdTY3JlZW4iKTsKCmNvbnN0IGF1dGhTY3JlZW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImF1dGhTY3JlZW5zIik7CmNvbnN0IGFwcENvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwQ29udGVudCIpOwpjb25zdCBsb2dpbkZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9naW5Gb3JtIik7CmNvbnN0IHJlZ2lzdGVyRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWdpc3RlckZvcm0iKTsKY29uc3QgbG9naW5CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9naW5CdG4iKTsKY29uc3QgcmVnaXN0ZXJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVnaXN0ZXJCdG4iKTsKY29uc3Qgc2hvd0xvZ2luID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNob3dMb2dpbiIpOwpjb25zdCBzaG93UmVnaXN0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvd1JlZ2lzdGVyJyk7CmNvbnN0IGF1dGhCdXR0b25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImF1dGhCdXR0b25zIik7CmNvbnN0IHVzZXJNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVzZXJNZW51Iik7CmNvbnN0IHVzZXJOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVzZXJOYW1lIik7CmNvbnN0IGxvZ291dEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2dvdXRCdG4iKTsKY29uc3QgZGFzaGJvYXJkUGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkYXNoYm9hcmRQYWdlIik7CmNvbnN0IGV4YW1zUGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtc1BhZ2UnKTsKY29uc3QgY3JlYXRlRXhhbVBhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3JlYXRlRXhhbVBhZ2UiKTsKY29uc3QgY3JlYXRlU2xpZGVQYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNyZWF0ZVNsaWRlUGFnZSIpOwpjb25zdCB0YWtlRXhhbVBhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFrZUV4YW1QYWdlIik7CmNvbnN0IHJlc3VsdHNQYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdHNQYWdlJyk7CmNvbnN0IGdyYWRlc1BhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ3JhZGVzUGFnZSIpOwpjb25zdCBzdHVkZW50c1BhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudHNQYWdlIik7CmNvbnN0IHByb2ZpbGVQYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2ZpbGVQYWdlJyk7CmNvbnN0IG1lbnVEYXNoYm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudURhc2hib2FyZCIpOwoKY29uc3QgbWVudUNyZWF0ZUV4YW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudUNyZWF0ZUV4YW0iKTsKY29uc3QgbWVudUNyZWF0ZVNsaWRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVDcmVhdGVTbGlkZSIpOwpjb25zdCBtZW51UmVzdWx0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51UmVzdWx0cyIpOwpjb25zdCBtZW51R3JhZGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lbnVHcmFkZXMnKTsKY29uc3QgbWVudVN0dWRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTdHVkZW50cyIpOwpjb25zdCBtZW51UHJvZmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51UHJvZmlsZSIpOwpsZXQgY3VycmVudFVzZXIgPSBudWxsOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCmxldCBub3RpZmljYXRpb25TaG93blRoaXNTZXNzaW9uID0gZmFsc2U7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KbGV0IGN1cnJlbnRVc2VyRGF0YSA9IG51bGw7CmxldCBjdXJyZW50RXhhbSA9IG51bGw7CmxldCBjdXJyZW50UXVlc3Rpb25JbmRleCA9IDB4MDsKbGV0IHVzZXJBbnN3ZXJzID0ge307CmxldCB0aW1lckludGVydmFsID0gbnVsbDsKbGV0IHRpbWVMZWZ0ID0gMHgwOwpsZXQgdXNlclJvbGUgPSAic3R1ZGVudCI7CmxldCBlZGl0aW5nU2xpZGVJZCA9IG51bGw7IC8vINmF2KrYutmK2LEg2LnYp9mE2YXZiiDZhNmE2KrYrdmD2YUg2YHZiiDZiNi22Lkg2KfZhNiq2LnYr9mK2YQKZnVuY3Rpb24gaW5pdEFwcCgpIHsKICBhdXRoLm9uQXV0aFN0YXRlQ2hhbmdlZChhc3luYyBfMHgyODVlNTAgPT4gewogICAgaWYgKF8weDI4NWU1MCkgewogICAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhfMHgyODVlNTAudWlkKS5vblNuYXBzaG90KF8weDRhZDJmYiA9PiB7CiAgICAgICAgaWYgKF8weDRhZDJmYi5leGlzdHMgJiYgXzB4NGFkMmZiLmRhdGEoKS5kaXNhYmxlZCkgewogICAgICAgICAgXzB4MzJiNTRkKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgY29uc3QgXzB4MmM0YzE4ID0gYXdhaXQgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2MoXzB4Mjg1ZTUwLnVpZCkuZ2V0KCk7CiAgICAgIGlmIChfMHgyYzRjMTguZXhpc3RzICYmIF8weDJjNGMxOC5kYXRhKCkuZGlzYWJsZWQpIHsKICAgICAgICBfMHgzMmI1NGQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY3VycmVudFVzZXIgPSBfMHgyODVlNTA7CiAgICAgIGN1cnJlbnRVc2VyRGF0YSA9IF8weDJjNGMxOC5kYXRhKCk7CiAgICAgIHVzZXJSb2xlID0gY3VycmVudFVzZXJEYXRhLnJvbGUgfHwgJ3N0dWRlbnQnOwogICAgICBzZXR1cEF1dGhlbnRpY2F0ZWRVSSgpOwogICAgICBsb2FkRGFzaGJvYXJkKCk7CiAgICB9IGVsc2UgewogICAgICBjdXJyZW50VXNlciA9IG51bGw7CiAgICAgIGN1cnJlbnRVc2VyRGF0YSA9IG51bGw7CiAgICAgIHNldHVwVW5hdXRoZW50aWNhdGVkVUkoKTsKICAgIH0KICAgIGxvYWRpbmdTY3JlZW4uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICB9KTsKCiAgZnVuY3Rpb24gXzB4MzJiNTRkKCkgewogICAgY29uc3QgXzB4MjhhYjAxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjY291bnREaXNhYmxlZE1vZGFsIik7CiAgICBfMHgyOGFiMDEuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICBhdXRoLnNpZ25PdXQoKTsKICAgIH0sIDB4YmI4KTsKICB9Cn0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVQcm9maWxlVGVybUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICBjb25zdCB0ZXJtU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2ZpbGVUZXJtIik7CiAgaWYgKHRlcm1TZWxlY3QuZGlzYWJsZWQpIHJldHVybjsKICBjb25zdCB0ZXJtID0gdGVybVNlbGVjdC52YWx1ZTsKICBpZiAoIXRlcm0pIHsKICAgIHNob3dUb2FzdCgi2YrYsdis2Ykg2KfYrtiq2YrYp9ixINin2YTYqtix2YUg2KfZhNiv2LHYp9iz2YouIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkuc2V0KHsgdGVybSB9LCB7IG1lcmdlOiB0cnVlIH0pLnRoZW4oKCkgPT4gewogICAgc2hvd1RvYXN0KCLYqtmFINit2YHYuCDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKISIsICJzdWNjZXNzIik7CiAgICB0ZXJtU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTsKICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlOwogICAgdGhpcy50ZXh0Q29udGVudCA9ICLYqtmFINin2YTYrdmB2LgiOwogIH0pOwp9OwovLyDYp9iz2KrYr9i52ZAg2KfZhNiv2KfZhNiq2YrZhiDYqNi52K8g2KrYrdmF2YrZhCDYp9mE2LTYsdin2KbYrSDZgdmKIGxvYWREYXNoYm9hcmQKZnVuY3Rpb24gbG9hZERhc2hib2FyZCgpIHsKICBzaG93UGFnZShkYXNoYm9hcmRQYWdlKTsKICBsb2FkU2xpZGVzKCk7CiAgaWYgKHVzZXJSb2xlID09PSAidGVhY2hlciIpIHsKICAgIGxvYWRTdHVkZW50c1Byb2dyZXNzKCk7CiAgICByZW5kZXJUZWFjaGVyRmlsdGVyQmFycygpOwogICAgc2V0dXBUZWFjaGVyRmlsdGVyRXZlbnRzKCk7CiAgICAvLyDZhNinINiq2K3ZhdmEINin2YTYp9iu2KrYqNin2LHYp9iqINij2Ygg2KfZhNmI2KfYrNio2KfYqiDYpdmE2Kcg2KjYudivINin2YTZgdmE2KrYsdipCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXMiKS5pbm5lckhUTUwgPSAiPHA+2KfYrtiq2LEg2KfZhNiz2YbYqSDZiNin2YTYqtix2YUg2YTYudix2LYg2KfZhNin2K7Yqtio2KfYsdin2KouPC9wPiI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RzR3JpZCIpLmlubmVySFRNTCA9ICI8cD7Yp9iu2KrYsSDYp9mE2LPZhtipINmI2KfZhNiq2LHZhSDZhNi52LHYtiDYp9mE2YjYp9is2KjYp9iqINin2YTZhdmG2LLZhNmK2KkuPC9wPiI7CiAgfSBlbHNlIHsKICAgIGxvYWRSZWNlbnRFeGFtcygpOwogICAgbG9hZFNlbGZUZXN0cygpOwogICAgbG9hZFN0dWRlbnRQcm9ncmVzcygpOwogIH0KfQpmdW5jdGlvbiBkZWxldGVTZWxmVGVzdChfMHgxZGY5MTMpIHsKICBkYi5jb2xsZWN0aW9uKCJzZWxmVGVzdHMiKS5kb2MoXzB4MWRmOTEzKVsiZGVsZXRlIl0oKS50aGVuKCgpID0+IHsKICAgIHNob3dUb2FzdCgi2KrZhSDYrdiw2YEg2KfZhNin2K7Yqtio2KfYsSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgICBsb2FkU2VsZlRlc3RzKCk7CiAgfSlbImNhdGNoIl0oXzB4NWVhNDU3ID0+IHsKICAgIHNob3dUb2FzdCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINit2LDZgSDYp9mE2KfYrtiq2KjYp9ixOiAiICsgXzB4NWVhNDU3Lm1lc3NhZ2UsICJlcnJvciIpOwogIH0pOwp9CmZ1bmN0aW9uIHNob3dUb2FzdChfMHgyMjdiNmMsIF8weDMxZjllZSA9ICJzdWNjZXNzIikgewogIGNvbnN0IF8weGYwZDVmYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b2FzdENvbnRhaW5lciIpOwogIGNvbnN0IF8weDExOTNiMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIF8weDExOTNiMi5jbGFzc05hbWUgPSAidG9hc3QgIiArIF8weDMxZjllZTsKICBfMHgxMTkzYjIuaW5uZXJIVE1MID0gIlxuICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1jaGVjay1jaXJjbGVcIj48L2k+XG4gICAgICAgIDxzcGFuPiIgKyBfMHgyMjdiNmMgKyAiPC9zcGFuPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG9hc3QtY2xvc2VcIj4mdGltZXM7PC9idXR0b24+XG4gICAgIjsKICBfMHhmMGQ1ZmEuYXBwZW5kQ2hpbGQoXzB4MTE5M2IyKTsKICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIF8weDExOTNiMi5zdHlsZS5hbmltYXRpb24gPSAiZmFkZU91dCAwLjVzIGVhc2UgZm9yd2FyZHMiOwogICAgc2V0VGltZW91dCgoKSA9PiBfMHgxMTkzYjIucmVtb3ZlKCksIDB4MWY0KTsKICB9LCAweGJiOCk7CiAgXzB4MTE5M2IyLnF1ZXJ5U2VsZWN0b3IoIi50b2FzdC1jbG9zZSIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgXzB4MTE5M2IyLnN0eWxlLmFuaW1hdGlvbiA9ICJmYWRlT3V0IDAuNXMgZWFzZSBmb3J3YXJkcyI7CiAgICBzZXRUaW1lb3V0KCgpID0+IF8weDExOTNiMi5yZW1vdmUoKSwgMHgxZjQpOwogIH0pOwp9Ci8vINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDYqNi52K8g2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqiDZgdmKIGxvYWRSZWNlbnRFeGFtcyDYo9mIINio2LnYryDYqti52LHZitmBIHJlY2VudEV4YW1zINmB2Yog2KfZhNi12YHYrdipINin2YTYsdim2YrYs9mK2KkKCi8vIDEuINij2LbZgSDYrdmC2YQg2KfZhNio2K3YqyDZgdmKIEhUTUwg2KPYudmE2Ykg2YLYp9im2YXYqSDYp9mE2KfYrtiq2KjYp9ix2KfYqiAo2LbYudmHINmB2YjZgiA8ZGl2IGNsYXNzPSJleGFtcy1jb250YWluZXIiPiDYp9mE2K7Yp9i12Kkg2KjYp9mE2KfYrtiq2KjYp9ix2KfYqikKY29uc3QgZXhhbXNTZWFyY2hCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKZXhhbXNTZWFyY2hCb3guaW5uZXJIVE1MID0gYAogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzZWFyY2hFeGFtc0lucHV0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0i2KfYqNit2Ksg2LnZhiDYp9iu2KrYqNin2LEuLi4iIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyI+CmA7CmNvbnN0IGV4YW1zQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3JlY2VudEV4YW1zIikucGFyZW50RWxlbWVudDsKZXhhbXNDb250YWluZXIuaW5zZXJ0QmVmb3JlKGV4YW1zU2VhcmNoQm94LCBleGFtc0NvbnRhaW5lci5maXJzdENoaWxkKTsKCi8vIDIuINiv2KfZhNipINin2YTYqNit2Ksg2YHZiiDYp9mE2KfYrtiq2KjYp9ix2KfYqgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VhcmNoRXhhbXNJbnB1dCIpLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZnVuY3Rpb24gKCkgewogICAgY29uc3QgcXVlcnkgPSB0aGlzLnZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgY29uc3QgZXhhbXNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY2VudEV4YW1zIik7CiAgICBjb25zdCBleGFtQ2FyZHMgPSBleGFtc0dyaWQucXVlcnlTZWxlY3RvckFsbCgiLmV4YW0tY2FyZCIpOwogICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICBleGFtQ2FyZHMuZm9yRWFjaChjYXJkID0+IHsKICAgICAgICBjb25zdCB0aXRsZSA9IGNhcmQucXVlcnlTZWxlY3RvcigiLmV4YW0tY2FyZC1oZWFkZXIiKT8udGV4dENvbnRlbnQ/LnRvTG93ZXJDYXNlKCkgfHwgIiI7CiAgICAgICAgY29uc3QgZGVzYyA9IGNhcmQucXVlcnlTZWxlY3RvcigiLmV4YW0tY2FyZC1ib2R5Iik/LnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpIHx8ICIiOwogICAgICAgIGlmICh0aXRsZS5pbmNsdWRlcyhxdWVyeSkgfHwgZGVzYy5pbmNsdWRlcyhxdWVyeSkpIHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB9CiAgICB9KTsKICAgIGlmICghZm91bmQgJiYgcXVlcnkubGVuZ3RoID4gMCkgewogICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2LfYp9io2YLYqSDZhNio2K3Yq9mDLjwvcD4iOwogICAgfSBlbHNlIGlmIChxdWVyeS5sZW5ndGggPT09IDApIHsKICAgICAgICAvLyDYpdi52KfYr9ipINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2Kog2KXYsNinINiq2YUg2YXYs9itINin2YTYqNit2KsKICAgICAgICBsb2FkUmVjZW50RXhhbXMoKTsKICAgIH0KfSk7CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHsKICAgICAgICBjb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlU2lkZWJhckJ0bicpOwogICAgICAgIGNvbnN0IHNpZGViYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhcicpOyAvLyBFbnN1cmUgdGhpcyBzZWxlY3RvciBjb3JyZWN0bHkgdGFyZ2V0cyB5b3VyIHNpZGViYXIgZWxlbWVudAoKICAgICAgICBpZiAodG9nZ2xlQnRuICYmIHNpZGViYXIpIHsKICAgICAgICAgICAgdG9nZ2xlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKCdzaG93Jyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmICghdG9nZ2xlQnRuKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTaWRlYmFyIHRvZ2dsZSBidXR0b24gI3RvZ2dsZVNpZGViYXJCdG4gbm90IGZvdW5kLicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghc2lkZWJhcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignU2lkZWJhciBlbGVtZW50IC5zaWRlYmFyIG5vdCBmb3VuZC4nKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwoKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINi22Lkg2YfYsNinINin2YTZg9mI2K8g2YHZiiDZhtmH2KfZitipINmF2YTZgSA8c2NyaXB0PiDYo9mIINio2LnYryDYqti52LHZitmBIHNldHVwQXV0aGVudGljYXRlZFVJINmF2KjYp9i02LHYqQoKLy8gMS4g2K/Yp9mE2Kkg2KrYrNi52YQg2LXZgdit2Kkg2KfZhNi32KfZhNioINiq2LjZh9ixINix2LPYp9mE2Kkg2KXYrNio2KfYsdmK2Kkg2LnZhtivINi32YTYqCDYp9mE2YXYudmE2YUg2KrYrdiv2YrYqyDYp9mE2LXZgdit2KkgKNiq2K3Yr9mK2Ksg2KrZhNmC2KfYptmKINmE2YTZg9mEKQpmdW5jdGlvbiBmb3JjZVN0dWRlbnRBdXRvUmVsb2FkKCkgewogIC8vINin2YbYqti42LEg2K3YqtmJINmK2KrZhSDYqti52LHZitmBIGN1cnJlbnRVc2VyINmIIHVzZXJSb2xlCiAgaWYgKHR5cGVvZiB1c2VyUm9sZSA9PT0gInVuZGVmaW5lZCIgfHwgdHlwZW9mIGN1cnJlbnRVc2VyID09PSAidW5kZWZpbmVkIiB8fCAhY3VycmVudFVzZXIpIHsKICAgIHNldFRpbWVvdXQoZm9yY2VTdHVkZW50QXV0b1JlbG9hZCwgODAwKTsgLy8g2KPYudivINin2YTZhdit2KfZiNmE2Kkg2KjYudivINmC2YTZitmECiAgICByZXR1cm47CiAgfQogIGlmICh1c2VyUm9sZSA9PT0gInN0dWRlbnQiICYmIGN1cnJlbnRVc2VyKSB7CiAgICBkYi5jb2xsZWN0aW9uKCJzdHVkZW50UmVsb2FkcyIpLmRvYyhjdXJyZW50VXNlci51aWQpCiAgICAgIC5vblNuYXBzaG90KGRvYyA9PiB7CiAgICAgICAgaWYgKGRvYy5leGlzdHMgJiYgZG9jLmRhdGEoKS5yZWxvYWQpIHsKICAgICAgICAgIC8vINij2LjZh9ixINix2LPYp9mE2KkgItmK2LHYrNmJINiq2K3Yr9mK2Ksg2KfZhNi12YHYrdipIiDZiNmE2Kcg2YrZhdmD2YYg2KXYutmE2KfZgtmH2Kcg2KXZhNinINio2LnYryDYudmF2YQg2LHZitmB2LHYtAogICAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9yY2VSZWZyZXNoTW9kYWxBbGwiKSkgewogICAgICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICBtb2RhbC5pZCA9ICJmb3JjZVJlZnJlc2hNb2RhbEFsbCI7CiAgICAgICAgICAgIG1vZGFsLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUudG9wID0gIjAiOwogICAgICAgICAgICBtb2RhbC5zdHlsZS5sZWZ0ID0gIjAiOwogICAgICAgICAgICBtb2RhbC5zdHlsZS53aWR0aCA9ICIxMDB2dyI7CiAgICAgICAgICAgIG1vZGFsLnN0eWxlLmhlaWdodCA9ICIxMDB2aCI7CiAgICAgICAgICAgIG1vZGFsLnN0eWxlLmJhY2tncm91bmQgPSAicmdiYSgwLDAsMCwwLjQ1KSI7CiAgICAgICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgICAgIG1vZGFsLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gImNlbnRlciI7CiAgICAgICAgICAgIG1vZGFsLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuekluZGV4ID0gIjk5OTk5IjsKICAgICAgICAgICAgbW9kYWwuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgIDxkaXYgc3R5bGU9IgogICAgICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZmFmYyA3MCUsICNlM2YwZmYgMTAwJSk7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAyMnB4OwogICAgICAgICAgICAgICAgcGFkZGluZzogMzhweCAzMnB4IDI4cHggMzJweDsKICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDMycHggcmdiYSgxMCwxMTIsMjU1LDAuMTUpOwogICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAzNzBweDsKICAgICAgICAgICAgICAgIHdpZHRoOiA5NnZ3OwogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWRlSW4gMC41czsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogcnRsOwogICAgICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgIzBhNzBmZjFhOwogICAgICAgICAgICAgICI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLWJvdHRvbToxMHB4OyI+CiAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiMwYTcwZmYxYTtib3JkZXItcmFkaXVzOjUwJTtwYWRkaW5nOjE4cHg7Ij4KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXN5bmMtYWx0IiBzdHlsZT0iZm9udC1zaXplOjIuN3JlbTtjb2xvcjojMGE3MGZmOyI+PC9pPgogICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxoMiBzdHlsZT0iZm9udC1zaXplOjEuNXJlbTtjb2xvcjojMGE3MGZmO21hcmdpbi1ib3R0b206MTRweDtmb250LXdlaWdodDpib2xkO2xldHRlci1zcGFjaW5nOjFweDsiPtmK2LHYrNmJINiq2K3Yr9mK2Ksg2KfZhNi12YHYrdipPC9oMj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxLjE1cmVtO2NvbG9yOiMyMjI7bWFyZ2luLWJvdHRvbToyMnB4O2xpbmUtaGVpZ2h0OjI7d29yZC1icmVhazpicmVhay13b3JkO3RleHQtYWxpZ246Y2VudGVyOyI+CiAgICAgICAgICAgICAgICAgINiq2YUg2KXYsdiz2KfZhCDYo9mF2LEg2KrYrdiv2YrYqyDYp9mE2LXZgdit2Kkg2YXZhiDYp9mE2KXYr9in2LHYqS48YnI+CiAgICAgICAgICAgICAgICAgINmK2KzYqCDYudmE2YrZgyA8YiBzdHlsZT0iY29sb3I6IzE0ZWU4ODsiPtiq2K3Yr9mK2Ksg2KfZhNi12YHYrdipIChSZWxvYWQpPC9iPiDZhNmF2KrYp9io2LnYqSDYp9iz2KrYrtiv2KfZhSDYp9mE2YXZhti12KkuPGJyPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJmb3JjZVJlbG9hZEJ0bkFsbCIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgc3R5bGU9InBhZGRpbmc6MTJweCAzOHB4O2ZvbnQtc2l6ZToxLjE1cmVtO2JvcmRlci1yYWRpdXM6OHB4O21hcmdpbi10b3A6MTBweDtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCg5MGRlZywjMGE3MGZmLCMxNGVlODgpO2JvcmRlcjpub25lOyI+CiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc3luYy1hbHQiIHN0eWxlPSJtYXJnaW4tbGVmdDo4cHg7Ij48L2k+INiq2K3Yr9mK2Ksg2KfZhNi12YHYrdipINin2YTYotmGCiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JjZVJlbG9hZEJ0bkFsbCIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAvLyDYqNi52K8g2LnZhdmEINix2YrZgdix2LTYjCDYp9mF2LPYrSByZWxvYWQg2YXZhiDZgtin2LnYr9ipINin2YTYqNmK2KfZhtin2Kog2YTZh9iw2Kcg2KfZhNi32KfZhNioCiAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbigic3R1ZGVudFJlbG9hZHMiKS5kb2MoY3VycmVudFVzZXIudWlkKS5zZXQoeyByZWxvYWQ6IGZhbHNlIH0pOwogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogIH0KfQpmb3JjZVN0dWRlbnRBdXRvUmVsb2FkKCk7CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgoKZnVuY3Rpb24gZmluaXNoU2VsZlRlc3QoKSB7CiAgICBsZXQgY29ycmVjdEFuc3dlcnMgPSAwOwogICAgY3VycmVudEV4YW0ucXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBpbmRleCkgPT4gewogICAgICAgIGlmICh1c2VyQW5zd2Vyc1tpbmRleF0gPT09IHF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXIpIHsKICAgICAgICAgICAgY29ycmVjdEFuc3dlcnMrKzsKICAgICAgICB9CiAgICB9KTsKCiAgICBjb25zdCB0b3RhbFF1ZXN0aW9ucyA9IGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5sZW5ndGg7CiAgICBjb25zdCBzY29yZVBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKChjb3JyZWN0QW5zd2VycyAvIHRvdGFsUXVlc3Rpb25zKSAqIDEwMCk7CiAgICBjb25zdCB3cm9uZ0Fuc3dlcnMgPSB0b3RhbFF1ZXN0aW9ucyAtIGNvcnJlY3RBbnN3ZXJzOwoKICAgIC8vINit2YHYuCDYp9mE2YbYqtmK2KzYqSDZgdmKINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqiAoc2VsZlRlc3RSZXN1bHRzKQogICAgZGIuY29sbGVjdGlvbigic2VsZlRlc3RSZXN1bHRzIikuYWRkKHsKICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLnVpZCwKICAgICAgICB1c2VyTmFtZTogY3VycmVudFVzZXJEYXRhPy5bIm5hbWUiXSB8fCBjdXJyZW50VXNlci5lbWFpbCwKICAgICAgICBzZWxmVGVzdElkOiBjdXJyZW50RXhhbS5pZCwKICAgICAgICBzZWxmVGVzdFRpdGxlOiBjdXJyZW50RXhhbS50aXRsZSwKICAgICAgICBzY29yZVBlcmNlbnRhZ2U6IHNjb3JlUGVyY2VudGFnZSwKICAgICAgICBjb3JyZWN0QW5zd2VyczogY29ycmVjdEFuc3dlcnMsCiAgICAgICAgd3JvbmdBbnN3ZXJzOiB3cm9uZ0Fuc3dlcnMsCiAgICAgICAgYW5zd2VyczogdXNlckFuc3dlcnMsCiAgICAgICAgc3VibWl0dGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgfSk7CgogICAgLy8g2KrYrdiv2YrYqyDYp9mE2YbYqtmK2KzYqSDZgdmKINin2YTZhtin2YHYsNipINin2YTZhdmG2KjYq9mC2KkKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxmVGVzdFJlc3VsdFNjb3JlJykudGV4dENvbnRlbnQgPSBzY29yZVBlcmNlbnRhZ2UgKyAnJSc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RDb3JyZWN0QW5zd2VycyIpLnRleHRDb250ZW50ID0gY29ycmVjdEFuc3dlcnM7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RXcm9uZ0Fuc3dlcnMiKS50ZXh0Q29udGVudCA9IHdyb25nQW5zd2VyczsKCiAgICAvLyDYudix2LYg2KfZhNmG2KfZgdiw2Kkg2KfZhNmF2YbYqNir2YLYqQogICAgY29uc3QgcmVzdWx0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZlRlc3RSZXN1bHRNb2RhbCcpOwogICAgcmVzdWx0TW9kYWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKCiAgICAvLyDYpdi52KfYr9ipINiq2LnZitmK2YYg2KfZhNin2K7Yqtio2KfYsQogICAgY3VycmVudEV4YW0gPSBudWxsOwogICAgY3VycmVudFF1ZXN0aW9uSW5kZXggPSAwOwogICAgdXNlckFuc3dlcnMgPSB7fTsKCiAgICAvLyDYpdi62YTYp9mCINin2YTZhtin2YHYsNipINi52YbYryDYp9mE2YbZgtixINi52YTZiSDYstixINin2YTYpdi62YTYp9mCCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2VTZWxmVGVzdFJlc3VsdE1vZGFsJykub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZlRlc3RSZXN1bHRNb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgLy8g2YrZhdmD2YbZgyDZh9mG2Kcg2KXYudin2K/YqSDYp9mE2YXYs9iq2K7Yr9mFINmE2YLYs9mFICLYp9iu2KrYqNixINmG2YHYs9mDIiDYo9mIINij2Yog2LXZgdit2Kkg2KPYrtix2Ykg2KXYsNinINij2LHYr9iqCiAgICAgICAgLy8g2YXYq9in2YQ6IHNob3dQYWdlKGRhc2hib2FyZFBhZ2UpOwogICAgfTsKfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmluaXNoU2VsZlRlc3RCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZpbmlzaFNlbGZUZXN0KTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1bGtVcGxvYWRTZWxmVGVzdEJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWxrVXBsb2FkU2VsZlRlc3RJbnB1dCcpLmNsaWNrKCk7Cn0pOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnVsa1VwbG9hZFNlbGZUZXN0SW5wdXQiKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBfMHgxYWE4MGEgPT4gewogIGNvbnN0IF8weDFmNTc5ZSA9IF8weDFhYTgwYS50YXJnZXQuZmlsZXNbMHgwXTsKICBpZiAoIV8weDFmNTc5ZSkgewogICAgcmV0dXJuOwogIH0KICBjb25zdCBfMHgzZTkyNjQgPSBfMHgxZjU3OWUubmFtZS5zcGxpdCgnLicpLnBvcCgpLnRvTG93ZXJDYXNlKCk7CiAgaWYgKF8weDNlOTI2NCA9PT0gImNzdiIpIHsKICAgIFBhcGEucGFyc2UoXzB4MWY1NzllLCB7CiAgICAgICdoZWFkZXInOiB0cnVlLAogICAgICAnY29tcGxldGUnOiBmdW5jdGlvbiAoXzB4M2NjMzg5KSB7CiAgICAgICAgcHJvY2Vzc1NlbGZUZXN0UXVlc3Rpb25zKF8weDNjYzM4OS5kYXRhKTsKICAgICAgfSwKICAgICAgJ2Vycm9yJzogZnVuY3Rpb24gKF8weDIwMDA3NCkgewogICAgICAgIGFsZXJ0KCLYrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2YLYsdin2KHYqSDYp9mE2YXZhNmBOiAiICsgXzB4MjAwMDc0Lm1lc3NhZ2UpOwogICAgICB9CiAgICB9KTsKICB9IGVsc2UgewogICAgaWYgKFsieGxzeCIsICJ4bHMiXS5pbmNsdWRlcyhfMHgzZTkyNjQpKSB7CiAgICAgIGNvbnN0IF8weDNlYTYxNCA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIF8weDNlYTYxNC5vbmxvYWQgPSBmdW5jdGlvbiAoXzB4NDJiZjRhKSB7CiAgICAgICAgY29uc3QgXzB4NGNkNjI3ID0gbmV3IFVpbnQ4QXJyYXkoXzB4NDJiZjRhLnRhcmdldC5yZXN1bHQpOwogICAgICAgIGNvbnN0IF8weDU1OGIzOCA9IFhMU1gucmVhZChfMHg0Y2Q2MjcsIHsKICAgICAgICAgICd0eXBlJzogJ2FycmF5JwogICAgICAgIH0pOwogICAgICAgIGNvbnN0IF8weDNmNDc0MiA9IF8weDU1OGIzOC5TaGVldE5hbWVzWzB4MF07CiAgICAgICAgY29uc3QgXzB4MmIyOGUyID0gXzB4NTU4YjM4LlNoZWV0c1tfMHgzZjQ3NDJdOwogICAgICAgIGNvbnN0IF8weDFkYWY0NCA9IFhMU1gudXRpbHMuc2hlZXRfdG9fanNvbihfMHgyYjI4ZTIpOwogICAgICAgIHByb2Nlc3NTZWxmVGVzdFF1ZXN0aW9ucyhfMHgxZGFmNDQpOwogICAgICB9OwogICAgICBfMHgzZWE2MTQucmVhZEFzQXJyYXlCdWZmZXIoXzB4MWY1NzllKTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KCLZitix2KzZiSDYsdmB2Lkg2YXZhNmBINio2LXZiti62KkgQ1NWINij2YggRXhjZWwg2YHZgti3LiIpOwogICAgfQogIH0KfSk7Ci8vINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDYqNi52K8g2KrYrdmF2YrZhCDYp9mE2LXZgdit2Kkg2KfZhNix2KbZitiz2YrYqSDYo9mIINio2LnYryDYr9in2YTYqSBsb2FkRGFzaGJvYXJkINmF2KjYp9i02LHYqQovLyDYr9in2YTYqSDZhNil2LjZh9in2LEg2LTYsdmK2Lcg2KfZhNmB2YTYqtix2Kkg2YHZiiDYtdmB2K3YqSDYp9mE2KfYrtiq2KjYp9ix2KfYqiDZhNmE2LfYp9mE2Kgg2YjYp9mE2YXYudmE2YUKZnVuY3Rpb24gcmVuZGVyRXhhbXNQYWdlRmlsdGVyQmFyKCkgewogIGNvbnN0IGV4YW1zVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjZXhhbXNQYWdlIGgyLnBhZ2UtdGl0bGUgaS5mYS1jbGlwYm9hcmQtbGlzdCIpPy5wYXJlbnRFbGVtZW50OwogIGlmIChleGFtc1RpdGxlICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbXNQYWdlRmlsdGVyQmFyIikpIHsKICAgIGNvbnN0IGZpbHRlckJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgZmlsdGVyQmFyLmlkID0gImV4YW1zUGFnZUZpbHRlckJhciI7CiAgICBmaWx0ZXJCYXIuc3R5bGUgPSAibWFyZ2luLWJvdHRvbToxOHB4O2Rpc3BsYXk6ZmxleDtnYXA6MTBweDtmbGV4LXdyYXA6d3JhcDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjsiOwogICAgZmlsdGVyQmFyLmlubmVySFRNTCA9IGAKICAgICAgPHNlbGVjdCBpZD0iZXhhbXNQYWdlRmlsdGVyWWVhciIgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9Im1heC13aWR0aDoxNjBweDsiPgogICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNij2YjZhNmJINir2KfZhtmI2YoiPtin2YTYo9mI2YTZiSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YTYq9ipINir2KfZhtmI2YoiPtin2YTYq9in2YTYq9ipINir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgPC9zZWxlY3Q+CiAgICAgIDxzZWxlY3QgaWQ9ImV4YW1zUGFnZUZpbHRlclRlcm0iIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHN0eWxlPSJtYXgtd2lkdGg6MTIwcHg7Ij4KICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtin2K7YqtixINin2YTYqtix2YUg2KfZhNiv2LHYp9iz2Yo8L29wdGlvbj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KPZiNmEIj7Yqtix2YUg2KPZiNmEPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmKIj7Yqtix2YUg2KvYp9mG2Yo8L29wdGlvbj4KICAgICAgPC9zZWxlY3Q+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImFwcGx5RXhhbXNQYWdlRmlsdGVyQnRuIj7ZgdmE2KrYsdipINin2YTYp9iu2KrYqNin2LHYp9iqPC9idXR0b24+CiAgICBgOwogICAgZXhhbXNUaXRsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoImFmdGVyZW5kIiwgZmlsdGVyQmFyKTsKICB9Cn0KZnVuY3Rpb24gc2V0dXBFeGFtc1BhZ2VGaWx0ZXJFdmVudHMoKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcGx5RXhhbXNQYWdlRmlsdGVyQnRuIik/LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgY29uc3QgeWVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtc1BhZ2VGaWx0ZXJZZWFyIikudmFsdWU7CiAgICBjb25zdCB0ZXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1zUGFnZUZpbHRlclRlcm0iKS52YWx1ZTsKICAgIGNvbnN0IGV4YW1zR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGxFeGFtcyIpOwogICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqLi4uPC9wPiI7CiAgICBkYi5jb2xsZWN0aW9uKCJleGFtcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIiI7CiAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICBjb25zdCBleGFtID0gZG9jLmRhdGEoKTsKICAgICAgICBpZiAoCiAgICAgICAgICAoIXllYXIgfHwgZXhhbS55ZWFyID09PSB5ZWFyKSAmJgogICAgICAgICAgKCF0ZXJtIHx8IGV4YW0udGVybSA9PT0gdGVybSkKICAgICAgICApIHsKICAgICAgICAgIGV4YW1zR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVFeGFtQ2FyZChleGFtLCBkb2MuaWQpKTsKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYt9in2KjZgtipINmE2YTZgdmE2KrYsdipLjwvcD4iOwogICAgICB9CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2Ko6ICIgKyBlcnJvci5tZXNzYWdlICsgIjwvcD4iOwogICAgfSk7CiAgfSk7Cn0KCi8vINin2LPYqtiv2LnZkCDYp9mE2K/Yp9mE2KrZitmGINi52YbYryDZgdiq2K0g2LXZgdit2Kkg2KfZhNin2K7Yqtio2KfYsdin2KoKCmZ1bmN0aW9uIHJlbmRlclRlYWNoZXJGaWx0ZXJCYXJzKCkgewogIGlmICh1c2VyUm9sZSAhPT0gInRlYWNoZXIiKSByZXR1cm47CgogIC8vINmB2YTYqtixINin2YTYp9iu2KrYqNin2LHYp9iqCiAgY29uc3QgZXhhbXNUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNkYXNoYm9hcmRQYWdlIGgzLnBhZ2UtdGl0bGUgaS5mYS1jbGlwYm9hcmQtbGlzdCIpPy5wYXJlbnRFbGVtZW50OwogIGlmIChleGFtc1RpdGxlICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVhY2hlckV4YW1GaWx0ZXJCYXIiKSkgewogICAgY29uc3QgZXhhbUZpbHRlckJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgZXhhbUZpbHRlckJhci5pZCA9ICJ0ZWFjaGVyRXhhbUZpbHRlckJhciI7CiAgICBleGFtRmlsdGVyQmFyLnN0eWxlID0gIm1hcmdpbi1ib3R0b206MThweDtkaXNwbGF5OmZsZXg7Z2FwOjEwcHg7ZmxleC13cmFwOndyYXA7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7IjsKICAgIGV4YW1GaWx0ZXJCYXIuaW5uZXJIVE1MID0gYAogICAgICA8c2VsZWN0IGlkPSJmaWx0ZXJFeGFtWWVhciIgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9Im1heC13aWR0aDoxNjBweDsiPgogICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNij2YjZhNmJINir2KfZhtmI2YoiPtin2YTYo9mI2YTZiSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YTYq9ipINir2KfZhtmI2YoiPtin2YTYq9in2YTYq9ipINir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgPC9zZWxlY3Q+CiAgICAgIDxzZWxlY3QgaWQ9ImZpbHRlckV4YW1UZXJtIiBjbGFzcz0iZm9ybS1jb250cm9sIiBzdHlsZT0ibWF4LXdpZHRoOjEyMHB4OyI+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNij2YjZhCI+2KrYsdmFINij2YjZhDwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YbZiiI+2KrYsdmFINir2KfZhtmKPC9vcHRpb24+CiAgICAgIDwvc2VsZWN0PgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJhcHBseUV4YW1GaWx0ZXJCdG4iPtmB2YTYqtix2Kkg2KfZhNin2K7Yqtio2KfYsdin2Ko8L2J1dHRvbj4KICAgIGA7CiAgICBleGFtc1RpdGxlLmluc2VydEFkamFjZW50RWxlbWVudCgiYWZ0ZXJlbmQiLCBleGFtRmlsdGVyQmFyKTsKICB9CgogIC8vINmB2YTYqtixINin2YTZiNin2KzYqNin2KoKICBjb25zdCBzZWxmVGVzdHNUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNkYXNoYm9hcmRQYWdlICNzZWxmVGVzdHNEYXNoYm9hcmQgaDMucGFnZS10aXRsZSBpLmZhLWJyYWluIik/LnBhcmVudEVsZW1lbnQ7CiAgaWYgKHNlbGZUZXN0c1RpdGxlICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVhY2hlclNlbGZUZXN0RmlsdGVyQmFyIikpIHsKICAgIGNvbnN0IHNlbGZUZXN0RmlsdGVyQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBzZWxmVGVzdEZpbHRlckJhci5pZCA9ICJ0ZWFjaGVyU2VsZlRlc3RGaWx0ZXJCYXIiOwogICAgc2VsZlRlc3RGaWx0ZXJCYXIuc3R5bGUgPSAibWFyZ2luLWJvdHRvbToxOHB4O2Rpc3BsYXk6ZmxleDtnYXA6MTBweDtmbGV4LXdyYXA6d3JhcDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjsiOwogICAgc2VsZlRlc3RGaWx0ZXJCYXIuaW5uZXJIVE1MID0gYAogICAgICA8c2VsZWN0IGlkPSJmaWx0ZXJTZWxmVGVzdFllYXIiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHN0eWxlPSJtYXgtd2lkdGg6MTYwcHg7Ij4KICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtin2K7YqtixINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqTwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YTZiSDYq9in2YbZiNmKIj7Yp9mE2KPZiNmE2Ykg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YbZitipINir2KfZhtmI2YoiPtin2YTYq9in2YbZitipINir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mE2KvYqSDYq9in2YbZiNmKIj7Yp9mE2KvYp9mE2KvYqSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICAgIDwvc2VsZWN0PgogICAgICA8c2VsZWN0IGlkPSJmaWx0ZXJTZWxmVGVzdFRlcm0iIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHN0eWxlPSJtYXgtd2lkdGg6MTIwcHg7Ij4KICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtin2K7YqtixINin2YTYqtix2YUg2KfZhNiv2LHYp9iz2Yo8L29wdGlvbj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KPZiNmEIj7Yqtix2YUg2KPZiNmEPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmKIj7Yqtix2YUg2KvYp9mG2Yo8L29wdGlvbj4KICAgICAgPC9zZWxlY3Q+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImFwcGx5U2VsZlRlc3RGaWx0ZXJCdG4iPtmB2YTYqtix2Kkg2KfZhNmI2KfYrNio2KfYqjwvYnV0dG9uPgogICAgYDsKICAgIHNlbGZUZXN0c1RpdGxlLmluc2VydEFkamFjZW50RWxlbWVudCgiYWZ0ZXJlbmQiLCBzZWxmVGVzdEZpbHRlckJhcik7CiAgfQp9Ci8vIDIuINi52YbYryDYp9mE2LbYuti3INi52YTZiSDYstixINin2YTZgdmE2KrYsdip2Iwg2KPYuNmH2LEg2YHZgti3INin2YTYtNix2KfYptitINin2YTZhdi32KfYqNmC2KkgKNmI2YTYpyDYqti42YfYsSDYo9mKINi02LHZitit2Kkg2YLYqNmEINin2YTZgdmE2KrYsdipKQpmdW5jdGlvbiBzZXR1cFRlYWNoZXJGaWx0ZXJFdmVudHMoKSB7CiAgaWYgKHVzZXJSb2xlICE9PSAidGVhY2hlciIpIHJldHVybjsKCiAgLy8g2YHZhNiq2LHYqSDYp9mE2KfYrtiq2KjYp9ix2KfYqgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHBseUV4YW1GaWx0ZXJCdG4iKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCB5ZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckV4YW1ZZWFyIikudmFsdWU7CiAgICBjb25zdCB0ZXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckV4YW1UZXJtIikudmFsdWU7CiAgICBjb25zdCBleGFtc0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXMiKTsKICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqi4uLjwvcD4iOwogICAgZGIuY29sbGVjdGlvbigiZXhhbXMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICIiOwogICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgY29uc3QgZXhhbSA9IGRvYy5kYXRhKCk7CiAgICAgICAgaWYgKAogICAgICAgICAgKCF5ZWFyIHx8IGV4YW0ueWVhciA9PT0geWVhcikgJiYKICAgICAgICAgICghdGVybSB8fCBleGFtLnRlcm0gPT09IHRlcm0pCiAgICAgICAgKSB7CiAgICAgICAgICBleGFtc0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlRXhhbUNhcmQoZXhhbSwgZG9jLmlkKSk7CiAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2LfYp9io2YLYqSDZhNmE2YHZhNiq2LHYqS48L3A+IjsKICAgICAgfQogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqOiAiICsgZXJyb3IubWVzc2FnZSArICI8L3A+IjsKICAgIH0pOwogIH0pOwoKICAvLyDZgdmE2KrYsdipINin2YTZiNin2KzYqNin2Kog2KfZhNmF2YbYstmE2YrYqQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHBseVNlbGZUZXN0RmlsdGVyQnRuIik/LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgY29uc3QgeWVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJTZWxmVGVzdFllYXIiKS52YWx1ZTsKICAgIGNvbnN0IHRlcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyU2VsZlRlc3RUZXJtIikudmFsdWU7CiAgICBjb25zdCBzZWxmVGVzdHNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c0dyaWQiKTsKICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNmI2KfYrNio2KfYqi4uLjwvcD4iOwogICAgZGIuY29sbGVjdGlvbigic2VsZlRlc3RzIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIiI7CiAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICBjb25zdCBzZWxmVGVzdCA9IGRvYy5kYXRhKCk7CiAgICAgICAgaWYgKAogICAgICAgICAgKCF5ZWFyIHx8IHNlbGZUZXN0LnllYXIgPT09IHllYXIpICYmCiAgICAgICAgICAoIXRlcm0gfHwgc2VsZlRlc3QudGVybSA9PT0gdGVybSkKICAgICAgICApIHsKICAgICAgICAgIHNlbGZUZXN0c0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlU2VsZlRlc3RDYXJkKHNlbGZUZXN0LCBkb2MuaWQpKTsKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDZiNin2KzYqNin2Kog2YXYt9in2KjZgtipINmE2YTZgdmE2KrYsdipLjwvcD4iOwogICAgICB9CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTZiNin2KzYqNin2Ko6ICIgKyBlcnJvci5tZXNzYWdlICsgIjwvcD4iOwogICAgfSk7CiAgfSk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBsb2FkUmVjZW50RXhhbXNGb3JUZWFjaGVyRmlsdGVyZWQoeWVhciA9ICIiLCB0ZXJtID0gIiIsIHBhZ2UgPSAxKSB7CiAgY29uc3QgZXhhbXNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY2VudEV4YW1zIik7CiAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqLi4uPC9wPiI7CgogIGRiLmNvbGxlY3Rpb24oImV4YW1zIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdiq2KfYrdipINit2KfZhNmK2KfZizwvcD4iOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXNQYWdlclRvcCIpPy5yZW1vdmUoKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGFsbEV4YW1zID0gW107CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiBhbGxFeGFtcy5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7CgogICAgY29uc3QgZmlsdGVyZWQgPSBhbGxFeGFtcy5maWx0ZXIoZXhhbSA9PiB7CiAgICAgIHJldHVybiAoIXllYXIgfHwgZXhhbS55ZWFyID09PSB5ZWFyKSAmJiAoIXRlcm0gfHwgZXhhbS50ZXJtID09PSB0ZXJtKTsKICAgIH0pOwoKICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT09IDApIHsKICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYt9in2KjZgtipINmE2YTZgdmE2KrYsdipLjwvcD4iOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXNQYWdlclRvcCIpPy5yZW1vdmUoKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoZmlsdGVyZWQubGVuZ3RoIC8gSVRFTVNfUEVSX1BBR0UpKTsKICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gTWF0aC5tYXgoMSwgTWF0aC5taW4ocGFnZSwgdG90YWxQYWdlcykpOwogICAgY29uc3Qgc3RhcnQgPSAoY3VycmVudFBhZ2UgLSAxKSAqIElURU1TX1BFUl9QQUdFOwogICAgY29uc3QgcGFnZUV4YW1zID0gZmlsdGVyZWQuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgSVRFTVNfUEVSX1BBR0UpOwoKICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiIjsKICAgIHBhZ2VFeGFtcy5mb3JFYWNoKGUgPT4gZXhhbXNHcmlkLmFwcGVuZENoaWxkKGNyZWF0ZUV4YW1DYXJkKGUsIGUuaWQpKSk7CgogICAgLy8gdG9wIHBhZ2VyICh0ZWFjaGVyKQogICAgbGV0IHBhZ2VyVG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY2VudEV4YW1zUGFnZXJUb3AiKTsKICAgIGlmICghcGFnZXJUb3ApIHsKICAgICAgcGFnZXJUb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgcGFnZXJUb3AuaWQgPSAicmVjZW50RXhhbXNQYWdlclRvcCI7CiAgICAgIHBhZ2VyVG9wLnN0eWxlID0gImRpc3BsYXk6ZmxleDtnYXA6MTBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW46OHB4IDA7IjsKICAgICAgZXhhbXNHcmlkLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHBhZ2VyVG9wLCBleGFtc0dyaWQpOwogICAgfQogICAgcGFnZXJUb3AuaW5uZXJIVE1MID0gYAogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIGlkPSJleGFtc1ByZXZCdG5Ub3AiICR7Y3VycmVudFBhZ2UgPT09IDEgPyAnZGlzYWJsZWQnIDogJyd9Ptin2YTYs9in2KjZgjwvYnV0dG9uPgogICAgICA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6NzAwO2NvbG9yOiMwYTcwZmY7Ij7YtdmB2K3YqSAke2N1cnJlbnRQYWdlfSDZhdmGICR7dG90YWxQYWdlc308L3NwYW4+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9ImV4YW1zTmV4dEJ0blRvcCIgJHtjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyA/ICdkaXNhYmxlZCcgOiAnJ30+2KfZhNiq2KfZhNmKPC9idXR0b24+CiAgICBgOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1zUHJldkJ0blRvcCIpLm9uY2xpY2sgPSAoKSA9PiBsb2FkUmVjZW50RXhhbXNGb3JUZWFjaGVyRmlsdGVyZWQoeWVhciwgdGVybSwgY3VycmVudFBhZ2UgLSAxKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtc05leHRCdG5Ub3AiKS5vbmNsaWNrID0gKCkgPT4gbG9hZFJlY2VudEV4YW1zRm9yVGVhY2hlckZpbHRlcmVkKHllYXIsIHRlcm0sIGN1cnJlbnRQYWdlICsgMSk7CiAgfSkuY2F0Y2goZXJyID0+IHsKICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2Ko6ICIgKyBlcnIubWVzc2FnZSArICI8L3A+IjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNlbnRFeGFtc1BhZ2VyVG9wIik/LnJlbW92ZSgpOwogIH0pOwp9CgpmdW5jdGlvbiBsb2FkU2VsZlRlc3RzRm9yVGVhY2hlckZpbHRlcmVkKHllYXIgPSAiIiwgdGVybSA9ICIiLCBwYWdlID0gMSkgewogIGNvbnN0IHNlbGZUZXN0c0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RzR3JpZCIpOwogIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNmI2KfYrNio2KfYqi4uLjwvcD4iOwoKICBkYi5jb2xsZWN0aW9uKCdzZWxmVGVzdHMnKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2YjYp9is2KjYp9iqINmF2KrYp9it2Kkg2K3Yp9mE2YrYp9mLPC9wPiI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNQYWdlclRvcCIpPy5yZW1vdmUoKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGFsbFRlc3RzID0gW107CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiBhbGxUZXN0cy5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7CgogICAgY29uc3QgZmlsdGVyZWQgPSBhbGxUZXN0cy5maWx0ZXIodGVzdCA9PiB7CiAgICAgIHJldHVybiAoIXllYXIgfHwgdGVzdC55ZWFyID09PSB5ZWFyKSAmJiAoIXRlcm0gfHwgdGVzdC50ZXJtID09PSB0ZXJtKTsKICAgIH0pOwoKICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT09IDApIHsKICAgICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDZiNin2KzYqNin2Kog2YXYt9in2KjZgtipINmE2YTZgdmE2KrYsdipLjwvcD4iOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RzUGFnZXJUb3AiKT8ucmVtb3ZlKCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKGZpbHRlcmVkLmxlbmd0aCAvIElURU1TX1BFUl9QQUdFKSk7CiAgICBjb25zdCBjdXJyZW50UGFnZSA9IE1hdGgubWF4KDEsIE1hdGgubWluKHBhZ2UsIHRvdGFsUGFnZXMpKTsKICAgIGNvbnN0IHN0YXJ0ID0gKGN1cnJlbnRQYWdlIC0gMSkgKiBJVEVNU19QRVJfUEFHRTsKICAgIGNvbnN0IHBhZ2VUZXN0cyA9IGZpbHRlcmVkLnNsaWNlKHN0YXJ0LCBzdGFydCArIElURU1TX1BFUl9QQUdFKTsKCiAgICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICIiOwogICAgcGFnZVRlc3RzLmZvckVhY2godCA9PiBzZWxmVGVzdHNHcmlkLmFwcGVuZENoaWxkKGNyZWF0ZVNlbGZUZXN0Q2FyZCh0LCB0LmlkKSkpOwoKICAgIC8vIHRvcCBwYWdlciAodGVhY2hlcikKICAgIGxldCBwYWdlclRvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNQYWdlclRvcCIpOwogICAgaWYgKCFwYWdlclRvcCkgewogICAgICBwYWdlclRvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBwYWdlclRvcC5pZCA9ICJzZWxmVGVzdHNQYWdlclRvcCI7CiAgICAgIHBhZ2VyVG9wLnN0eWxlID0gImRpc3BsYXk6ZmxleDtnYXA6MTBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW46OHB4IDA7IjsKICAgICAgc2VsZlRlc3RzR3JpZC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShwYWdlclRvcCwgc2VsZlRlc3RzR3JpZCk7CiAgICB9CiAgICBwYWdlclRvcC5pbm5lckhUTUwgPSBgCiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9InNlbGZUZXN0c1ByZXZCdG5Ub3AiICR7Y3VycmVudFBhZ2UgPT09IDEgPyAnZGlzYWJsZWQnIDogJyd9Ptin2YTYs9in2KjZgjwvYnV0dG9uPgogICAgICA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6NzAwO2NvbG9yOiMwYTcwZmY7Ij7YtdmB2K3YqSAke2N1cnJlbnRQYWdlfSDZhdmGICR7dG90YWxQYWdlc308L3NwYW4+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9InNlbGZUZXN0c05leHRCdG5Ub3AiICR7Y3VycmVudFBhZ2UgPT09IHRvdGFsUGFnZXMgPyAnZGlzYWJsZWQnIDogJyd9Ptin2YTYqtin2YTZijwvYnV0dG9uPgogICAgYDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNQcmV2QnRuVG9wIikub25jbGljayA9ICgpID0+IGxvYWRTZWxmVGVzdHNGb3JUZWFjaGVyRmlsdGVyZWQoeWVhciwgdGVybSwgY3VycmVudFBhZ2UgLSAxKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNOZXh0QnRuVG9wIikub25jbGljayA9ICgpID0+IGxvYWRTZWxmVGVzdHNGb3JUZWFjaGVyRmlsdGVyZWQoeWVhciwgdGVybSwgY3VycmVudFBhZ2UgKyAxKTsKICB9KS5jYXRjaChlcnIgPT4gewogICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNmI2KfYrNio2KfYqjogIiArIGVyci5tZXNzYWdlICsgIjwvcD4iOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c1BhZ2VyVG9wIik/LnJlbW92ZSgpOwogIH0pOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gc2V0dXBUZWFjaGVyRmlsdGVyRXZlbnRzKCkgewogIGlmICh1c2VyUm9sZSAhPT0gInRlYWNoZXIiKSByZXR1cm47CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHBseUV4YW1GaWx0ZXJCdG4iKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCB5ZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckV4YW1ZZWFyIikudmFsdWU7CiAgICBjb25zdCB0ZXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlckV4YW1UZXJtIikudmFsdWU7CiAgICBsb2FkUmVjZW50RXhhbXNGb3JUZWFjaGVyRmlsdGVyZWQoeWVhciwgdGVybSk7CiAgfSk7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHBseVNlbGZUZXN0RmlsdGVyQnRuIik/LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgY29uc3QgeWVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJTZWxmVGVzdFllYXIiKS52YWx1ZTsKICAgIGNvbnN0IHRlcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyU2VsZlRlc3RUZXJtIikudmFsdWU7CiAgICBsb2FkU2VsZlRlc3RzRm9yVGVhY2hlckZpbHRlcmVkKHllYXIsIHRlcm0pOwogIH0pOwp9CgovLyAzLiDYudmG2K8g2KrYrdmF2YrZhCDYp9mE2LXZgdit2Kkg2KfZhNix2KbZitiz2YrYqSDZhNmE2YXYudmE2YXYjCDZhNinINiq2LjZh9ixINij2Yog2LTYsdmK2K3YqSDYpdmE2Kcg2KjYudivINin2YTZgdmE2KrYsdipCmZ1bmN0aW9uIGhpZGVBbGxDYXJkc0ZvclRlYWNoZXIoKSB7CiAgaWYgKHVzZXJSb2xlICE9PSAidGVhY2hlciIpIHJldHVybjsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXMiKT8ucXVlcnlTZWxlY3RvckFsbCgiLmV4YW0tY2FyZCIpLmZvckVhY2goY2FyZCA9PiBjYXJkLnN0eWxlLmRpc3BsYXkgPSAibm9uZSIpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNHcmlkIik/LnF1ZXJ5U2VsZWN0b3JBbGwoIi5zZWxmLXRlc3QtY2FyZCIpLmZvckVhY2goY2FyZCA9PiBjYXJkLnN0eWxlLmRpc3BsYXkgPSAibm9uZSIpOwp9CgovLyDYp9iz2KrYr9i52ZAg2KfZhNiv2KfZhNipINio2LnYryDYqtit2YXZitmEINin2YTYtdmB2K3YqSDYp9mE2LHYptmK2LPZitipINmE2YTZhdi52YTZhQovLyDZhdir2KfZhDog2YHZiiDZhtmH2KfZitipIGxvYWREYXNoYm9hcmQoKQpmdW5jdGlvbiBsb2FkU2VsZlRlc3RSZXN1bHRzKCkgewogICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RSZXN1bHRzVGFibGUiKTsKICAgIHRhYmxlLmlubmVySFRNTCA9ICI8dHI+PHRkIGNvbHNwYW49JzUnPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNmG2KrYp9im2KwuLi48L3RkPjwvdHI+IjsKICAgIGxldCBxdWVyeSA9IGRiLmNvbGxlY3Rpb24oInNlbGZUZXN0UmVzdWx0cyIpLm9yZGVyQnkoInN1Ym1pdHRlZEF0IiwgImRlc2MiKTsKICAgIGlmICh1c2VyUm9sZSAhPT0gInRlYWNoZXIiKSB7CiAgICAgICAgcXVlcnkgPSBxdWVyeS53aGVyZSgidXNlcklkIiwgIj09IiwgY3VycmVudFVzZXIudWlkKTsKICAgIH0KICAgIHF1ZXJ5LmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgICAgICAgICB0YWJsZS5pbm5lckhUTUwgPSAiPHRyPjx0ZCBjb2xzcGFuPSc1Jz7ZhNinINiq2YjYrNivINmG2KrYp9im2Kwg2KjYudivPC90ZD48L3RyPiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGFibGUuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkb2MuZGF0YSgpOwogICAgICAgICAgICBjb25zdCBkYXRlID0gcmVzdWx0LnN1Ym1pdHRlZEF0Py50b0RhdGUoKS50b0xvY2FsZVN0cmluZygpIHx8ICIiOwogICAgICAgICAgICB0YWJsZS5pbm5lckhUTUwgKz0gYAogICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Jlc3VsdC51c2VyTmFtZSB8fCAiIn08L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Jlc3VsdC5zZWxmVGVzdFRpdGxlIHx8ICIifTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkPiR7cmVzdWx0LmNvcnJlY3RBbnN3ZXJzICsgIiAvICIgKyAocmVzdWx0LmNvcnJlY3RBbnN3ZXJzICsgcmVzdWx0Lndyb25nQW5zd2Vycyl9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQ+JHtyZXN1bHQuc2NvcmVQZXJjZW50YWdlfSU8L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZD4ke2RhdGV9PC90ZD4KICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIGA7CiAgICAgICAgfSk7CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGFibGUuaW5uZXJIVE1MID0gYDx0cj48dGQgY29sc3Bhbj0nNSc+2K3Yr9irINiu2LfYozogJHtlcnJvci5tZXNzYWdlfTwvdGQ+PC90cj5gOwogICAgfSk7Cn0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTZWxmVGVzdFJlc3VsdHMiKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlID0+IHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHNldEFjdGl2ZU1lbnVJdGVtKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51U2VsZlRlc3RSZXN1bHRzIikpOwogICAgc2hvd1BhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0UmVzdWx0c1BhZ2UiKSk7CiAgICBsb2FkU2VsZlRlc3RSZXN1bHRzKCk7Cn0pOwpmdW5jdGlvbiBsb2FkQWxsRXhhbXMoKSB7CiAgY29uc3QgZXhhbXNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFsbEV4YW1zIik7CiAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqLi4uPC9wPiI7CiAgZGIuY29sbGVjdGlvbigiZXhhbXMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2KrYp9it2Kkg2K3Yp9mE2YrYp9mLPC9wPiI7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAnJzsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3QgZXhhbSA9IGRvYy5kYXRhKCk7CiAgICAgIC8vIOKchSDYp9mE2YXYudmE2YUg2YrYsdmJINmD2YQg2KfZhNin2K7Yqtio2KfYsdin2KrYjCDYp9mE2LfYp9mE2Kgg2YrYsdmJINmB2YLYtyDYp9mE2YXYs9mF2YjYrSDZhNmHCiAgICAgIGlmICgKICAgICAgICB1c2VyUm9sZSA9PT0gInRlYWNoZXIiIHx8CiAgICAgICAgIWV4YW0uYWxsb3dlZFN0dWRlbnRzIHx8CiAgICAgICAgZXhhbS5hbGxvd2VkU3R1ZGVudHMubGVuZ3RoID09PSAwIHx8CiAgICAgICAgKGN1cnJlbnRVc2VyICYmIGV4YW0uYWxsb3dlZFN0dWRlbnRzLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnVpZCkpCiAgICAgICkgewogICAgICAgIGV4YW1zR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVFeGFtQ2FyZChleGFtLCBkb2MuaWQpKTsKICAgICAgfQogICAgfSk7CiAgICAvLyDYpdiw2Kcg2YTZhSDZiti42YfYsSDYo9mKINin2K7Yqtio2KfYsQogICAgaWYgKCFleGFtc0dyaWQuaGFzQ2hpbGROb2RlcygpKSB7CiAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2KrYp9it2Kkg2YTZgyDYrdin2YTZitin2YsuPC9wPiI7CiAgICB9CiAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqjogIiArIGVycm9yLm1lc3NhZ2UgKyAiPC9wPiI7CiAgfSk7Cn0KZnVuY3Rpb24gcHJvY2Vzc1NlbGZUZXN0UXVlc3Rpb25zKF8weDMzMTIwMikgewogIGNvbnN0IF8weDNjMDdkZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lcicpOwogIF8weDNjMDdkZS5pbm5lckhUTUwgPSAnJzsKICBfMHgzMzEyMDIuZm9yRWFjaCgoXzB4MTc4MDIyLCBfMHgzMWU3MmMpID0+IHsKICAgIGNvbnN0IF8weGE4OGM4MiA9IERhdGUubm93KCkgKyBfMHgzMWU3MmM7CiAgICBjb25zdCBfMHgxYjg0MmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIF8weDFiODQyZC5jbGFzc05hbWUgPSAicXVlc3Rpb24tY29udGFpbmVyIjsKICAgIF8weDFiODQyZC5pZCA9ICdxdWVzdGlvbi0nICsgXzB4YTg4YzgyOwogICAgXzB4MWI4NDJkLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtmG2LUg2KfZhNiz2KTYp9mEPC9sYWJlbD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLXRleHQiIHZhbHVlPSIke18weDE3ODAyMi7Yp9mE2LPYpNin2YQgfHwgJyd9IiByZXF1aXJlZD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Ysdin2KjYtyDYp9mE2LXZiNix2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi1pbWFnZS11cmwiIHZhbHVlPSIke18weDE3ODAyMlsn2LHYp9io2Lcg2KfZhNi12YjYsdipJ10gfHwgJyd9IiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2LHYp9io2Lcg2KfZhNi12YjYsdipICjYp9iu2KrZitin2LHZiikiPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtiu2YrYp9ix2KfYqiDYp9mE2KXYrNin2KjYqTwvbGFiZWw+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJvcHRpb25zLSR7XzB4YTg4YzgyfSI+CiAgICAgICAgICAgICAgICAgICAgJHtbMSwgMiwgMywgNF0ubWFwKF8weDQ3MzE4ZCA9PiBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pdGVtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke18weGE4OGM4Mn0iIHZhbHVlPSIke18weDQ3MzE4ZCAtIDF9IiAke18weDE3ODAyMlsi2KfZhNil2KzYp9io2Kkg2KfZhNi12K3Zitit2KkiXSA9PSBfMHg0NzMxOGQgPyAiY2hlY2tlZCIgOiAnJ30gcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgdmFsdWU9IiR7XzB4MTc4MDIyWyLYp9mE2K7Zitin2LEgIiArIF8weDQ3MzE4ZF0gfHwgJyd9IiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgYCkuam9pbignJyl9CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgIF8weDNjMDdkZS5hcHBlbmRDaGlsZChfMHgxYjg0MmQpOwogIH0pOwogIGFsZXJ0KCLYqtmFINiq2K3ZhdmK2YQg2KfZhNij2LPYptmE2Kkg2KjZhtis2KfYrSEiKTsKfQoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5leHRTZWxmVGVzdFF1ZXN0aW9uQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgaWYgKGN1cnJlbnRRdWVzdGlvbkluZGV4IDwgY3VycmVudEV4YW0ucXVlc3Rpb25zLmxlbmd0aCAtIDB4MSkgewogICAgY3VycmVudFF1ZXN0aW9uSW5kZXgrKzsKICAgIGxvYWRTZWxmVGVzdFF1ZXN0aW9uKGN1cnJlbnRRdWVzdGlvbkluZGV4KTsKICB9Cn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIHNob3dMZXNzb25WaWRlb01vZGFsKHVybCkgewogICAgbGV0IGVtYmVkID0gIiI7CiAgICAvLyDYr9i52YUgR29vZ2xlIERyaXZlINmB2YrYr9mK2YgKIGlmICh1cmwuaW5jbHVkZXMoImRyaXZlLmdvb2dsZS5jb20vZmlsZS9kLyIpKSB7CiAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaCgvXC9maWxlXC9kXC8oW14vXSspLyk7CiAgICBjb25zdCBmaWxlSWQgPSBtYXRjaCA/IG1hdGNoWzFdIDogIiI7CiAgICBjb25zdCBwcmV2aWV3VXJsID0gZmlsZUlkID8gYGh0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS9maWxlL2QvJHtmaWxlSWR9L3ByZXZpZXdgIDogdXJsOwogICAgZW1iZWQgPSBgCiAgICAgIDxkaXYgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7aGVpZ2h0OjQwMHB4OyI+CiAgICAgICAgPGlmcmFtZSBzcmM9IiR7cHJldmlld1VybH0iIHN0eWxlPSJ3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JvcmRlci1yYWRpdXM6MTJweDtib3JkZXI6MnB4IHNvbGlkICMwYTcwZmY7IiBmcmFtZWJvcmRlcj0iMCIgYWxsb3dmdWxsc2NyZWVuIGFsbG93PSJhdXRvcGxheSI+PC9pZnJhbWU+CiAgICAgICAgPGRpdiBzdHlsZT0iCiAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgICAgICAgIHRvcDowOyByaWdodDowOwogICAgICAgICAgd2lkdGg6NjBweDsgaGVpZ2h0OjYwcHg7CiAgICAgICAgICB6LWluZGV4OjEwOwogICAgICAgICAgYmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LDAuMDEpOwogICAgICAgICAgY3Vyc29yOm5vdC1hbGxvd2VkOwogICAgICAgICI+PC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IHN0eWxlPSJjb2xvcjojMGE3MGZmO2ZvbnQtc2l6ZToxcmVtO21hcmdpbi10b3A6MTBweDsiPgogICAgICAgINmK2YXZg9mG2YMg2YXYtNin2YfYr9ipINin2YTZgdmK2K/ZitmIINmF2YYgR29vZ2xlIERyaXZlINiv2KfYrtmEINmH2LDYpyDYp9mE2KXYt9in2LEuCiAgICAgIDwvZGl2PgogICAgYDsKfQoKICAgIC8vINiv2LnZhSDZitmI2KrZitmI2KggKNiq2LbZhdmK2YYgaWZyYW1lINiq2YTZgtin2KbZiikKICAgIGVsc2UgaWYgKHVybC5pbmNsdWRlcygieW91dHViZS5jb20iKSB8fCB1cmwuaW5jbHVkZXMoInlvdXR1LmJlIikpIHsKICAgICAgICBsZXQgdmlkZW9JZCA9ICIiOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwodXJsKTsKICAgICAgICAgICAgaWYgKHVybE9iai5ob3N0bmFtZS5pbmNsdWRlcygieW91dHViZS5jb20iKSkgewogICAgICAgICAgICAgICAgdmlkZW9JZCA9IHVybE9iai5zZWFyY2hQYXJhbXMuZ2V0KCJ2Iik7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodXJsT2JqLmhvc3RuYW1lLmluY2x1ZGVzKCJ5b3V0dS5iZSIpKSB7CiAgICAgICAgICAgICAgICB2aWRlb0lkID0gdXJsT2JqLnBhdGhuYW1lLnNsaWNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICBpZiAodmlkZW9JZCkgewogICAgICAgICAgICBlbWJlZCA9IGAKICAgICAgICAgICAgICAgIDxpZnJhbWUgc3JjPSJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8ke3ZpZGVvSWR9IiBzdHlsZT0id2lkdGg6MTAwJTtoZWlnaHQ6MzUwcHg7Ym9yZGVyLXJhZGl1czoxMnB4O2JvcmRlcjoycHggc29saWQgIzBhNzBmZjsiIGZyYW1lYm9yZGVyPSIwIiBhbGxvd2Z1bGxzY3JlZW4gYWxsb3c9ImF1dG9wbGF5Ij48L2lmcmFtZT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiMwYTcwZmY7Zm9udC1zaXplOjFyZW07bWFyZ2luLXRvcDoxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAg2YrZhdmD2YbZgyDZhdi02KfZh9iv2Kkg2KfZhNmB2YrYr9mK2Ygg2YXZhiBZb3VUdWJlINiv2KfYrtmEINmH2LDYpyDYp9mE2KXYt9in2LEuCiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitiq2YUg2KfYs9iq2K7Ysdin2KwgSUQg2KfYs9iq2K7Yr9mFINmF2LTYutmEINin2YTZgdmK2K/ZitmIINin2YTYudin2K/ZigogICAgICAgICAgICBlbWJlZCA9IGAKICAgICAgICAgICAgICAgIDx2aWRlbyBjb250cm9scyBzdHlsZT0id2lkdGg6MTAwJTttYXgtd2lkdGg6MTAwdnc7bWF4LWhlaWdodDozNTBweDtwb2ludGVyLWV2ZW50czphdXRvO3VzZXItc2VsZWN0Om5vbmU7Ym9yZGVyLXJhZGl1czoxMnB4O2JhY2tncm91bmQ6IzAwMDsiCiAgICAgICAgICAgICAgICAgICAgb25jb250ZXh0bWVudT0icmV0dXJuIGZhbHNlIgogICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzTGlzdD0ibm9kb3dubG9hZCBub3JlbW90ZXBsYXliYWNrIG5vZnVsbHNjcmVlbiIKICAgICAgICAgICAgICAgICAgICBkaXNhYmxlUGljdHVyZUluUGljdHVyZQogICAgICAgICAgICAgICAgICAgIHBsYXlzaW5saW5lCiAgICAgICAgICAgICAgICA+CiAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9IiR7dXJsfSI+CiAgICAgICAgICAgICAgICAgICAg2YXYqti12YHYrdmDINmE2Kcg2YrYr9i52YUg2KrYtNi62YrZhCDZh9iw2Kcg2KfZhNmB2YrYr9mK2YguCiAgICAgICAgICAgICAgICA8L3ZpZGVvPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6I2QwMDtmb250LXNpemU6MC45NXJlbTttYXJnaW4tdG9wOjEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICDZhNinINmK2YXZg9mG2YMg2KrZhtiy2YrZhCDYp9mE2YHZitiv2YrZiCDYo9mIINit2YHYuNmHINmF2YYg2YfZhtinLgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA7CiAgICAgICAgfQogICAgfQogICAgLy8g2K/YudmFINmB2YrYr9mK2YjZh9in2Kog2YXYqNin2LTYsdipIChtcDQvd2VibS9vZ2cvbW92L20zdTgvYmxvYikKICAgIGVsc2UgaWYgKAogICAgICAgIHVybC5tYXRjaCgvXC4obXA0fHdlYm18b2dnfG1vdnxtM3U4KShcP3wkKS9pKSB8fAogICAgICAgIHVybC5zdGFydHNXaXRoKCJibG9iOiIpCiAgICApIHsKICAgICAgICBlbWJlZCA9IGAKICAgICAgICAgICAgPHZpZGVvIGNvbnRyb2xzIHN0eWxlPSJ3aWR0aDoxMDAlO21heC13aWR0aDoxMDB2dzttYXgtaGVpZ2h0OjM1MHB4O3BvaW50ZXItZXZlbnRzOmF1dG87dXNlci1zZWxlY3Q6bm9uZTtib3JkZXItcmFkaXVzOjEycHg7YmFja2dyb3VuZDojMDAwOyIKICAgICAgICAgICAgICAgIG9uY29udGV4dG1lbnU9InJldHVybiBmYWxzZSIKICAgICAgICAgICAgICAgIGNvbnRyb2xzTGlzdD0ibm9kb3dubG9hZCBub3JlbW90ZXBsYXliYWNrIG5vZnVsbHNjcmVlbiIKICAgICAgICAgICAgICAgIGRpc2FibGVQaWN0dXJlSW5QaWN0dXJlCiAgICAgICAgICAgICAgICBwbGF5c2lubGluZQogICAgICAgICAgICA+CiAgICAgICAgICAgICAgICA8c291cmNlIHNyYz0iJHt1cmx9Ij4KICAgICAgICAgICAgICAgINmF2KrYtdmB2K3ZgyDZhNinINmK2K/YudmFINiq2LTYutmK2YQg2YfYsNinINin2YTZgdmK2K/ZitmILgogICAgICAgICAgICA8L3ZpZGVvPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjojZDAwO2ZvbnQtc2l6ZTowLjk1cmVtO21hcmdpbi10b3A6MTBweDsiPgogICAgICAgICAgICAgICAg2YTYpyDZitmF2YPZhtmDINiq2YbYstmK2YQg2KfZhNmB2YrYr9mK2Ygg2KPZiCDYrdmB2LjZhyDZhdmGINmH2YbYpy4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgIH0KICAgIC8vINij2Yog2LHYp9io2Lcg2LXZgdit2Kk6INin2LnYsdi2INin2YTYtdmB2K3YqSDZhtmB2LPZh9inINiv2KfYrtmEIGlmcmFtZQogICAgZWxzZSB7CiAgICAgICAgZW1iZWQgPSBgCiAgICAgICAgICAgIDxpZnJhbWUgc3JjPSIke3VybH0iIHN0eWxlPSJ3aWR0aDoxMDAlO2hlaWdodDo0MDBweDtib3JkZXItcmFkaXVzOjEycHg7Ym9yZGVyOjJweCBzb2xpZCAjMGE3MGZmOyIgZnJhbWVib3JkZXI9IjAiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6IzBhNzBmZjtmb250LXNpemU6MXJlbTttYXJnaW4tdG9wOjEwcHg7Ij4KICAgICAgICAgICAgICAgINmK2YXZg9mG2YMg2KrYtdmB2K0g2KfZhNi12YHYrdipINij2Ygg2KfZhNmB2YrYr9mK2Ygg2K/Yp9iu2YQg2YfYsNinINin2YTYpdi32KfYsS4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgIH0KICAgIAogICAgc2hvd0xlc3Nvbk1vZGFsKGVtYmVkKTsKCiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsZXNzb25Nb2RhbCIpOwogICAgICAgIGlmIChtb2RhbCkgewogICAgICAgICAgICBtb2RhbC5vbmNvbnRleHRtZW51ID0gKCkgPT4gZmFsc2U7CiAgICAgICAgICAgIG1vZGFsLm9uY29weSA9ICgpID0+IGZhbHNlOwogICAgICAgICAgICBtb2RhbC5vbmN1dCA9ICgpID0+IGZhbHNlOwogICAgICAgICAgICBtb2RhbC5vbnBhc3RlID0gKCkgPT4gZmFsc2U7CiAgICAgICAgICAgIG1vZGFsLm9uc2VsZWN0c3RhcnQgPSAoKSA9PiBmYWxzZTsKICAgICAgICB9CiAgICB9LCAxMDApOwp9CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKZnVuY3Rpb24gc2hvd0xlc3NvbkZpbGVNb2RhbCh1cmwpIHsKICAgIHNob3dMZXNzb25Nb2RhbChgPGlmcmFtZSBzcmM9IiR7dXJsfSIgc3R5bGU9IndpZHRoOjEwMCU7aGVpZ2h0OjQwMHB4OyIgZnJhbWVib3JkZXI9IjAiPjwvaWZyYW1lPmApOwp9CnNldFRpbWVvdXQoKCkgPT4gewogIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxlc3Nvbk1vZGFsIik7CiAgaWYgKG1vZGFsKSB7CiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCJpZnJhbWUsIHZpZGVvIikuZm9yRWFjaChlbCA9PiB7CiAgICAgIGVsLm9uY29udGV4dG1lbnUgPSAoKSA9PiBmYWxzZTsKICAgIH0pOwogIH0KfSwgMTAwKTsKZnVuY3Rpb24gc2hvd0xlc3Nvbk1vZGFsKGNvbnRlbnQpIHsKICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxlc3Nvbk1vZGFsIik7CiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxlc3Nvbk1vZGFsQm9keSIpOwogICAgYm9keS5pbm5lckhUTUwgPSBjb250ZW50OwoKICAgIC8vINiy2LEg2KXYutmE2KfZgiDYo9it2YXYsSDZiNis2YXZitmECmxldCBjbG9zZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjbG9zZUxlc3Nvbk1vZGFsQnRuIik7CmlmICghY2xvc2VCdG4pIHsKICAgIGNsb3NlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICBjbG9zZUJ0bi5pZCA9ICJjbG9zZUxlc3Nvbk1vZGFsQnRuIjsKICAgIGNsb3NlQnRuLmlubmVySFRNTCA9ICc8aSBjbGFzcz0iZmFzIGZhLXRpbWVzIj48L2k+INil2LrZhNin2YInOwogICAgY2xvc2VCdG4uY2xhc3NOYW1lID0gImJ0biBidG4tZGFuZ2VyIjsKICAgIGNsb3NlQnRuLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246O3RvcDoxOHB4O2xlZnQ6MThweDtmb250LXNpemU6MS4xcmVtO3BhZGRpbmc6OHB4IDIycHg7ei1pbmRleDoxMDsiOwogICAgY2xvc2VCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIGJvZHkuaW5uZXJIVE1MID0gIiI7CiAgICB9OwogICAgbW9kYWwucXVlcnlTZWxlY3RvcigiLm1vZGFsLWNvbnRlbnQiKS5wcmVwZW5kKGNsb3NlQnRuKTsKfSBlbHNlIHsKICAgIGNsb3NlQnRuLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKfQoKICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIHN0YXJ0U2VsZlRlc3Qoc2VsZlRlc3QsIHNlbGZUZXN0SWQpIHsKICAgIC8vINin2YTYqtit2YPZhSDZgdmKINin2YTYr9iu2YjZhCDYudio2LEgYWxsb3dlZFN0dWRlbnRzINij2YggYWxsb3dlZFNlbGZUZXN0cyDYo9mIINmF2YbYtNimINin2YTZiNin2KzYqCDZgdmC2LcKICAgIGxldCBpc0FsbG93ZWQgPSBmYWxzZTsKICAgIGNvbnN0IGlzT3duZXIgPSBjdXJyZW50VXNlciAmJiBzZWxmVGVzdC51c2VySWQgPT09IGN1cnJlbnRVc2VyLnVpZDsKCiAgICBpZiAoQXJyYXkuaXNBcnJheShzZWxmVGVzdC5hbGxvd2VkU3R1ZGVudHMpICYmIHNlbGZUZXN0LmFsbG93ZWRTdHVkZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgaXNBbGxvd2VkID0gKGN1cnJlbnRVc2VyICYmIHNlbGZUZXN0LmFsbG93ZWRTdHVkZW50cy5pbmNsdWRlcyhjdXJyZW50VXNlci51aWQpKSB8fCBpc093bmVyOwogICAgfSBlbHNlIHsKICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitiq2YUg2KrYrdiv2YrYryBhbGxvd2VkU3R1ZGVudHMg2KPZiCDZg9in2YbYqiDZgdin2LHYutipOgogICAgICAgIC8vINin2YTYs9mF2KfYrSDZgdmC2Lcg2YTZhdmGINmE2K/ZitmHINin2YTZiNin2KzYqCDZgdmKIGFsbG93ZWRTZWxmVGVzdHMg2KPZiCDZhdmG2LTYpiDYp9mE2YjYp9is2KgKICAgICAgICBpc0FsbG93ZWQgPSAoY3VycmVudFVzZXJEYXRhPy5hbGxvd2VkU2VsZlRlc3RzICYmIGN1cnJlbnRVc2VyRGF0YS5hbGxvd2VkU2VsZlRlc3RzLmluY2x1ZGVzKHNlbGZUZXN0SWQpKSB8fCBpc093bmVyOwogICAgfQoKICAgIGlmICghaXNBbGxvd2VkKSB7CiAgICBzaG93QWNjZXNzRGVuaWVkTW9kYWwoKTsKICAgIHJldHVybjsKfQoKICAgIGN1cnJlbnRFeGFtID0geyAuLi5zZWxmVGVzdCwgaWQ6IHNlbGZUZXN0SWQgfTsKICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gMDsKICAgIHVzZXJBbnN3ZXJzID0ge307CiAgICBzaG93UGFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RQYWdlIikpOwogICAgbG9hZFNlbGZUZXN0UXVlc3Rpb24oY3VycmVudFF1ZXN0aW9uSW5kZXgpOwp9CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINil2K7Zgdin2KEg2YLYs9mFINiv2LHYrNin2Kog2KfYrtiq2KjYsSDZhtmB2LPZgyDZhdmGINin2YTZgtin2KbZhdipINin2YTYrNin2YbYqNmK2Kkg2YjZhdmGINin2YTYtdmB2K3YqSDZhNmE2LfYp9mE2KgKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KfYrNi52YQg2KfYs9mFINin2YTYt9in2YTYqCDZgdmKINin2YTZh9mK2K/YsSDZiti42YfYsSDYqNi02YPZhCDYp9it2KrYsdin2YHZiiDZhdi5INij2YrZgtmI2YbYqSDZiNi12YrYp9i62Kkg2YTYt9mK2YHYqQovLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbXBvcnRGcm9tUXVlc3Rpb25CYW5rU2VsZlRlc3RCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgd2luZG93Ll9pbXBvcnRUYXJnZXRDb250YWluZXJJZCA9ICJzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciI7CiAgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKCIiLCAiaW1wb3J0QmFua0NhdGVnb3J5Iik7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydFF1ZXN0aW9uc01vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBsb2FkSW1wb3J0UXVlc3Rpb25zTGlzdCgpOwp9OwoKZnVuY3Rpb24gc2V0dXBBdXRoZW50aWNhdGVkVUkoKSB7CiAgYXV0aFNjcmVlbnMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICBhcHBDb250ZW50LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogIGF1dGhCdXR0b25zLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgdXNlck1lbnUuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CgogIC8vINin2LPZhSDYp9mE2YXYs9iq2K7Yr9mFINio2LTZg9mEINin2K3Yqtix2KfZgdmKCiAgbGV0IGRpc3BsYXlOYW1lID0gY3VycmVudFVzZXJEYXRhPy5bIm5hbWUiXSB8fCBjdXJyZW50VXNlci5lbWFpbDsKICB1c2VyTmFtZS5pbm5lckhUTUwgPSBgPGkgY2xhc3M9ImZhcyBmYS11c2VyLWdyYWR1YXRlIiBzdHlsZT0iY29sb3I6I2ZmZmZmZjttYXJnaW4tbGVmdDo3cHg7Ij48L2k+INmF2LHYrdio2KfZi9iMIDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDpib2xkO2NvbG9yOiNmZmZmZmY7Ij4ke2Rpc3BsYXlOYW1lfTwvc3Bhbj5gOwoKICAvLyDYpdi42YfYp9ixINij2Ygg2KXYrtmB2KfYoSDYudmG2KfYtdixINin2YTZgtin2KbZhdipINit2LPYqCDYp9mE2K/ZiNixCiAgaWYgKHVzZXJSb2xlID09PSAidGVhY2hlciIpIHsKICAgIG1lbnVDcmVhdGVFeGFtLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgbWVudUNyZWF0ZVNsaWRlLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgbWVudVN0dWRlbnRzLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgbWVudU1hbmFnZVNlbGZUZXN0LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlYWNoZXJEYXNoYm9hcmQiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZWFjaGVyR3JhZGVzVmlldyIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnRHcmFkZXNWaWV3Iikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51U2VsZlRlc3RSZXN1bHRzIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RSZXN1bHRzUGFnZSIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAvLyDYpdi42YfYp9ixINiy2LEg2KjZhtmDINin2YTYo9iz2KbZhNipINmE2YTZhdi52YTZhSDZgdmC2LcKICAgIGNvbnN0IGxpUXVlc3Rpb25CYW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxpUXVlc3Rpb25CYW5rIik7CiAgICBpZiAobGlRdWVzdGlvbkJhbmspIGxpUXVlc3Rpb25CYW5rLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgLy8g2KXYuNmH2KfYsSDYstixINil2K3Ytdin2KbZitin2Kog2KfZhNi32YTYp9ioINmE2YTZhdi52YTZhSDZgdmC2LcKICAgIGNvbnN0IG1lbnVTdHVkZW50c1N0YXRpc3RpY3NMaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51U3R1ZGVudHNTdGF0aXN0aWNzTGkiKTsKICAgIGlmIChtZW51U3R1ZGVudHNTdGF0aXN0aWNzTGkpIG1lbnVTdHVkZW50c1N0YXRpc3RpY3NMaS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICB9IGVsc2UgewogICAgbWVudUNyZWF0ZUV4YW0uc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIG1lbnVDcmVhdGVTbGlkZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgbWVudVN0dWRlbnRzLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBtZW51TWFuYWdlU2VsZlRlc3Quc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZWFjaGVyRGFzaGJvYXJkIikuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZWFjaGVyR3JhZGVzVmlldyIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudEdyYWRlc1ZpZXciKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51U2VsZlRlc3RSZXN1bHRzIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFJlc3VsdHNQYWdlIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVDaGF0Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CgogICAgLy8g2KXYrtmB2KfYoSDYstixINio2YbZgyDYp9mE2KPYs9im2YTYqSDZhNmE2LfYp9mE2KgKICAgIGNvbnN0IGxpUXVlc3Rpb25CYW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxpUXVlc3Rpb25CYW5rIik7CiAgICBpZiAobGlRdWVzdGlvbkJhbmspIGxpUXVlc3Rpb25CYW5rLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAvLyDYpdiu2YHYp9ihINiy2LEg2KXYrdi12KfYptmK2KfYqiDYp9mE2LfZhNin2Kgg2YTZhNi32KfZhNioCiAgICBjb25zdCBtZW51U3R1ZGVudHNTdGF0aXN0aWNzTGkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVN0dWRlbnRzU3RhdGlzdGljc0xpIik7CiAgICBpZiAobWVudVN0dWRlbnRzU3RhdGlzdGljc0xpKSBtZW51U3R1ZGVudHNTdGF0aXN0aWNzTGkuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9CgogIC8vINiq2K3Yr9mK2KsgbGFzdEFjdGl2ZSDYudmG2K8g2KfZhNiv2K7ZiNmEINmF2KjYp9i02LHYqQogIGlmIChjdXJyZW50VXNlciAmJiB1c2VyUm9sZSA9PT0gInN0dWRlbnQiKSB7CiAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhjdXJyZW50VXNlci51aWQpLnVwZGF0ZSh7CiAgICAgIGxhc3RBY3RpdmU6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgICB9KTsKCiAgICAvLyDYqtit2K/ZitirINmD2YQg2K/ZgtmK2YLYqSDYo9ir2YbYp9ihINin2YTYqti12YHYrQogICAgaWYgKHdpbmRvdy5fbGFzdEFjdGl2ZUludGVydmFsKSBjbGVhckludGVydmFsKHdpbmRvdy5fbGFzdEFjdGl2ZUludGVydmFsKTsKICAgIHdpbmRvdy5fbGFzdEFjdGl2ZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhjdXJyZW50VXNlci51aWQpLnVwZGF0ZSh7CiAgICAgICAgbGFzdEFjdGl2ZTogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgICAgfSk7CiAgICB9LCA2MDAwMCk7CgogICAgLy8g2LnZhtivINil2LrZhNin2YIg2KfZhNi12YHYrdipINij2Ygg2KfZhNiq2KjZiNmK2KgKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJiZWZvcmV1bmxvYWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkudXBkYXRlKHsKICAgICAgICBsYXN0QWN0aXZlOiBuZXcgRGF0ZSgyMDAwLCAwLCAxKQogICAgICB9KTsKICAgICAgY2xlYXJJbnRlcnZhbCh3aW5kb3cuX2xhc3RBY3RpdmVJbnRlcnZhbCk7CiAgICB9KTsKICB9CgogIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVN0dWRlbnRzU3RhdGlzdGljc0xpIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgfSBlbHNlIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51U3R1ZGVudHNTdGF0aXN0aWNzTGkiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0KICBzZXRBY3RpdmVNZW51SXRlbShtZW51RGFzaGJvYXJkKTsKICBzaG93Tm90aWZpY2F0aW9uTWVudUZvclRlYWNoZXIoKTsKICBsaXN0ZW5Gb3JTdHVkZW50Tm90aWZpY2F0aW9ucygpOwogIGxpc3RlbkZvckFjY291bnREZWxldGUoKTsKICBsaXN0ZW5Gb3JTdHVkZW50TG9jaygpOwp9CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINiv2KfZhNipINil2LjZh9in2LEg2LLYsSAi2KXYsdiz2KfZhCDYpdi02LnYp9ixIiDZhNmE2YXYudmE2YUg2YHZgti3CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgptZW51TWFuYWdlU2VsZlRlc3QuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBfMHgyOTAxOGIgPT4gewogIF8weDI5MDE4Yi5wcmV2ZW50RGVmYXVsdCgpOwogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVNYW5hZ2VTZWxmVGVzdCk7CiAgc2hvd1BhZ2UobWFuYWdlU2VsZlRlc3RQYWdlKTsKfSk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCmZ1bmN0aW9uIHNob3dBdXRoRm9ybShmb3JtVHlwZSkgewogIGNvbnN0IGFib3V0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhYm91dFNlY3Rpb24nKTsKICBpZiAoZm9ybVR5cGUgPT09ICJsb2dpbiIpIHsKICAgIGxvZ2luRm9ybS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgIHJlZ2lzdGVyRm9ybS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgaWYgKGFib3V0U2VjdGlvbikgYWJvdXRTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogIH0gZWxzZSB7CiAgICBsb2dpbkZvcm0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIHJlZ2lzdGVyRm9ybS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgIGlmIChhYm91dFNlY3Rpb24pIGFib3V0U2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0KfQoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYp9is2LnZhCDYstixICLYp9mE2LHYptmK2LPZitipIiDZgdmKINin2YTZgtin2KbZhdipINin2YTZhdmG2LPYr9mE2Kkg2YTYpyDZiti52YXZhCByZWxvYWQg2KjZhCDZitit2YjZhCDZhNmE2LHYptmK2LPZitipINmB2YLYtwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVsb2FkSG9tZUJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZSkgewogIGUucHJldmVudERlZmF1bHQoKTsKICBzZXRBY3RpdmVNZW51SXRlbShtZW51RGFzaGJvYXJkKTsKICBzaG93UGFnZShkYXNoYm9hcmRQYWdlKTsKICBsb2FkRGFzaGJvYXJkKCk7IC8vINil2LDYpyDZg9mG2Kog2KrYsdmK2K8g2KrYrdiv2YrYqyDYqNmK2KfZhtin2Kog2KfZhNix2KbZitiz2YrYqSDZgdmC2LcKfSk7CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIHNob3dQYWdlKHBhZ2VFbGVtZW50KSB7CiAgICBjb25zdCBhbGxQYWdlcyA9IFsKICAgICAgICBkYXNoYm9hcmRQYWdlLCBleGFtc1BhZ2UsIGNyZWF0ZUV4YW1QYWdlLCBjcmVhdGVTbGlkZVBhZ2UsIHRha2VFeGFtUGFnZSwKICAgICAgICByZXN1bHRzUGFnZSwgZ3JhZGVzUGFnZSwgc3R1ZGVudHNQYWdlLCBwcm9maWxlUGFnZSwgbWFuYWdlU2VsZlRlc3RQYWdlLCBzZWxmVGVzdFBhZ2UsCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0UmVzdWx0c1BhZ2UiKSwKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rUGFnZSIpLAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50c1N0YXRpc3RpY3NQYWdlIiksCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlYWNoZXJEYXNoYm9hcmQiKSwKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhdFBhZ2UiKSAvLyDYo9i22YEg2YfYsNinINin2YTYs9i32LEg2YfZhtinCiAgICBdOwogICAgYWxsUGFnZXMuZm9yRWFjaChwID0+IHAgJiYgKHAuc3R5bGUuZGlzcGxheSA9ICJub25lIikpOwogICAgcGFnZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICBpZiAodGFrZUV4YW1QYWdlICYmIHRha2VFeGFtUGFnZS5zdHlsZS5kaXNwbGF5ID09PSAiYmxvY2siICYmIHBhZ2VFbGVtZW50ICE9PSB0YWtlRXhhbVBhZ2UpIHsKICAgICAgICBpZiAodGltZXJJbnRlcnZhbCkgewogICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpOwogICAgICAgICAgICB0aW1lckludGVydmFsID0gbnVsbDsKICAgICAgICB9CiAgICB9CiAgICAvLyDYpdiw2Kcg2KfZhtiq2YLZhNiqINmF2YYg2LXZgdit2Kkg2K/Ysdis2KfYqiDYp9iu2KrYqNixINmG2YHYs9mDINil2YTZiSDYtdmB2K3YqSDYo9iu2LHZidiMINij2K7ZgdmQINi12YHYrdipINin2YTYr9ix2KzYp9iqCiAgICBpZiAoCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0UmVzdWx0c1BhZ2UiKSAmJgogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFJlc3VsdHNQYWdlIikuc3R5bGUuZGlzcGxheSA9PT0gImJsb2NrIiAmJgogICAgICAgIHBhZ2VFbGVtZW50ICE9PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RSZXN1bHRzUGFnZSIpCiAgICApIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RSZXN1bHRzUGFnZSIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9CgogICAgLy8g2KXYsNinINin2YbYqtmC2YTYqiDZhdmGIHNlbGZUZXN0UGFnZSDYpdmE2Ykg2LXZgdit2Kkg2KPYrtix2YnYjCDYo9i52K8g2KrYudmK2YrZhiDYqNmK2KfZhtin2Kog2KfYrtiq2KjYsSDZhtmB2LPZgwogICAgaWYgKHNlbGZUZXN0UGFnZSAmJiBzZWxmVGVzdFBhZ2Uuc3R5bGUuZGlzcGxheSA9PT0gImJsb2NrIiAmJiBwYWdlRWxlbWVudCAhPT0gc2VsZlRlc3RQYWdlKSB7CiAgICAgICAgc2VsZlRlc3RQYWdlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgY3VycmVudEV4YW0gPSBudWxsOwogICAgICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gMDsKICAgICAgICB1c2VyQW5zd2VycyA9IHt9OwogICAgICAgIGNvbnN0IHNlbGZUZXN0UmVzdWx0TW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RSZXN1bHRNb2RhbCIpOwogICAgICAgIGlmIChzZWxmVGVzdFJlc3VsdE1vZGFsKSBzZWxmVGVzdFJlc3VsdE1vZGFsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9CgogICAgLy8g2KXYsNinINin2YbYqtmC2YTYqiDZhdmGINio2YbZgyDYp9mE2KPYs9im2YTYqSDYpdmE2Ykg2LXZgdit2Kkg2KPYrtix2YnYjCDYo9iu2YHZkCDYqNmG2YMg2KfZhNij2LPYptmE2KkKICAgIGlmICgKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rUGFnZSIpICYmCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua1BhZ2UiKS5zdHlsZS5kaXNwbGF5ID09PSAiYmxvY2siICYmCiAgICAgICAgcGFnZUVsZW1lbnQgIT09IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtQYWdlIikKICAgICkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtQYWdlIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KCiAgICBwYWdlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKfQpmdW5jdGlvbiBzZXR1cFVuYXV0aGVudGljYXRlZFVJKCkgewogIGF1dGhTY3JlZW5zLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIGFwcENvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICBhdXRoQnV0dG9ucy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICB1c2VyTWVudS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIHNob3dBdXRoRm9ybSgibG9naW4iKTsKfQpmdW5jdGlvbiBzaG93QXV0aEZvcm0oXzB4NThhYTMxKSB7CiAgaWYgKF8weDU4YWEzMSA9PT0gImxvZ2luIikgewogICAgbG9naW5Gb3JtLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgcmVnaXN0ZXJGb3JtLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfSBlbHNlIHsKICAgIGxvZ2luRm9ybS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgcmVnaXN0ZXJGb3JtLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogIH0KfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYp9is2LnZhCDYstixINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEINmE2Kcg2YrYudmF2YQgcmVsb2FkINio2YQg2YrYuNmH2LEg2YbZhdmI2LDYrCDYqtiz2KzZitmEINin2YTYr9iu2YjZhCDZgdmC2LcKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luQnRuJykuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihlKSB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyDZhdmG2Lkg2KXYudin2K/YqSDYqtit2YXZitmEINin2YTYtdmB2K3YqQogIHNob3dBdXRoRm9ybSgnbG9naW4nKTsKICAvLyDYqtmF2LHZitixINin2YTYtdmB2K3YqSDYpdmE2Ykg2YbZhdmI2LDYrCDYqtiz2KzZitmEINin2YTYr9iu2YjZhCDYpdiw2Kcg2KPYsdiv2Ko6CiAgY29uc3QgbG9naW5Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luRm9ybScpOwogIGlmIChsb2dpbkZvcm0pIHsKICAgIGxvZ2luRm9ybS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAic21vb3RoIiwgYmxvY2s6ICJjZW50ZXIiIH0pOwogIH0KfSk7CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINi52K/ZhCDYr9in2YTYqSBsb2FkU3R1ZGVudHNGb3JFeGFtINmE2YrYuNmH2LEg2K3Ys9in2Kgg2KfZhNmF2LnZhNmFINij2YrYttin2Ysg2YHZiiDZgtin2KbZhdipINin2YTYt9mE2KfYqCDYp9mE2YXYs9mF2YjYrSDZhNmH2YUKZnVuY3Rpb24gbG9hZFN0dWRlbnRzRm9yRXhhbSgpIHsKICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWxsb3dlZFN0dWRlbnRzIik7CiAgc2VsZWN0LmlubmVySFRNTCA9ICI8b3B0aW9uIHZhbHVlPVwiXCI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2LfZhNin2KguLi48L29wdGlvbj4iOwogIC8vINis2YTYqCDYrNmF2YrYuSDYp9mE2LfZhNin2Kgg2YjYp9mE2YXYudmE2YXZitmGCiAgZGIuY29sbGVjdGlvbigndXNlcnMnKS53aGVyZSgicm9sZSIsICJpbiIsIFsic3R1ZGVudCIsICJ0ZWFjaGVyIl0pLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgc2VsZWN0LmlubmVySFRNTCA9ICcnOwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCB1c2VyID0gZG9jLmRhdGEoKTsKICAgICAgc2VsZWN0LmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT0iJHtkb2MuaWR9Ij4ke3VzZXIubmFtZX0gKCR7dXNlci5lbWFpbH0pJHt1c2VyLnJvbGUgPT09ICJ0ZWFjaGVyIiA/ICIgLSDZhdi52YTZhSIgOiAiIn08L29wdGlvbj5gOwogICAgfSk7CiAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgc2VsZWN0LmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPSIiPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYt9mE2KfYqDogJHtlcnJvci5tZXNzYWdlfTwvb3B0aW9uPmA7CiAgfSk7Cn0KbWVudUNyZWF0ZUV4YW0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBfMHgzZmM2ZDEgPT4gewogIF8weDNmYzZkMS5wcmV2ZW50RGVmYXVsdCgpOwogIGlmICh1c2VyUm9sZSAhPT0gInRlYWNoZXIiKSB7CiAgICBhbGVydCgi2LnYsNix2YvYp9iMINmB2YLYtyDYp9mE2YXYudmE2YUg2YrZhdmD2YbZhyDYpdmG2LTYp9ihINin2YTYp9iu2KrYqNin2LHYp9iqLiIpOwogICAgcmV0dXJuOwogIH0KICBzZXRBY3RpdmVNZW51SXRlbShtZW51Q3JlYXRlRXhhbSk7CiAgc2hvd1BhZ2UoY3JlYXRlRXhhbVBhZ2UpOwp9KTsKCmZ1bmN0aW9uIGRlbGV0ZVNsaWRlKF8weGJhNTAwMykgewogIGRiLmNvbGxlY3Rpb24oInNsaWRlcyIpLmRvYyhfMHhiYTUwMDMpWyJkZWxldGUiXSgpLnRoZW4oKCkgPT4gewogICAgc2hvd1RvYXN0KCLYqtmFINit2LDZgSDYp9mE2LTYsdmK2K3YqSDYqNmG2KzYp9itISIpOwogICAgbG9hZFNsaWRlcygpOwogIH0pWyJjYXRjaCJdKF8weDQzM2NkYiA9PiB7CiAgICBzaG93VG9hc3QoItit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYrdiw2YEg2KfZhNi02LHZitit2Kk6ICIgKyBfMHg0MzNjZGIubWVzc2FnZSwgImVycm9yIik7CiAgfSk7Cn0KZnVuY3Rpb24gc2hvd0FjY291bnREaXNhYmxlZE1vZGFsKCkgewogIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnREaXNhYmxlZE1vZGFsJyk7CiAgbW9kYWwuaW5uZXJIVE1MID0gYAogICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDo0MjBweDt0ZXh0LWFsaWduOmNlbnRlcjsiPgogICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjE4cHg7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXVzZXItc2xhc2giIHN0eWxlPSJmb250LXNpemU6M3JlbTtjb2xvcjojRkM1QzY1OyI+PC9pPgogICAgICA8L2Rpdj4KICAgICAgPGgyIGNsYXNzPSJtb2RhbC10aXRsZSIgc3R5bGU9ImNvbG9yOiNGQzVDNjU7Ij7wn5qrINit2LPYp9ioINmF2LnYt9mEPC9oMj4KICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiIHN0eWxlPSJmb250LXNpemU6MS4xNXJlbTtjb2xvcjojMzMzO21hcmdpbi1ib3R0b206MThweDsiPgogICAgICAgINi52LDYsdmL2KfYjCDYqtmFINiq2LnYt9mK2YQg2K3Ys9in2KjZgy4g2YrYsdis2Ykg2KfZhNiq2YjYp9i12YQg2YXYuSDYp9mE2KXYr9in2LHYqSDZhNmE2K3YtdmI2YQg2LnZhNmJINin2YTZhdiy2YrYryDZhdmGINin2YTYqtmB2KfYtdmK2YQuPGJyPgogICAgICAgINil2LDYpyDZg9in2YYg2YTYr9mK2YMg2KPZiiDYp9iz2KrZgdiz2KfYsSDYo9mIINiq2LHYutioINmB2Yog2KfZhNiq2YjYp9i12YQg2YXYuSDYp9mE2KXYr9in2LHYqdiMINin2LbYuti3INin2YTYstixINio2KfZhNij2LPZgdmELgogICAgICA8L3A+CiAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd2EubWUvMjAxMDYwOTExMDkzIiB0YXJnZXQ9Il9ibGFuayIgaWQ9IndoYXRzYXBwQ29udGFjdEJ0biIKICAgICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQ6IzI1ZDM2Njtjb2xvcjojZmZmO2ZvbnQtc2l6ZToxLjJyZW07cGFkZGluZzoxMnB4IDMycHg7Ym9yZGVyLXJhZGl1czo4cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Zm9udC13ZWlnaHQ6Ym9sZDttYXJnaW4tYm90dG9tOjEwcHg7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFiIGZhLXdoYXRzYXBwIiBzdHlsZT0ibWFyZ2luLWxlZnQ6OHB4O2ZvbnQtc2l6ZToxLjVyZW07Ij48L2k+INiq2YjYp9i12YQg2YXYuSDYp9mE2KXYr9in2LHYqSDYudio2LEg2YjYp9iq2LPYp9ioCiAgICAgIDwvYT4KICAgICAgPGJyPgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9ImNsb3NlQWNjb3VudERpc2FibGVkTW9kYWwoKSIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsiPtil2LrZhNin2YI8L2J1dHRvbj4KICAgIDwvZGl2PgogIGA7CiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIGF1dGguc2lnbk91dCgpOwogIH0sIDMwMDApOwp9CmZ1bmN0aW9uIGNsb3NlQWNjb3VudERpc2FibGVkTW9kYWwoKSB7CiAgY29uc3QgXzB4MWQwNDkyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjY291bnREaXNhYmxlZE1vZGFsIik7CiAgXzB4MWQwNDkyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7Cn0KZnVuY3Rpb24gc2hvd1RvYXN0KF8weDQ0YzQwNSwgXzB4MWQ0YWI3ID0gInN1Y2Nlc3MiKSB7CiAgY29uc3QgXzB4M2NiYzM4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvYXN0TWVzc2FnZSIpOwogIGNvbnN0IF8weDJiYjA3NiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b2FzdFRleHQiKTsKICBfMHgyYmIwNzYudGV4dENvbnRlbnQgPSBfMHg0NGM0MDU7CiAgXzB4M2NiYzM4LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IF8weDFkNGFiNyA9PT0gJ3N1Y2Nlc3MnID8gIiMxNGVlODgiIDogIiNGQzVDNjUiOwogIF8weDNjYmMzOC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogIHNldFRpbWVvdXQoKCkgPT4gewogICAgXzB4M2NiYzM4LnN0eWxlLmFuaW1hdGlvbiA9ICJmYWRlT3V0IDAuNXMgZWFzZSBmb3J3YXJkcyI7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgXzB4M2NiYzM4LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIF8weDNjYmMzOC5zdHlsZS5hbmltYXRpb24gPSAiZmFkZUluIDAuNXMgZWFzZSBmb3J3YXJkcyI7CiAgICB9LCAweDFmNCk7CiAgfSwgMHhiYjgpOwp9Ci8vINi52YbYryDYqtit2YXZitmEINmC2KfYptmF2Kkg2KfZhNin2K7Yqtio2KfYsdin2KogKGxvYWRSZWNlbnRFeGFtcyDZiCBsb2FkQWxsRXhhbXMpINmK2KzYqCDYo9mGINmK2LjZh9ixINmB2YLYtyDZhNmE2LfZhNin2Kgg2KfZhNmF2LPZhdmI2K0g2YTZh9mFCmZ1bmN0aW9uIGxvYWRSZWNlbnRFeGFtcygpIHsKICAgIGNvbnN0IGV4YW1zR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNlbnRFeGFtcyIpOwogICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqLi4uPC9wPiI7CgogICAgLy8g2KrYrdmC2YIg2YXZhiDYrdin2YTYqSDYp9mE2LfYp9mE2Kgg2KPZiNmE2KfZiwogICAgaWYgKHVzZXJSb2xlID09PSAic3R1ZGVudCIpIHsKICAgICAgICAvLyDYqtit2YLZgiDZhdmGINiq2LnYt9mK2YQg2KfZhNit2LPYp9ioCiAgICAgICAgaWYgKGN1cnJlbnRVc2VyRGF0YSAmJiBjdXJyZW50VXNlckRhdGEuZGlzYWJsZWQpIHsKICAgICAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8ZGl2IHN0eWxlPSdjb2xvcjojYzAzOTJiO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEuMnJlbTtwYWRkaW5nOjIwcHg7Jz7YqtmFINiq2LnYt9mK2YQg2K3Ys9in2KjZgyDZhdmGINmC2KjZhCDYp9mE2YXYudmE2YUuINmK2LHYrNmJINin2YTYqtmI2KfYtdmEINmF2Lkg2KfZhNmF2LnZhNmFINmE2KXYudin2K/YqSDYp9mE2KrZgdi52YrZhC48L2Rpdj4iOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vINiq2K3ZgtmCINmF2YYg2KrYrdiv2YrYryDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2KkKICAgICAgICBpZiAoIWN1cnJlbnRVc2VyRGF0YSB8fCAhY3VycmVudFVzZXJEYXRhLnllYXIpIHsKICAgICAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8ZGl2IHN0eWxlPSdjb2xvcjojZTY3ZTIyO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEuMXJlbTtwYWRkaW5nOjIwcHg7Jz7Zitix2KzZiSDYqtit2K/ZitivINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqSDZhdmGIDxhIGhyZWY9JyMnIGlkPSdnb1RvUHJvZmlsZUxpbmsnIHN0eWxlPSdjb2xvcjojMGE3MGZmO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7Jz7Yp9mE2YXZhNmBINin2YTYtNiu2LXZijwvYT4g2KPZiNmE2KfZiyDZhNi52LHYtiDYp9mE2KfYrtiq2KjYp9ix2KfYqiDYp9mE2YXZhtin2LPYqNipINmE2YMuPC9kaXY+IjsKICAgICAgICAgICAgLy8g2LHYqNi3INiy2LEg2KfZhNin2YbYqtmC2KfZhCDZhNmE2YXZhNmBINin2YTYtNiu2LXZigogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ29Ub1Byb2ZpbGVMaW5rIik7CiAgICAgICAgICAgICAgICBpZiAobGluaykgewogICAgICAgICAgICAgICAgICAgIGxpbmsub25jbGljayA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVNZW51SXRlbShtZW51UHJvZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dQYWdlKHByb2ZpbGVQYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFByb2ZpbGUoKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgIGRiLmNvbGxlY3Rpb24oImV4YW1zIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5saW1pdCg5MDApLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdiq2KfYrdipINit2KfZhNmK2KfZizwvcD4iOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAnJzsKICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgIGNvbnN0IGV4YW0gPSBkb2MuZGF0YSgpOwogICAgICAgICAgICBjb25zdCBpc093bmVyID0gY3VycmVudFVzZXIgJiYgZXhhbS51c2VySWQgPT09IGN1cnJlbnRVc2VyLnVpZDsKCiAgICAgICAgICAgIC8vINin2YTZhdi52YTZhSDZitix2Ykg2YPZhCDYtNmK2KEKICAgICAgICAgICAgaWYgKHVzZXJSb2xlID09PSAidGVhY2hlciIpIHsKICAgICAgICAgICAgICAgIGV4YW1zR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVFeGFtQ2FyZChleGFtLCBkb2MuaWQpKTsKICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2KfZhNi32KfZhNioOiDYqtit2YLZgiDZhdmGINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqQogICBpZiAoCiAgICAgICAgICAgICAgICBleGFtLnllYXIgPT09IGN1cnJlbnRVc2VyRGF0YS55ZWFyICYmCiAgICAgICAgICAgICAgICBleGFtLnRlcm0gPT09IGN1cnJlbnRVc2VyRGF0YS50ZXJtCiAgICAgICAgICAgICkgeyAgICAgICAgICAgICAgICAvLyDYqtit2YLZgiDZhdmGINin2YTYt9mE2KfYqCDYp9mE2YXYs9mF2YjYrSDZhNmH2YUKICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAhZXhhbS5hbGxvd2VkU3R1ZGVudHMgfHwKICAgICAgICAgICAgICAgICAgICBleGFtLmFsbG93ZWRTdHVkZW50cy5sZW5ndGggPT09IDAgfHwKICAgICAgICAgICAgICAgICAgICAoY3VycmVudFVzZXIgJiYgZXhhbS5hbGxvd2VkU3R1ZGVudHMuaW5jbHVkZXMoY3VycmVudFVzZXIudWlkKSkgfHwKICAgICAgICAgICAgICAgICAgICBpc093bmVyCiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICBleGFtc0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlRXhhbUNhcmQoZXhhbSwgZG9jLmlkKSk7CiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdiq2KfYrdipINmE2YMg2K3Yp9mE2YrYp9mLLjwvcD4iOwogICAgICAgIH0KICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqOiAiICsgZXJyb3IubWVzc2FnZSArICI8L3A+IjsKICAgIH0pOwp9CmZ1bmN0aW9uIGxvYWRBbGxFeGFtcygpIHsKICAgIGNvbnN0IGV4YW1zR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGxFeGFtcyIpOwogICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqLi4uPC9wPiI7CiAgICBkYi5jb2xsZWN0aW9uKCJleGFtcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICAgICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2KrYp9it2Kkg2K3Yp9mE2YrYp9mLPC9wPiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICcnOwogICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICAgICAgY29uc3QgZXhhbSA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgIC8vINiq2K3ZgtmCINmF2YYg2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqQogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICB1c2VyUm9sZSA9PT0gInRlYWNoZXIiIHx8CiAgICAgICAgICAgICAgICAhZXhhbS55ZWFyIHx8CiAgICAgICAgICAgICAgICAoY3VycmVudFVzZXJEYXRhICYmIGV4YW0ueWVhciA9PT0gY3VycmVudFVzZXJEYXRhLnllYXIpCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICFleGFtLmFsbG93ZWRTdHVkZW50cyB8fAogICAgICAgICAgICAgICAgICAgIGV4YW0uYWxsb3dlZFN0dWRlbnRzLmxlbmd0aCA9PT0gMCB8fAogICAgICAgICAgICAgICAgICAgIChjdXJyZW50VXNlciAmJiBleGFtLmFsbG93ZWRTdHVkZW50cy5pbmNsdWRlcyhjdXJyZW50VXNlci51aWQpKQogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgZXhhbXNHcmlkLmFwcGVuZENoaWxkKGNyZWF0ZUV4YW1DYXJkKGV4YW0sIGRvYy5pZCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKCFleGFtc0dyaWQuaGFzQ2hpbGROb2RlcygpKSB7CiAgICAgICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2KrYp9it2Kkg2YTZgyDYrdin2YTZitin2YsuPC9wPiI7CiAgICAgICAgfQogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2Ko6ICIgKyBlcnJvci5tZXNzYWdlICsgIjwvcD4iOwogICAgfSk7Cn0KCmZ1bmN0aW9uIHNob3dFeGFtVGltZU5vdGljZShtZXNzYWdlLCB0eXBlID0gImVycm9yIikgewogICAgLy8g2KXYsNinINmD2KfZhtiqINin2YTYsdiz2KfZhNipINmF2YjYrNmI2K/YqSDZhdiz2KjZgtin2YvYjCDYp9it2LDZgdmH2KcKICAgIGNvbnN0IG9sZE5vdGljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtVGltZU5vdGljZSIpOwogICAgaWYgKG9sZE5vdGljZSkgb2xkTm90aWNlLnJlbW92ZSgpOwoKICAgIGNvbnN0IG5vdGljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbm90aWNlLmlkID0gImV4YW1UaW1lTm90aWNlIjsKICAgIG5vdGljZS5jbGFzc05hbWUgPSBgbm90aWNlIG5vdGljZS0ke3R5cGV9YDsKICAgIG5vdGljZS5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgICBub3RpY2Uuc3R5bGUudG9wID0gIjMwcHgiOwogICAgbm90aWNlLnN0eWxlLnJpZ2h0ID0gIjMwcHgiOwogICAgbm90aWNlLnN0eWxlLnpJbmRleCA9ICIyMDAwIjsKICAgIG5vdGljZS5zdHlsZS5iYWNrZ3JvdW5kID0gdHlwZSA9PT0gImVycm9yIiA/ICIjRkM1QzY1IiA6ICIjMTRlZTg4IjsKICAgIG5vdGljZS5zdHlsZS5jb2xvciA9ICIjZmZmIjsKICAgIG5vdGljZS5zdHlsZS5wYWRkaW5nID0gIjE4cHggMzBweCI7CiAgICBub3RpY2Uuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjEwcHgiOwogICAgbm90aWNlLnN0eWxlLmZvbnRTaXplID0gIjEuMnJlbSI7CiAgICBub3RpY2Uuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKICAgIG5vdGljZS5zdHlsZS5ib3hTaGFkb3cgPSAiMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMTIpIjsKICAgIG5vdGljZS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgbm90aWNlLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKICAgIG5vdGljZS5zdHlsZS5nYXAgPSAiMTJweCI7CiAgICBub3RpY2UuaW5uZXJIVE1MID0gYAogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZXhjbGFtYXRpb24tdHJpYW5nbGUiIHN0eWxlPSJmb250LXNpemU6MS41cmVtOyI+PC9pPgogICAgICAgIDxzcGFuPiR7bWVzc2FnZX08L3NwYW4+CiAgICAgICAgPGJ1dHRvbiBzdHlsZT0iYmFja2dyb3VuZDpub25lO2JvcmRlcjpub25lO2NvbG9yOiNmZmY7Zm9udC1zaXplOjEuNXJlbTtjdXJzb3I6cG9pbnRlcjttYXJnaW4tcmlnaHQ6MTBweDsiIG9uY2xpY2s9InRoaXMucGFyZW50RWxlbWVudC5yZW1vdmUoKSI+JnRpbWVzOzwvYnV0dG9uPgogICAgYDsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm90aWNlKTsKCiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBpZiAobm90aWNlLnBhcmVudEVsZW1lbnQpIG5vdGljZS5yZW1vdmUoKTsKICAgIH0sIDQwMDApOwp9CgpmdW5jdGlvbiBzZXRBY3RpdmVNZW51SXRlbShfMHgxYTcxMzMpIHsKICBjb25zdCBfMHg3YjkwMmQgPSBbbWVudURhc2hib2FyZCwgbWVudUNyZWF0ZUV4YW0sIG1lbnVDcmVhdGVTbGlkZSwgbWVudVJlc3VsdHMsIG1lbnVHcmFkZXMsIG1lbnVTdHVkZW50cywgbWVudVByb2ZpbGVdOwogIF8weDdiOTAyZC5mb3JFYWNoKF8weDUyYjg2NyA9PiB7CiAgICBfMHg1MmI4NjcuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgfSk7CiAgXzB4MWE3MTMzLmNsYXNzTGlzdC5hZGQoImFjdGl2ZSIpOwp9CmZ1bmN0aW9uIHNob3dBdXRoRm9ybShfMHg3MzkzM2EpIHsKICBjb25zdCBfMHg1OTY5NTcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWJvdXRTZWN0aW9uJyk7CiAgaWYgKF8weDczOTMzYSA9PT0gImxvZ2luIikgewogICAgbG9naW5Gb3JtLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgcmVnaXN0ZXJGb3JtLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBfMHg1OTY5NTcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgfSBlbHNlIHsKICAgIGxvZ2luRm9ybS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgcmVnaXN0ZXJGb3JtLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgXzB4NTk2OTU3LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfQp9CmZ1bmN0aW9uIGNvbmZpcm1EZWxldGVFeGFtKF8weGIwNzEyOSkgewogIGNvbnN0IF8weDUwY2I4NCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWxldGVFeGFtTW9kYWwnKTsKICBfMHg1MGNiODQuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBjb25zdCBfMHgxM2Y1ZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybURlbGV0ZUJ0bicpOwogIGNvbnN0IF8weDJmNTE2MCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW5jZWxEZWxldGVCdG4iKTsKICBfMHgxM2Y1ZWQucmVwbGFjZVdpdGgoXzB4MTNmNWVkLmNsb25lTm9kZSh0cnVlKSk7CiAgXzB4MmY1MTYwLnJlcGxhY2VXaXRoKF8weDJmNTE2MC5jbG9uZU5vZGUodHJ1ZSkpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtRGVsZXRlQnRuJykuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBfMHg1MGNiODQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGRlbGV0ZUV4YW0oXzB4YjA3MTI5KTsKICB9KTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FuY2VsRGVsZXRlQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBfMHg1MGNiODQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9KTsKfQpmdW5jdGlvbiBkZWxldGVFeGFtKGV4YW1JZCkgewogIGRiLmNvbGxlY3Rpb24oJ2V4YW1zJykuZG9jKGV4YW1JZCkuZGVsZXRlKCkudGhlbigoKSA9PiB7CiAgICBzaG93Tm90aWNlKCLYqtmFINit2LDZgSDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hIiwgInN1Y2Nlc3MiKTsKICAgIC8vINin2K3YsNmBINin2YTYqNi32KfZgtipINmF2YYg2KfZhNi12YHYrdipINmB2YjYsdmL2Kcg2LnYqNixINin2YTYqNit2Ksg2LnZhiDYp9mE2KjYt9in2YLYqSDYp9mE2KrZiiDYqtit2KrZiNmKINi52YTZiSDYstixINin2YTYrdiw2YEg2YTZh9iw2Kcg2KfZhNin2YXYqtit2KfZhgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmV4YW0tY2FyZCcpLmZvckVhY2goY2FyZCA9PiB7CiAgICAgIC8vINin2KjYrdirINi52YYg2LLYsSDYp9mE2K3YsNmBINiv2KfYrtmEINin2YTYqNi32KfZgtipCiAgICAgIGNvbnN0IGRlbEJ0biA9IGNhcmQucXVlcnlTZWxlY3RvcignLmV4YW0tY2FyZC1mb290ZXIgLmJ0bi1kYW5nZXInKTsKICAgICAgaWYgKGRlbEJ0biAmJiBkZWxCdG4ub25jbGljayA9PSBudWxsKSB7CiAgICAgICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2LLYsSDZhdix2KjZiNi3INio2YAgYWRkRXZlbnRMaXN0ZW5lctiMINmG2KjYrdirINi52YYg2K7Yp9i12YrYqSBleGFtSWQg2YHZiiBDbG9zdXJlcwogICAgICAgIC8vINmE2LDZhNmDINmG2LPYqtiu2K/ZhSBkYXRhLWV4YW1pZAogICAgICAgIGlmIChkZWxCdG4uZGF0YXNldCAmJiBkZWxCdG4uZGF0YXNldC5leGFtaWQgPT0gZXhhbUlkKSB7CiAgICAgICAgICBjYXJkLnJlbW92ZSgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChkZWxCdG4gJiYgZGVsQnRuLmdldEF0dHJpYnV0ZSgnZGF0YS1leGFtaWQnKSA9PSBleGFtSWQpIHsKICAgICAgICBjYXJkLnJlbW92ZSgpOwogICAgICB9CiAgICB9KTsKICAgIC8vINij2Ygg2KXYsNinINmD2YbYqiDYqtmG2LTYpiDYp9mE2LLYsSDZh9mD2LDYpzoKICAgIC8vIGRlbEJ0bi5kYXRhc2V0LmV4YW1pZCA9IGV4YW1JZDsKICAgIC8vINmB2Yog2K/Yp9mE2KkgY3JlYXRlRXhhbUNhcmQg2KPYttmBOgogICAgLy8gZGVsQnRuLmRhdGFzZXQuZXhhbWlkID0gZXhhbUlkOwogIH0pLmNhdGNoKGVycm9yID0+IHsKICAgIHNob3dOb3RpY2UoItit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYrdiw2YEg2KfZhNin2K7Yqtio2KfYsTogIiArIGVycm9yLm1lc3NhZ2UsICJlcnJvciIpOwogIH0pOwp9CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXh0U2VsZlRlc3RRdWVzdGlvbkJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogIGlmIChzZWxmVGVzdEN1cnJlbnRJbmRleCA8IHNlbGZUZXN0UXVlc3Rpb25zLmxlbmd0aCAtIDB4MSkgewogICAgc2VsZlRlc3RDdXJyZW50SW5kZXgrKzsKICAgIGxvYWRTZWxmVGVzdFF1ZXN0aW9uKHNlbGZUZXN0Q3VycmVudEluZGV4KTsKICB9Cn0pOwpmdW5jdGlvbiBzaG93Tm90aWNlKG1lc3NhZ2UsIHR5cGUgPSAic3VjY2VzcyIpIHsKICBjb25zdCBub3RpY2VDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBub3RpY2VDb250YWluZXIuY2xhc3NOYW1lID0gYG5vdGljZSBub3RpY2UtJHt0eXBlfWA7CiAgbm90aWNlQ29udGFpbmVyLnRleHRDb250ZW50ID0gbWVzc2FnZTsKCiAgLy8g2KXYttin2YHYqSDYp9mE2KXYtNi52KfYsSDYpdmE2Ykg2KfZhNi12YHYrdipCiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub3RpY2VDb250YWluZXIpOwoKICAvLyDYpdiy2KfZhNipINin2YTYpdi02LnYp9ixINio2LnYryAzINir2YjYp9mG2Y0KICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIG5vdGljZUNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gIjAiOwogICAgc2V0VGltZW91dCgoKSA9PiBub3RpY2VDb250YWluZXIucmVtb3ZlKCksIDUwMCk7CiAgfSwgMzAwMCk7Cn0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbmlzaFNlbGZUZXN0QnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmaW5pc2hTZWxmVGVzdCk7CgoKZnVuY3Rpb24gbG9hZFJlY2VudEV4YW1zKCkgewogICAgY29uc3QgZXhhbXNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY2VudEV4YW1zIik7CiAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2KouLi48L3A+IjsKCiAgICAvLyDYqtit2YLZgiDZhdmGINit2KfZhNipINin2YTYt9in2YTYqCDYo9mI2YTYp9mLCiAgICBpZiAodXNlclJvbGUgPT09ICJzdHVkZW50IikgewogICAgICAgIC8vINiq2K3ZgtmCINmF2YYg2KrYudi32YrZhCDYp9mE2K3Ys9in2KgKICAgICAgICBpZiAoY3VycmVudFVzZXJEYXRhICYmIGN1cnJlbnRVc2VyRGF0YS5kaXNhYmxlZCkgewogICAgICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxkaXYgc3R5bGU9J2NvbG9yOiNjMDM5MmI7Zm9udC13ZWlnaHQ6Ym9sZDtmb250LXNpemU6MS4ycmVtO3BhZGRpbmc6MjBweDsnPtiq2YUg2KrYudi32YrZhCDYrdiz2KfYqNmDINmF2YYg2YLYqNmEINin2YTZhdi52YTZhS4g2YrYsdis2Ykg2KfZhNiq2YjYp9i12YQg2YXYuSDYp9mE2YXYudmE2YUg2YTYpdi52KfYr9ipINin2YTYqtmB2LnZitmELjwvZGl2PiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8g2KrYrdmC2YIg2YXZhiDYqtit2K/ZitivINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqQogICAgICAgIGlmICghY3VycmVudFVzZXJEYXRhIHx8ICFjdXJyZW50VXNlckRhdGEueWVhcikgewogICAgICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxkaXYgc3R5bGU9J2NvbG9yOiNlNjdlMjI7Zm9udC13ZWlnaHQ6Ym9sZDtmb250LXNpemU6MS4xcmVtO3BhZGRpbmc6MjBweDsnPtmK2LHYrNmJINin2YTYqtij2YPYryDZhdmGINin2YYg2KfYs9mF2YMg2KvZhNin2KvZiiDYtdit2YrYrSDZiNiq2K3Yr9mK2K8g2KfZhNiz2YbZhyDYp9mE2K/Ysdin2LPZitmHINmI2KfZhNiq2LHZhSDYp9mE2K7Yp9i1INio2YMg2YXZhiA8YSBocmVmPScjJyBpZD0nZ29Ub1Byb2ZpbGVMaW5rJyBzdHlsZT0nY29sb3I6IzBhNzBmZjt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOyc+2KfZhNmF2YTZgSDYp9mE2LTYrti12Yo8L2E+INij2YjZhNin2Ysg2YTYudix2LYg2KfZhNin2K7Yqtio2KfYsdin2Kog2KfZhNmF2YbYp9iz2KjYqSDZhNmDLjwvZGl2PiI7CiAgICAgICAgICAgIC8vINix2KjYtyDYstixINin2YTYp9mG2KrZgtin2YQg2YTZhNmF2YTZgSDYp9mE2LTYrti12YoKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdvVG9Qcm9maWxlTGluayIpOwogICAgICAgICAgICAgICAgaWYgKGxpbmspIHsKICAgICAgICAgICAgICAgICAgICBsaW5rLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlTWVudUl0ZW0obWVudVByb2ZpbGUpOwogICAgICAgICAgICAgICAgICAgICAgICBzaG93UGFnZShwcm9maWxlUGFnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQcm9maWxlKCk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KCiAgICBkYi5jb2xsZWN0aW9uKCJleGFtcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikubGltaXQoOTAwKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYqtin2K3YqSDYrdin2YTZitin2Ys8L3A+IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICBjb25zdCBleGFtID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgY29uc3QgaXNPd25lciA9IGN1cnJlbnRVc2VyICYmIGV4YW0udXNlcklkID09PSBjdXJyZW50VXNlci51aWQ7CgogICAgICAgICAgICAvLyDYp9mE2YXYudmE2YUg2YrYsdmJINmD2YQg2LTZitihCiAgICAgICAgICAgIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICAgICAgICAgICAgICBleGFtc0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlRXhhbUNhcmQoZXhhbSwgZG9jLmlkKSk7CiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g2KfZhNi32KfZhNioOiDYqtit2YLZgiDZhdmGINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqQogICAvLyDYp9mE2LfYp9mE2Kg6INiq2K3ZgtmCINmF2YYg2KfZhNiz2YbYqSDZiNin2YTYqtix2YUKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgZXhhbS55ZWFyID09PSBjdXJyZW50VXNlckRhdGEueWVhciAmJgogICAgICAgICAgICAgICAgZXhhbS50ZXJtID09PSBjdXJyZW50VXNlckRhdGEudGVybQogICAgICAgICAgICApIHsgICAgICAgICAgICAgICAgLy8g2KrYrdmC2YIg2YXZhiDYp9mE2LfZhNin2Kgg2KfZhNmF2LPZhdmI2K0g2YTZh9mFCiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgIWV4YW0uYWxsb3dlZFN0dWRlbnRzIHx8CiAgICAgICAgICAgICAgICAgICAgZXhhbS5hbGxvd2VkU3R1ZGVudHMubGVuZ3RoID09PSAwIHx8CiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRVc2VyICYmIGV4YW0uYWxsb3dlZFN0dWRlbnRzLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnVpZCkpIHx8CiAgICAgICAgICAgICAgICAgICAgaXNPd25lcgogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgZXhhbXNHcmlkLmFwcGVuZENoaWxkKGNyZWF0ZUV4YW1DYXJkKGV4YW0sIGRvYy5pZCkpOwogICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGlmICghZm91bmQpIHsKICAgICAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYqtin2K3YqSDZhNmDINit2KfZhNmK2KfZiy48L3A+IjsKICAgICAgICB9CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqjogIiArIGVycm9yLm1lc3NhZ2UgKyAiPC9wPiI7CiAgICB9KTsKICAgIAp9CmZ1bmN0aW9uIGxvYWRBbGxFeGFtcygpIHsKICAgIGNvbnN0IGV4YW1zR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGxFeGFtcyIpOwogICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqLi4uPC9wPiI7CiAgICBkYi5jb2xsZWN0aW9uKCJleGFtcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICAgICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2KrYp9it2Kkg2K3Yp9mE2YrYp9mLPC9wPiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICcnOwogICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICAgICAgY29uc3QgZXhhbSA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgIC8vINiq2K3ZgtmCINmF2YYg2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqQogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICB1c2VyUm9sZSA9PT0gInRlYWNoZXIiIHx8CiAgICAgICAgICAgICAgICAhZXhhbS55ZWFyIHx8CiAgICAgICAgICAgICAgICAoY3VycmVudFVzZXJEYXRhICYmIGV4YW0ueWVhciA9PT0gY3VycmVudFVzZXJEYXRhLnllYXIpCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICFleGFtLmFsbG93ZWRTdHVkZW50cyB8fAogICAgICAgICAgICAgICAgICAgIGV4YW0uYWxsb3dlZFN0dWRlbnRzLmxlbmd0aCA9PT0gMCB8fAogICAgICAgICAgICAgICAgICAgIChjdXJyZW50VXNlciAmJiBleGFtLmFsbG93ZWRTdHVkZW50cy5pbmNsdWRlcyhjdXJyZW50VXNlci51aWQpKQogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgZXhhbXNHcmlkLmFwcGVuZENoaWxkKGNyZWF0ZUV4YW1DYXJkKGV4YW0sIGRvYy5pZCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKCFleGFtc0dyaWQuaGFzQ2hpbGROb2RlcygpKSB7CiAgICAgICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2KrYp9it2Kkg2YTZgyDYrdin2YTZitin2YsuPC9wPiI7CiAgICAgICAgfQogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2Ko6ICIgKyBlcnJvci5tZXNzYWdlICsgIjwvcD4iOwogICAgfSk7Cn0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1bGtVcGxvYWRCdG4nKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnVsa1VwbG9hZElucHV0IikuY2xpY2soKTsKfSk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWxrVXBsb2FkSW5wdXQnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4gewogICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgaWYgKCFmaWxlKSByZXR1cm47CgogICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpLnRvTG93ZXJDYXNlKCk7CgogICAgaWYgKGZpbGVFeHRlbnNpb24gPT09ICdjc3YnKSB7CiAgICAgICAgLy8g2YXYudin2YTYrNipINmF2YTZgSBDU1YKICAgICAgICBQYXBhLnBhcnNlKGZpbGUsIHsKICAgICAgICAgICAgaGVhZGVyOiB0cnVlLAogICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHJlc3VsdHMpIHsKICAgICAgICAgICAgICAgIHByb2Nlc3NRdWVzdGlvbnMocmVzdWx0cy5kYXRhKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgYWxlcnQoYNit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDZgtix2KfYodipINin2YTZhdmE2YE6ICR7ZXJyb3IubWVzc2FnZX1gKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSBlbHNlIGlmIChbJ3hsc3gnLCAneGxzJ10uaW5jbHVkZXMoZmlsZUV4dGVuc2lvbikpIHsKICAgICAgICAvLyDZhdi52KfZhNis2Kkg2YXZhNmBIEV4Y2VsCiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgICAgIGNvbnN0IHdvcmtib29rID0gWExTWC5yZWFkKGRhdGEsIHsgdHlwZTogJ2FycmF5JyB9KTsKICAgICAgICAgICAgY29uc3Qgc2hlZXROYW1lID0gd29ya2Jvb2suU2hlZXROYW1lc1swXTsKICAgICAgICAgICAgY29uc3Qgc2hlZXQgPSB3b3JrYm9vay5TaGVldHNbc2hlZXROYW1lXTsKICAgICAgICAgICAgY29uc3QganNvbkRhdGEgPSBYTFNYLnV0aWxzLnNoZWV0X3RvX2pzb24oc2hlZXQpOwogICAgICAgICAgICBwcm9jZXNzUXVlc3Rpb25zKGpzb25EYXRhKTsKICAgICAgICB9OwogICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlKTsKICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoJ9mK2LHYrNmJINix2YHYuSDZhdmE2YEg2KjYtdmK2LrYqSBDU1Yg2KPZiCBFeGNlbCDZgdmC2LcuJyk7CiAgICB9Cn0pOwpmdW5jdGlvbiBsb2FkQ291cnNlcygpIHsKICAgIGNvbnN0IGNvdXJzZXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY291cnNlc0NvbnRhaW5lciIpOwogICAgY291cnNlc0NvbnRhaW5lci5pbm5lckhUTUwgPSAiPHA+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2YXZgtix2LHYp9iqLi4uPC9wPiI7CiAgICBkYi5jb2xsZWN0aW9uKCJjb3Vyc2VzIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgICAgICAgY291cnNlc0NvbnRhaW5lci5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDZhdmC2LHYsdin2Kog2YXYqtin2K3YqSDYrdin2YTZitin2Ys8L3A+IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb3Vyc2VzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICAgICAgY29uc3QgY291cnNlID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgY29uc3QgY291cnNlQ2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICBjb3Vyc2VDYXJkLmNsYXNzTmFtZSA9ICJleGFtLWNhcmQiOwogICAgICAgICAgICBjb3Vyc2VDYXJkLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImV4YW0tY2FyZC1oZWFkZXIiPiR7Y291cnNlLnRpdGxlfTwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhhbS1jYXJkLWJvZHkiPgogICAgICAgICAgICAgICAgICAgIDxwPiR7Y291cnNlLmRlc2NyaXB0aW9ufTwvcD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhhbS1jYXJkLWZvb3RlciI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJ2aWV3Q291cnNlKCcke2RvYy5pZH0nKSI+2LnYsdi2PC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgY291cnNlc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjb3Vyc2VDYXJkKTsKICAgICAgICB9KTsKICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb3Vyc2VzQ29udGFpbmVyLmlubmVySFRNTCA9IGA8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2YXZgtix2LHYp9iqOiAke2Vycm9yLm1lc3NhZ2V9PC9wPmA7CiAgICB9KTsKfQpmdW5jdGlvbiB2aWV3Q291cnNlKGNvdXJzZUlkKSB7CiAgICBjb25zdCBjb3Vyc2VEZXRhaWxzUGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3Vyc2VEZXRhaWxzUGFnZSIpOwogICAgY29uc3QgY291cnNlQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3Vyc2VDb250ZW50Iik7CiAgICBjb3Vyc2VDb250ZW50LmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINiq2YHYp9i12YrZhCDYp9mE2YXZgtix2LEuLi48L3A+IjsKICAgIGRiLmNvbGxlY3Rpb24oImNvdXJzZXMiKS5kb2MoY291cnNlSWQpLmdldCgpLnRoZW4oZG9jID0+IHsKICAgICAgICBpZiAoIWRvYy5leGlzdHMpIHsKICAgICAgICAgICAgY291cnNlQ29udGVudC5pbm5lckhUTUwgPSAiPHA+2YTZhSDZitiq2YUg2KfZhNi52KvZiNixINi52YTZiSDYp9mE2YXZgtix2LEuPC9wPiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgY291cnNlID0gZG9jLmRhdGEoKTsKICAgICAgICBjb3Vyc2VDb250ZW50LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgPGgzPiR7Y291cnNlLnRpdGxlfTwvaDM+CiAgICAgICAgICAgIDxwPiR7Y291cnNlLmRlc2NyaXB0aW9ufTwvcD4KICAgICAgICAgICAgPGg0Ptin2YTZgdmK2K/ZitmI2YfYp9iqOjwvaDQ+CiAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgICR7Y291cnNlLnZpZGVvcy5tYXAodmlkZW8gPT4gYDxsaT48YSBocmVmPSIke3ZpZGVvLnVybH0iIHRhcmdldD0iX2JsYW5rIj4ke3ZpZGVvLnRpdGxlfTwvYT48L2xpPmApLmpvaW4oJycpfQogICAgICAgICAgICA8L3VsPgogICAgICAgICAgICA8aDQ+2KfZhNin2K7Yqtio2KfYsdin2Ko6PC9oND4KICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgJHtjb3Vyc2UuZXhhbXMubWFwKGV4YW0gPT4gYDxsaT4ke2V4YW0udGl0bGV9PC9saT5gKS5qb2luKCcnKX0KICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgPGg0Ptin2K7Yqtio2LEg2YbZgdiz2YM6PC9oND4KICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgJHtjb3Vyc2Uuc2VsZlRlc3RzLm1hcCh0ZXN0ID0+IGA8bGk+JHt0ZXN0LnRpdGxlfTwvbGk+YCkuam9pbignJyl9CiAgICAgICAgICAgIDwvdWw+CiAgICAgICAgYDsKICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb3Vyc2VDb250ZW50LmlubmVySFRNTCA9IGA8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYqtmB2KfYtdmK2YQg2KfZhNmF2YLYsdixOiAke2Vycm9yLm1lc3NhZ2V9PC9wPmA7CiAgICB9KTsKICAgIHNob3dQYWdlKGNvdXJzZURldGFpbHNQYWdlKTsKfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ291cnNlQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBjb25zdCB0aXRsZSA9IHByb21wdCgi2KPYr9iu2YQg2LnZhtmI2KfZhiDYp9mE2YXZgtix2LE6Iik7CiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHByb21wdCgi2KPYr9iu2YQg2YjYtdmBINin2YTZhdmC2LHYsToiKTsKICAgIGlmICghdGl0bGUgfHwgIWRlc2NyaXB0aW9uKSB7CiAgICAgICAgYWxlcnQoItmK2LHYrNmJINil2K/Yrtin2YQg2KzZhdmK2Lkg2KfZhNio2YrYp9mG2KfYqi4iKTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBkYi5jb2xsZWN0aW9uKCJjb3Vyc2VzIikuYWRkKHsKICAgICAgICB0aXRsZSwKICAgICAgICBkZXNjcmlwdGlvbiwKICAgICAgICB2aWRlb3M6IFtdLAogICAgICAgIGV4YW1zOiBbXSwKICAgICAgICBzZWxmVGVzdHM6IFtdLAogICAgICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGFsZXJ0KCLYqtmFINil2LbYp9mB2Kkg2KfZhNmF2YLYsdixINio2YbYrNin2K0hIik7CiAgICAgICAgbG9hZENvdXJzZXMoKTsKICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBhbGVydCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINil2LbYp9mB2Kkg2KfZhNmF2YLYsdixOiAiICsgZXJyb3IubWVzc2FnZSk7CiAgICB9KTsKfSk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiYWNrVG9Db3Vyc2VzQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBzaG93UGFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY291cnNlc1BhZ2UiKSk7Cn0pOwpmdW5jdGlvbiBjb25maXJtRGVsZXRlU2VsZlRlc3QoXzB4MWUxZjFkKSB7CiAgY29uc3QgXzB4NWJhZTE3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZVNlbGZUZXN0TW9kYWwnKTsKICBfMHg1YmFlMTcuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBjb25zdCBfMHg1YWY5ZjggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29uZmlybURlbGV0ZVNlbGZUZXN0QnRuIik7CiAgY29uc3QgXzB4NTg4MDcxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbERlbGV0ZVNlbGZUZXN0QnRuIik7CiAgXzB4NWFmOWY4LnJlcGxhY2VXaXRoKF8weDVhZjlmOC5jbG9uZU5vZGUodHJ1ZSkpOwogIF8weDU4ODA3MS5yZXBsYWNlV2l0aChfMHg1ODgwNzEuY2xvbmVOb2RlKHRydWUpKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29uZmlybURlbGV0ZVNlbGZUZXN0QnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBfMHg1YmFlMTcuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGRlbGV0ZVNlbGZUZXN0KF8weDFlMWYxZCk7CiAgfSk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbERlbGV0ZVNlbGZUZXN0QnRuJykuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBfMHg1YmFlMTcuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9KTsKfQpmdW5jdGlvbiB0b2dnbGVEcm9wZG93bigpIHsKICBjb25zdCBfMHgyYTY1OTcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZHJvcGRvd25NZW51Iik7CiAgXzB4MmE2NTk3LnN0eWxlLmRpc3BsYXkgPSBfMHgyYTY1OTcuc3R5bGUuZGlzcGxheSA9PT0gJ2Jsb2NrJyA/ICJub25lIiA6ICJibG9jayI7Cn0KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBfMHg0NWIzNDkgPT4gewogIGNvbnN0IF8weDEzMDYzZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1c2VyTWVudURyb3Bkb3duIik7CiAgY29uc3QgXzB4MjljYjNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Bkb3duTWVudScpOwogIGlmICghXzB4MTMwNjNlLmNvbnRhaW5zKF8weDQ1YjM0OS50YXJnZXQpKSB7CiAgICBfMHgyOWNiM2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICB9Cn0pOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0RXhhbUJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogIGNvbnN0IF8weDNiYWRjMyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maXJtTW9kYWwiKTsKICBfMHgzYmFkYzMuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBjb25zdCBfMHg0MmRiZTAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybVllcycpOwogIGNvbnN0IF8weDI2NWQ3ZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtTm8nKTsKICBfMHg0MmRiZTAucmVwbGFjZVdpdGgoXzB4NDJkYmUwLmNsb25lTm9kZSh0cnVlKSk7CiAgXzB4MjY1ZDdmLnJlcGxhY2VXaXRoKF8weDI2NWQ3Zi5jbG9uZU5vZGUodHJ1ZSkpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maXJtWWVzIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBfMHgzYmFkYzMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIHN1Ym1pdEV4YW0oKTsKICB9KTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybU5vJykuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBfMHgzYmFkYzMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9KTsKfSk7CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIHByb2Nlc3NRdWVzdGlvbnMoZGF0YSkgewogICAgY29uc3QgcXVlc3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uc0NvbnRhaW5lciIpOwogICAgcXVlc3Rpb25zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOyAvLyDYqtmB2LHZiti6INin2YTYrdin2YjZitipINmC2KjZhCDYpdi22KfZgdipINin2YTYo9iz2KbZhNipCgogICAgZGF0YS5mb3JFYWNoKChyb3csIGluZGV4KSA9PiB7CiAgICAgICAgY29uc3QgcXVlc3Rpb25JZCA9IGBxdWVzdGlvbi0ke0RhdGUubm93KCl9LSR7aW5kZXh9YDsKICAgICAgICBjb25zdCBxdWVzdGlvblRleHQgPSByb3dbJ9in2YTYs9ik2KfZhCddPy50cmltKCkgfHwgIiI7CiAgICAgICAgLy8g2K/YudmFINij2YYg2KfZhNil2KzYp9io2Kkg2KfZhNi12K3Zitit2Kkg2YLYryDYqtmD2YjZhiAxINij2YggMiDYo9mIIDMg2KPZiCA0ICjZiNmE2YrYs9iqINi12YHYsdmK2KkpCiAgICAgICAgbGV0IGNvcnJlY3RBbnN3ZXIgPSBwYXJzZUludChyb3dbJ9in2YTYpdis2KfYqNipINin2YTYtdit2YrYrdipJ10pOwogICAgICAgIGlmICghaXNOYU4oY29ycmVjdEFuc3dlcikgJiYgY29ycmVjdEFuc3dlciA+IDApIGNvcnJlY3RBbnN3ZXIgPSBjb3JyZWN0QW5zd2VyIC0gMTsKICAgICAgICBlbHNlIGNvcnJlY3RBbnN3ZXIgPSAwOwogICAgICAgIGNvbnN0IGltYWdlVXJsID0gcm93WyfYsdin2KjYtyDYp9mE2LXZiNix2KknXT8udHJpbSgpIHx8ICIiOwogICAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXTsKCiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gNDsgaSsrKSB7CiAgICAgICAgICAgIGNvbnN0IG9wdGlvblRleHQgPSByb3dbYNin2YTYrtmK2KfYsSAke2l9YF0/LnRyaW0oKTsKICAgICAgICAgICAgaWYgKG9wdGlvblRleHQpIHsKICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7IHRleHQ6IG9wdGlvblRleHQgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vINil2YbYtNin2KEg2LnZhti12LEg2KfZhNiz2KTYp9mECiAgICAgICAgY29uc3QgcXVlc3Rpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgcXVlc3Rpb25FbGVtZW50LmNsYXNzTmFtZSA9ICJxdWVzdGlvbi1jb250YWluZXIgaW1wb3J0ZWQtcXVlc3Rpb24tbGlnaHQiOwogICAgICAgIHF1ZXN0aW9uRWxlbWVudC5pZCA9IHF1ZXN0aW9uSWQ7CgogICAgICAgIHF1ZXN0aW9uRWxlbWVudC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Zhti1INin2YTYs9ik2KfZhDwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi10ZXh0IiB2YWx1ZT0iJHtxdWVzdGlvblRleHR9IiByZXF1aXJlZD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Ysdin2KjYtyDYp9mE2LXZiNix2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi1pbWFnZS11cmwiIHZhbHVlPSIke2ltYWdlVXJsfSIgcGxhY2Vob2xkZXI9Itij2K/YrtmEINix2KfYqNi3INin2YTYtdmI2LHYqSI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2K7Zitin2LHYp9iqINin2YTYpdis2KfYqNipPC9sYWJlbD4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im9wdGlvbnMtJHtxdWVzdGlvbklkfSI+CiAgICAgICAgICAgICAgICAgICAgJHtvcHRpb25zLm1hcCgob3B0aW9uLCBvcHRpb25JbmRleCkgPT4gYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24taXRlbSBvcHRpb24taXRlbS1saWdodCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImNvcnJlY3QtJHtxdWVzdGlvbklkfSIgdmFsdWU9IiR7b3B0aW9uSW5kZXh9IiAke2NvcnJlY3RBbnN3ZXIgPT09IG9wdGlvbkluZGV4ID8gImNoZWNrZWQiIDogIiJ9IHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgb3B0aW9uLXRleHQiIHZhbHVlPSIke29wdGlvbi50ZXh0fSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSIgb25jbGljaz0icmVtb3ZlT3B0aW9uKHRoaXMpIiBzdHlsZT0ibWFyZ2luLXJpZ2h0OjhweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICBgKS5qb2luKCcnKX0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJhZGQtYnRuIiBvbmNsaWNrPSJhZGRPcHRpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2K7Zitin2LEKICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJyZW1vdmUtYnRuIiBvbmNsaWNrPSJyZW1vdmVRdWVzdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYp9mE2LPYpNin2YQKICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICBgOwoKICAgICAgICBxdWVzdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocXVlc3Rpb25FbGVtZW50KTsKICAgIH0pOwoKICAgIGFsZXJ0KCfYqtmFINiq2K3ZhdmK2YQg2KfZhNij2LPYptmE2Kkg2KjZhtis2KfYrSEnKTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINil2LjZh9in2LEg2LLYsSDYp9mE2KrZhtiy2YrZhCDZhNmE2YXYudmE2YUg2YHZgti3CmZ1bmN0aW9uIHRvZ2dsZUdyYWRlc0Rvd25sb2FkQnV0dG9ucygpIHsKICBjb25zdCBleGFtQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvd25sb2FkRXhhbUdyYWRlc0J0biIpOwogIGNvbnN0IHNlbGZUZXN0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvd25sb2FkU2VsZlRlc3RHcmFkZXNCdG4iKTsKICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgaWYgKGV4YW1CdG4pIGV4YW1CdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgaWYgKHNlbGZUZXN0QnRuKSBzZWxmVGVzdEJ0bi5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgfSBlbHNlIHsKICAgIGlmIChleGFtQnRuKSBleGFtQnRuLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBpZiAoc2VsZlRlc3RCdG4pIHNlbGZUZXN0QnRuLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfQp9CgovLyDYp9iz2KrYr9i52ZAg2YfYsNmHINin2YTYr9in2YTYqSDYudmG2K8g2YHYqtitINi12YHYrdipINin2YTYr9ix2KzYp9iqINmI2LXZgdit2Kkg2KfZhNmI2KfYrNioCm1lbnVHcmFkZXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgLy8gLi4uZXhpc3RpbmcgY29kZS4uLgogIHRvZ2dsZUdyYWRlc0Rvd25sb2FkQnV0dG9ucygpOwp9KTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTZWxmVGVzdFJlc3VsdHMiKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgLy8gLi4uZXhpc3RpbmcgY29kZS4uLgogIHRvZ2dsZUdyYWRlc0Rvd25sb2FkQnV0dG9ucygpOwp9KTsKCi8vINiv2KfZhNipINiq2LXYr9mK2LEg2KfZhNis2K/ZiNmEIFBERiDYo9mIINi12YjYsdipCmZ1bmN0aW9uIGV4cG9ydFRhYmxlQXNQREZPckltYWdlKHRhYmxlSWQsIGZpbGVOYW1lKSB7CiAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YWJsZUlkKTsKICBpZiAoIXRhYmxlKSByZXR1cm47CiAgaHRtbDJjYW52YXModGFibGUpLnRoZW4oY2FudmFzID0+IHsKICAgIC8vINit2YHYuCDZg9i12YjYsdipCiAgICBjb25zdCBpbWdEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIsIDEuMCk7CgogICAgLy8g2K3Zgdi4INmD2YAgUERGCiAgICBjb25zdCBwZGYgPSBuZXcgd2luZG93LmpzcGRmLmpzUERGKHsKICAgICAgb3JpZW50YXRpb246ICJsYW5kc2NhcGUiLAogICAgICB1bml0OiAicHQiLAogICAgICBmb3JtYXQ6ICJhNCIKICAgIH0pOwogICAgY29uc3QgcGFnZVdpZHRoID0gcGRmLmludGVybmFsLnBhZ2VTaXplLmdldFdpZHRoKCk7CiAgICBjb25zdCBwYWdlSGVpZ2h0ID0gcGRmLmludGVybmFsLnBhZ2VTaXplLmdldEhlaWdodCgpOwogICAgY29uc3QgaW1nV2lkdGggPSBwYWdlV2lkdGggLSA0MDsKICAgIGNvbnN0IGltZ0hlaWdodCA9IGNhbnZhcy5oZWlnaHQgKiBpbWdXaWR0aCAvIGNhbnZhcy53aWR0aDsKICAgIHBkZi5hZGRJbWFnZShpbWdEYXRhLCAnSlBFRycsIDIwLCAyMCwgaW1nV2lkdGgsIGltZ0hlaWdodCk7CiAgICBwZGYuc2F2ZShmaWxlTmFtZSArICIucGRmIik7CgogICAgLy8g2KrZhtiy2YrZhCDYp9mE2LXZiNix2Kkg2KPZiti22KfZiyAo2KfYrtiq2YrYp9ix2YopCiAgICAvLyBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgLy8gbGluay5ocmVmID0gaW1nRGF0YTsKICAgIC8vIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZSArICIuanBnIjsKICAgIC8vIGxpbmsuY2xpY2soKTsKICB9KTsKfQoKLy8g2LHYqNi3INin2YTYo9iy2LHYp9ixCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkb3dubG9hZEV4YW1HcmFkZXNCdG4iKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpIHsKICBleHBvcnRUYWJsZUFzUERGT3JJbWFnZSgiYWxsR3JhZGVzVGFibGUiLCAi2K/Ysdis2KfYql/Yp9mE2KfZhdiq2K3Yp9mG2KfYqiIpOwp9KTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvd25sb2FkU2VsZlRlc3RHcmFkZXNCdG4iKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpIHsKICBleHBvcnRUYWJsZUFzUERGT3JJbWFnZSgic2VsZlRlc3RSZXN1bHRzVGFibGUiLCAi2K/Ysdis2KfYql/Yp9mE2YjYp9is2KjYp9iqIik7Cn0pOwoKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gY3JlYXRlRXhhbUNhcmQoZXhhbSwgZXhhbUlkKSB7CiAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogIGNhcmQuY2xhc3NOYW1lID0gImV4YW0tY2FyZCI7CmNhcmQuc2V0QXR0cmlidXRlKCJkYXRhLXllYXIiLCBleGFtLnllYXIgfHwgIiIpOwpjYXJkLnNldEF0dHJpYnV0ZSgiZGF0YS10ZXJtIiwgZXhhbS50ZXJtIHx8ICIiKTsKICAvLyDYtNin2LHYqSDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKIChiYWRnZSkKICBsZXQgdGVybVNob3J0ID0gIiI7CiAgaWYgKGV4YW0udGVybSkgewogICAgaWYgKGV4YW0udGVybS5pbmNsdWRlcygi2KfZhNij2YjZhCIpKSB0ZXJtU2hvcnQgPSAiMSDYqtix2YUiOwogICAgZWxzZSBpZiAoZXhhbS50ZXJtLmluY2x1ZGVzKCLYp9mE2KvYp9mG2YoiKSkgdGVybVNob3J0ID0gIjIg2KrYsdmFIjsKICAgIGVsc2UgdGVybVNob3J0ID0gZXhhbS50ZXJtOwogIH0KICAvLyDYtNin2LHYqSDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2KkgKGJhZGdlKQogIGxldCB5ZWFyU2hvcnQgPSAiIjsKICBpZiAoZXhhbS55ZWFyKSB7CiAgICBpZiAoZXhhbS55ZWFyLmluY2x1ZGVzKCLYp9mE2KPZiNmE2YkiKSkgeWVhclNob3J0ID0gIjEg2KsiOwogICAgZWxzZSBpZiAoZXhhbS55ZWFyLmluY2x1ZGVzKCLYp9mE2KvYp9mG2YrYqSIpKSB5ZWFyU2hvcnQgPSAiMiDYqyI7CiAgICBlbHNlIGlmIChleGFtLnllYXIuaW5jbHVkZXMoItin2YTYq9in2YTYq9ipIikpIHllYXJTaG9ydCA9ICIzINirIjsKICAgIGVsc2UgeWVhclNob3J0ID0gZXhhbS55ZWFyOwogIH0KCiAgLy8g2LTYp9ix2KfYqiDYp9mE2KjZitin2YbYp9iqICjYudiv2K8g2KfZhNij2LPYptmE2KnYjCDYp9mE2K/Ysdis2KfYqtiMINin2YTZiNmC2KrYjCDYp9mE2LPZhtip2Iwg2KfZhNiq2LHZhSkKICBjb25zdCBtZXRhQmFkZ2VzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgbWV0YUJhZGdlcy5jbGFzc05hbWUgPSAiZXhhbS1tZXRhLWJhZGdlIjsKCiAgLy8g2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipCiAgaWYgKHllYXJTaG9ydCkgewogICAgY29uc3QgeWVhckJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICB5ZWFyQmFkZ2UuY2xhc3NOYW1lID0gImV4YW0teWVhci1iYWRnZSI7CiAgICB5ZWFyQmFkZ2UudGl0bGUgPSAi2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqSI7CiAgICB5ZWFyQmFkZ2UudGV4dENvbnRlbnQgPSB5ZWFyU2hvcnQ7CiAgICBtZXRhQmFkZ2VzLmFwcGVuZENoaWxkKHllYXJCYWRnZSk7CiAgfQogIC8vINin2YTYqtix2YUg2KfZhNiv2LHYp9iz2YoKICBpZiAodGVybVNob3J0KSB7CiAgICBjb25zdCB0ZXJtQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHRlcm1CYWRnZS5jbGFzc05hbWUgPSAiZXhhbS15ZWFyLWJhZGdlIjsKICAgIHRlcm1CYWRnZS50aXRsZSA9ICLYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKIjsKICAgIHRlcm1CYWRnZS5zdHlsZS5iYWNrZ3JvdW5kID0gImxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMzYjhhZTMgNzAlLCAjMDk0OGEwIDEwMCUpIjsKICAgIHRlcm1CYWRnZS5zdHlsZS5sZWZ0ID0geWVhclNob3J0ID8gIjYwcHgiIDogIjEwcHgiOwogICAgdGVybUJhZGdlLnRleHRDb250ZW50ID0gdGVybVNob3J0OwogICAgbWV0YUJhZGdlcy5hcHBlbmRDaGlsZCh0ZXJtQmFkZ2UpOwogIH0KCiAgLy8g2LnYr9ivINin2YTYo9iz2KbZhNipCiAgY29uc3QgcXVlc3Rpb25zQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBxdWVzdGlvbnNCYWRnZS5jbGFzc05hbWUgPSAiZXhhbS1iYWRnZSI7CiAgcXVlc3Rpb25zQmFkZ2UuaW5uZXJIVE1MID0gYAogICAgJHtleGFtLnF1ZXN0aW9ucz8ubGVuZ3RoIHx8IDB9CiAgICA8ZGl2IGNsYXNzPSJleGFtLWJhZGdlLWxhYmVsIj7Ys9ik2KfZhDwvZGl2PgogIGA7CiAgbWV0YUJhZGdlcy5hcHBlbmRDaGlsZChxdWVzdGlvbnNCYWRnZSk7CgogIC8vINin2YTYr9ix2KzYp9iqCiAgY29uc3QgbWFya3NCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIG1hcmtzQmFkZ2UuY2xhc3NOYW1lID0gImV4YW0tYmFkZ2UiOwogIG1hcmtzQmFkZ2UuaW5uZXJIVE1MID0gYAogICAgJHtleGFtLnRvdGFsTWFya3MgfHwgZXhhbS5xdWVzdGlvbnM/Lmxlbmd0aCB8fCAwfQogICAgPGRpdiBjbGFzcz0iZXhhbS1iYWRnZS1sYWJlbCI+2K/Ysdis2Kk8L2Rpdj4KICBgOwogIG1ldGFCYWRnZXMuYXBwZW5kQ2hpbGQobWFya3NCYWRnZSk7CgogIC8vINin2YTZiNmC2KoKICBjb25zdCBkdXJhdGlvbkJhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgZHVyYXRpb25CYWRnZS5jbGFzc05hbWUgPSAiZXhhbS1iYWRnZSI7CiAgZHVyYXRpb25CYWRnZS5pbm5lckhUTUwgPSBgCiAgICAke2V4YW0uZHVyYXRpb24gPyBleGFtLmR1cmF0aW9uICsgIiDYryIgOiAiIn0KICAgIDxkaXYgY2xhc3M9ImV4YW0tYmFkZ2UtbGFiZWwiPtin2YTZiNmC2Ko8L2Rpdj4KICBgOwogIG1ldGFCYWRnZXMuYXBwZW5kQ2hpbGQoZHVyYXRpb25CYWRnZSk7CgogIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIGhlYWRlci5jbGFzc05hbWUgPSAiZXhhbS1jYXJkLWhlYWRlciI7CiAgaGVhZGVyLmlubmVySFRNTCA9IGA8aSBjbGFzcz0iZmFzIGZhLWNsaXBib2FyZC1saXN0Ij48L2k+ICR7ZXhhbS50aXRsZX1gOwoKICAvLyDZiNi12YEg2KfZhNin2YXYqtit2KfZhgogIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBib2R5LmNsYXNzTmFtZSA9ICJleGFtLWNhcmQtYm9keSI7CiAgYm9keS5pbm5lckhUTUwgPSBgPHA+JHtleGFtLmRlc2NyaXB0aW9uIHx8ICcnfTwvcD5gOwoKICBjb25zdCBmb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBmb290ZXIuY2xhc3NOYW1lID0gImV4YW0tY2FyZC1mb290ZXIiOwogIGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgc3RhcnRCdG4uY2xhc3NOYW1lID0gImJ0biBidG4tcHJpbWFyeSI7CiAgc3RhcnRCdG4udGV4dENvbnRlbnQgPSAi2KjYr9ihINin2YTYp9iu2KrYqNin2LEiOwogIHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgc2hvd0V4YW1Db25maXJtTW9kYWwoKCkgPT4gc3RhcnRFeGFtKGV4YW0sIGV4YW1JZCkpOwogIH0pOwogIGZvb3Rlci5hcHBlbmRDaGlsZChzdGFydEJ0bik7CgogIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICBlZGl0QnRuLmNsYXNzTmFtZSA9ICJidG4gYnRuLW91dGxpbmUiOwogICAgZWRpdEJ0bi50ZXh0Q29udGVudCA9ICLYqti52K/ZitmEIjsKICAgIGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBlZGl0RXhhbShleGFtLCBleGFtSWQpKTsKICAgIGZvb3Rlci5hcHBlbmRDaGlsZChlZGl0QnRuKTsKCiAgICBjb25zdCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgIGRlbEJ0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1kYW5nZXIiOwogICAgZGVsQnRuLnRleHRDb250ZW50ID0gJ9it2LDZgSc7CiAgICBkZWxCdG4uZGF0YXNldC5leGFtaWQgPSBleGFtSWQ7CiAgICBkZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBjb25maXJtRGVsZXRlRXhhbShleGFtSWQpKTsKICAgIGZvb3Rlci5hcHBlbmRDaGlsZChkZWxCdG4pOwogIH0KCiAgY2FyZC5hcHBlbmRDaGlsZChoZWFkZXIpOwogIGNhcmQuYXBwZW5kQ2hpbGQobWV0YUJhZGdlcyk7CiAgY2FyZC5hcHBlbmRDaGlsZChib2R5KTsKICBjYXJkLmFwcGVuZENoaWxkKGZvb3Rlcik7CgogIHJldHVybiBjYXJkOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCmZ1bmN0aW9uIGNsb3NlQWNjb3VudERpc2FibGVkTW9kYWwoKSB7CiAgY29uc3QgXzB4MzhhY2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjY291bnREaXNhYmxlZE1vZGFsJyk7CiAgXzB4MzhhY2RlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7Cn0KZnVuY3Rpb24gbG9hZFNlbGZUZXN0cygpIHsKICBjb25zdCBzZWxmVGVzdHNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c0dyaWQiKTsKICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2K7Yqtio2KfYsdin2KogXCLYp9iu2KrYqNixINmG2YHYs9mDXCIuLi48L3A+IjsKICBkYi5jb2xsZWN0aW9uKCdzZWxmVGVzdHMnKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiBcItin2K7Yqtio2LEg2YbZgdiz2YNcIiDZhdiq2KfYrdipINit2KfZhNmK2KfZizwvcD4iOwogICAgICByZXR1cm47CiAgICB9CiAgICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICcnOwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCBzZWxmVGVzdCA9IGRvYy5kYXRhKCk7CiAgICAgIGNvbnN0IGFsbG93ZWQgPSBBcnJheS5pc0FycmF5KHNlbGZUZXN0LmFsbG93ZWRTdHVkZW50cykgPyBzZWxmVGVzdC5hbGxvd2VkU3R1ZGVudHMgOiBbXTsKICAgICAgY29uc3QgaXNPd25lciA9IGN1cnJlbnRVc2VyICYmIHNlbGZUZXN0LnVzZXJJZCA9PT0gY3VycmVudFVzZXIudWlkOwoKICAgICAgLy8g2KfZhNmF2LnZhNmFINmK2LHZiSDZg9mEINin2YTZiNin2KzYqNin2Kog2KfZhNmF2YbYstmE2YrYqQogICAgICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgICAgIHNlbGZUZXN0c0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlU2VsZlRlc3RDYXJkKHNlbGZUZXN0LCBkb2MuaWQpKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vINin2YTYt9in2YTYqDog2KrYrdmC2YIg2YXZhiDYp9mE2LPZhtipINmI2KfZhNiq2LHZhQogICAgICBpZiAoCiAgICAgICAgc2VsZlRlc3QueWVhciA9PT0gY3VycmVudFVzZXJEYXRhLnllYXIgJiYKICAgICAgICBzZWxmVGVzdC50ZXJtID09PSBjdXJyZW50VXNlckRhdGEudGVybQogICAgICApIHsKICAgICAgICBjb25zdCBpc0FsbG93ZWQgPSBhbGxvd2VkLmxlbmd0aCA9PT0gMCB8fCAoY3VycmVudFVzZXIgJiYgYWxsb3dlZC5pbmNsdWRlcyhjdXJyZW50VXNlci51aWQpKSB8fCBpc093bmVyOwogICAgICAgIGlmIChpc0FsbG93ZWQpIHsKICAgICAgICAgIHNlbGZUZXN0c0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlU2VsZlRlc3RDYXJkKHNlbGZUZXN0LCBkb2MuaWQpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgaWYgKCFzZWxmVGVzdHNHcmlkLmhhc0NoaWxkTm9kZXMoKSkgewogICAgICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYqtin2K3YqSDZhNmDINit2KfZhNmK2KfZiy48L3A+IjsKICAgIH0KICB9KVsiY2F0Y2giXShlcnJvciA9PiB7CiAgICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9iu2KrYqNin2LHYp9iqIFwi2KfYrtiq2KjYsSDZhtmB2LPZg1wiOiAiICsgZXJyb3IubWVzc2FnZSArICc8L3A+JzsKICB9KTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYr9in2YTYqSDYqtit2K/ZitirINin2YTYp9mF2KrYrdin2YbYp9iqINmI2KfZhNmI2KfYrNio2KfYqiDYqtmE2YLYp9im2YrYp9mLINi52YbYryDYqti62YrZitixINin2YTYs9mG2Kkg2KPZiCDYp9mE2KrYsdmFINmE2YTYt9in2YTYqAoKLy8g2KfYs9iq2K/YudmQINin2YTYr9in2YTYqSDYqNi52K8g2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2KPZiCDYqNi52K8g2KrYudix2YrZgSBjdXJyZW50VXNlckRhdGEKLy8g2YXYq9in2YQ6INmB2Yog2YbZh9in2YrYqSBzZXR1cEF1dGhlbnRpY2F0ZWRVSSgpCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIHNob3dFeGFtQ29uZmlybU1vZGFsKG9uQ29uZmlybSkgewogICAgLy8g2KXYsNinINmD2KfZhtiqINin2YTZhtin2YHYsNipINmF2YjYrNmI2K/YqSDZhdiz2KjZgtin2YvYjCDZhNinINiq2YbYtNim2YfYpyDZhdmGINis2K/ZitivCiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbUNvbmZpcm1Nb2RhbCIpOwogICAgaWYgKCFtb2RhbCkgewogICAgICAgIG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgbW9kYWwuaWQgPSAiZXhhbUNvbmZpcm1Nb2RhbCI7CiAgICAgICAgbW9kYWwuY2xhc3NOYW1lID0gIm1vZGFsIjsKICAgICAgICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJtb2RhbC10aXRsZSI+2YfZhCDYo9mG2Kog2YXYs9iq2LnYr9ifPC9oMj4KICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJtb2RhbC1tZXNzYWdlIj7Zh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYqNiv2KEg2KfZhNin2K7Yqtio2KfYsSDYp9mE2KLZhtifPGJyPtiq2KPZg9ivINij2YbZgyDZhdiz2KrYudivINmI2YTZhiDYqtiq2YXZg9mGINmF2YYg2KfZhNi52YjYr9ipINio2LnYryDYp9mE2KjYr9ihLjwvcD4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNvbmZpcm1TdGFydEV4YW1CdG4iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPtmG2LnZhdiMINin2KjYr9ijPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY2FuY2VsU3RhcnRFeGFtQnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICBgOwogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpOwogICAgfQogICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maXJtU3RhcnRFeGFtQnRuIikub25jbGljayA9ICgpID0+IHsKICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIG9uQ29uZmlybSgpOwogICAgfTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW5jZWxTdGFydEV4YW1CdG4iKS5vbmNsaWNrID0gKCkgPT4gewogICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9Owp9CmZ1bmN0aW9uIHNlYXJjaFJlY2VudEV4YW1zKCkgewogICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VhcmNoSW5wdXQiKS52YWx1ZS50b0xvd2VyQ2FzZSgpOwogICAgY29uc3QgZXhhbXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXMiKTsKICAgIGNvbnN0IGV4YW1DYXJkcyA9IGV4YW1zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi5leGFtLWNhcmQiKTsKICAgIGxldCBoYXNSZXN1bHRzID0gZmFsc2U7CgogICAgZXhhbUNhcmRzLmZvckVhY2goY2FyZCA9PiB7CiAgICAgICAgY29uc3QgdGl0bGUgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoIi5leGFtLWNhcmQtaGVhZGVyIikudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKTsKICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGNhcmQucXVlcnlTZWxlY3RvcigiLmV4YW0tY2FyZC1ib2R5IikudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKTsKCiAgICAgICAgaWYgKHRpdGxlLmluY2x1ZGVzKHNlYXJjaFF1ZXJ5KSB8fCBkZXNjcmlwdGlvbi5pbmNsdWRlcyhzZWFyY2hRdWVyeSkpIHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsgLy8g2LnYsdi2INin2YTYqNi32KfZgtipINil2LDYpyDYqti32KfYqNmCINin2YTZhti1CiAgICAgICAgICAgIGhhc1Jlc3VsdHMgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsgLy8g2KXYrtmB2KfYoSDYp9mE2KjYt9in2YLYqSDYpdiw2Kcg2YTZhSDYqtiq2LfYp9io2YIKICAgICAgICB9CiAgICB9KTsKCiAgICBpZiAoIWhhc1Jlc3VsdHMpIHsKICAgICAgICBleGFtc0NvbnRhaW5lci5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2LfYp9io2YLYqSDZhNio2K3Yq9mDLjwvcD4iOwogICAgfQp9Ci8vINi52K/ZhCDYr9in2YTYqSBjcmVhdGVTZWxmVGVzdENhcmQg2YTZiti42YfYsSDYstixICLYqti52K/ZitmEIiDZhNmE2YXYudmE2YUg2KPZiCDZhdmG2LTYpiDYp9mE2KfYrtiq2KjYp9ixCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBjcmVhdGVTZWxmVGVzdENhcmQoc2VsZlRlc3QsIHNlbGZUZXN0SWQpIHsKICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY2FyZC5jbGFzc05hbWUgPSAic2VsZi10ZXN0LWNhcmQiOwogIGNhcmQuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOwpjYXJkLnNldEF0dHJpYnV0ZSgiZGF0YS15ZWFyIiwgc2VsZlRlc3QueWVhciB8fCAiIik7CmNhcmQuc2V0QXR0cmlidXRlKCJkYXRhLXRlcm0iLCBzZWxmVGVzdC50ZXJtIHx8ICIiKTsKICAvLyDYtNin2LHYqSDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2KkKICBsZXQgeWVhclNob3J0ID0gIiI7CiAgaWYgKHNlbGZUZXN0LnllYXIpIHsKICAgIGlmIChzZWxmVGVzdC55ZWFyLmluY2x1ZGVzKCLYp9mE2KPZiNmE2YkiKSkgeWVhclNob3J0ID0gIjEg2KsiOwogICAgZWxzZSBpZiAoc2VsZlRlc3QueWVhci5pbmNsdWRlcygi2KfZhNir2KfZhtmK2KkiKSkgeWVhclNob3J0ID0gIjIg2KsiOwogICAgZWxzZSBpZiAoc2VsZlRlc3QueWVhci5pbmNsdWRlcygi2KfZhNir2KfZhNir2KkiKSkgeWVhclNob3J0ID0gIjMg2KsiOwogICAgZWxzZSB5ZWFyU2hvcnQgPSBzZWxmVGVzdC55ZWFyOwogIH0KCiAgLy8g2LTYp9ix2Kkg2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZigogIGxldCB0ZXJtU2hvcnQgPSAiIjsKICBpZiAoc2VsZlRlc3QudGVybSkgewogICAgaWYgKHNlbGZUZXN0LnRlcm0uaW5jbHVkZXMoItin2YTYo9mI2YQiKSkgdGVybVNob3J0ID0gIjEg2KrYsdmFIjsKICAgIGVsc2UgaWYgKHNlbGZUZXN0LnRlcm0uaW5jbHVkZXMoItin2YTYq9in2YbZiiIpKSB0ZXJtU2hvcnQgPSAiMiDYqtix2YUiOwogICAgZWxzZSB0ZXJtU2hvcnQgPSBzZWxmVGVzdC50ZXJtOwogIH0KCiAgLy8g2K/ZiNin2KbYsSDYp9mE2LTYp9ix2KfYqgogIGxldCBiYWRnZXNIdG1sID0gIiI7CiAgaWYgKHllYXJTaG9ydCkgewogICAgYmFkZ2VzSHRtbCArPSBgPGRpdiBjbGFzcz0ic2VsZnRlc3QteWVhci1iYWRnZSIgdGl0bGU9Itin2YTZhdix2K3ZhNipINin2YTYr9ix2KfYs9mK2KkiIHN0eWxlPSJsZWZ0OjEwcHg7Ij4ke3llYXJTaG9ydH08L2Rpdj5gOwogIH0KICBpZiAodGVybVNob3J0KSB7CiAgICBiYWRnZXNIdG1sICs9IGA8ZGl2IGNsYXNzPSJzZWxmdGVzdC15ZWFyLWJhZGdlIiB0aXRsZT0i2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZiiIgc3R5bGU9ImxlZnQ6NjBweDsgIzNiOGFlMyA3MCUsICMwOTQ4YTAgMTAwJSkpOyI+JHt0ZXJtU2hvcnR9PC9kaXY+YDsKICB9CgogIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIGhlYWRlci5jbGFzc05hbWUgPSAic2VsZi10ZXN0LWNhcmQtaGVhZGVyIjsKICBoZWFkZXIuaW5uZXJIVE1MID0gYCR7YmFkZ2VzSHRtbH08aSBjbGFzcz0iZmFzIGZhLWJyYWluIj48L2k+ICR7c2VsZlRlc3QudGl0bGV9YDsKCiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogIGJvZHkuY2xhc3NOYW1lID0gInNlbGYtdGVzdC1jYXJkLWJvZHkiOwogIGJvZHkuaW5uZXJIVE1MID0gYAogICAgICAgIDxwPiR7c2VsZlRlc3QuZGVzY3JpcHRpb24gfHwgItmE2Kcg2YrZiNis2K8g2YjYtdmBINmE2YTYp9iu2KrYqNin2LEifTwvcD4KICAgICAgICA8cD48c3Ryb25nPti52K/YryDYp9mE2KPYs9im2YTYqTo8L3N0cm9uZz4gJHtzZWxmVGVzdC5xdWVzdGlvbnMubGVuZ3RofTwvcD4KICAgIGA7CgogIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIGZvb3Rlci5jbGFzc05hbWUgPSAnc2VsZi10ZXN0LWNhcmQtZm9vdGVyJzsKCiAgLy8g2LLYsSDYqNiv2KEg2KfZhNin2K7Yqtio2KfYsQogIGNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgc3RhcnRCdG4uY2xhc3NOYW1lID0gImJ0biBidG4tcHJpbWFyeSI7CiAgc3RhcnRCdG4udGV4dENvbnRlbnQgPSAi2KjYr9ihINin2YTYp9iu2KrYqNin2LEiOwogIHN0YXJ0QnRuLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjEwcHgiOwogIHN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gc3RhcnRTZWxmVGVzdChzZWxmVGVzdCwgc2VsZlRlc3RJZCkpOwogIGZvb3Rlci5hcHBlbmRDaGlsZChzdGFydEJ0bik7CgogIC8vINiy2LEg2KrYudiv2YrZhCDZiti42YfYsSDZhNmE2YXYudmE2YUg2KPZiCDZhdmG2LTYpiDYp9mE2KfYrtiq2KjYp9ixINmB2YLYtwogIGlmICh1c2VyUm9sZSA9PT0gJ3RlYWNoZXInIHx8IChjdXJyZW50VXNlciAmJiBzZWxmVGVzdC51c2VySWQgPT09IGN1cnJlbnRVc2VyLnVpZCkpIHsKICAgIGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgIGVkaXRCdG4uY2xhc3NOYW1lID0gImJ0biBidG4tb3V0bGluZSI7CiAgICBlZGl0QnRuLnRleHRDb250ZW50ID0gItiq2LnYr9mK2YQiOwogICAgZWRpdEJ0bi5zdHlsZS5tYXJnaW5SaWdodCA9ICIxMHB4IjsKICAgIGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZSkgPT4gewogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICBlZGl0U2VsZlRlc3Qoc2VsZlRlc3QsIHNlbGZUZXN0SWQpOwogICAgfSk7CiAgICBmb290ZXIuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7CiAgfQoKICAvLyDYstixINit2LDZgSDZhNmE2YXYudmE2YUg2YHZgti3CiAgaWYgKHVzZXJSb2xlID09PSAndGVhY2hlcicpIHsKICAgIGNvbnN0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgZGVsQnRuLmNsYXNzTmFtZSA9ICJidG4gYnRuLWRhbmdlciI7CiAgICBkZWxCdG4udGV4dENvbnRlbnQgPSAi2K3YsNmBIjsKICAgIGRlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKSA9PiB7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIGNvbmZpcm1EZWxldGVTZWxmVGVzdChzZWxmVGVzdElkKTsKICAgIH0pOwogICAgZm9vdGVyLmFwcGVuZENoaWxkKGRlbEJ0bik7CiAgfQoKICBjYXJkLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgY2FyZC5hcHBlbmRDaGlsZChib2R5KTsKICBjYXJkLmFwcGVuZENoaWxkKGZvb3Rlcik7CiAgcmV0dXJuIGNhcmQ7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KPYttmBINiv2KfZhNipIGVkaXRTZWxmVGVzdCDZhNmB2KrYrSDYtdmB2K3YqSDYp9mE2KrYudiv2YrZhCDZiNiq2LnYqNim2Kkg2KfZhNio2YrYp9mG2KfYqgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIGVkaXRTZWxmVGVzdChzZWxmVGVzdCwgc2VsZlRlc3RJZCkgewogIGVkaXRpbmdTZWxmVGVzdElkID0gc2VsZlRlc3RJZDsKCiAgc2V0QWN0aXZlTWVudUl0ZW0obWVudU1hbmFnZVNlbGZUZXN0KTsKICBzaG93UGFnZShtYW5hZ2VTZWxmVGVzdFBhZ2UpOwoKICAvLyDYqti52KjYptipINio2YrYp9mG2KfYqiDYp9mE2KfYrtiq2KjYp9ixCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0VGl0bGUiKS52YWx1ZSA9IHNlbGZUZXN0LnRpdGxlIHx8ICIiOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdERlc2NyaXB0aW9uIikudmFsdWUgPSBzZWxmVGVzdC5kZXNjcmlwdGlvbiB8fCAiIjsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RZZWFyIikudmFsdWUgPSBzZWxmVGVzdC55ZWFyIHx8ICIiOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFRlcm0iKS52YWx1ZSA9IHNlbGZUZXN0LnRlcm0gfHwgIiI7IC8vINiq2LnYqNim2Kkg2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZigoKICAvLyDYqti52KjYptipINin2YTYo9iz2KbZhNipCiAgY29uc3QgcXVlc3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0UXVlc3Rpb25zQ29udGFpbmVyIik7CiAgcXVlc3Rpb25zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogIHNlbGZUZXN0LnF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaW5kZXgpID0+IHsKICAgIGNvbnN0IHF1ZXN0aW9uSWQgPSBgcXVlc3Rpb24tJHtEYXRlLm5vdygpfS0ke2luZGV4fWA7CiAgICBjb25zdCBxdWVzdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHF1ZXN0aW9uRWxlbWVudC5jbGFzc05hbWUgPSAicXVlc3Rpb24tY29udGFpbmVyIGltcG9ydGVkLXF1ZXN0aW9uLWxpZ2h0IjsKICAgIHF1ZXN0aW9uRWxlbWVudC5pZCA9IHF1ZXN0aW9uSWQ7CiAgICBxdWVzdGlvbkVsZW1lbnQuaW5uZXJIVE1MID0gYAogICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Zhti1INin2YTYs9ik2KfZhDwvbGFiZWw+CiAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi10ZXh0IiB2YWx1ZT0iJHtxdWVzdGlvbi50ZXh0IHx8IHF1ZXN0aW9uLnF1ZXN0aW9uVGV4dCB8fCAnJ30iIHJlcXVpcmVkPgogIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtix2KfYqNi3INin2YTYtdmI2LHYqSAo2KfYrtiq2YrYp9ix2YopPC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi1pbWFnZS11cmwiIHZhbHVlPSIke3F1ZXN0aW9uLmltYWdlVXJsIHx8ICcnfSIgcGxhY2Vob2xkZXI9Itij2K/YrtmEINix2KfYqNi3INin2YTYtdmI2LHYqSI+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtiu2YrYp9ix2KfYqiDYp9mE2KXYrNin2KjYqTwvbGFiZWw+CiAgICAgICAgPGRpdiBpZD0ib3B0aW9ucy0ke3F1ZXN0aW9uSWR9Ij4KICAgICAgICAgICR7cXVlc3Rpb24ub3B0aW9ucy5tYXAoKG9wdGlvbiwgb3B0aW9uSW5kZXgpID0+IGAKICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWl0ZW0gb3B0aW9uLWl0ZW0tbGlnaHQiPgogICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke3F1ZXN0aW9uSWR9IiB2YWx1ZT0iJHtvcHRpb25JbmRleH0iICR7cXVlc3Rpb24uY29ycmVjdEFuc3dlciA9PT0gb3B0aW9uSW5kZXggPyAiY2hlY2tlZCIgOiAiIn0gcmVxdWlyZWQ+CiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgb3B0aW9uLXRleHQiIHZhbHVlPSIke29wdGlvbi50ZXh0fSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc20iIG9uY2xpY2s9InJlbW92ZU9wdGlvbih0aGlzKSIgc3R5bGU9Im1hcmdpbi1yaWdodDo4cHg7Ij48aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+PC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgYCkuam9pbignJyl9CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJhZGQtYnRuIiBvbmNsaWNrPSJhZGRPcHRpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4g2KXYttin2YHYqSDYrtmK2KfYsQogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0icmVtb3ZlLWJ0biIgb25jbGljaz0icmVtb3ZlUXVlc3Rpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYp9mE2LPYpNin2YQKICAgICAgICA8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICBgOwogICAgcXVlc3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHF1ZXN0aW9uRWxlbWVudCk7CiAgICBlbmFibGVJbWFnZVBhc3RlT25VcmxGaWVsZHMoKTsKICB9KTsKCiAgLy8g2KrYudio2KbYqSDYp9mE2LfZhNin2Kgg2KfZhNmF2LPZhdmI2K0g2YTZh9mFCiAgbG9hZFN0dWRlbnRzRm9yU2VsZlRlc3Qoc2VsZlRlc3QuYWxsb3dlZFN0dWRlbnRzIHx8IFtdKTsKCiAgLy8g2KrYutmK2YrYsSDYstixINin2YTYrdmB2Lgg2YTZitmC2YjZhSDYqNin2YTYqtit2K/ZitirINio2K/ZhNin2Ysg2YXZhiDYp9mE2KXYttin2YHYqQogIGNvbnN0IHNlbGZUZXN0Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxmVGVzdEZvcm0nKTsKICBzZWxmVGVzdEZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFRpdGxlIikudmFsdWU7CiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdERlc2NyaXB0aW9uIikudmFsdWU7CiAgICBjb25zdCB5ZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0WWVhciIpLnZhbHVlOwogICAgY29uc3QgdGVybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFRlcm0iKS52YWx1ZSB8fCAiIjsgICAKICAgIGNvbnN0IHF1ZXN0aW9ucyA9IFtdOwogIGNvbnN0IHF1ZXN0aW9uRGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5xdWVzdGlvbi1jb250YWluZXIiKTsKICAgIHF1ZXN0aW9uRGl2cy5mb3JFYWNoKGRpdiA9PiB7CiAgICAgIGNvbnN0IHRleHQgPSBkaXYucXVlcnlTZWxlY3RvcigiLnF1ZXN0aW9uLXRleHQiKS52YWx1ZTsKICAgICAgY29uc3QgaW1hZ2VVcmwgPSBkaXYucXVlcnlTZWxlY3RvcigiLnF1ZXN0aW9uLWltYWdlLXVybCIpLnZhbHVlOwogICAgICBjb25zdCBvcHRpb25zID0gQXJyYXkuZnJvbShkaXYucXVlcnlTZWxlY3RvckFsbCgiLm9wdGlvbi10ZXh0IikpLm1hcChvcHQgPT4gKHsgdGV4dDogb3B0LnZhbHVlIH0pKTsKICAgICAgY29uc3QgY29ycmVjdEFuc3dlciA9IHBhcnNlSW50KGRpdi5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lXj0nY29ycmVjdC0nXTpjaGVja2VkIikudmFsdWUpOwogICAgICBxdWVzdGlvbnMucHVzaCh7CiAgICAgICAgdGV4dDogdGV4dCB8fCAiIiwKICAgICAgICBpbWFnZVVybDogaW1hZ2VVcmwgfHwgbnVsbCwKICAgICAgICBvcHRpb25zLAogICAgICAgIGNvcnJlY3RBbnN3ZXIKICAgICAgfSk7CiAgICB9KTsKICAgIC8vINin2YTYt9mE2KfYqCDYp9mE2YXYs9mF2YjYrSDZhNmH2YUKICAgIGxldCBhbGxvd2VkU3R1ZGVudHMgPSBbXTsKICAgIGNvbnN0IGFsbG93ZWRTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxsb3dlZFNlbGZUZXN0U3R1ZGVudHMnKTsKICAgIGlmIChhbGxvd2VkU2VsZWN0KSB7CiAgICAgIGFsbG93ZWRTdHVkZW50cyA9IEFycmF5LmZyb20oYWxsb3dlZFNlbGVjdC5zZWxlY3RlZE9wdGlvbnMpLm1hcChvcHQgPT4gb3B0LnZhbHVlKTsKICAgIH0KICAgIGRiLmNvbGxlY3Rpb24oJ3NlbGZUZXN0cycpLmRvYyhzZWxmVGVzdElkKS51cGRhdGUoewogICAgICB0aXRsZSwKICAgICAgZGVzY3JpcHRpb24sCiAgICAgIHF1ZXN0aW9ucywKICAgICAgYWxsb3dlZFN0dWRlbnRzLAogICAgICB5ZWFyLAogICAgICB0ZXJtLCAvLyDYrdmB2Lgg2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZigogICAgICB1cGRhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgICB9KS50aGVuKCgpID0+IHsKICAgICAgYWxlcnQoItiq2YUg2KrYrdiv2YrYqyDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hIik7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBhbGVydCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3Yr9mK2Ksg2KfZhNin2K7Yqtio2KfYsTogIiArIGVycm9yLm1lc3NhZ2UpOwogICAgfSk7CiAgfTsKfQovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2KkgbG9hZFNlbGZUZXN0UXVlc3Rpb24g2KfZhNmC2K/ZitmF2Kkg2KjZh9iw2Kcg2KfZhNmD2YjYryAo2KrYo9mD2K8g2KPZhiDZhNiv2YrZgyDYr9in2YTYqSDZiNin2K3Yr9ipINmB2YLYtyDYqNmH2LDYpyDYp9mE2KfYs9mFKQoKLy8g2KXZhti02KfYoSDZhtin2YHYsNipINmF2YbYqNir2YLYqQovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYpdmG2LTYp9ihINmG2KfZgdiw2Kkg2KrYo9mD2YrYryDYp9mE2K7YsdmI2Kwg2YXYuSDYstixICLYudmI2K/YqSDZhNmE2LHYptmK2LPZitipIiDYqNiv2YjZhiByZWxvYWQKCi8vINin2LPYqtio2K/ZhCDYstixINin2YTYrtix2YjYrCDZgdmKINin2K7Yqtio2KfYsSAi2KfYrtiq2KjYsSDZhtmB2LPZgyIg2KjZh9iw2Kc6Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyBHb29nbGUgU2lnbi1JbiAocG9wdXAg2KvZhSByZWRpcmVjdCBmYWxsYmFjaykg4oCUINi22Lkg2KjYudivINiq2LnYsdmK2YEgZmlyZWJhc2Ug2YggZGIKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYtti5INmH2LDYpyDYp9mE2YPZiNivINio2LnYryDYqti52LHZitmBINmF2KTYtNix2KfYqiBGaXJlYmFzZSDYo9mIINio2LnYryDYp9mE2YPZiNivINin2YTYsNmKINmK2LHYqNi3INiy2LEgZ29vZ2xlU2lnbkluQnRuICjZhtmH2KfZitipIDxzY3JpcHQ+KQooZnVuY3Rpb24gKCkgewogIGNvbnN0IGZvcm1CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ29vZ2xlU2lnbkluQnRuRm9ybScpOwogIGlmICghZm9ybUJ0bikgcmV0dXJuOwoKIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZm9ybUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChlKSA9PiB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIC8vINil2YYg2YjZj9is2K8g2LLYsSDYp9mE2YfZitiv2LEg2YbYudmK2K8g2KfYs9iq2K7Yr9in2YXZhyAo2KfZhNmF2LnYp9mE2Kwg2YXYsdmD2Kgg2KjYp9mE2YHYudmEKQogIGNvbnN0IGhlYWRlckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb29nbGVTaWduSW5CdG4nKTsKICBpZiAoaGVhZGVyQnRuKSB7CiAgICBoZWFkZXJCdG4uY2xpY2soKTsKICAgIHJldHVybjsKICB9CgogIC8vIGZhbGxiYWNrOiDYqtiz2KzZitmEINmF2KjYp9i02LEg2LnYqNixIEZpcmViYXNlIEF1dGggKHBvcHVwKQogIHRyeSB7CiAgICBjb25zdCBwcm92aWRlciA9IG5ldyBmaXJlYmFzZS5hdXRoLkdvb2dsZUF1dGhQcm92aWRlcigpOwogICAgcHJvdmlkZXIuYWRkU2NvcGUoJ3Byb2ZpbGUnKTsKICAgIHByb3ZpZGVyLmFkZFNjb3BlKCdlbWFpbCcpOwogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhQb3B1cChwcm92aWRlcik7CiAgICBjb25zdCB1c2VyID0gcmVzdWx0LnVzZXI7CiAgICBpZiAoIXVzZXIpIHRocm93IG5ldyBFcnJvcign2YHYtNmEINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEINi52KjYsSBHb29nbGUnKTsKCiAgICAvLyDYo9mG2LTYpiDYo9mIINit2K/ZkdirINmF2LPYqtmG2K8g2KfZhNmF2LPYqtiu2K/ZhQogICAgY29uc3QgdXNlclJlZiA9IGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHVzZXIudWlkKTsKICAgIGNvbnN0IGRvYyA9IGF3YWl0IHVzZXJSZWYuZ2V0KCk7CiAgICBjb25zdCBiYXNlID0gewogICAgICBuYW1lOiB1c2VyLmRpc3BsYXlOYW1lIHx8ICIiLAogICAgICBlbWFpbDogdXNlci5lbWFpbCB8fCAiIiwKICAgICAgbGFzdEFjdGl2ZTogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgIH07CiAgICBpZiAoIWRvYy5leGlzdHMpIHsKICAgICAgYXdhaXQgdXNlclJlZi5zZXQoewogICAgICAgIC4uLmJhc2UsCiAgICAgICAgcm9sZTogInN0dWRlbnQiLAogICAgICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgZXhhbXNDcmVhdGVkOiAwLAogICAgICAgIGV4YW1zVGFrZW46IDAKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBhd2FpdCB1c2VyUmVmLnNldChiYXNlLCB7IG1lcmdlOiB0cnVlIH0pOwogICAgfQogICAgc2hvd1RvYXN0KCLYqtmFINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEINi52KjYsSBHb29nbGUiLCAic3VjY2VzcyIpOwogICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyAvLyDihpAg2KPYttmBINmH2LDYpyDYp9mE2LPYt9ixINmE2LnZhdmEIHJlZnJlc2gg2KrZhNmC2KfYptmKCiAgfSBjYXRjaCAoZXJyKSB7CiAgICBjb25zb2xlLmVycm9yKCJHb29nbGUgc2lnbi1pbiBlcnJvciAoZm9ybSBidG4pOiIsIGVycik7CiAgICBzaG93VG9hc3QoItiu2LfYoyDYqNiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEINi52KjYsSBHb29nbGU6ICIgKyAoZXJyLm1lc3NhZ2UgfHwgZXJyKSwgImVycm9yIik7CiAgfQp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgp9KSgpOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KXZhti02KfYoSDZhtin2YHYsNipINiq2KPZg9mK2K8g2KfZhNiu2LHZiNisINmF2Lkg2LLYsSAi2LnZiNiv2Kkg2YTZhNix2KbZitiz2YrYqSIg2KjYr9mI2YYgcmVsb2FkCmZ1bmN0aW9uIGNyZWF0ZUV4aXRNb2RhbCgpIHsKICAgIC8vINil2YbYtNin2KEg2KfZhNi52YbYp9i12LEKICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBtb2RhbC5pZCA9ICJleGl0TW9kYWwiOwogICAgbW9kYWwuc3R5bGUuY3NzVGV4dCA9IGAKICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgdG9wOiAwOwogICAgICAgIGxlZnQ6IDA7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgei1pbmRleDogMTAwMDsKICAgIGA7CgogICAgY29uc3QgbW9kYWxDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBtb2RhbENvbnRlbnQuc3R5bGUuY3NzVGV4dCA9IGAKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgd2lkdGg6IDkwJTsKICAgICAgICBtYXgtd2lkdGg6IDQwMHB4OwogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKICAgICAgICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2UtaW4tb3V0OwogICAgYDsKCiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgyIik7CiAgICB0aXRsZS50ZXh0Q29udGVudCA9ICLimqDvuI8g2KrYo9mD2YrYryDYp9mE2K7YsdmI2KwiOwogICAgdGl0bGUuc3R5bGUuY3NzVGV4dCA9IGAKICAgICAgICBmb250LXNpemU6IDEuOHJlbTsKICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICBjb2xvcjogI2ZmNDQ0NDsKICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgYDsKCiAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpOwogICAgbWVzc2FnZS50ZXh0Q29udGVudCA9ICLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYp9mE2K7YsdmI2Kwg2YXZhiDYp9mE2KfYrtiq2KjYp9ix2J8g2LPZitiq2YUg2YHZgtiv2KfZhiDYqtmC2K/ZhdmDINin2YTYrdin2YTZii4iOwogICAgbWVzc2FnZS5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgIGNvbG9yOiAjMzMzOwogICAgYDsKCiAgICBjb25zdCBhY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBhY3Rpb25zLnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgZ2FwOiAxMHB4OwogICAgYDsKCiAgICAvLyDYstixINin2YTYudmI2K/YqSDZhNmE2LHYptmK2LPZitipCiAgICBjb25zdCBob21lQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICBob21lQnV0dG9uLnRleHRDb250ZW50ID0gItin2YTYudmI2K/YqSDZhNmE2LHYptmK2LPZitipIjsKICAgIGhvbWVCdXR0b24uc3R5bGUuY3NzVGV4dCA9IGAKICAgICAgICBmbGV4OiAxOwogICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGE3MGZmOwogICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICBgOwogICAgaG9tZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgICAgICAvLyDYpdiy2KfZhNipINin2YTYsdiz2KfZhNipINmI2KfZhNin2YbYqtmC2KfZhCDZhNmE2LHYptmK2LPZitipCiAgICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICAgICAgc2V0QWN0aXZlTWVudUl0ZW0obWVudURhc2hib2FyZCk7CiAgICAgICAgc2hvd1BhZ2UoZGFzaGJvYXJkUGFnZSk7CiAgICAgICAgbG9hZERhc2hib2FyZCgpOwogICAgfSk7CgogICAgLy8g2LLYsSDYpdmE2LrYp9ihCiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgIGNhbmNlbEJ1dHRvbi50ZXh0Q29udGVudCA9ICLYpdmE2LrYp9ihIjsKICAgIGNhbmNlbEJ1dHRvbi5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgIGZsZXg6IDE7CiAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICBmb250LXNpemU6IDFyZW07CiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgIGJvcmRlcjogMnB4IHNvbGlkICMzNDk4ZGI7CiAgICAgICAgY29sb3I6ICMzNDk4ZGI7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICBgOwogICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICAgIG1vZGFsLnJlbW92ZSgpOwogICAgfSk7CgogICAgLy8g2KrYrNmF2YrYuSDYp9mE2LnZhtin2LXYsQogICAgYWN0aW9ucy5hcHBlbmRDaGlsZChob21lQnV0dG9uKTsKICAgIGFjdGlvbnMuYXBwZW5kQ2hpbGQoY2FuY2VsQnV0dG9uKTsKICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZCh0aXRsZSk7CiAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobWVzc2FnZSk7CiAgICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQoYWN0aW9ucyk7CiAgICBtb2RhbC5hcHBlbmRDaGlsZChtb2RhbENvbnRlbnQpOwoKICAgIC8vINil2LbYp9mB2Kkg2KfZhNmG2KfZgdiw2Kkg2KXZhNmJINin2YTYtdmB2K3YqQogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7Cn0KCi8vINin2LPYqtio2K/ZhCDYstixINin2YTYrtix2YjYrCDZgdmKINin2K7Yqtio2KfYsSAi2KfYrtiq2KjYsSDZhtmB2LPZgyIg2KjZh9iw2Kc6CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGl0U2VsZlRlc3RCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIGNyZWF0ZUV4aXRNb2RhbCgpOwp9KTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KfYs9iq2KjYr9in2YQg2YbYp9mB2LDYqSDYp9mE2KrYo9mD2YrYryDYp9mE2KfZgdiq2LHYp9i22YrYqSDYqNiy2LEg2KfZhNiu2LHZiNisCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGl0U2VsZlRlc3RCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIGNyZWF0ZUV4aXRNb2RhbCgpOwp9KTsKZnVuY3Rpb24gc2VhcmNoU2VsZlRlc3RzKCkgewogICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VhcmNoU2VsZlRlc3RzSW5wdXQiKS52YWx1ZS50b0xvd2VyQ2FzZSgpOwogICAgY29uc3Qgc2VsZlRlc3RzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c0dyaWQiKTsKICAgIGNvbnN0IHNlbGZUZXN0Q2FyZHMgPSBzZWxmVGVzdHNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLnNlbGYtdGVzdC1jYXJkIik7CgogICAgaWYgKHNlYXJjaFF1ZXJ5LnRyaW0oKSA9PT0gIiIpIHsKICAgICAgICAvLyDYpdiw2Kcg2YPYp9mGINin2YTZhti1INmB2KfYsdi62YvYp9iMINi52LHYtiDYrNmF2YrYuSDYp9mE2KfYrtiq2KjYp9ix2KfYqgogICAgICAgIHNlbGZUZXN0Q2FyZHMuZm9yRWFjaChjYXJkID0+IHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgbGV0IGhhc1Jlc3VsdHMgPSBmYWxzZTsKCiAgICBzZWxmVGVzdENhcmRzLmZvckVhY2goY2FyZCA9PiB7CiAgICAgICAgY29uc3QgdGl0bGUgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoIi5zZWxmLXRlc3QtY2FyZC1oZWFkZXIiKS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpOwogICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gY2FyZC5xdWVyeVNlbGVjdG9yKCIuc2VsZi10ZXN0LWNhcmQtYm9keSIpLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCk7CgogICAgICAgIGlmICh0aXRsZS5pbmNsdWRlcyhzZWFyY2hRdWVyeSkgfHwgZGVzY3JpcHRpb24uaW5jbHVkZXMoc2VhcmNoUXVlcnkpKSB7CiAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7IC8vINi52LHYtiDYp9mE2KjYt9in2YLYqSDYpdiw2Kcg2KrYt9in2KjZgiDYp9mE2YbYtQogICAgICAgICAgICBoYXNSZXN1bHRzID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjYXJkLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7IC8vINil2K7Zgdin2KEg2KfZhNio2LfYp9mC2Kkg2KXYsNinINmE2YUg2KrYqti32KfYqNmCCiAgICAgICAgfQogICAgfSk7Cgp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vIDEuINil2LbYp9mB2Kkg2LLYsSDYp9mE2KXZitmF2YjYrNmKINio2KzZiNin2LEg2K3ZgtmEINin2YTYpdiv2K7Yp9mECmNvbnN0IGNoYXRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0SW5wdXQiKTsKY29uc3QgZW1vamlCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKZW1vamlCdG4udHlwZSA9ICJidXR0b24iOwplbW9qaUJ0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1vdXRsaW5lIjsKZW1vamlCdG4uaW5uZXJIVE1MID0gIvCfmIoiOwplbW9qaUJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjVweCI7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZW1vamlCdG4ub25jbGljayA9IGZ1bmN0aW9uKCkgewogIGNvbnN0IGVtb2ppcyA9IFsi8J+YgCIsIvCfmIIiLCLwn5iNIiwi8J+YjiIsIvCfmKIiLCLwn5GNIiwi8J+ZjyIsIvCfjokiLCLinaTvuI8iLCLwn5ihIl07CiAgbGV0IHBpY2tlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbW9qaVBpY2tlciIpOwogIGlmICghcGlja2VyKSB7CiAgICBwaWNrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHBpY2tlci5pZCA9ICJlbW9qaVBpY2tlciI7CiAgICBwaWNrZXIuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgcGlja2VyLnN0eWxlLnpJbmRleCA9ICIzMDAwIjsKICAgIHBpY2tlci5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgcGlja2VyLnN0eWxlLmZsZXhXcmFwID0gIndyYXAiOwogICAgcGlja2VyLnN0eWxlLmdhcCA9ICI4cHgiOwogICAgcGlja2VyLnN0eWxlLmJhY2tncm91bmQgPSAiI2ZmZiI7CiAgICBwaWNrZXIuc3R5bGUuYm9yZGVyID0gIjFweCBzb2xpZCAjZGRkIjsKICAgIHBpY2tlci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiOHB4IjsKICAgIHBpY2tlci5zdHlsZS5wYWRkaW5nID0gIjhweCI7CiAgICBwaWNrZXIuc3R5bGUuYm94U2hhZG93ID0gIjAgNHB4IDE2cHggIzBhNzBmZjIyIjsKICAgIHBpY2tlci5zdHlsZS53aWR0aCA9IGNoYXRJbnB1dC5vZmZzZXRXaWR0aCArICJweCI7CiAgICBwaWNrZXIuc3R5bGUubGVmdCA9IGNoYXRJbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgInB4IjsKICAgIHBpY2tlci5zdHlsZS50b3AgPSAoY2hhdElucHV0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIDYwKSArICJweCI7CiAgICBlbW9qaXMuZm9yRWFjaChlID0+IHsKICAgICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgIGJ0bi50eXBlID0gImJ1dHRvbiI7CiAgICAgIGJ0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1vdXRsaW5lIjsKICAgICAgYnRuLnRleHRDb250ZW50ID0gZTsKICAgICAgYnRuLnN0eWxlLmZvbnRTaXplID0gIjEuM3JlbSI7CiAgICAgIGJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgY2hhdElucHV0LnZhbHVlICs9IGU7CiAgICAgICAgcGlja2VyLnJlbW92ZSgpOwogICAgICAgIGNoYXRJbnB1dC5mb2N1cygpOwogICAgICB9OwogICAgICBwaWNrZXIuYXBwZW5kQ2hpbGQoYnRuKTsKICAgIH0pOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwaWNrZXIpOwogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gY2xvc2VQaWNrZXIoZXYpIHsKICAgICAgICBpZiAoIXBpY2tlci5jb250YWlucyhldi50YXJnZXQpICYmIGV2LnRhcmdldCAhPT0gZW1vamlCdG4pIHsKICAgICAgICAgIHBpY2tlci5yZW1vdmUoKTsKICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY2xvc2VQaWNrZXIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LCAxMDApOwogIH0KfTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpjaGF0SW5wdXQucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoZW1vamlCdG4sIGNoYXRJbnB1dC5uZXh0U2libGluZyk7CgovLyAyLiDZhdmK2LLYqSAi2YrZg9iq2Kgg2KfZhNii2YYiCmxldCB0eXBpbmdUaW1lb3V0ID0gbnVsbDsKY2hhdElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZnVuY3Rpb24oKSB7CiAgZGIuY29sbGVjdGlvbigiY2hhdFR5cGluZyIpLmRvYyhjdXJyZW50VXNlci51aWQpLnNldCh7CiAgICB1c2VyTmFtZTogY3VycmVudFVzZXJEYXRhPy5uYW1lIHx8IGN1cnJlbnRVc2VyLmVtYWlsLAogICAgdHlwaW5nOiB0cnVlLAogICAgdXBkYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogIH0pOwogIGlmICh0eXBpbmdUaW1lb3V0KSBjbGVhclRpbWVvdXQodHlwaW5nVGltZW91dCk7CiAgdHlwaW5nVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgZGIuY29sbGVjdGlvbigiY2hhdFR5cGluZyIpLmRvYyhjdXJyZW50VXNlci51aWQpLnNldCh7CiAgICAgIHR5cGluZzogZmFsc2UsCiAgICAgIHVwZGF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgIH0pOwogIH0sIDIwMDApOwp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINio2LnYryDYqti52LHZitmBIGNoYXRJbnB1dCDYo9mIINio2LnYryDYqti52LHZitmBINiy2LEg2KfZhNil2LHYs9in2YQg2YXYqNin2LTYsdipCi8vINmE2Kcg2KrYudmK2K8g2KrYudix2YrZgSBjaGF0SW5wdXQg2YfZhtin2Iwg2YHZgti3INin2LPYqtiu2K/ZhdmHINmF2KjYp9i02LHYqQpjb25zdCBzZW5kQ2hhdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZW5kQ2hhdEJ0biIpOwoKLy8g2LnZhtivINin2YTYtti62Lcg2LnZhNmJIEVudGVyINmB2Yog2K3ZgtmEINin2YTZhdit2KfYr9ir2Kkg2YrYqtmFINin2YTYpdix2LPYp9mEINij2YrYttin2YsKY2hhdElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbihlKSB7CiAgaWYgKGUua2V5ID09PSAiRW50ZXIiICYmICFlLnNoaWZ0S2V5KSB7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICBzZW5kQ2hhdEJ0bi5jbGljaygpOwogIH0KfSk7CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINi52LHYtiDZhdmGINmK2YPYqtioINin2YTYotmGINmB2Yog2KfZhNij2LnZhNmJCmZ1bmN0aW9uIGxpc3RlbkZvclR5cGluZ1N0YXR1cygpIHsKICBjb25zdCBjaGF0TWVzc2FnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhdE1lc3NhZ2VzIik7CiAgbGV0IHR5cGluZ0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0eXBpbmdTdGF0dXNEaXYiKTsKICBpZiAoIXR5cGluZ0RpdikgewogICAgdHlwaW5nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICB0eXBpbmdEaXYuaWQgPSAidHlwaW5nU3RhdHVzRGl2IjsKICAgIHR5cGluZ0Rpdi5zdHlsZSA9ICJjb2xvcjojMGE3MGZmO2ZvbnQtc2l6ZToxcmVtO21hcmdpbi1ib3R0b206OHB4OyI7CiAgICBjaGF0TWVzc2FnZXMucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodHlwaW5nRGl2LCBjaGF0TWVzc2FnZXMpOwogIH0KICBkYi5jb2xsZWN0aW9uKCJjaGF0VHlwaW5nIikud2hlcmUoInR5cGluZyIsICI9PSIsIHRydWUpCiAgICAub25TbmFwc2hvdChzbmFwc2hvdCA9PiB7CiAgICAgIGxldCB0eXBpbmdVc2VycyA9IFtdOwogICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgaWYgKGRvYy5pZCAhPT0gY3VycmVudFVzZXIudWlkKSB7CiAgICAgICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKTsKICAgICAgICAgIHR5cGluZ1VzZXJzLnB1c2goZGF0YS51c2VyTmFtZSB8fCAi2YXYs9iq2K7Yr9mFIik7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaWYgKHR5cGluZ1VzZXJzLmxlbmd0aCkgewogICAgICAgIHR5cGluZ0Rpdi50ZXh0Q29udGVudCA9IGAke3R5cGluZ1VzZXJzLmpvaW4oIiwgIil9INmK2YPYqtioINin2YTYotmGLi4uYDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0eXBpbmdEaXYudGV4dENvbnRlbnQgPSAiIjsKICAgICAgfQogICAgfSk7Cn0KbGlzdGVuRm9yVHlwaW5nU3RhdHVzKCk7CgovLyDYudmG2K8g2KXYsdiz2KfZhCDYp9mE2LHYs9in2YTYqdiMINij2YjZgtmBINit2KfZhNipINin2YTZg9iq2KfYqNipCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZW5kQ2hhdEJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0SW5wdXQiKTsKICBjb25zdCB0ZXh0ID0gaW5wdXQudmFsdWUudHJpbSgpOwogIGlmICghdGV4dCkgcmV0dXJuOwogIGRiLmNvbGxlY3Rpb24oImNoYXRNZXNzYWdlcyIpLmFkZCh7CiAgICB0ZXh0LAogICAgdXNlcklkOiBjdXJyZW50VXNlci51aWQsCiAgICB1c2VyTmFtZTogY3VycmVudFVzZXJEYXRhPy5uYW1lIHx8IGN1cnJlbnRVc2VyLmVtYWlsLAogICAgY3JlYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogIH0pOwogIGlucHV0LnZhbHVlID0gIiI7CiAgZGIuY29sbGVjdGlvbigiY2hhdFR5cGluZyIpLmRvYyhjdXJyZW50VXNlci51aWQpLnNldCh7CiAgICB0eXBpbmc6IGZhbHNlLAogICAgdXBkYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogIH0pOwp9OwoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVNlbGZUZXN0UmVzdWx0cyIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgc2V0QWN0aXZlTWVudUl0ZW0oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTZWxmVGVzdFJlc3VsdHMiKSk7CiAgICBzaG93UGFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RSZXN1bHRzUGFnZSIpKTsKICAgIGxvYWRTZWxmVGVzdFJlc3VsdHMoKTsKfSk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gc2hvd0ZlZWRiYWNrKGluZGV4KSB7CiAgY29uc3QgcXVlc3Rpb24gPSBjdXJyZW50RXhhbS5xdWVzdGlvbnNbaW5kZXhdOwogIGNvbnN0IHNlbGVjdGVkID0gdXNlckFuc3dlcnNbaW5kZXhdOwogIGNvbnN0IGZlZWRiYWNrQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZlZWRiYWNrQ29udGFpbmVyIik7CiAgZmVlZGJhY2tDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICBmZWVkYmFja0NvbnRhaW5lci5pbm5lckhUTUwgPSAiIjsKCiAgLy8g2KXYstin2YTYqSDYp9mE2KrZhNmI2YrZhiDZhdmGINmD2YQg2KfZhNiu2YrYp9ix2KfYqgogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcHRpb24tbGFiZWwnKS5mb3JFYWNoKGxhYmVsID0+IHsKICAgIGxhYmVsLmNsYXNzTGlzdC5yZW1vdmUoInNlbGVjdGVkIiwgImNvcnJlY3QiLCAid3JvbmciKTsKICAgIGxhYmVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIiOwogICAgbGFiZWwuc3R5bGUuY29sb3IgPSAiIjsKICB9KTsKCiAgaWYgKHNlbGVjdGVkID09PSBxdWVzdGlvbi5jb3JyZWN0QW5zd2VyKSB7CiAgICAvLyDYtditOiDZhNmI2YYg2KPYrti22LEgKyDYtdmI2Kog2LXYrQogICAgY29uc3QgY29ycmVjdExhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgaW5wdXRbbmFtZT0ic2VsZlRlc3RRdWVzdGlvbl8ke2luZGV4fSJdW3ZhbHVlPSIke3NlbGVjdGVkfSJdYCkucGFyZW50RWxlbWVudDsKICAgIGNvcnJlY3RMYWJlbC5jbGFzc0xpc3QuYWRkKCJjb3JyZWN0Iik7CiAgICBjb3JyZWN0TGFiZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNkNGY4ZTgiOwogICAgY29ycmVjdExhYmVsLnN0eWxlLmNvbG9yID0gIiMxZTdlMzQiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNvdW5kLWNvcnJlY3QiKS5wbGF5KCk7CiAgfSBlbHNlIHsKICAgIC8vINiu2LfYozog2YTZiNmGINij2K3ZhdixICsg2LXZiNiqINiu2LfYowogICAgY29uc3Qgd3JvbmdMYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGlucHV0W25hbWU9InNlbGZUZXN0UXVlc3Rpb25fJHtpbmRleH0iXVt2YWx1ZT0iJHtzZWxlY3RlZH0iXWApLnBhcmVudEVsZW1lbnQ7CiAgICB3cm9uZ0xhYmVsLmNsYXNzTGlzdC5hZGQoIndyb25nIik7CiAgICB3cm9uZ0xhYmVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjZmZlYWVhIjsKICAgIHdyb25nTGFiZWwuc3R5bGUuY29sb3IgPSAiI2M4MjMzMyI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic291bmQtd3JvbmciKS5wbGF5KCk7CiAgfQoKICAvLyDYpdi42YfYp9ixINiy2LEg2KfZhNiq2KfZhNmKL9il2YbZh9in2KEg2K3Ys9ioINin2YTYs9ik2KfZhAogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXh0U2VsZlRlc3RRdWVzdGlvbkJ0bicpLnN0eWxlLmRpc3BsYXkgPSBpbmRleCA8IGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5sZW5ndGggLSAxID8gImlubGluZS1ibG9jayIgOiAibm9uZSI7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmlzaFNlbGZUZXN0QnRuJykuc3R5bGUuZGlzcGxheSA9IGluZGV4ID09PSBjdXJyZW50RXhhbS5xdWVzdGlvbnMubGVuZ3RoIC0gMSA/ICJpbmxpbmUtYmxvY2siIDogIm5vbmUiOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINio2LnYryDYqtit2YXZitmEINi12YHYrdipIHRlYWNoZXJEYXNoYm9hcmQg2KPZiCDYqNi52K8gbG9hZFN0dWRlbnRzUHJvZ3Jlc3MoKQoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVNYW5hZ2VTZWxmVGVzdCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgXzB4MmRkM2QxID0+IHsKICBfMHgyZGQzZDEucHJldmVudERlZmF1bHQoKTsKICBzZXRBY3RpdmVNZW51SXRlbShtZW51TWFuYWdlU2VsZlRlc3QpOwogIHNob3dQYWdlKG1hbmFnZVNlbGZUZXN0UGFnZSk7Cn0pOwoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFNlbGZUZXN0UXVlc3Rpb25CdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICBjb25zdCBxdWVzdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RRdWVzdGlvbnNDb250YWluZXIiKTsKICBjb25zdCBxdWVzdGlvbkNvdW50ID0gcXVlc3Rpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi5xdWVzdGlvbi1jb250YWluZXIiKS5sZW5ndGggKyAxOwogIGNvbnN0IHF1ZXN0aW9uSWQgPSAicXVlc3Rpb24tIiArIERhdGUubm93KCk7CiAgY29uc3QgcXVlc3Rpb25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBxdWVzdGlvbkRpdi5jbGFzc05hbWUgPSAicXVlc3Rpb24tY29udGFpbmVyIGltcG9ydGVkLXF1ZXN0aW9uLWxpZ2h0IjsKICBxdWVzdGlvbkRpdi5pZCA9IHF1ZXN0aW9uSWQ7CiAgcXVlc3Rpb25EaXYuaW5uZXJIVE1MID0gYAogICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMGE3MGZmO2ZvbnQtc2l6ZToxLjFyZW07bWFyZ2luLWJvdHRvbTo4cHg7Ij7Ys9ik2KfZhCDYsdmC2YUgJHtxdWVzdGlvbkNvdW50fTwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Zhti1INin2YTYs9ik2KfZhDwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgcXVlc3Rpb24tdGV4dCIgcmVxdWlyZWQ+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2LHYp9io2Lcg2KfZhNi12YjYsdipICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLWltYWdlLXVybCIgcGxhY2Vob2xkZXI9Itij2K/YrtmEINix2KfYqNi3INin2YTYtdmI2LHYqSAo2KfYrtiq2YrYp9ix2YopIj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7YrtmK2KfYsdin2Kog2KfZhNil2KzYp9io2Kk8L2xhYmVsPgogICAgICAgIDxkaXYgaWQ9Im9wdGlvbnMtJHtxdWVzdGlvbklkfSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pdGVtIj4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke3F1ZXN0aW9uSWR9IiB2YWx1ZT0iMCIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgcGxhY2Vob2xkZXI9Itin2YTYrtmK2KfYsSDYp9mE2KPZiNmEIiByZXF1aXJlZD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pdGVtIj4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke3F1ZXN0aW9uSWR9IiB2YWx1ZT0iMSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgcGxhY2Vob2xkZXI9Itin2YTYrtmK2KfYsSDYp9mE2KvYp9mG2YoiIHJlcXVpcmVkPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImFkZC1idG4iIG9uY2xpY2s9ImFkZE9wdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2K7Zitin2LEKICAgICAgICA8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InJlbW92ZS1idG4iIG9uY2xpY2s9InJlbW92ZVF1ZXN0aW9uKCcke3F1ZXN0aW9uSWR9JykiPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYp9mE2LPYpNin2YQKICAgICAgICA8L2J1dHRvbj4KICAgIDwvZGl2PgogIGA7CiAgcXVlc3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHF1ZXN0aW9uRGl2KTsKICBlbmFibGVJbWFnZVBhc3RlT25VcmxGaWVsZHMoKTsgLy8g2KPYttmBINmH2LDYpyDYp9mE2LPYt9ixINmH2YbYpwogIHVwZGF0ZVF1ZXN0aW9uc051bWJlcnMoKTsKfSk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gYWRkSW1wb3J0ZWRRdWVzdGlvbnNUb0NvbnRhaW5lcihxdWVzdGlvbnMsIGNvbnRhaW5lcklkKSB7CiAgY29uc3QgcXVlc3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVySWQpOwogIHF1ZXN0aW9ucy5mb3JFYWNoKChxLCBpZHgpID0+IHsKICAgIGNvbnN0IHF1ZXN0aW9uQ291bnQgPSBxdWVzdGlvbnNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLnF1ZXN0aW9uLWNvbnRhaW5lciIpLmxlbmd0aCArIDE7CiAgICBjb25zdCBxdWVzdGlvbklkID0gInF1ZXN0aW9uLSIgKyAoRGF0ZS5ub3coKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKSk7CiAgICBjb25zdCBxdWVzdGlvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgcXVlc3Rpb25EaXYuY2xhc3NOYW1lID0gInF1ZXN0aW9uLWNvbnRhaW5lciBpbXBvcnRlZC1xdWVzdGlvbi1saWdodCI7CiAgICBxdWVzdGlvbkRpdi5pZCA9IHF1ZXN0aW9uSWQ7CiAgICBxdWVzdGlvbkRpdi5pbm5lckhUTUwgPSBgCiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6IzBhNzBmZjtmb250LXNpemU6MS4xcmVtO21hcmdpbi1ib3R0b206OHB4OyI+2LPYpNin2YQg2LHZgtmFICR7cXVlc3Rpb25Db3VudH08L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Zhti1INin2YTYs9ik2KfZhDwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgcXVlc3Rpb24tdGV4dCIgdmFsdWU9IiR7cS50ZXh0fSIgcmVxdWlyZWQ+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtix2KfYqNi3INin2YTYtdmI2LHYqSAo2KfYrtiq2YrYp9ix2YopPC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi1pbWFnZS11cmwiIHZhbHVlPSIke3EuaW1hZ2VVcmwgfHwgJyd9IiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2LHYp9io2Lcg2KfZhNi12YjYsdipIj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2K7Zitin2LHYp9iqINin2YTYpdis2KfYqNipPC9sYWJlbD4KICAgICAgICA8ZGl2IGlkPSJvcHRpb25zLSR7cXVlc3Rpb25JZH0iPgogICAgICAgICAgJHtxLm9wdGlvbnMubWFwKChvcHRpb24sIG9wdGlvbkluZGV4KSA9PiBgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pdGVtIG9wdGlvbi1pdGVtLWxpZ2h0Ij4KICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImNvcnJlY3QtJHtxdWVzdGlvbklkfSIgdmFsdWU9IiR7b3B0aW9uSW5kZXh9IiAke3EuY29ycmVjdEFuc3dlciA9PT0gb3B0aW9uSW5kZXggPyAiY2hlY2tlZCIgOiAiIn0gcmVxdWlyZWQ+CiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgb3B0aW9uLXRleHQiIHZhbHVlPSIke29wdGlvbi50ZXh0fSIgcmVxdWlyZWQ+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgYCkuam9pbignJyl9CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJhZGQtYnRuIiBvbmNsaWNrPSJhZGRPcHRpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4g2KXYttin2YHYqSDYrtmK2KfYsQogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0icmVtb3ZlLWJ0biIgb25jbGljaz0icmVtb3ZlUXVlc3Rpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYp9mE2LPYpNin2YQKICAgICAgICA8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICBgOwogICAgcXVlc3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHF1ZXN0aW9uRGl2KTsKICAgICAgZW5hYmxlSW1hZ2VQYXN0ZU9uVXJsRmllbGRzKCk7IC8vINij2LbZgSDZh9iw2Kcg2KfZhNiz2LfYsSDZh9mG2KcKCiAgfSk7CiAgdXBkYXRlUXVlc3Rpb25zTnVtYmVycygpOwp9Ci8vINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDZgdmKINmG2YfYp9mK2Kkg2YXZhNmBIDxzY3JpcHQ+INij2Ygg2KjYudivINiq2K3ZhdmK2YQg2KfZhNi12YHYrdipINmF2KjYp9i02LHYqQpmdW5jdGlvbiB1cGRhdGVRdWVzdGlvbnNOdW1iZXJzKCkgewogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciAucXVlc3Rpb24tY29udGFpbmVyLCAjcXVlc3Rpb25zQ29udGFpbmVyIC5xdWVzdGlvbi1jb250YWluZXIiKS5mb3JFYWNoKChkaXYsIGlkeCkgPT4gewogICAgLy8g2KfYrdiw2YEg2KPZiiDYudmG2LXYsSDYqtix2YLZitmFINmC2K/ZitmFICjYs9mI2KfYoSBjbGFzcyDYo9mIIGRpdiDYqNiv2KfYrtmE2Ycg2YbYtSAi2LPYpNin2YQg2LHZgtmFIikKICAgIGRpdi5xdWVyeVNlbGVjdG9yQWxsKCIucXVlc3Rpb24tbnVtYmVyLWxhYmVsLCBkaXYiKS5mb3JFYWNoKGVsID0+IHsKICAgICAgaWYgKAogICAgICAgIGVsLmNsYXNzTGlzdC5jb250YWlucygicXVlc3Rpb24tbnVtYmVyLWxhYmVsIikgfHwKICAgICAgICAoZWwudGV4dENvbnRlbnQgJiYgZWwudGV4dENvbnRlbnQudHJpbSgpLnN0YXJ0c1dpdGgoItiz2KTYp9mEINix2YLZhSIpKQogICAgICApIHsKICAgICAgICBlbC5yZW1vdmUoKTsKICAgICAgfQogICAgfSk7CiAgICAvLyDYo9i22YEg2KfZhNiq2LHZgtmK2YUg2KfZhNis2K/ZitivINmB2Yog2KfZhNij2LnZhNmJCiAgICBjb25zdCBudW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIG51bURpdi5jbGFzc05hbWUgPSAicXVlc3Rpb24tbnVtYmVyLWxhYmVsIjsKICAgIG51bURpdi5zdHlsZSA9ICJmb250LXdlaWdodDpib2xkO2NvbG9yOiMwYTcwZmY7Zm9udC1zaXplOjEuMXJlbTttYXJnaW4tYm90dG9tOjhweDsiOwogICAgbnVtRGl2LnRleHRDb250ZW50ID0gYNiz2KTYp9mEINix2YLZhSAke2lkeCArIDF9YDsKICAgIGRpdi5wcmVwZW5kKG51bURpdik7CiAgfSk7Cn0KCi8vINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDZgdmKINmF2YTZgSA8c2NyaXB0PiDYqNi52K8g2KrYrdmF2YrZhCDYp9mE2LXZgdit2Kkg2KPZiCDYqNi52K8g2KrYudix2YrZgSDYo9iy2LHYp9ixINio2YbZgyDYp9mE2KPYs9im2YTYqQoKCi8vINiq2LnYr9mK2YQg2K/Yp9mE2KkgbG9hZENoYXRNZXNzYWdlcyDZhNi52LHYtiDYp9mE2LHYs9in2KbZhCDYp9mE2LXZiNiq2YrYqQpmdW5jdGlvbiBsb2FkQ2hhdE1lc3NhZ2VzKCkgewogIGNvbnN0IGNoYXRNZXNzYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0TWVzc2FnZXMiKTsKICBjaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gIjxzcGFuIHN0eWxlPSdjb2xvcjojODg4Oyc+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2LHYs9in2KbZhC4uLjwvc3Bhbj4iOwogIGRiLmNvbGxlY3Rpb24oImNoYXRNZXNzYWdlcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJhc2MiKS5saW1pdCgxMDApCiAgICAub25TbmFwc2hvdChzbmFwc2hvdCA9PiB7CiAgICAgIGNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSAiIjsKICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgIGNvbnN0IG1zZyA9IGRvYy5kYXRhKCk7CiAgICAgICAgY29uc3QgaXNNaW5lID0gY3VycmVudFVzZXIgJiYgbXNnLnVzZXJJZCA9PT0gY3VycmVudFVzZXIudWlkOwogICAgICAgIC8vINiy2LEg2K3YsNmBINin2YTYsdiz2KfZhNipINmE2YTZhdi52YTZhSDZgdmC2LcKICAgICAgICBjb25zdCBkZWxldGVCdG4gPSAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikKICAgICAgICAgID8gYDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSIgc3R5bGU9Im1hcmdpbi1yaWdodDo4cHg7IiBvbmNsaWNrPSJkZWxldGVDaGF0TWVzc2FnZSgnJHtkb2MuaWR9JykiPjxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT48L2J1dHRvbj5gCiAgICAgICAgICA6ICIiOwogICAgICAgIGxldCBtc2dDb250ZW50ID0gIiI7CiAgICAgICAgaWYgKG1zZy5hdWRpb1VybCkgewogICAgICAgICAgbXNnQ29udGVudCA9IGA8YXVkaW8gY29udHJvbHMgc3R5bGU9Im1heC13aWR0aDoyMjBweDsiPjxzb3VyY2Ugc3JjPSIke21zZy5hdWRpb1VybH0iIHR5cGU9ImF1ZGlvL3dlYm0iPjwvYXVkaW8+YDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbXNnQ29udGVudCA9IGA8Yj4ke21zZy51c2VyTmFtZSB8fCAi2YXYs9iq2K7Yr9mFIn08L2I+OiAke21zZy50ZXh0fWA7CiAgICAgICAgfQogICAgICAgIGNoYXRNZXNzYWdlcy5pbm5lckhUTUwgKz0gYAogICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMnB4O3RleHQtYWxpZ246JHtpc01pbmUgPyAnbGVmdCcgOiAncmlnaHQnfTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDoke2lzTWluZSA/ICdmbGV4LXN0YXJ0JyA6ICdmbGV4LWVuZCd9OyI+CiAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiR7aXNNaW5lID8gJyMwYTcwZmYnIDogJyMxNGVlODgnfTtjb2xvcjojZmZmO3BhZGRpbmc6OHB4IDE0cHg7Ym9yZGVyLXJhZGl1czo4cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWF4LXdpZHRoOjgwJTt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7Ij4KICAgICAgICAgICAgICAke21zZ0NvbnRlbnR9CiAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgJHtkZWxldGVCdG59CiAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MC44cmVtO2NvbG9yOiM4ODg7bWFyZ2luLSR7aXNNaW5lID8gJ2xlZnQnIDogJ3JpZ2h0J306OHB4OyI+JHttc2cuY3JlYXRlZEF0Py50b0RhdGUgPyBtc2cuY3JlYXRlZEF0LnRvRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpIDogIiJ9PC9zcGFuPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgICAgfSk7CiAgICAgIGNoYXRNZXNzYWdlcy5zY3JvbGxUb3AgPSBjaGF0TWVzc2FnZXMuc2Nyb2xsSGVpZ2h0OwogICAgfSk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYudiv2YQg2K/Yp9mE2KkgYWRkT3B0aW9uINmE2YrYqtmFINi52LHYtiDYsdiz2KfZhNipINis2YXZitmE2Kkg2KjYr9mE2KfZiyDZhdmGIGFsZXJ0CmZ1bmN0aW9uIGFkZE9wdGlvbihxdWVzdGlvbklkKSB7CiAgY29uc3Qgb3B0aW9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb25zLSIgKyBxdWVzdGlvbklkKTsKICBjb25zdCBvcHRpb25Db3VudCA9IG9wdGlvbnNDb250YWluZXIuY2hpbGRyZW4ubGVuZ3RoOwogIGlmIChvcHRpb25Db3VudCA+PSA1KSB7CiAgICBzaG93Tm90aWNlKCLYp9mE2K3YryDYp9mE2KPZgti12Ykg2YTZhNiu2YrYp9ix2KfYqiDZh9mIIDUiLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgY29uc3Qgb3B0aW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgb3B0aW9uRGl2LmNsYXNzTmFtZSA9ICdvcHRpb24taXRlbSc7CiAgb3B0aW9uRGl2LmlubmVySFRNTCA9IGAKICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImNvcnJlY3QtJHtxdWVzdGlvbklkfSIgdmFsdWU9IiR7b3B0aW9uQ291bnR9IiByZXF1aXJlZD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgcGxhY2Vob2xkZXI9Itin2YTYrtmK2KfYsSAke29wdGlvbkNvdW50ICsgMX0iIHJlcXVpcmVkPgogICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtIiBvbmNsaWNrPSJyZW1vdmVPcHRpb24odGhpcykiIHN0eWxlPSJtYXJnaW4tcmlnaHQ6OHB4OyI+PGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPjwvYnV0dG9uPgogICAgYDsKICBvcHRpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKG9wdGlvbkRpdik7Cn0Kd2luZG93LnJlbW92ZU9wdGlvbiA9IGZ1bmN0aW9uKGJ0bikgewogIGNvbnN0IG9wdGlvbkRpdiA9IGJ0bi5jbG9zZXN0KCcub3B0aW9uLWl0ZW0nKTsKICBpZiAoIW9wdGlvbkRpdikgcmV0dXJuOwogIC8vINmE2Kcg2KrYs9mF2K0g2KjYrdiw2YEg2KXYsNinINio2YLZiiDYrtmK2KfYsdin2YYg2YHZgti3CiAgY29uc3Qgb3B0aW9uc0NvbnRhaW5lciA9IG9wdGlvbkRpdi5wYXJlbnRFbGVtZW50OwogIGlmIChvcHRpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcHRpb24taXRlbScpLmxlbmd0aCA8PSAyKSB7CiAgICBzaG93Tm90aWNlKCLZitis2Kgg2KPZhiDZitit2KrZiNmKINin2YTYs9ik2KfZhCDYudmE2Ykg2K7Zitin2LHZitmGINi52YTZiSDYp9mE2KPZgtmELiIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICBvcHRpb25EaXYucmVtb3ZlKCk7CiAgLy8g2KXYudin2K/YqSDYqtix2YLZitmFINmC2YrZhSDYp9mE2LHYp9iv2YrZiCDYqNi52K8g2KfZhNit2LDZgQogIEFycmF5LmZyb20ob3B0aW9uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcub3B0aW9uLWl0ZW0nKSkuZm9yRWFjaCgoZGl2LCBpZHgpID0+IHsKICAgIGRpdi5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPSJyYWRpbyJdJykudmFsdWUgPSBpZHg7CiAgfSk7Cn07Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINiy2LEg2KrYudiv2YrZhCDYp9iz2YUg2KfZhNmB2KbYqSAo2KrYudiv2YrZhCDYp9mE2KfYs9mFINmB2YLYtykKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVkaXRDYXRlZ29yeUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgY29uc3QgY2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpLnZhbHVlOwogIGlmICghY2F0ZWdvcnlJZCkgewogICAgc2hvd1RvYXN0KCLYp9iu2KrYsSDZgdim2Kkg2KPZiNmE2KfZiyEiLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgLy8g2KzZhNioINio2YrYp9mG2KfYqiDYp9mE2YHYptipINin2YTYrdin2YTZitipCiAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25DYXRlZ29yaWVzIikuZG9jKGNhdGVnb3J5SWQpLmdldCgpLnRoZW4oZG9jID0+IHsKICAgIGlmICghZG9jLmV4aXN0cykgewogICAgICBzaG93VG9hc3QoItin2YTZgdim2Kkg2LrZitixINmF2YjYrNmI2K/YqSEiLCAiZXJyb3IiKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgY2F0ID0gZG9jLmRhdGEoKTsKICAgIC8vINmG2KfZgdiw2Kkg2YXZhtio2KvZgtipINmE2KrYudiv2YrZhCDYp9mE2KfYs9mFCiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbW9kYWwuY2xhc3NOYW1lID0gIm1vZGFsIjsKICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6NDAwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij4KICAgICAgICA8aDMgY2xhc3M9Im1vZGFsLXRpdGxlIj7Yqti52K/ZitmEINin2LPZhSDYp9mE2YHYptipPC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgIDxsYWJlbD7Yp9iz2YUg2KfZhNmB2KbYqSDYp9mE2KzYr9mK2K88L2xhYmVsPgogICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJlZGl0Q2F0ZWdvcnlOYW1lSW5wdXQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHZhbHVlPSIke2NhdC5uYW1lIHx8ICIifSIgcmVxdWlyZWQ+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgICAgICA8YnV0dG9uIGlkPSJzYXZlRWRpdENhdGVnb3J5QnRuIiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIj7YrdmB2Lg8L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gaWQ9ImNhbmNlbEVkaXRDYXRlZ29yeUJ0biIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgYDsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVFZGl0Q2F0ZWdvcnlCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBuZXdOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVkaXRDYXRlZ29yeU5hbWVJbnB1dCIpLnZhbHVlLnRyaW0oKTsKICAgICAgaWYgKCFuZXdOYW1lKSByZXR1cm47CiAgICAgIGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQ2F0ZWdvcmllcyIpLmRvYyhjYXRlZ29yeUlkKS51cGRhdGUoeyBuYW1lOiBuZXdOYW1lIH0pLnRoZW4oKCkgPT4gewogICAgICAgIG1vZGFsLnJlbW92ZSgpOwogICAgICAgIHJlZnJlc2hBbGxDYXRlZ29yeUxhYmVscygpOwogICAgICAgIHNob3dUb2FzdCgi2KrZhSDYqti52K/ZitmEINin2LPZhSDYp9mE2YHYptipISIsICJzdWNjZXNzIik7CiAgICAgICAgbG9hZFF1ZXN0aW9uQmFuaygpOwogICAgICB9KTsKICAgIH07CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FuY2VsRWRpdENhdGVnb3J5QnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICB9OwogIH0pOwp9OwoKLy8g2LLYsSDZhtmC2YQg2KfZhNmB2KbYqSDYpdmE2Ykg2YHYptipINij2K7YsdmJICjYqti62YrZitixINin2YTZgdim2Kkg2KfZhNix2KbZitiz2YrYqSkKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1vdmVDYXRlZ29yeUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgY29uc3QgY2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpLnZhbHVlOwogIGlmICghY2F0ZWdvcnlJZCkgewogICAgc2hvd1RvYXN0KCLYp9iu2KrYsSDZgdim2Kkg2KPZiNmE2KfZiyEiLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgLy8g2KzZhNioINis2YXZiti5INin2YTZgdim2KfYqiAo2LnYr9inINin2YTZgdim2Kkg2KfZhNit2KfZhNmK2Kkg2YjYo9io2YbYp9im2YfYpykKICBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkNhdGVnb3JpZXMiKS5vcmRlckJ5KCJuYW1lIikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICBjb25zdCBjYXRlZ29yaWVzID0ge307CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNhdGVnb3JpZXNbZG9jLmlkXSA9IHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCwgY2hpbGRyZW46IFtdIH07CiAgICB9KTsKICAgIE9iamVjdC52YWx1ZXMoY2F0ZWdvcmllcykuZm9yRWFjaChjYXQgPT4gewogICAgICBpZiAoY2F0LnBhcmVudElkICYmIGNhdGVnb3JpZXNbY2F0LnBhcmVudElkXSkgewogICAgICAgIGNhdGVnb3JpZXNbY2F0LnBhcmVudElkXS5jaGlsZHJlbi5wdXNoKGNhdCk7CiAgICAgIH0KICAgIH0pOwogICAgLy8g2KfYs9iq2KjYudin2K8g2KfZhNmB2KbYqSDYp9mE2K3Yp9mE2YrYqSDZiNij2KjZhtin2KbZh9inCiAgICBmdW5jdGlvbiBnZXREZXNjZW5kYW50cyhjYXQpIHsKICAgICAgbGV0IGlkcyA9IFtjYXQuaWRdOwogICAgICBjYXQuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7CiAgICAgICAgaWRzID0gaWRzLmNvbmNhdChnZXREZXNjZW5kYW50cyhjaGlsZCkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGlkczsKICAgIH0KICAgIGNvbnN0IGN1cnJlbnRDYXQgPSBjYXRlZ29yaWVzW2NhdGVnb3J5SWRdOwogICAgY29uc3QgZXhjbHVkZUlkcyA9IGdldERlc2NlbmRhbnRzKGN1cnJlbnRDYXQpOwogICAgY29uc3Qgcm9vdHMgPSBPYmplY3QudmFsdWVzKGNhdGVnb3JpZXMpLmZpbHRlcihjYXQgPT4gIWNhdC5wYXJlbnRJZCAmJiAhZXhjbHVkZUlkcy5pbmNsdWRlcyhjYXQuaWQpKTsKCiAgICBmdW5jdGlvbiByZW5kZXJPcHRpb25zKGNhdHMsIHByZWZpeCA9ICIiKSB7CiAgICAgIGxldCBodG1sID0gIiI7CiAgICAgIGNhdHMuZm9yRWFjaChjYXQgPT4gewogICAgICAgIGlmICghZXhjbHVkZUlkcy5pbmNsdWRlcyhjYXQuaWQpKSB7CiAgICAgICAgICBodG1sICs9IGA8b3B0aW9uIHZhbHVlPSIke2NhdC5pZH0iPiR7cHJlZml4fSR7Y2F0Lm5hbWV9PC9vcHRpb24+YDsKICAgICAgICAgIGlmIChjYXQuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAgIGh0bWwgKz0gcmVuZGVyT3B0aW9ucyhjYXQuY2hpbGRyZW4sIHByZWZpeCArICLigJQgIik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGh0bWw7CiAgICB9CgogICAgLy8g2YbYp9mB2LDYqSDZhdmG2KjYq9mC2Kkg2YTYp9iu2KrZitin2LEg2KfZhNmB2KbYqSDYp9mE2LHYptmK2LPZitipINin2YTYrNiv2YrYr9ipCiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbW9kYWwuY2xhc3NOYW1lID0gIm1vZGFsIjsKICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6NDAwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij4KICAgICAgICA8aDMgY2xhc3M9Im1vZGFsLXRpdGxlIj7ZhtmC2YQg2KfZhNmB2KbYqSDYpdmE2Ykg2YHYptipINij2K7YsdmJPC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgIDxsYWJlbD7Yp9iu2KrYsSDYp9mE2YHYptipINin2YTYsdim2YrYs9mK2Kkg2KfZhNis2K/Zitiv2Kk6PC9sYWJlbD4KICAgICAgICAgIDxzZWxlY3QgaWQ9Im5ld1BhcmVudENhdGVnb3J5U2VsZWN0IiBjbGFzcz0iZm9ybS1jb250cm9sIj4KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7YqNiv2YjZhiDZgdim2Kkg2LHYptmK2LPZitipPC9vcHRpb24+CiAgICAgICAgICAgICR7cmVuZGVyT3B0aW9ucyhyb290cyl9CiAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1hY3Rpb25zIj4KICAgICAgICAgIDxidXR0b24gaWQ9InNhdmVNb3ZlQ2F0ZWdvcnlCdG4iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPtmG2YLZhDwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBpZD0iY2FuY2VsTW92ZUNhdGVnb3J5QnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICBgOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZU1vdmVDYXRlZ29yeUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IG5ld1BhcmVudElkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5ld1BhcmVudENhdGVnb3J5U2VsZWN0IikudmFsdWUgfHwgbnVsbDsKICAgICAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25DYXRlZ29yaWVzIikuZG9jKGNhdGVnb3J5SWQpLnVwZGF0ZSh7IHBhcmVudElkOiBuZXdQYXJlbnRJZCB9KS50aGVuKCgpID0+IHsKICAgICAgICBtb2RhbC5yZW1vdmUoKTsKICAgICAgICByZWZyZXNoQWxsQ2F0ZWdvcnlMYWJlbHMoKTsKICAgICAgICBzaG93VG9hc3QoItiq2YUg2YbZgtmEINin2YTZgdim2Kkg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogICAgICAgIGxvYWRRdWVzdGlvbkJhbmsoKTsKICAgICAgfSk7CiAgICB9OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbE1vdmVDYXRlZ29yeUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgIG1vZGFsLnJlbW92ZSgpOwogICAgfTsKICB9KTsKfTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LnZhtivINil2YbYtNin2KEg2KfZhNiu2YrYp9ix2KfYqiDZgdmKINij2Yog2YXZg9in2YYgKNin2LPYqtmK2LHYp9iv2Iwg2KXYttin2YHYqSDYs9ik2KfZhNiMINil2YTYrikg2KPYttmBINiy2LEg2KfZhNit2LDZgSDYqNis2KfZhtioINmD2YQg2K7Zitin2LEg2YfZg9iw2Kc6CgpmdW5jdGlvbiByZW1vdmVRdWVzdGlvbihxdWVzdGlvbklkKSB7CiAgICBjb25zdCBxdWVzdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChxdWVzdGlvbklkKTsKICAgIGlmIChxdWVzdGlvbkVsZW1lbnQgJiYgY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINit2LDZgSDZh9iw2Kcg2KfZhNiz2KTYp9mE2J8iKSkgewogICAgICAgIHF1ZXN0aW9uRWxlbWVudC5yZW1vdmUoKTsKICAgIH0KfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZW5hYmxlQWxsU3R1ZGVudHNCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIGlmICghY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2KrZgdi52YrZhCDYrNmF2YrYuSDYp9mE2LfZhNin2KjYnyIpKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikKICAgICAgICAud2hlcmUoInJvbGUiLCAiPT0iLCAic3R1ZGVudCIpCiAgICAgICAgLmdldCgpCiAgICAgICAgLnRoZW4oKHF1ZXJ5U25hcHNob3QpID0+IHsKICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOyAvLyDYp9iz2KrYrtiv2KfZhSBiYXRjaCDZhNiq2K3Yr9mK2Ksg2KzZhdmK2Lkg2KfZhNi32YTYp9ioINiv2YHYudipINmI2KfYrdiv2KkKICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHsKICAgICAgICAgICAgICAgIGJhdGNoLnVwZGF0ZShkb2MucmVmLCB7IGRpc2FibGVkOiBmYWxzZSB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByZXR1cm4gYmF0Y2guY29tbWl0KCk7IC8vINiq2YbZgdmK2LAg2KfZhNiq2K3Yr9mK2KvYp9iqCiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGFsZXJ0KCLYqtmFINiq2YHYudmK2YQg2KzZhdmK2Lkg2KfZhNi32YTYp9ioINio2YbYrNin2K0hIik7CiAgICAgICAgICAgIGxvYWRTdHVkZW50cygpOyAvLyDYpdi52KfYr9ipINiq2K3ZhdmK2YQg2YLYp9im2YXYqSDYp9mE2LfZhNin2KgKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgYWxlcnQoItit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtmB2LnZitmEINin2YTYt9mE2KfYqDogIiArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgIH0pOwp9KTsKCmZ1bmN0aW9uIHNlYXJjaEV4YW1zKCkgewogICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VhcmNoSW5wdXQiKS52YWx1ZS50b0xvd2VyQ2FzZSgpOwogICAgY29uc3QgZXhhbXNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWxsRXhhbXMiKTsKICAgIGNvbnN0IGV4YW1DYXJkcyA9IGV4YW1zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi5leGFtLWNhcmQiKTsKCiAgICBpZiAoc2VhcmNoUXVlcnkudHJpbSgpID09PSAiIikgewogICAgICAgIC8vINil2LDYpyDZg9in2YYg2KfZhNmG2LUg2YHYp9ix2LrZi9in2Iwg2LnYsdi2INis2YXZiti5INin2YTYp9iu2KrYqNin2LHYp9iqCiAgICAgICAgZXhhbUNhcmRzLmZvckVhY2goY2FyZCA9PiB7CiAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGxldCBoYXNSZXN1bHRzID0gZmFsc2U7CgogICAgZXhhbUNhcmRzLmZvckVhY2goY2FyZCA9PiB7CiAgICAgICAgY29uc3QgdGl0bGUgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoIi5leGFtLWNhcmQtaGVhZGVyIikudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKTsKICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGNhcmQucXVlcnlTZWxlY3RvcigiLmV4YW0tY2FyZC1ib2R5IikudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKTsKCiAgICAgICAgaWYgKHRpdGxlLmluY2x1ZGVzKHNlYXJjaFF1ZXJ5KSB8fCBkZXNjcmlwdGlvbi5pbmNsdWRlcyhzZWFyY2hRdWVyeSkpIHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsgLy8g2LnYsdi2INin2YTYqNi32KfZgtipINil2LDYpyDYqti32KfYqNmCINin2YTZhti1CiAgICAgICAgICAgIGhhc1Jlc3VsdHMgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsgLy8g2KXYrtmB2KfYoSDYp9mE2KjYt9in2YLYqSDYpdiw2Kcg2YTZhSDYqtiq2LfYp9io2YIKICAgICAgICB9CiAgICB9KTsKCiAgICBpZiAoIWhhc1Jlc3VsdHMpIHsKICAgICAgICBleGFtc0NvbnRhaW5lci5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2LfYp9io2YLYqSDZhNio2K3Yq9mDLjwvcD4iOwogICAgfQp9Ci8vINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDYqNi52K8g2KrYrdmF2YrZhCDYp9iu2KrYqNin2LHYp9iqICLYp9iu2KrYqNixINmG2YHYs9mDIiDYo9mIINio2LnYryDYqti52LHZitmBIHNlbGZUZXN0c0dyaWQKCi8vIDEuINij2LbZgSDYrdmC2YQg2KfZhNio2K3YqyDZgdmKIEhUTUwg2KPYudmE2Ykg2YLYp9im2YXYqSDYp9iu2KrYqNixINmG2YHYs9mDICjYtti52Ycg2YHZiNmCIDxkaXYgY2xhc3M9ImV4YW1zLWNvbnRhaW5lciI+INin2YTYrtin2LXYqSDYqNin2K7Yqtio2LEg2YbZgdiz2YMpCmNvbnN0IHNlbGZUZXN0c1NlYXJjaEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpzZWxmVGVzdHNTZWFyY2hCb3guaW5uZXJIVE1MID0gYAogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzZWFyY2hTZWxmVGVzdHNJbnB1dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Itin2KjYrdirINmB2Yog2KfYrtiq2KjYsSDZhtmB2LPZgy4uLiI+CmA7CmNvbnN0IHNlbGZUZXN0c0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzZWxmVGVzdHNHcmlkIikucGFyZW50RWxlbWVudDsKc2VsZlRlc3RzQ29udGFpbmVyLmluc2VydEJlZm9yZShzZWxmVGVzdHNTZWFyY2hCb3gsIHNlbGZUZXN0c0NvbnRhaW5lci5maXJzdENoaWxkKTsKCi8vIDIuINiv2KfZhNipINin2YTYqNit2Ksg2YHZiiDYp9iu2KrYqNixINmG2YHYs9mDCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hTZWxmVGVzdHNJbnB1dCIpLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZnVuY3Rpb24gKCkgewogICAgY29uc3QgcXVlcnkgPSB0aGlzLnZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgY29uc3Qgc2VsZlRlc3RzR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNHcmlkIik7CiAgICBjb25zdCBzZWxmVGVzdENhcmRzID0gc2VsZlRlc3RzR3JpZC5xdWVyeVNlbGVjdG9yQWxsKCIuc2VsZi10ZXN0LWNhcmQiKTsKICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgc2VsZlRlc3RDYXJkcy5mb3JFYWNoKGNhcmQgPT4gewogICAgICAgIGNvbnN0IHRpdGxlID0gY2FyZC5xdWVyeVNlbGVjdG9yKCIuc2VsZi10ZXN0LWNhcmQtaGVhZGVyIik/LnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpIHx8ICIiOwogICAgICAgIGNvbnN0IGRlc2MgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoIi5zZWxmLXRlc3QtY2FyZC1ib2R5Iik/LnRleHRDb250ZW50Py50b0xvd2VyQ2FzZSgpIHx8ICIiOwogICAgICAgIGlmICh0aXRsZS5pbmNsdWRlcyhxdWVyeSkgfHwgZGVzYy5pbmNsdWRlcyhxdWVyeSkpIHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB9CiAgICB9KTsKICAgIGlmICghZm91bmQgJiYgcXVlcnkubGVuZ3RoID4gMCkgewogICAgICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdi32KfYqNmC2Kkg2YTYqNit2KvZgy48L3A+IjsKICAgIH0gZWxzZSBpZiAocXVlcnkubGVuZ3RoID09PSAwKSB7CiAgICAgICAgLy8g2KXYudin2K/YqSDYqtit2YXZitmEINin2K7Yqtio2LEg2YbZgdiz2YMg2KXYsNinINiq2YUg2YXYs9itINin2YTYqNit2KsKICAgICAgICBsb2FkU2VsZlRlc3RzKCk7CiAgICB9Cn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYstixINit2LDZgSDYr9ix2KzYp9iqINin2K7Yqtio2KfYsSDZhdi52YrZhgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVsZXRlRXhhbUdyYWRlc0J0biIpLm9uY2xpY2sgPSBhc3luYyBmdW5jdGlvbiAoKSB7CiAgY29uc3QgZXhhbUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdyYWRlRXhhbUZpbHRlciIpLnZhbHVlOwogIGlmICghZXhhbUlkKSB7CiAgICBzaG93VG9hc3QoItin2K7YqtixINin2K7Yqtio2KfYsdin2Ysg2KPZiNmE2KfZiyDZhdmGINin2YTZgtin2KbZhdipISIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICBpZiAoIWNvbmZpcm0oItmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINit2LDZgSDYrNmF2YrYuSDYr9ix2KzYp9iqINmH2LDYpyDYp9mE2KfYrtiq2KjYp9ix2J8g2YTYpyDZitmF2YPZhiDYp9mE2KrYsdin2KzYuSDYudmGINmH2LDYpyDYp9mE2KXYrNix2KfYoSEiKSkgcmV0dXJuOwoKICBsZXQgcXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJyZXN1bHRzIikud2hlcmUoImV4YW1JZCIsICI9PSIsIGV4YW1JZCk7CiAgLy8g2KXYsNinINmD2KfZhiDYp9mE2LfYp9mE2KjYjCDYp9it2LDZgSDZgdmC2Lcg2K/Ysdis2KfYqtmHINmB2Yog2YfYsNinINin2YTYp9iu2KrYqNin2LEKICBpZiAodXNlclJvbGUgIT09ICJ0ZWFjaGVyIikgewogICAgcXVlcnkgPSBxdWVyeS53aGVyZSgidXNlcklkIiwgIj09IiwgY3VycmVudFVzZXIudWlkKTsKICB9CiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBxdWVyeS5nZXQoKTsKICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgIHNob3dUb2FzdCgi2YTYpyDYqtmI2KzYryDYr9ix2KzYp9iqINmE2YfYsNinINin2YTYp9iu2KrYqNin2LEuIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIGNvbnN0IGJhdGNoID0gZGIuYmF0Y2goKTsKICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiBiYXRjaC5kZWxldGUoZG9jLnJlZikpOwogIGF3YWl0IGJhdGNoLmNvbW1pdCgpOwogIHNob3dUb2FzdCgi2KrZhSDYrdiw2YEg2K/Ysdis2KfYqiDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hIiwgInN1Y2Nlc3MiKTsKICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgbG9hZEFsbEdyYWRlcygpOwogIH0gZWxzZSB7CiAgICBsb2FkU3R1ZGVudEdyYWRlcygpOwogICAgbG9hZFN0dWRlbnRQcm9ncmVzcygpOwogIH0KfTsKCi8vINiy2LEg2K3YsNmBINis2YXZiti5INiv2LHYrNin2Kog2KfZhNi32KfZhNioCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZWxldGVBbGxTdHVkZW50R3JhZGVzQnRuIikub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uICgpIHsKICBpZiAoIWNvbmZpcm0oItmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINit2LDZgSDYrNmF2YrYuSDYr9ix2KzYp9iqINin2YTYt9in2YTYqNifINmE2Kcg2YrZhdmD2YYg2KfZhNiq2LHYp9is2Lkg2LnZhiDZh9iw2Kcg2KfZhNil2KzYsdin2KEhIikpIHJldHVybjsKICBsZXQgcXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJyZXN1bHRzIikud2hlcmUoInVzZXJJZCIsICI9PSIsIGN1cnJlbnRVc2VyLnVpZCk7CiAgaWYgKHVzZXJSb2xlID09PSAidGVhY2hlciIpIHsKICAgIC8vINmE2YTZhdi52YTZhTog2K3YsNmBINmD2YQg2KfZhNiv2LHYrNin2Kog2YTZg9mEINin2YTYt9mE2KfYqAogICAgaWYgKCFjb25maXJtKCLYo9mG2Kog2YXYudmE2YXYjCDZh9mEINiq2LHZitivINit2LDZgSDYrNmF2YrYuSDYp9mE2K/Ysdis2KfYqiDZhNmD2YQg2KfZhNi32YTYp9io2J8iKSkgcmV0dXJuOwogICAgcXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJyZXN1bHRzIik7CiAgfQogIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgcXVlcnkuZ2V0KCk7CiAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICBzaG93VG9hc3QoItmE2Kcg2KrZiNis2K8g2K/Ysdis2KfYqiDZhNit2LDZgdmH2KcuIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIGNvbnN0IGJhdGNoID0gZGIuYmF0Y2goKTsKICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiBiYXRjaC5kZWxldGUoZG9jLnJlZikpOwogIGF3YWl0IGJhdGNoLmNvbW1pdCgpOwogIHNob3dUb2FzdCgi2KrZhSDYrdiw2YEg2KzZhdmK2Lkg2KfZhNiv2LHYrNin2Kog2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICBsb2FkQWxsR3JhZGVzKCk7CiAgfSBlbHNlIHsKICAgIGxvYWRTdHVkZW50R3JhZGVzKCk7CiAgICBsb2FkU3R1ZGVudFByb2dyZXNzKCk7CiAgfQp9OwoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBjb25maXJtRGVsZXRlU2xpZGUoXzB4NGRjOTBhKSB7CiAgY29uc3QgXzB4MjYzNTQ4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGV0ZVNsaWRlTW9kYWwiKTsKICBfMHgyNjM1NDguc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBjb25zdCBfMHgzOTZjYWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29uZmlybURlbGV0ZVNsaWRlQnRuIik7CiAgY29uc3QgXzB4NDNiNWQwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbERlbGV0ZVNsaWRlQnRuIik7CiAgXzB4Mzk2Y2FjLnJlcGxhY2VXaXRoKF8weDM5NmNhYy5jbG9uZU5vZGUodHJ1ZSkpOwogIF8weDQzYjVkMC5yZXBsYWNlV2l0aChfMHg0M2I1ZDAuY2xvbmVOb2RlKHRydWUpKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybURlbGV0ZVNsaWRlQnRuJykuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBfMHgyNjM1NDguc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGRlbGV0ZVNsaWRlKF8weDRkYzkwYSk7CiAgfSk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbERlbGV0ZVNsaWRlQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBfMHgyNjM1NDguc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICB9KTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINi52K/ZhCDYr9in2YTYqSDYrdmB2Lgg2KfYrtiq2KjYp9ixICLYp9iu2KrYqNixINmG2YHYs9mDIiDZhNiq2KrYo9mD2K8g2YXZhiDYrNmE2Kgg2KfZhNi32YTYp9ioINin2YTZhdiz2YXZiNitINmE2YfZhSDYqNi02YPZhCDYtdit2YrYrQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZlRlc3RGb3JtJykub25zdWJtaXQgPSBmdW5jdGlvbihlKSB7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAvLyAuLi5leGlzdGluZyBjb2RlLi4uCiAgICBjb25zdCB5ZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0WWVhciIpLnZhbHVlOyAvLyDYp9mE2YXYsdit2YTYqSDYp9mE2K/Ysdin2LPZitipCiAgICAgICAgY29uc3QgdGVybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFRlcm0iKT8udmFsdWUgfHwgIiI7IC8vIDwtLSDYqtmFINin2YTYpdi22KfZgdipINmE2K3ZhCBSZWZlcmVuY2VFcnJvcgoKICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0VGl0bGUiKS52YWx1ZTsKICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGZUZXN0RGVzY3JpcHRpb24nKS52YWx1ZTsKICAgIGNvbnN0IHF1ZXN0aW9ucyA9IFtdOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnF1ZXN0aW9uLWNvbnRhaW5lciIpLmZvckVhY2goZGl2ID0+IHsKICAgICAgICBjb25zdCB0ZXh0ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoIi5xdWVzdGlvbi10ZXh0IikudmFsdWU7CiAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSBkaXYucXVlcnlTZWxlY3RvcigiLnF1ZXN0aW9uLWltYWdlLXVybCIpID8gZGl2LnF1ZXJ5U2VsZWN0b3IoIi5xdWVzdGlvbi1pbWFnZS11cmwiKS52YWx1ZS50cmltKCkgOiAiIjsKICAgICAgICBjb25zdCBvcHRpb25zID0gQXJyYXkuZnJvbShkaXYucXVlcnlTZWxlY3RvckFsbCgnLm9wdGlvbi10ZXh0JykpLm1hcChvcHQgPT4gKHsgdGV4dDogb3B0LnZhbHVlIH0pKTsKICAgICAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gcGFyc2VJbnQoZGl2LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWVePSdjb3JyZWN0LSddOmNoZWNrZWQiKS52YWx1ZSk7CiAgICAgICAgcXVlc3Rpb25zLnB1c2goewogICAgICAgICAgICB0ZXh0LAogICAgICAgICAgICBpbWFnZVVybDogaW1hZ2VVcmwgfHwgbnVsbCwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgY29ycmVjdEFuc3dlcgogICAgICAgIH0pOwogICAgfSk7CiAgICBsZXQgYWxsb3dlZFN0dWRlbnRzID0gW107CiAgICBjb25zdCBhbGxvd2VkU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsbG93ZWRTZWxmVGVzdFN0dWRlbnRzJyk7CiAgICBpZiAoYWxsb3dlZFNlbGVjdCkgewogICAgICAgIGFsbG93ZWRTdHVkZW50cyA9IEFycmF5LmZyb20oYWxsb3dlZFNlbGVjdC5zZWxlY3RlZE9wdGlvbnMpLm1hcChvcHQgPT4gb3B0LnZhbHVlKTsKICAgIH0KICAgIGlmIChlZGl0aW5nU2VsZlRlc3RJZCkgewogICAgICAgIGRiLmNvbGxlY3Rpb24oJ3NlbGZUZXN0cycpLmRvYyhlZGl0aW5nU2VsZlRlc3RJZCkudXBkYXRlKHsKICAgICAgICAgICAgdGl0bGUsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uLAogICAgICAgICAgICBxdWVzdGlvbnMsCiAgICAgICAgICAgIGFsbG93ZWRTdHVkZW50cywKICAgICAgICAgICAgeWVhciwgLy8g2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqQogICAgICAgICAgICB0ZXJtLCAvLyDYp9mE2YHYtdmEINin2YTYr9ix2KfYs9mKCiAgICAgICAgICAgIHVwZGF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgYWxlcnQoItiq2YUg2KrYrdiv2YrYqyDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hIik7CiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgYWxlcnQoItit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2K/ZitirINin2YTYp9iu2KrYqNin2LE6ICIgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgICAgZGIuY29sbGVjdGlvbignc2VsZlRlc3RzJykuYWRkKHsKICAgICAgICAgICAgdGl0bGUsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uLAogICAgICAgICAgICBxdWVzdGlvbnMsCiAgICAgICAgICAgIGFsbG93ZWRTdHVkZW50cywKICAgICAgICAgICAgeWVhciwgLy8g2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqQogICAgICAgICAgICB0ZXJtLCAvLyDYp9mE2YHYtdmEINin2YTYr9ix2KfYs9mKCiAgICAgICAgICAgIGNyZWF0ZWRCeTogY3VycmVudFVzZXJEYXRhPy5bIm5hbWUiXSB8fCBjdXJyZW50VXNlci5lbWFpbCwKICAgICAgICAgICAgY3JlYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICAgICAgdXNlcklkOiBjdXJyZW50VXNlci51aWQKICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgYWxlcnQoItiq2YUg2K3Zgdi4INin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSEiKTsKICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBhbGVydCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINit2YHYuCDYp9mE2KfYrtiq2KjYp9ixOiAiICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgfSk7CiAgICB9Cn07CgovLyDYqtit2YXZitmEINin2YTYsdiz2KfYptmEINmF2YYg2YLYp9i52K/YqSDYp9mE2KjZitin2YbYp9iqCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gbG9hZENoYXRNZXNzYWdlcygpIHsKICBjb25zdCBjaGF0TWVzc2FnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhdE1lc3NhZ2VzIik7CiAgY2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9ICI8c3BhbiBzdHlsZT0nY29sb3I6Izg4ODsnPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNix2LPYp9im2YQuLi48L3NwYW4+IjsKICBkYi5jb2xsZWN0aW9uKCJjaGF0TWVzc2FnZXMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiYXNjIikubGltaXQoMTAwKQogICAgLm9uU25hcHNob3Qoc25hcHNob3QgPT4gewogICAgICBjaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gIiI7CiAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICBjb25zdCBtc2cgPSBkb2MuZGF0YSgpOwogICAgICAgIGNvbnN0IGlzTWluZSA9IGN1cnJlbnRVc2VyICYmIG1zZy51c2VySWQgPT09IGN1cnJlbnRVc2VyLnVpZDsKICAgICAgICAvLyDYstixINit2LDZgSDYp9mE2LHYs9in2YTYqSDZhNmE2YXYudmE2YUg2YHZgti3CiAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gKHVzZXJSb2xlID09PSAidGVhY2hlciIpCiAgICAgICAgICA/IGA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc20iIHN0eWxlPSJtYXJnaW4tcmlnaHQ6OHB4OyIgb25jbGljaz0iZGVsZXRlQ2hhdE1lc3NhZ2UoJyR7ZG9jLmlkfScpIj48aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+PC9idXR0b24+YAogICAgICAgICAgOiAiIjsKICAgICAgICBjaGF0TWVzc2FnZXMuaW5uZXJIVE1MICs9IGAKICAgICAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTJweDt0ZXh0LWFsaWduOiR7aXNNaW5lID8gJ2xlZnQnIDogJ3JpZ2h0J307ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6JHtpc01pbmUgPyAnZmxleC1zdGFydCcgOiAnZmxleC1lbmQnfTsiPgogICAgICAgICAgICA8c3BhbiBzdHlsZT0iYmFja2dyb3VuZDoke2lzTWluZSA/ICcjMGE3MGZmJyA6ICcjMTRlZTg4J307Y29sb3I6I2ZmZjtwYWRkaW5nOjhweCAxNHB4O2JvcmRlci1yYWRpdXM6OHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO21heC13aWR0aDo4MCU7d29yZC1icmVhazpicmVhay13b3JkOyI+CiAgICAgICAgICAgICAgPGI+JHttc2cudXNlck5hbWUgfHwgItmF2LPYqtiu2K/ZhSJ9PC9iPjogJHttc2cudGV4dH0KICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAke2RlbGV0ZUJ0bn0KICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTowLjhyZW07Y29sb3I6Izg4ODttYXJnaW4tJHtpc01pbmUgPyAnbGVmdCcgOiAncmlnaHQnfTo4cHg7Ij4ke21zZy5jcmVhdGVkQXQ/LnRvRGF0ZSA/IG1zZy5jcmVhdGVkQXQudG9EYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCkgOiAiIn08L3NwYW4+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICBgOwogICAgICB9KTsKICAgICAgY2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7CiAgICB9KTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4Kd2luZG93LmRlbGV0ZUNoYXRNZXNzYWdlID0gZnVuY3Rpb24oaWQpIHsKICBpZiAodXNlclJvbGUgIT09ICJ0ZWFjaGVyIikgcmV0dXJuOwogIGlmICghY29uZmlybSgi2YfZhCDYqtix2YrYryDYrdiw2YEg2YfYsNmHINin2YTYsdiz2KfZhNip2J8iKSkgcmV0dXJuOwogIGRiLmNvbGxlY3Rpb24oImNoYXRNZXNzYWdlcyIpLmRvYyhpZCkuZGVsZXRlKCk7Cn07Ci8vIC4uLmUvLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZWxldGVBbGxDaGF0QnRuIikub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uKCkgewogIGlmICh1c2VyUm9sZSAhPT0gInRlYWNoZXIiKSByZXR1cm47CiAgaWYgKCFjb25maXJtKCLZh9mEINiq2LHZitivINit2LDZgSDZg9mEINiz2KzZhCDYp9mE2YXYrdin2K/Yq9ip2J8g2YTYpyDZitmF2YPZhiDYp9mE2KrYsdin2KzYuSEiKSkgcmV0dXJuOwogIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGIuY29sbGVjdGlvbigiY2hhdE1lc3NhZ2VzIikuZ2V0KCk7CiAgaWYgKHNuYXBzaG90LmVtcHR5KSByZXR1cm47CiAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogIHNuYXBzaG90LmZvckVhY2goZG9jID0+IGJhdGNoLmRlbGV0ZShkb2MucmVmKSk7CiAgYXdhaXQgYmF0Y2guY29tbWl0KCk7CiAgbG9hZENoYXRNZXNzYWdlcygpOwp9OwovLyAuLi5leGlzdGluZyBjb2RlLi4uLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudUNoYXQiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKICBlLnByZXZlbnREZWZhdWx0KCk7CiAgc2V0QWN0aXZlTWVudUl0ZW0odGhpcyk7CiAgc2hvd1BhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXRQYWdlIikpOwogIGxvYWRDaGF0TWVzc2FnZXMoKTsKICAvLyDYpdi42YfYp9ixINiy2LEg2K3YsNmBINin2YTZg9mEINmE2YTZhdi52YTZhSDZgdmC2LcKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVsZXRlQWxsQ2hhdEJ0biIpLnN0eWxlLmRpc3BsYXkgPSAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgPyAiaW5saW5lLWJsb2NrIiA6ICJub25lIjsKfSk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi54aXN0aW5nIGNvZGUuLi4KLy8g2KXYsdiz2KfZhCDYsdiz2KfZhNipINis2K/Zitiv2KkKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbmRDaGF0QnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXRJbnB1dCIpOwogIGNvbnN0IHRleHQgPSBpbnB1dC52YWx1ZS50cmltKCk7CiAgaWYgKCF0ZXh0KSByZXR1cm47CiAgZGIuY29sbGVjdGlvbigiY2hhdE1lc3NhZ2VzIikuYWRkKHsKICAgIHRleHQsCiAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLnVpZCwKICAgIHVzZXJOYW1lOiBjdXJyZW50VXNlckRhdGE/Lm5hbWUgfHwgY3VycmVudFVzZXIuZW1haWwsCiAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgfSk7CiAgaW5wdXQudmFsdWUgPSAiIjsKfTsKCi8vINi52YbYryDYp9mE2LbYuti3INi52YTZiSDYstixICLYp9mE2YXYrdin2K/Yq9ipIiDZgdi52ZHZhCDYp9mE2YLYs9mFINmI2K3ZhdmR2YQg2KfZhNix2LPYp9im2YQKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVDaGF0IikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihlKSB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIHNldEFjdGl2ZU1lbnVJdGVtKHRoaXMpOwogIHNob3dQYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0UGFnZSIpKTsKICBsb2FkQ2hhdE1lc3NhZ2VzKCk7Cn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYudiv2YQg2K/Yp9mE2KkgZWRpdEV4YW0g2YTZitiq2YUg2KrYrdmF2YrZhCDYp9mE2LfZhNin2Kgg2YjYqtit2K/ZitivINin2YTZhdiz2YXZiNitINmE2YfZhSDYqtmE2YLYp9im2YrYp9mLCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIGVkaXRFeGFtKGV4YW0sIGV4YW1JZCkgewogICAgZWRpdGluZ0V4YW1JZCA9IGV4YW1JZDsKICAgIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVDcmVhdGVFeGFtKTsKICAgIHNob3dQYWdlKGNyZWF0ZUV4YW1QYWdlKTsKCiAgICAvLyDYqti52KjYptipINio2YrYp9mG2KfYqiDYp9mE2KfYrtiq2KjYp9ixCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbVRpdGxlIikudmFsdWUgPSBleGFtLnRpdGxlIHx8ICIiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1EZXNjcmlwdGlvbiIpLnZhbHVlID0gZXhhbS5kZXNjcmlwdGlvbiB8fCAiIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtRHVyYXRpb24iKS52YWx1ZSA9IGV4YW0uZHVyYXRpb24gfHwgMzA7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbVRvdGFsTWFya3MiKS52YWx1ZSA9IGV4YW0udG90YWxNYXJrcyB8fCAxMDA7CgogICAgLy8g2YXZhNihINit2YLZiNmEINin2YTYs9mG2Kkg2YjYp9mE2KrYsdmFINmE2YTYp9iu2KrYqNin2LEKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtWWVhciIpLnZhbHVlID0gZXhhbS55ZWFyIHx8ICIiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1UZXJtIikudmFsdWUgPSBleGFtLnRlcm0gfHwgIiI7CgogICAgLy8g2KrYudio2KbYqSDZiNmC2Kog2KfZhNio2K/Yp9mK2Kkg2YjYp9mE2YbZh9in2YrYqSDYpdiw2Kcg2YPYp9mGINmF2YjYrNmI2K/Yp9mLCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbVN0YXJ0VGltZSIpLnZhbHVlID0gZXhhbS5zdGFydFRpbWUgPyBuZXcgRGF0ZShleGFtLnN0YXJ0VGltZSkudG9JU09TdHJpbmcoKS5zbGljZSgwLDE2KSA6ICIiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1FbmRUaW1lIikudmFsdWUgPSBleGFtLmVuZFRpbWUgPyBuZXcgRGF0ZShleGFtLmVuZFRpbWUpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxNikgOiAiIjsKCiAgICAvLyDYqti52KjYptipINin2YTYo9iz2KbZhNipICjYrdmF2KfZitipINmB2Yog2K3Yp9mEINmD2KfZhtiqINin2YTYo9iz2KbZhNipINi62YrYsSDZhdi52LHZgdipKQogICAgY29uc3QgcXVlc3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uc0NvbnRhaW5lciIpOwogICAgcXVlc3Rpb25zQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwoKICAgIGlmIChBcnJheS5pc0FycmF5KGV4YW0ucXVlc3Rpb25zKSAmJiBleGFtLnF1ZXN0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgIGV4YW0ucXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBpbmRleCkgPT4gewogICAgICAgICAgY29uc3QgcXVlc3Rpb25JZCA9IGBxdWVzdGlvbi0ke0RhdGUubm93KCl9LSR7aW5kZXh9YDsKICAgICAgICAgIGNvbnN0IHF1ZXN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgcXVlc3Rpb25FbGVtZW50LmNsYXNzTmFtZSA9ICJxdWVzdGlvbi1jb250YWluZXIgaW1wb3J0ZWQtcXVlc3Rpb24tbGlnaHQiOwogICAgICAgICAgcXVlc3Rpb25FbGVtZW50LmlkID0gcXVlc3Rpb25JZDsKCiAgICAgICAgICAvLyDYqtij2YPYryDZhdmGINmI2KzZiNivINmF2LXZgdmI2YHYqSDYp9mE2K7Zitin2LHYp9iqINmE2KrYrNmG2Kgg2K7Yt9ijIHJ1bnRpbWUKICAgICAgICAgIGNvbnN0IG9wdHMgPSBBcnJheS5pc0FycmF5KHF1ZXN0aW9uLm9wdGlvbnMpID8gcXVlc3Rpb24ub3B0aW9ucyA6IFt7IHRleHQ6ICIiIH0sIHsgdGV4dDogIiIgfV07CgogICAgICAgICAgcXVlc3Rpb25FbGVtZW50LmlubmVySFRNTCA9IGAKICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2YbYtSDYp9mE2LPYpNin2YQ8L2xhYmVsPgogICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgcXVlc3Rpb24tdGV4dCIgdmFsdWU9IiR7cXVlc3Rpb24udGV4dCB8fCBxdWVzdGlvbi5xdWVzdGlvblRleHQgfHwgJyd9IiByZXF1aXJlZD4KICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2LHYp9io2Lcg2KfZhNi12YjYsdipICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi1pbWFnZS11cmwiIHZhbHVlPSIke3F1ZXN0aW9uLmltYWdlVXJsIHx8ICcnfSIgcGxhY2Vob2xkZXI9Itij2K/YrtmEINix2KfYqNi3INin2YTYtdmI2LHYqSI+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2K7Zitin2LHYp9iqINin2YTYpdis2KfYqNipPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ib3B0aW9ucy0ke3F1ZXN0aW9uSWR9Ij4KICAgICAgICAgICAgICAgICAgICAke29wdHMubWFwKChvcHRpb24sIG9wdGlvbkluZGV4KSA9PiBgCiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24taXRlbSBvcHRpb24taXRlbS1saWdodCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke3F1ZXN0aW9uSWR9IiB2YWx1ZT0iJHtvcHRpb25JbmRleH0iICR7cXVlc3Rpb24uY29ycmVjdEFuc3dlciA9PT0gb3B0aW9uSW5kZXggPyAiY2hlY2tlZCIgOiAiIn0gcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIG9wdGlvbi10ZXh0IiB2YWx1ZT0iJHtvcHRpb24udGV4dCB8fCAnJ30iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSIgb25jbGljaz0icmVtb3ZlT3B0aW9uKHRoaXMpIiBzdHlsZT0ibWFyZ2luLXJpZ2h0OjhweDsiPjxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGApLmpvaW4oJycpfQogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJhZGQtYnRuIiBvbmNsaWNrPSJhZGRPcHRpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4g2KXYttin2YHYqSDYrtmK2KfYsQogICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJyZW1vdmUtYnRuIiBvbmNsaWNrPSJyZW1vdmVRdWVzdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINin2YTYs9ik2KfZhAogICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIGA7CiAgICAgICAgICBxdWVzdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocXVlc3Rpb25FbGVtZW50KTsKICAgICAgICAgIGVuYWJsZUltYWdlUGFzdGVPblVybEZpZWxkcygpOwogICAgICB9KTsKICAgICAgdXBkYXRlUXVlc3Rpb25zTnVtYmVycygpOwogICAgfSBlbHNlIHsKICAgICAgcXVlc3Rpb25zQ29udGFpbmVyLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojODg4O3BhZGRpbmc6MTBweDsiPtmE2Kcg2KrZiNis2K8g2KPYs9im2YTYqSDZhNmH2LDYpyDYp9mE2KfYrtiq2KjYp9ixLjwvZGl2PmA7CiAgICB9CgogICAgLy8g2KrYrdmF2YrZhCDYp9mE2LfZhNin2Kgg2YjYqtit2K/ZitivINin2YTZhdiz2YXZiNitINmE2YfZhSDYqtmE2YLYp9im2YrYp9mLCiAgICBjb25zdCBhbGxvd2VkU3R1ZGVudHMgPSBleGFtLmFsbG93ZWRTdHVkZW50cyB8fCBbXTsKICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGxvd2VkU3R1ZGVudHMiKTsKICAgIHNlbGVjdC5pbm5lckhUTUwgPSAiPG9wdGlvbiB2YWx1ZT1cIlwiPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNi32YTYp9ioLi4uPC9vcHRpb24+IjsKICAgIGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykud2hlcmUoInJvbGUiLCAnPT0nLCAic3R1ZGVudCIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnJzsKICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBkb2MuZGF0YSgpOwogICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGFsbG93ZWRTdHVkZW50cy5pbmNsdWRlcyhkb2MuaWQpID8gInNlbGVjdGVkIiA6ICIiOwogICAgICAgICAgICBzZWxlY3QuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPSIke2RvYy5pZH0iICR7c2VsZWN0ZWR9PiR7dXNlci5uYW1lfSAoJHt1c2VyLmVtYWlsfSk8L29wdGlvbj5gOwogICAgICAgIH0pOwogICAgfSk7CgogICAgLy8g2KrYrdiv2YrYqyDYr9in2YTYqSDYp9mE2K3Zgdi4INmE2KrYtdio2K0gItiq2K3Yr9mK2Ksg2KfZhNin2K7Yqtio2KfYsSIKICAgIGNvbnN0IGV4YW1Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1Gb3JtJyk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1Gb3JtJykuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgZnVuY3Rpb24oZXZlbnQpIHsKICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogIGZvciAoY29uc3QgY29udGFpbmVyIG9mIHF1ZXN0aW9uQ29udGFpbmVycykgewogICAgY29uc3QgcXVlc3Rpb25UZXh0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoIi5xdWVzdGlvbi10ZXh0IikudmFsdWUudHJpbSgpOwogICAgY29uc3Qgb3B0aW9ucyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIub3B0aW9uLXRleHQiKTsKICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXJJbnB1dCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBpbnB1dFtuYW1lXj0iY29ycmVjdC0iXTpjaGVja2VkYCk7CiAgICAKICAgIGlmICghcXVlc3Rpb25UZXh0KSB7CiAgICAgIGFsZXJ0KCLZitix2KzZiSDYpdiv2K7Yp9mEINmG2LUg2KfZhNiz2KTYp9mELiIpOwogICAgICByZXR1cm47CiAgICB9CiAgICAKICAgIGlmICghY29ycmVjdEFuc3dlcklucHV0KSB7CiAgICAgIGFsZXJ0KCLZitix2KzZiSDYqtit2K/ZitivINin2YTYpdis2KfYqNipINin2YTYtdit2YrYrdipINmE2KzZhdmK2Lkg2KfZhNij2LPYptmE2KkuIik7CiAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgY29uc3Qgb3B0aW9uc0FycmF5ID0gQXJyYXkuZnJvbShvcHRpb25zKS5tYXAob3B0aW9uID0+ICh7CiAgICAgIHRleHQ6IG9wdGlvbi52YWx1ZS50cmltKCkKICAgIH0pKTsKICAgIAogICAgY29uc3QgY29ycmVjdEFuc3dlciA9IHBhcnNlSW50KGNvcnJlY3RBbnN3ZXJJbnB1dC52YWx1ZSk7CiAgICAKIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KcXVlc3Rpb25zLnB1c2goewogIHRleHQ6IHRleHQgfHwgcXVlc3Rpb25UZXh0IHx8ICIiLCAvLyDYqtmI2K3ZitivINin2YTYqNmG2YrYqQogIGltYWdlVXJsOiBpbWFnZVVybCB8fCBudWxsLAogIG9wdGlvbnMsCiAgY29ycmVjdEFuc3dlcgp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgogIH0KICAKICB0cnkgewogICAgYXdhaXQgZGIuY29sbGVjdGlvbigiZXhhbXMiKS5hZGQoewogICAgICB0aXRsZTogZXhhbVRpdGxlLAogICAgICBkZXNjcmlwdGlvbjogZXhhbURlc2NyaXB0aW9uLAogICAgICBkdXJhdGlvbjogZXhhbUR1cmF0aW9uLAogICAgICB0b3RhbE1hcmtzOiBleGFtVG90YWxNYXJrcywKICAgICAgcXVlc3Rpb25zOiBxdWVzdGlvbnMsCiAgICAgIGNyZWF0ZWRCeTogY3VycmVudFVzZXJEYXRhPy5uYW1lIHx8IGN1cnJlbnRVc2VyLmVtYWlsLAogICAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLnVpZAogICAgfSk7CiAgICAKICAgIGFsZXJ0KCLYqtmFINit2YHYuCDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hIik7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbUZvcm0iKS5yZXNldCgpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uc0NvbnRhaW5lciIpLmlubmVySFRNTCA9ICIiOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBhbGVydCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINit2YHYuCDYp9mE2KfYrtiq2KjYp9ixOiAiICsgZXJyb3IubWVzc2FnZSk7CiAgfQp9KTsKCgoKLy8g2KXYttin2YHYqSDZgdi12YQg2KzYr9mK2K8KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZENoYXB0ZXJCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIGNvbnN0IGNoYXB0ZXJzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXB0ZXJzQ29udGFpbmVyIik7CiAgICBjb25zdCBjaGFwdGVySWQgPSBEYXRlLm5vdygpOwogICAgY29uc3QgY2hhcHRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgY2hhcHRlckRpdi5jbGFzc05hbWUgPSAiY2hhcHRlci1pdGVtIjsKICAgIGNoYXB0ZXJEaXYuc3R5bGUgPSAiYm9yZGVyOjFweCBzb2xpZCAjMGE3MGZmOyBib3JkZXItcmFkaXVzOjhweDsgcGFkZGluZzoxNXB4OyBtYXJnaW4tYm90dG9tOjE1cHg7IGJhY2tncm91bmQ6I2Y3ZmFmZiI7CiAgICBjaGFwdGVyRGl2LmlkID0gImNoYXB0ZXItIiArIGNoYXB0ZXJJZDsKICAgIGNoYXB0ZXJEaXYuaW5uZXJIVE1MID0gYAogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICA8bGFiZWw+2LnZhtmI2KfZhiDYp9mE2YHYtdmEPC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgY2hhcHRlci10aXRsZSIgcmVxdWlyZWQ+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgIDxsYWJlbD7Yr9ix2YjYsyDYp9mE2YHYtdmEPC9sYWJlbD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibGVzc29uc0NvbnRhaW5lciI+PC9kaXY+CiAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIGFkZExlc3NvbkJ0biIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsiPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2K/YsdizCiAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgcmVtb3ZlLWNoYXB0ZXItYnRuIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4OyI+2K3YsNmBINin2YTZgdi12YQ8L2J1dHRvbj4KICAgIGA7CiAgICBjaGFwdGVyc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjaGFwdGVyRGl2KTsKCiAgICAvLyDYpdi22KfZgdipINiv2LHYsyDYr9in2K7ZhCDYp9mE2YHYtdmECiAgICBjaGFwdGVyRGl2LnF1ZXJ5U2VsZWN0b3IoIi5hZGRMZXNzb25CdG4iKS5vbmNsaWNrID0gKCkgPT4gewogICAgICAgIGNvbnN0IGxlc3NvbnNDb250YWluZXIgPSBjaGFwdGVyRGl2LnF1ZXJ5U2VsZWN0b3IoIi5sZXNzb25zQ29udGFpbmVyIik7CiAgICAgICAgY29uc3QgbGVzc29uSWQgPSBEYXRlLm5vdygpOwogICAgICAgIGNvbnN0IGxlc3NvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIGxlc3NvbkRpdi5jbGFzc05hbWUgPSAibGVzc29uLWl0ZW0iOwogICAgICAgIGxlc3NvbkRpdi5zdHlsZSA9ICJib3JkZXI6MXB4IHNvbGlkICNlZWU7IGJvcmRlci1yYWRpdXM6OHB4OyBwYWRkaW5nOjEycHg7IG1hcmdpbi1ib3R0b206MTBweDsgYmFja2dyb3VuZDojZjlmOWY5IjsKICAgICAgICBsZXNzb25EaXYuaWQgPSAibGVzc29uLSIgKyBsZXNzb25JZDsKICAgLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpsZXNzb25EaXYuaW5uZXJIVE1MID0gYAogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPti52YbZiNin2YYg2KfZhNiv2LHYszwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgbGVzc29uLXRpdGxlIiByZXF1aXJlZD4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPtix2KfYqNi3INmB2YrYr9mK2Ygg2KfZhNiv2LHYsyAo2YrZiNiq2YrZiNioINij2YggbXA0KTwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgbGVzc29uLXZpZGVvIiBwbGFjZWhvbGRlcj0i2LHYp9io2Lcg2YHZitiv2YrZiCDYp9mE2K/YsdizIj4KICAgIDwvZGl2PgogICAgPCEtLSDYo9i22YEg2YfYsNinINin2YTYrdmC2YQg2K/Yp9iu2YQgbGVzc29uRGl2INmB2Yog2YPZhCDYr9ix2LMgLS0+CjxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgPGxhYmVsPtmD2YTZhdipINiz2LEg2KfZhNmB2YrYr9mK2YggKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBsZXNzb24tcGFzc3dvcmQiIHBsYWNlaG9sZGVyPSLYp9iq2LHZg9mHINmB2KfYsdi62KfZiyDYpdiw2Kcg2YTZhSDYqtix2LrYqCDYqNmD2YTZhdipINiz2LEiPgo8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbD7Ysdin2KjYtyDYqtit2YXZitmEINmF2YTZgSDYp9mE2K/YsdizICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGxlc3Nvbi1kb3dubG9hZCIgcGxhY2Vob2xkZXI9Itix2KfYqNi3INiq2K3ZhdmK2YQg2YXYqNin2LTYsSDZhNmE2YXZhNmBICjYp9iu2KrZitin2LHZiikiPgogICAgPC9kaXY+CiAgICAKICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgcmVtb3ZlLWxlc3Nvbi1idG4iPtit2LDZgSDYp9mE2K/YsdizPC9idXR0b24+CmA7Ci8vINio2LnYryDYpdmG2LTYp9ihIGxlc3NvbkRpdgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgogICAgICAgIGxlc3NvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQobGVzc29uRGl2KTsKCiAgICAgICAgbGVzc29uRGl2LnF1ZXJ5U2VsZWN0b3IoIi5yZW1vdmUtbGVzc29uLWJ0biIpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICAgIGxlc3NvbkRpdi5yZW1vdmUoKTsKICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgZW5hYmxlRmlsZVVwbG9hZE9uSW5wdXRzKCk7IH0gY2F0Y2ggKGVycikgeyBjb25zb2xlLmVycm9yKCdlbmFibGVGaWxlVXBsb2FkT25JbnB1dHMgZXJyb3InLCBlcnIpOyB9CgogICAgfTsKCiAgICAvLyDYstixINit2LDZgSDYp9mE2YHYtdmECiAgICBjaGFwdGVyRGl2LnF1ZXJ5U2VsZWN0b3IoIi5yZW1vdmUtY2hhcHRlci1idG4iKS5vbmNsaWNrID0gKCkgPT4gewogICAgICAgIGNoYXB0ZXJEaXYucmVtb3ZlKCk7CiAgICB9Owp9KTsKCgovLyDYudiv2YQg2K/Yp9mE2Kkgc3RhcnRFeGFtINmE2YrYqtmFINin2YTYqtit2YLZgiDZhdmGINin2YTZiNmC2Kog2KfZhNiv2YjZhNmKINmC2KjZhCDYp9mE2LPZhdin2K0g2KjYp9mE2K/YrtmI2YQg2YTZhNin2K7Yqtio2KfYsQovLyDYr9in2YTYqSDZhNi52LHYtiDYsdiz2KfZhNipINis2YXZitmE2Kkg2KPYudmE2Ykg2KfZhNi12YHYrdipCmZ1bmN0aW9uIHNob3dFeGFtVGltZU5vdGljZShtZXNzYWdlLCB0eXBlID0gImVycm9yIikgewogICAgLy8g2KXYsNinINmD2KfZhtiqINin2YTYsdiz2KfZhNipINmF2YjYrNmI2K/YqSDZhdiz2KjZgtin2YvYjCDYp9it2LDZgdmH2KcKICAgIGNvbnN0IG9sZE5vdGljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtVGltZU5vdGljZSIpOwogICAgaWYgKG9sZE5vdGljZSkgb2xkTm90aWNlLnJlbW92ZSgpOwoKICAgIGNvbnN0IG5vdGljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbm90aWNlLmlkID0gImV4YW1UaW1lTm90aWNlIjsKICAgIG5vdGljZS5jbGFzc05hbWUgPSBgbm90aWNlIG5vdGljZS0ke3R5cGV9YDsKICAgIG5vdGljZS5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgICBub3RpY2Uuc3R5bGUudG9wID0gIjMwcHgiOwogICAgbm90aWNlLnN0eWxlLnJpZ2h0ID0gIjMwcHgiOwogICAgbm90aWNlLnN0eWxlLnpJbmRleCA9ICIyMDAwIjsKICAgIG5vdGljZS5zdHlsZS5iYWNrZ3JvdW5kID0gdHlwZSA9PT0gImVycm9yIiA/ICIjRkM1QzY1IiA6ICIjMTRlZTg4IjsKICAgIG5vdGljZS5zdHlsZS5jb2xvciA9ICIjZmZmIjsKICAgIG5vdGljZS5zdHlsZS5wYWRkaW5nID0gIjE4cHggMzBweCI7CiAgICBub3RpY2Uuc3R5bGUuYm9yZGVyUmFkaXVzID0gIjEwcHgiOwogICAgbm90aWNlLnN0eWxlLmZvbnRTaXplID0gIjEuMnJlbSI7CiAgICBub3RpY2Uuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKICAgIG5vdGljZS5zdHlsZS5ib3hTaGFkb3cgPSAiMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMTIpIjsKICAgIG5vdGljZS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgbm90aWNlLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKICAgIG5vdGljZS5zdHlsZS5nYXAgPSAiMTJweCI7CiAgICBub3RpY2UuaW5uZXJIVE1MID0gYAogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZXhjbGFtYXRpb24tdHJpYW5nbGUiIHN0eWxlPSJmb250LXNpemU6MS41cmVtOyI+PC9pPgogICAgICAgIDxzcGFuPiR7bWVzc2FnZX08L3NwYW4+CiAgICAgICAgPGJ1dHRvbiBzdHlsZT0iYmFja2dyb3VuZDpub25lO2JvcmRlcjpub25lO2NvbG9yOiNmZmY7Zm9udC1zaXplOjEuNXJlbTtjdXJzb3I6cG9pbnRlcjttYXJnaW4tcmlnaHQ6MTBweDsiIG9uY2xpY2s9InRoaXMucGFyZW50RWxlbWVudC5yZW1vdmUoKSI+JnRpbWVzOzwvYnV0dG9uPgogICAgYDsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm90aWNlKTsKCiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBpZiAobm90aWNlLnBhcmVudEVsZW1lbnQpIG5vdGljZS5yZW1vdmUoKTsKICAgIH0sIDQwMDApOwp9CgovLyDYudiv2YQg2K/Yp9mE2Kkgc3RhcnRFeGFtOgovLyDYudiv2YQg2K/Yp9mE2Kkgc3RhcnRFeGFtINmE2YrZg9mI2YYg2YXZhti02KYg2KfZhNin2K7Yqtio2KfYsSAodXNlcklkKSDZhNmHINin2YTYrdmCINmB2Yog2KPYr9in2KEg2KfZhNin2YXYqtit2KfZhiDYr9in2KbZhdin2YsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgphc3luYyBmdW5jdGlvbiBzdGFydEV4YW0oZXhhbSwgZXhhbUlkKSB7CiAgICAvLyDYp9mE2KrYrdmD2YUg2YHZiiDYp9mE2K/YrtmI2YQg2LnYqNixINiy2LEgItiq2K3Yr9mK2K8g2KfZhNi12YTYp9it2YrYp9iqIiDZgdmC2Lcg2YjZhNmK2LMgYWxsb3dlZFN0dWRlbnRzCiAgICBsZXQgaXNBbGxvd2VkID0gZmFsc2U7CgogICAgLy8g2YXZhti02KYg2KfZhNin2YXYqtit2KfZhiDZitmF2YPZhtmHINin2YTYr9iu2YjZhCDYr9in2KbZhdin2YsKICAgIGNvbnN0IGlzT3duZXIgPSBjdXJyZW50VXNlciAmJiBleGFtLnVzZXJJZCA9PT0gY3VycmVudFVzZXIudWlkOwoKICAgIC8vINil2LDYpyDZg9in2YYg2YfZhtin2YMg2YLYp9im2YXYqSBhbGxvd2VkU3R1ZGVudHMgKNmC2KfYptmF2Kkg2KfZhNi32YTYp9ioINin2YTZhdiz2YXZiNitINmE2YfZhSDYqNix2KTZitipINin2YTYp9mF2KrYrdin2YYpCiAgICBpZiAoQXJyYXkuaXNBcnJheShleGFtLmFsbG93ZWRTdHVkZW50cykgJiYgZXhhbS5hbGxvd2VkU3R1ZGVudHMubGVuZ3RoID4gMCkgewogICAgICAgIC8vINmB2YLYtyDZhdmGINmB2Yog2KfZhNmC2KfYptmF2Kkg2KPZiCDZhdmG2LTYpiDYp9mE2KfZhdiq2K3Yp9mGCiAgICAgICAgaXNBbGxvd2VkID0gKGN1cnJlbnRVc2VyICYmIGV4YW0uYWxsb3dlZFN0dWRlbnRzLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnVpZCkpIHx8IGlzT3duZXI7CiAgICB9IGVsc2UgewogICAgICAgIC8vINil2LDYpyDZhNmFINmK2KrZhSDYqtit2K/ZitivIGFsbG93ZWRTdHVkZW50cyDYo9mIINmD2KfZhtiqINmB2KfYsdi62Kk6CiAgICAgICAgLy8g2KfZhNiz2YXYp9itINmB2YLYtyDZhNmF2YYg2YTYr9mK2Ycg2KfZhNin2YXYqtit2KfZhiDZgdmKIGFsbG93ZWRFeGFtcyDYo9mIINmF2YbYtNimINin2YTYp9mF2KrYrdin2YYKICAgICAgICBpc0FsbG93ZWQgPSAoY3VycmVudFVzZXJEYXRhPy5hbGxvd2VkRXhhbXMgJiYgY3VycmVudFVzZXJEYXRhLmFsbG93ZWRFeGFtcy5pbmNsdWRlcyhleGFtSWQpKSB8fCBpc093bmVyOwogICAgfQoKaWYgKCFpc0FsbG93ZWQpIHsKICAgIHNob3dBY2Nlc3NEZW5pZWRNb2RhbCgpOwogICAgcmV0dXJuOwp9CgogICAgLy8g2KrYrdmC2YIg2YXZhiDYp9mE2YjZgtiqINin2YTYr9mI2YTZigogICAgaWYgKGV4YW0uc3RhcnRUaW1lICYmIGV4YW0uZW5kVGltZSkgewogICAgICAgIGNvbnN0IG5vd1VUQyA9IERhdGUubm93KCk7CiAgICAgICAgY29uc3Qgc3RhcnRVVEMgPSBuZXcgRGF0ZShleGFtLnN0YXJ0VGltZSkuZ2V0VGltZSgpOwogICAgICAgIGNvbnN0IGVuZFVUQyA9IG5ldyBEYXRlKGV4YW0uZW5kVGltZSkuZ2V0VGltZSgpOwoKICAgICAgICBpZiAobm93VVRDIDwgc3RhcnRVVEMpIHsKICAgICAgICAgICAgc2hvd0V4YW1UaW1lTm90aWNlKCLZhNmFINmK2KjYr9ijINmI2YLYqiDYp9mE2KfZhdiq2K3Yp9mGINio2LnYry4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAobm93VVRDID4gZW5kVVRDKSB7CiAgICAgICAgICAgIHNob3dFeGFtVGltZU5vdGljZSgi2KfZhtiq2YfZiSDZiNmC2Kog2KfZhNin2YXYqtit2KfZhi4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgIH0KCiAgICAvLyDYr9i52YUg2KfYs9iq2YPZhdin2YQg2KfZhNis2YTYs9ipINio2LnYryByZWxvYWQg2YXYuSDZhtin2YHYsNipINmF2YbYqNir2YLYqSDYrNmF2YrZhNipCiAgICBsZXQgc2Vzc2lvbkRhdGEgPSBudWxsOwogICAgdHJ5IHsKICAgICAgICBzZXNzaW9uRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImV4YW1TZXNzaW9uIikpOwogICAgfSBjYXRjaCB7fQogICAgaWYgKAogICAgICAgIHNlc3Npb25EYXRhICYmCiAgICAgICAgc2Vzc2lvbkRhdGEuZXhhbUlkID09PSBleGFtSWQgJiYKICAgICAgICBzZXNzaW9uRGF0YS51c2VyQW5zd2VycyAmJgogICAgICAgIHR5cGVvZiBzZXNzaW9uRGF0YS5jdXJyZW50UXVlc3Rpb25JbmRleCA9PT0gIm51bWJlciIKICAgICkgewogICAgICAgIHNob3dSZXN1bWVFeGFtTW9kYWwoCiAgICAgICAgICAgIC8vINin2LPYqtmD2YXYp9mECiAgICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgICAgIHVzZXJBbnN3ZXJzID0gc2Vzc2lvbkRhdGEudXNlckFuc3dlcnM7CiAgICAgICAgICAgICAgICBjdXJyZW50UXVlc3Rpb25JbmRleCA9IHNlc3Npb25EYXRhLmN1cnJlbnRRdWVzdGlvbkluZGV4OwogICAgICAgICAgICAgICAgdGltZUxlZnQgPSB0eXBlb2Ygc2Vzc2lvbkRhdGEudGltZUxlZnQgPT09ICJudW1iZXIiID8gc2Vzc2lvbkRhdGEudGltZUxlZnQgOiAoZXhhbS5kdXJhdGlvbiAqIDYwKTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlU3RhcnRFeGFtKCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vINio2K/YoSDZhdmGINis2K/ZitivCiAgICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgICAgIHVzZXJBbnN3ZXJzID0ge307CiAgICAgICAgICAgICAgICBjdXJyZW50UXVlc3Rpb25JbmRleCA9IDA7CiAgICAgICAgICAgICAgICB0aW1lTGVmdCA9IGV4YW0uZHVyYXRpb24gKiA2MDsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJleGFtU2Vzc2lvbiIpOwogICAgICAgICAgICAgICAgY29udGludWVTdGFydEV4YW0oKTsKICAgICAgICAgICAgfQogICAgICAgICk7CiAgICAgICAgcmV0dXJuOyAvLyDYp9mG2KrYuNixINin2K7YqtmK2KfYsSDYp9mE2YXYs9iq2K7Yr9mFCiAgICB9IGVsc2UgewogICAgICAgIHVzZXJBbnN3ZXJzID0ge307CiAgICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXggPSAwOwogICAgICAgIHRpbWVMZWZ0ID0gZXhhbS5kdXJhdGlvbiAqIDYwOwogICAgfQoKICAgIGNvbnRpbnVlU3RhcnRFeGFtKCk7CgogICAgLy8g2K/Yp9mE2Kkg2K/Yp9iu2YTZitipINmE2KrYtNi62YrZhCDYp9mE2KfZhdiq2K3Yp9mGINio2LnYryDYp9iu2KrZitin2LEg2KfZhNmF2LPYqtiu2K/ZhQogICAgZnVuY3Rpb24gY29udGludWVTdGFydEV4YW0oKSB7CiAgICAgICAgY3VycmVudEV4YW0gPSB7CiAgICAgICAgICAgIC4uLmV4YW0sCiAgICAgICAgICAgICdpZCc6IGV4YW1JZAogICAgICAgIH07CiAgICAgICAgdXBkYXRlVGltZXJEaXNwbGF5KCk7CiAgICAgICAgaWYgKHRpbWVySW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwodGltZXJJbnRlcnZhbCk7CiAgICAgICAgdGltZXJJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICAgICAgdGltZUxlZnQtLTsKICAgICAgICAgICAgdXBkYXRlVGltZXJEaXNwbGF5KCk7CiAgICAgICAgICAgIHNhdmVFeGFtU2Vzc2lvbigpOyAvLyDYrdmB2Lgg2KfZhNis2YTYs9ipINmD2YQg2KvYp9mG2YrYqQogICAgICAgICAgICBpZiAodGltZUxlZnQgPD0gMCkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lckludGVydmFsKTsKICAgICAgICAgICAgICAgIGZpbmFsaXplRXhhbVN1Ym1pc3Npb24oKTsKICAgICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOwogICAgICAgIGxvYWRRdWVzdGlvbihjdXJyZW50UXVlc3Rpb25JbmRleCk7CgogICAgICAgIC8vINiq2YHYudmK2YQg2KPYstix2KfYsSDYp9mE2KrYp9mE2Yov2KfZhNiz2KfYqNmCL9in2YbZh9in2KEg2LnZhtivINin2LPYqtmD2YXYp9mEINin2YTYrNmE2LPYqQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2UXVlc3Rpb25CdG4iKS5kaXNhYmxlZCA9IGN1cnJlbnRRdWVzdGlvbkluZGV4ID09PSAwOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXh0UXVlc3Rpb25CdG4iKS5kaXNhYmxlZCA9IGN1cnJlbnRRdWVzdGlvbkluZGV4ID09PSBjdXJyZW50RXhhbS5xdWVzdGlvbnMubGVuZ3RoIC0gMTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmV4dFF1ZXN0aW9uQnRuIikuc3R5bGUuZGlzcGxheSA9IGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5sZW5ndGggPD0gMSA/ICJub25lIiA6ICJpbmxpbmUtYmxvY2siOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2UXVlc3Rpb25CdG4iKS5zdHlsZS5kaXNwbGF5ID0gY3VycmVudEV4YW0ucXVlc3Rpb25zLmxlbmd0aCA8PSAxID8gIm5vbmUiIDogImlubGluZS1ibG9jayI7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1Ym1pdEV4YW1CdG4iKS5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CgogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtVmlld1RpdGxlIikudGV4dENvbnRlbnQgPSBleGFtLnRpdGxlOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkNvdW50IikudGV4dENvbnRlbnQgPSBleGFtLnF1ZXN0aW9ucy5sZW5ndGg7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvdGFsTWFya3MiKS50ZXh0Q29udGVudCA9IGV4YW0udG90YWxNYXJrcyB8fCAxMDA7CiAgICAgICAgc2hvd1BhZ2UodGFrZUV4YW1QYWdlKTsKICAgIH0KfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYstixINmC2YHZhCDZg9mEINin2YTYt9mE2KfYqApkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9ja0FsbFN0dWRlbnRzQnRuIikub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uKCkgewogIGlmICghY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2YLZgdmEINis2YXZiti5INin2YTYt9mE2KfYqNifIikpIHJldHVybjsKICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oInVzZXJzIikud2hlcmUoInJvbGUiLCAiPT0iLCAic3R1ZGVudCIpLmdldCgpOwogIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgc2hvd1RvYXN0KCLZhNinINmK2YjYrNivINi32YTYp9ioINmE2YLZgdmE2YfZhS4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgIGRiLmNvbGxlY3Rpb24oInN0dWRlbnRMb2NrcyIpLmRvYyhkb2MuaWQpLnNldCh7CiAgICAgIGxvY2tlZDogdHJ1ZSwKICAgICAgbWVzc2FnZTogItmK2KrZhSDYsdmB2Lkg2KfZhdiq2K3Yp9mGINin2YbYqti42LEg2YLZhNmK2YTYp9mLIiwKICAgICAgY3JlYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogICAgfSk7CiAgfSk7CiAgc2hvd1RvYXN0KCLYqtmFINmC2YHZhCDYrNmF2YrYuSDYp9mE2LfZhNin2Kgg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwp9OwoKLy8g2LLYsSDYpdmE2LrYp9ihINmC2YHZhCDZg9mEINin2YTYt9mE2KfYqApkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidW5sb2NrQWxsU3R1ZGVudHNCdG4iKS5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24oKSB7CiAgaWYgKCFjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYpdmE2LrYp9ihINmC2YHZhCDYrNmF2YrYuSDYp9mE2LfZhNin2KjYnyIpKSByZXR1cm47CiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLndoZXJlKCJyb2xlIiwgIj09IiwgInN0dWRlbnQiKS5nZXQoKTsKICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgIHNob3dUb2FzdCgi2YTYpyDZitmI2KzYryDYt9mE2KfYqCDZhNil2YTYutin2KEg2KfZhNmC2YHZhCDYudmG2YfZhS4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgIGRiLmNvbGxlY3Rpb24oInN0dWRlbnRMb2NrcyIpLmRvYyhkb2MuaWQpLmRlbGV0ZSgpOwogIH0pOwogIHNob3dUb2FzdCgi2KrZhSDYpdmE2LrYp9ihINmC2YHZhCDYrNmF2YrYuSDYp9mE2LfZhNin2Kgg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwp9OwovLyDYudmG2K8g2KfZhtiq2YfYp9ihINin2YTZiNmC2Kog2KfZhNmF2KrYqNmC2Yog2YrYqtmFINiq2LPZhNmK2YUg2KfZhNin2K7Yqtio2KfYsSDYqtmE2YLYp9im2YrYp9mLINit2KrZiSDZhNmIINmE2YUg2YrYqtmFINit2YQg2KPZiiDYs9ik2KfZhAovLyDYudiv2YQg2K/Yp9mE2Kkgc3RhcnRFeGFtINmE2YrYqtmFINiq2YHYudmK2YQg2KPYstix2KfYsSDYp9mE2KrYp9mE2Yov2KfZhNiz2KfYqNmCL9in2YbZh9in2KEg2LnZhtivINin2LPYqtmD2YXYp9mEINin2YTYrNmE2LPYqQovLyAuLi5leGlzdGluZyBjb2RlLi4uCgpmdW5jdGlvbiBzaG93UmVzdW1lRXhhbU1vZGFsKG9uQ29udGludWUsIG9uUmVzdGFydCkgewogICAgbGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlc3VtZUV4YW1Nb2RhbCIpOwogICAgaWYgKCFtb2RhbCkgewogICAgICAgIG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgbW9kYWwuaWQgPSAicmVzdW1lRXhhbU1vZGFsIjsKICAgICAgICBtb2RhbC5jbGFzc05hbWUgPSAibW9kYWwiOwogICAgICAgIG1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9Im1vZGFsLXRpdGxlIiBzdHlsZT0iY29sb3I6IzBhNzBmZjsiPtin2LPYqtmD2YXYp9mEINin2YTYp9mF2KrYrdin2YY8L2gyPgogICAgICAgICAgICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiIHN0eWxlPSJmb250LXNpemU6MS4xcmVtOyI+CiAgICAgICAgICAgICAgICAgICAg2YTYr9mK2YMg2KfZhdiq2K3Yp9mGINmE2YUg2YrZhtiq2YfZkCDYqNi52K8uPGJyPgogICAgICAgICAgICAgICAgICAgINmH2YQg2KrYsdmK2K8gPGI+2KfYs9iq2YPZhdin2YQg2KfZhNin2YXYqtit2KfZhjwvYj4g2YXZhiDYrdmK2Ksg2KrZiNmC2YHYqiDYo9mFIDxiPtin2YTYqNiv2KEg2YXZhiDYrNiv2YrYrzwvYj7YnwogICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyIgc3R5bGU9ImRpc3BsYXk6ZmxleDtnYXA6MTBweDsiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InJlc3VtZUV4YW1CdG4iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIHN0eWxlPSJmbGV4OjE7Ij7Yp9iz2KrZg9mF2KfZhDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9InJlc3RhcnRFeGFtQnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIHN0eWxlPSJmbGV4OjE7Ij7YqNiv2KEg2YXZhiDYrNiv2YrYrzwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIGA7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CiAgICB9CiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwoKICAgIC8vINiq2K3ZgtmCINmF2YYg2KfZhNmI2YLYqiDYp9mE2YXYqtio2YLZiiDZgtio2YQg2KfZhNiz2YXYp9itINio2KfZhNin2LPYqtmD2YXYp9mECiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVzdW1lRXhhbUJ0biIpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgLy8g2KzZhNioINio2YrYp9mG2KfYqiDYp9mE2KzZhNiz2Kkg2YXZhiBsb2NhbFN0b3JhZ2UKICAgICAgICBsZXQgc2Vzc2lvbkRhdGEgPSBudWxsOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIHNlc3Npb25EYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZXhhbVNlc3Npb24iKSk7CiAgICAgICAgfSBjYXRjaCB7fQogICAgICAgIC8vINil2LDYpyDYp9mG2KrZh9mJINin2YTZiNmC2Kog2YTYpyDYqtiz2YXYrSDYqNin2YTYp9iz2KrZg9mF2KfZhAogICAgICAgIGlmIChzZXNzaW9uRGF0YSAmJiB0eXBlb2Ygc2Vzc2lvbkRhdGEudGltZUxlZnQgPT09ICJudW1iZXIiICYmIHNlc3Npb25EYXRhLnRpbWVMZWZ0IDw9IDApIHsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgc2hvd0V4YW1UaW1lTm90aWNlKCLYp9mG2KrZh9mJINmI2YLYqiDYp9mE2KfZhdiq2K3Yp9mGINmI2YTYpyDZitmF2YPZhtmDINin2LPYqtmD2YXYp9mE2YcuIiwgImVycm9yIik7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJleGFtU2Vzc2lvbiIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgb25Db250aW51ZSgpOwogICAgfTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXN0YXJ0RXhhbUJ0biIpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBvblJlc3RhcnQoKTsKICAgIH07Cn0KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KbGV0IHF1ZXN0aW9uQmFua1BhZ2UgPSAxOwpsZXQgcXVlc3Rpb25CYW5rQWxsRG9jcyA9IFtdOwpsZXQgcXVlc3Rpb25CYW5rVG90YWxQYWdlcyA9IDE7CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINiv2KfZhNipINit2LDZgSDYrNmF2YrYuSDZhtiq2KfYptisINin2K7Yqtio2LEg2YbZgdiz2YMKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGV0ZUFsbFNlbGZUZXN0UmVzdWx0c0J0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgYXN5bmMgZnVuY3Rpb24gKCkgewogICAgaWYgKCFjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYrdiw2YEg2KzZhdmK2Lkg2YbYqtin2KbYrCDYp9iu2KrYqNixINmG2YHYs9mD2J8g2YTYpyDZitmF2YPZhiDYp9mE2KrYsdin2KzYuSDYudmGINmH2LDYpyDYp9mE2KXYrNix2KfYoS4iKSkgewogICAgICAgIHJldHVybjsKICAgIH0KICAgIGxldCBxdWVyeSA9IGRiLmNvbGxlY3Rpb24oInNlbGZUZXN0UmVzdWx0cyIpOwogICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2LfYp9mE2KjYjCDYp9it2LDZgSDZhtiq2KfYptis2Ycg2YHZgti3CiAgICBpZiAodXNlclJvbGUgIT09ICJ0ZWFjaGVyIikgewogICAgICAgIHF1ZXJ5ID0gcXVlcnkud2hlcmUoInVzZXJJZCIsICI9PSIsIGN1cnJlbnRVc2VyLnVpZCk7CiAgICB9CiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHF1ZXJ5LmdldCgpOwogICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgICAgYWxlcnQoItmE2Kcg2KrZiNis2K8g2YbYqtin2KbYrCDZhNit2LDZgdmH2KcuIik7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gYmF0Y2guZGVsZXRlKGRvYy5yZWYpKTsKICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpOwogICAgYWxlcnQoItiq2YUg2K3YsNmBINis2YXZiti5INin2YTZhtiq2KfYptisINio2YbYrNin2K0hIik7CiAgICBsb2FkU2VsZlRlc3RSZXN1bHRzKCk7Cn0pOwpmdW5jdGlvbiBzYXZlRXhhbVNlc3Npb24oKSB7CiAgICBpZiAoIWN1cnJlbnRFeGFtKSByZXR1cm47CiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IHsKICAgICAgICBleGFtSWQ6IGN1cnJlbnRFeGFtLmlkLAogICAgICAgIHVzZXJBbnN3ZXJzLAogICAgICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4LAogICAgICAgIHRpbWVMZWZ0CiAgICB9OwogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImV4YW1TZXNzaW9uIiwgSlNPTi5zdHJpbmdpZnkoc2Vzc2lvbkRhdGEpKTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCgpmdW5jdGlvbiB1cGRhdGVQcm9ncmVzc0JhcigpIHsKICAgIGNvbnN0IHByb2dyZXNzQmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2dyZXNzQmFyIik7CiAgICBjb25zdCBwcm9ncmVzc1BlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKCgoY3VycmVudFF1ZXN0aW9uSW5kZXggKyAxKSAvIGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5sZW5ndGgpICogMTAwKTsKICAgIHByb2dyZXNzQmFyLnN0eWxlLndpZHRoID0gcHJvZ3Jlc3NQZXJjZW50YWdlICsgIiUiOwogICAgcHJvZ3Jlc3NCYXIudGV4dENvbnRlbnQgPSBwcm9ncmVzc1BlcmNlbnRhZ2UgKyAiJSI7IC8vINiq2K3Yr9mK2Ksg2KfZhNmG2LUg2K/Yp9iu2YQg2LTYsdmK2Lcg2KfZhNiq2YLYr9mFCn0KCi8vINi22Lkg2YfYsNinINin2YTZg9mI2K8g2YHZiiDZhdmE2YEgPHNjcmlwdD4g2YHZiiDYotiu2LEg2KfZhNi12YHYrdipINij2Ygg2KjYudivINiq2K3ZhdmK2YQg2KfZhNi12YHYrdipINmF2KjYp9i02LHYqQovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYtti5INmH2LDYpyDYp9mE2YPZiNivINmB2Yog2YXZhNmBIDxzY3JpcHQ+INio2LnYryDYqti52LHZitmBIGRiINmIcXVlc3Rpb25CYW5rQ2F0ZWdvcnlTZWxlY3QKCi8vINiv2KfZhNipINil2LjZh9in2LEg2YbYp9mB2LDYqSDYp9iu2KrZitin2LEg2KfZhNmB2KbYqSDYp9mE2YfYr9mBCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINin2LPYqtio2K/ZhCDYr9in2YTYqSBzaG93Q2F0ZWdvcnlTZWxlY3RNb2RhbCDYqNmH2LDYpyDYp9mE2YPZiNivINmE2YrYqtmFINi52LHYtiDYp9mE2YHYptin2Kog2KjYtNmD2YQg2LTYrNix2Yog2YjZhdix2KrYqCAo2KjYr9mI2YYg2KrZg9ix2KfYsSDZiNio2K/ZiNmGINmF2LTYp9mD2YQg2KfZhNiq2LHYqtmK2KgpCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgphc3luYyBmdW5jdGlvbiBzaG93Q2F0ZWdvcnlTZWxlY3RNb2RhbChhY3Rpb24sIG9uQ29uZmlybSkgewogIHRyeSB7CiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQ2F0ZWdvcmllcyIpLm9yZGVyQnkoIm5hbWUiKS5nZXQoKTsKICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7fTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY2F0ZWdvcmllc1tkb2MuaWRdID0geyAuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkLCBjaGlsZHJlbjogW10gfTsKICAgIH0pOwogICAgT2JqZWN0LnZhbHVlcyhjYXRlZ29yaWVzKS5mb3JFYWNoKGNhdCA9PiB7CiAgICAgIGlmIChjYXQucGFyZW50SWQgJiYgY2F0ZWdvcmllc1tjYXQucGFyZW50SWRdKSBjYXRlZ29yaWVzW2NhdC5wYXJlbnRJZF0uY2hpbGRyZW4ucHVzaChjYXQpOwogICAgfSk7CiAgICBjb25zdCByb290cyA9IE9iamVjdC52YWx1ZXMoY2F0ZWdvcmllcykuZmlsdGVyKGNhdCA9PiAhY2F0LnBhcmVudElkKTsKCiAgICAvLyDYrNmE2Kgg2LnYr9ivINin2YTYo9iz2KbZhNipINmE2YPZhCDZgdim2KkgKNmK2KzYqCDYo9mGINmK2YPZiNmGINmF2YjYrNmI2K/Yp9mLINmC2KjZhCByZW5kZXJPcHRpb25zKQogICAgY29uc3QgcXVlc3Rpb25zU25hcHNob3QgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS5nZXQoKTsKICAgIGNvbnN0IGNvdW50cyA9IHt9OwogICAgcXVlc3Rpb25zU25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCBxID0gZG9jLmRhdGEoKSB8fCB7fTsKICAgICAgaWYgKHEuY2F0ZWdvcnlJZCkgY291bnRzW3EuY2F0ZWdvcnlJZF0gPSAoY291bnRzW3EuY2F0ZWdvcnlJZF0gfHwgMCkgKyAxOwogICAgfSk7CgogICAgZnVuY3Rpb24gcmVuZGVyT3B0aW9ucyhjYXRzLCBwcmVmaXggPSAiIikgewogICAgICByZXR1cm4gY2F0cy5tYXAoY2F0ID0+IHsKICAgICAgICBjb25zdCBjbnQgPSBjb3VudHNbY2F0LmlkXSB8fCAwOwogICAgICAgIGNvbnN0IGxhYmVsID0gYCR7cHJlZml4fSR7Y2F0Lm5hbWV9JHtjbnQgPyBgICgke2NudH0pYCA6ICIifWA7CiAgICAgICAgbGV0IGh0bWwgPSBgPG9wdGlvbiB2YWx1ZT0iJHtjYXQuaWR9Ij4ke2xhYmVsfTwvb3B0aW9uPmA7CiAgICAgICAgaWYgKGNhdC5jaGlsZHJlbiAmJiBjYXQuY2hpbGRyZW4ubGVuZ3RoKSBodG1sICs9IHJlbmRlck9wdGlvbnMoY2F0LmNoaWxkcmVuLCBwcmVmaXggKyAi4oCUICIpOwogICAgICAgIHJldHVybiBodG1sOwogICAgICB9KS5qb2luKCcnKTsKICAgIH0KCiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbW9kYWwuY2xhc3NOYW1lID0gIm1vZGFsIjsKICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6NDAwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij4KICAgICAgICA8aDMgY2xhc3M9Im1vZGFsLXRpdGxlIj4ke2FjdGlvbiA9PT0gImNvcHkiID8gItmG2LPYriIgOiAi2YbZgtmEIn0g2KfZhNij2LPYptmE2Kkg2KXZhNmJINmB2KbYqSDYo9iu2LHZiTwvaDM+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgc3R5bGU9Im1hcmdpbi1ib3R0b206MThweDsiPgogICAgICAgICAgPGxhYmVsPtin2K7YqtixINin2YTZgdim2Kkg2KfZhNmH2K/ZgTo8L2xhYmVsPgogICAgICAgICAgPHNlbGVjdCBpZD0idGFyZ2V0Q2F0ZWdvcnlTZWxlY3QiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtio2K/ZiNmGINmB2KbYqSDYsdim2YrYs9mK2Kk8L29wdGlvbj4KICAgICAgICAgICAgJHtyZW5kZXJPcHRpb25zKHJvb3RzKX0KICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlybUNhdGVnb3J5U2VsZWN0QnRuIiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIj4ke2FjdGlvbiA9PT0gImNvcHkiID8gItmG2LPYriIgOiAi2YbZgtmEIn08L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gaWQ9ImNhbmNlbENhdGVnb3J5U2VsZWN0QnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICBgOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbmZpcm1DYXRlZ29yeVNlbGVjdEJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IHRhcmdldENhdGVnb3J5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFyZ2V0Q2F0ZWdvcnlTZWxlY3QiKS52YWx1ZTsKICAgICAgaWYgKCF0YXJnZXRDYXRlZ29yeUlkKSB7CiAgICAgICAgYWxlcnQoItmK2LHYrNmJINin2K7YqtmK2KfYsSDYp9mE2YHYptipINin2YTZh9iv2YEuIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIG1vZGFsLnJlbW92ZSgpOwogICAgICBvbkNvbmZpcm0odGFyZ2V0Q2F0ZWdvcnlJZCk7CiAgICB9OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbENhdGVnb3J5U2VsZWN0QnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICB9OwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCJzaG93Q2F0ZWdvcnlTZWxlY3RNb2RhbCBlcnJvcjoiLCBlcnJvcik7CiAgICBzaG93VG9hc3QoItit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTZgdim2KfYqjogIiArIChlcnJvci5tZXNzYWdlIHx8IGVycm9yKSwgImVycm9yIik7CiAgfQp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYstixINmG2LPYriDYp9mE2KPYs9im2YTYqQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29weVF1ZXN0aW9uc0J0biIpLm9uY2xpY2sgPSBhc3luYyBmdW5jdGlvbiAoKSB7CiAgY29uc3QgY2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpLnZhbHVlOwogIGlmICghY2F0ZWdvcnlJZCkgewogICAgc2hvd1RvYXN0KCLYp9iu2KrYsSDZgdim2Kkg2KPZiNmE2KfZiyEiLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgLy8g2KzZhNioINin2YTYo9iz2KbZhNipINin2YTZhdit2K/Yr9ipINij2Ygg2YPZhCDYp9mE2KPYs9im2YTYqSDZgdmKINin2YTZgdim2KkKICBjb25zdCBjaGVja2VkID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuaW1wb3J0LXF1ZXN0aW9uLWNoZWNrYm94OmNoZWNrZWQiKSkubWFwKGNiID0+IGNiLnZhbHVlKTsKICBsZXQgcXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS53aGVyZSgiY2F0ZWdvcnlJZCIsICI9PSIsIGNhdGVnb3J5SWQpOwogIGlmIChjaGVja2VkLmxlbmd0aCA+IDApIHsKICAgIHF1ZXJ5ID0gZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikud2hlcmUoZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkUGF0aC5kb2N1bWVudElkKCksICJpbiIsIGNoZWNrZWQpOwogIH0KICBzaG93Q2F0ZWdvcnlTZWxlY3RNb2RhbCgiY29weSIsIGFzeW5jICh0YXJnZXRDYXRlZ29yeUlkKSA9PiB7CiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHF1ZXJ5LmdldCgpOwogICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgIHNob3dUb2FzdCgi2YTYpyDZitmI2KzYryDYo9iz2KbZhNipINmE2YbYs9iu2YfYpy4iLCAiZXJyb3IiKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgbGV0IGFkZGVkID0gMDsKICAgIGNvbnN0IGJhdGNoID0gZGIuYmF0Y2goKTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3QgcSA9IGRvYy5kYXRhKCk7CiAgICAgIGNvbnN0IG5ld0RvYyA9IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLmRvYygpOwogICAgICBiYXRjaC5zZXQobmV3RG9jLCB7CiAgICAgICAgLi4ucSwKICAgICAgICBjYXRlZ29yeUlkOiB0YXJnZXRDYXRlZ29yeUlkLAogICAgICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgICAgfSk7CiAgICAgIGFkZGVkKys7CiAgICB9KTsKICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpOwogICAgc2hvd1RvYXN0KGDYqtmFINmG2LPYriAke2FkZGVkfSDYs9ik2KfZhCDYqNmG2KzYp9itIWAsICJzdWNjZXNzIik7CiAgICBsb2FkUXVlc3Rpb25CYW5rKCk7CiAgfSk7Cn07CgovLyDYstixINmG2YLZhCDYp9mE2KPYs9im2YTYqQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW92ZVF1ZXN0aW9uc0J0biIpLm9uY2xpY2sgPSBhc3luYyBmdW5jdGlvbiAoKSB7CiAgY29uc3QgY2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpLnZhbHVlOwogIGlmICghY2F0ZWdvcnlJZCkgewogICAgc2hvd1RvYXN0KCLYp9iu2KrYsSDZgdim2Kkg2KPZiNmE2KfZiyEiLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgY29uc3QgY2hlY2tlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmltcG9ydC1xdWVzdGlvbi1jaGVja2JveDpjaGVja2VkIikpLm1hcChjYiA9PiBjYi52YWx1ZSk7CiAgbGV0IHF1ZXJ5ID0gZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikud2hlcmUoImNhdGVnb3J5SWQiLCAiPT0iLCBjYXRlZ29yeUlkKTsKICBpZiAoY2hlY2tlZC5sZW5ndGggPiAwKSB7CiAgICBxdWVyeSA9IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLndoZXJlKGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFBhdGguZG9jdW1lbnRJZCgpLCAiaW4iLCBjaGVja2VkKTsKICB9CiAgc2hvd0NhdGVnb3J5U2VsZWN0TW9kYWwoIm1vdmUiLCBhc3luYyAodGFyZ2V0Q2F0ZWdvcnlJZCkgPT4gewogICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBxdWVyeS5nZXQoKTsKICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgICBzaG93VG9hc3QoItmE2Kcg2YrZiNis2K8g2KPYs9im2YTYqSDZhNmG2YLZhNmH2KcuIiwgImVycm9yIik7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGxldCB1cGRhdGVkID0gMDsKICAgIGNvbnN0IGJhdGNoID0gZGIuYmF0Y2goKTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgYmF0Y2gudXBkYXRlKGRvYy5yZWYsIHsgY2F0ZWdvcnlJZDogdGFyZ2V0Q2F0ZWdvcnlJZCB9KTsKICAgICAgdXBkYXRlZCsrOwogICAgfSk7CiAgICBhd2FpdCBiYXRjaC5jb21taXQoKTsKICAgIHNob3dUb2FzdChg2KrZhSDZhtmC2YQgJHt1cGRhdGVkfSDYs9ik2KfZhCDYqNmG2KzYp9itIWAsICJzdWNjZXNzIik7CiAgICBsb2FkUXVlc3Rpb25CYW5rKCk7CiAgfSk7Cn07CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINiv2KfZhNipINmE2LnYsdi2INix2LPYp9mE2Kkg2KzZhdmK2YTYqSDYudmG2K8g2LbYudmBINij2Ygg2KfZhtmC2LfYp9i5INin2YTYpdmG2KrYsdmG2KoKZnVuY3Rpb24gc2hvd05ldHdvcmtTdGF0dXNNZXNzYWdlKGlzT2ZmbGluZSkgewogICAgLy8g2KXYsNinINmD2KfZhtiqINin2YTYsdiz2KfZhNipINmF2YjYrNmI2K/YqSDZhdiz2KjZgtin2YvYjCDYp9it2LDZgdmH2KcKICAgIGxldCBuZXRNc2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmV0d29ya1N0YXR1c01lc3NhZ2UiKTsKICAgIGlmICghbmV0TXNnKSB7CiAgICAgICAgbmV0TXNnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgbmV0TXNnLmlkID0gIm5ldHdvcmtTdGF0dXNNZXNzYWdlIjsKICAgICAgICBuZXRNc2cuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwogICAgICAgIG5ldE1zZy5zdHlsZS50b3AgPSAiMzBweCI7CiAgICAgICAgbmV0TXNnLnN0eWxlLnJpZ2h0ID0gIjMwcHgiOwogICAgICAgIG5ldE1zZy5zdHlsZS5iYWNrZ3JvdW5kID0gIiNmYzVjNjUiOwogICAgICAgIG5ldE1zZy5zdHlsZS5jb2xvciA9ICIjZmZmIjsKICAgICAgICBuZXRNc2cuc3R5bGUucGFkZGluZyA9ICIxOHB4IDMwcHgiOwogICAgICAgIG5ldE1zZy5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiMTBweCI7CiAgICAgICAgbmV0TXNnLnN0eWxlLmZvbnRTaXplID0gIjEuMXJlbSI7CiAgICAgICAgbmV0TXNnLnN0eWxlLmZvbnRXZWlnaHQgPSAiYm9sZCI7CiAgICAgICAgbmV0TXNnLnN0eWxlLmJveFNoYWRvdyA9ICIwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4xMikiOwogICAgICAgIG5ldE1zZy5zdHlsZS56SW5kZXggPSAiMzAwMCI7CiAgICAgICAgbmV0TXNnLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgbmV0TXNnLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKICAgICAgICBuZXRNc2cuc3R5bGUuZ2FwID0gIjEycHgiOwogICAgICAgIG5ldE1zZy5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtd2lmaSI+PC9pPgogICAgICAgICAgICA8c3BhbiBpZD0ibmV0d29ya1N0YXR1c1RleHQiPjwvc3Bhbj4KICAgICAgICAgICAgPGJ1dHRvbiBzdHlsZT0iYmFja2dyb3VuZDpub25lO2JvcmRlcjpub25lO2NvbG9yOiNmZmY7Zm9udC1zaXplOjEuNXJlbTtjdXJzb3I6cG9pbnRlcjttYXJnaW4tcmlnaHQ6MTBweDsiIG9uY2xpY2s9InRoaXMucGFyZW50RWxlbWVudC5yZW1vdmUoKSI+JnRpbWVzOzwvYnV0dG9uPgogICAgICAgIGA7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuZXRNc2cpOwogICAgfQogICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXR3b3JrU3RhdHVzVGV4dCIpOwogICAgaWYgKGlzT2ZmbGluZSkgewogICAgICAgIHRleHQudGV4dENvbnRlbnQgPSAi4pqg77iPINin2YTYp9iq2LXYp9mEINio2KfZhNil2YbYqtix2YbYqiDYtti52YrZgSDYo9mIINi62YrYsSDZhdiq2YjZgdixLiDZitix2KzZiSDYp9mE2KrYo9mD2K8g2YXZhiDYp9mE2LTYqNmD2KkhIjsKICAgICAgICBuZXRNc2cuc3R5bGUuYmFja2dyb3VuZCA9ICIjZmM1YzY1IjsKICAgICAgICBuZXRNc2cuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIH0gZWxzZSB7CiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9ICLinIUg2KrZhSDYp9iz2KrYudin2K/YqSDYp9mE2KfYqti12KfZhCDYqNin2YTYpdmG2KrYsdmG2KouIjsKICAgICAgICBuZXRNc2cuc3R5bGUuYmFja2dyb3VuZCA9ICIjMTRlZTg4IjsKICAgICAgICBuZXRNc2cuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgaWYgKG5ldE1zZy5wYXJlbnRFbGVtZW50KSBuZXRNc2cuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB9LCAyNTAwKTsKICAgIH0KfQoKLy8g2YXYsdin2YLYqNipINit2KfZhNipINin2YTYp9iq2LXYp9mEINio2KfZhNil2YbYqtix2YbYqgp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsICgpID0+IHNob3dOZXR3b3JrU3RhdHVzTWVzc2FnZSh0cnVlKSk7CndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCAoKSA9PiBzaG93TmV0d29ya1N0YXR1c01lc3NhZ2UoZmFsc2UpKTsKCi8vINmK2YXZg9mG2YMg2KPZiti22KfZiyDZgdit2LUg2LPYsdi52Kkg2KfZhNil2YbYqtix2YbYqiDYqNi02YPZhCDYqNiz2YrYtyAo2KfYrtiq2YrYp9ix2YopCi8vINil2LDYpyDYo9ix2K/YqiDYqtmG2KjZitmHINin2YTZhdiz2KrYrtiv2YUg2LnZhtivINio2LfYoSDYp9mE2LTYqNmD2Kkg2YjZhNmK2LMg2YHZgti3INin2YTYp9mG2YLYt9in2Lkg2KfZhNmD2KfZhdmECmZ1bmN0aW9uIGNoZWNrQ29ubmVjdGlvblNwZWVkKCkgewogICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7CiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7CiAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0OwogICAgICAgIC8vINil2LDYpyDYp9iz2KrYutix2YIg2KrYrdmF2YrZhCDYp9mE2LXZiNix2Kkg2KPZg9ir2LEg2YXZhiAzINir2YjYp9mG2Yog2KfYudiq2KjYsSDYp9mE2KfYqti12KfZhCDYqNi32YrYoQogICAgICAgIGlmIChkdXJhdGlvbiA+IDMwMDApIHsKICAgICAgICAgICAgc2hvd05ldHdvcmtTdGF0dXNNZXNzYWdlKHRydWUpOwogICAgICAgIH0KICAgIH07CiAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBzaG93TmV0d29ya1N0YXR1c01lc3NhZ2UodHJ1ZSk7CiAgICB9OwogICAgLy8g2KfYs9iq2K7Yr9mFINi12YjYsdipINi12LrZitix2Kkg2YXZhiDYp9mE2KXZhtiq2LHZhtiqICjZitmB2LbZhCDYtdmI2LHYqSDYs9ix2YrYudipINin2YTYqtit2YXZitmEKQogICAgaW1nLnNyYyA9ICJodHRwczovL3d3dy5nb29nbGUuY29tL2ltYWdlcy9waGQvcHguZ2lmP3Q9IiArIE1hdGgucmFuZG9tKCk7Cn0KLy8g2KfZgdit2LUg2LPYsdi52Kkg2KfZhNin2KrYtdin2YQg2YPZhCDYr9mC2YrZgtipCnNldEludGVydmFsKGNoZWNrQ29ubmVjdGlvblNwZWVkLCA2MDAwMCk7CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIGxvYWRTZWxmVGVzdFF1ZXN0aW9uKGluZGV4KSB7CiAgICBjb25zdCBxdWVzdGlvbiA9IGN1cnJlbnRFeGFtLnF1ZXN0aW9uc1tpbmRleF07CiAgICBjb25zdCBxdWVzdGlvbkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFF1ZXN0aW9uIik7CiAgICBjb25zdCBmZWVkYmFja0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmZWVkYmFja0NvbnRhaW5lciIpOwoKICAgIGZlZWRiYWNrQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBmZWVkYmFja0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsKCiAgICAvLyDYudix2LYg2LXZiNix2Kkg2KfZhNiz2KTYp9mEINio2LTZg9mEINis2YXZitmEINil2LDYpyDZg9in2YbYqiDZhdmI2KzZiNiv2KkKICAgIGxldCBpbWFnZUh0bWwgPSAiIjsKICAgIGlmIChxdWVzdGlvbi5pbWFnZVVybCAmJiBxdWVzdGlvbi5pbWFnZVVybC50cmltKCkgIT09ICIiKSB7CiAgICAgICAgaW1hZ2VIdG1sID0gYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJxdWVzdGlvbi1pbWFnZS1jb250YWluZXIiIHN0eWxlPSJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luOiAyMHB4IDA7Ij4KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSIke3F1ZXN0aW9uLmltYWdlVXJsfSIgYWx0PSLYtdmI2LHYqSDYp9mE2LPYpNin2YQiIGNsYXNzPSJxdWVzdGlvbi1pbWFnZSIKICAgICAgICAgICAgICAgICAgICBzdHlsZT0iZGlzcGxheTpibG9jazttYXgtd2lkdGg6MTAwJTttYXgtaGVpZ2h0OjM1MHB4O2JvcmRlci1yYWRpdXM6MTZweDtib3gtc2hhZG93OjAgNHB4IDE2cHggcmdiYSgwLDAsMCwwLjEzKTtib3JkZXI6NHB4IHNvbGlkICMwYTcwZmY7YmFja2dyb3VuZDojZmZmO29iamVjdC1maXQ6Y29udGFpbjsiPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICBgOwogICAgfQoKICAgIHF1ZXN0aW9uQ29udGFpbmVyLmlubmVySFRNTCA9IGAKICAgICAgICA8ZGl2IGNsYXNzPSJxdWVzdGlvbi1jYXJkIj4KICAgICAgICAgICAgPGgzIGNsYXNzPSJxdWVzdGlvbi10ZXh0Ij7Yp9mE2LPYpNin2YQgJHtpbmRleCArIDF9OiAke3F1ZXN0aW9uLnRleHR9PC9oMz4KICAgICAgICAgICAgJHtpbWFnZUh0bWx9CiAgICAgICAgICAgIDx1bCBjbGFzcz0ib3B0aW9ucy1saXN0Ij4KICAgICAgICAgICAgICAgICR7cXVlc3Rpb24ub3B0aW9ucy5tYXAoKG9wdGlvbiwgaSkgPT4gYAogICAgICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJvcHRpb24tbGFiZWwiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzZWxmVGVzdFF1ZXN0aW9uXyR7aW5kZXh9IiB2YWx1ZT0iJHtpfSIgY2xhc3M9Im9wdGlvbi1pbnB1dCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke29wdGlvbi50ZXh0fQogICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICBgKS5qb2luKCcnKX0KICAgICAgICAgICAgPC91bD4KICAgICAgICA8L2Rpdj4KICAgIGA7CgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9wdGlvbi1sYWJlbCcpLmZvckVhY2gobGFiZWwgPT4gewogICAgICAgIGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIub3B0aW9uLWxhYmVsIikuZm9yRWFjaChsYWJlbCA9PiBsYWJlbC5jbGFzc0xpc3QucmVtb3ZlKCJzZWxlY3RlZCIpKTsKICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpOwogICAgICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcigiaW5wdXQiKTsKICAgICAgICAgICAgaW5wdXQuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgIHVzZXJBbnN3ZXJzW2luZGV4XSA9IHBhcnNlSW50KGlucHV0LnZhbHVlKTsKICAgICAgICAgICAgc2hvd0ZlZWRiYWNrKGluZGV4KTsKICAgICAgICB9KTsKICAgIH0pOwoKICAgIC8vINiq2K3Yr9mK2Ksg2LnYsdi2INin2YTYo9iy2LHYp9ixCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJldlNlbGZUZXN0UXVlc3Rpb25CdG4iKS5zdHlsZS5kaXNwbGF5ID0gaW5kZXggPiAwID8gImlubGluZS1ibG9jayIgOiAibm9uZSI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmV4dFNlbGZUZXN0UXVlc3Rpb25CdG4iKS5zdHlsZS5kaXNwbGF5ID0gaW5kZXggPCBjdXJyZW50RXhhbS5xdWVzdGlvbnMubGVuZ3RoIC0gMSA/ICJpbmxpbmUtYmxvY2siIDogIm5vbmUiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbmlzaFNlbGZUZXN0QnRuIikuc3R5bGUuZGlzcGxheSA9IGluZGV4ID09PSBjdXJyZW50RXhhbS5xdWVzdGlvbnMubGVuZ3RoIC0gMSA/ICJpbmxpbmUtYmxvY2siIDogIm5vbmUiOwoKICAgIC8vINiq2K3Yr9mK2Ksg2LTYsdmK2Lcg2KfZhNiq2YLYr9mFCiAgICB1cGRhdGVQcm9ncmVzc0JhcigpOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByZXZTZWxmVGVzdFF1ZXN0aW9uQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBpZiAoY3VycmVudFF1ZXN0aW9uSW5kZXggPiAwKSB7CiAgICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXgtLTsgLy8g2KrZgtmE2YrZhCDZgtmK2YXYqSDYp9mE2YXYpNi02LEKICAgICAgICBsb2FkU2VsZlRlc3RRdWVzdGlvbihjdXJyZW50UXVlc3Rpb25JbmRleCk7IC8vINiq2K3ZhdmK2YQg2KfZhNiz2KTYp9mEINin2YTYs9in2KjZggogICAgfQp9KTsKZnVuY3Rpb24gbG9hZFF1ZXN0aW9uKF8weDUzODI0MSkgewogIGNvbnN0IF8weDcwN2MwMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtUXVlc3Rpb25zQ29udGFpbmVyIik7CiAgY29uc3QgXzB4NDQxMTA2ID0gY3VycmVudEV4YW0ucXVlc3Rpb25zW18weDUzODI0MV07CgogIC8vINil2YbYtNin2KEg2YXYrdiq2YjZiSDYp9mE2LPYpNin2YQg2YXYuSDYp9mE2LXZiNix2KkgKNil2LDYpyDZg9in2YbYqiDZhdmI2KzZiNiv2KkpCiAgXzB4NzA3YzAxLmlubmVySFRNTCA9IGAKICAgIDxkaXYgY2xhc3M9InF1ZXN0aW9uLWNhcmQiPgogICAgICA8aDMgY2xhc3M9InF1ZXN0aW9uLXRleHQiPtin2YTYs9ik2KfZhCAke18weDUzODI0MSArIDF9OiAke18weDQ0MTEwNi50ZXh0fTwvaDM+CiAgICAgICR7XzB4NDQxMTA2LmltYWdlVXJsID8gYDxkaXYgY2xhc3M9InF1ZXN0aW9uLWltYWdlLWNvbnRhaW5lciI+PGltZyBzcmM9IiR7XzB4NDQxMTA2LmltYWdlVXJsfSIgYWx0PSLYtdmI2LHYqSDYp9mE2LPYpNin2YQiIGNsYXNzPSJxdWVzdGlvbi1pbWFnZSI+PC9kaXY+YCA6ICcnfQogICAgICA8dWwgY2xhc3M9Im9wdGlvbnMtbGlzdCI+CiAgICAgICAgJHtfMHg0NDExMDYub3B0aW9ucy5tYXAoKF8weDVkZjczNywgXzB4MzQ0ZjNlKSA9PiBgCiAgICAgICAgICA8bGk+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0ib3B0aW9uLWxhYmVsICR7dXNlckFuc3dlcnNbXzB4NTM4MjQxXSA9PT0gXzB4MzQ0ZjNlID8gInNlbGVjdGVkIiA6ICcnfSI+CiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJxdWVzdGlvbl8ke18weDUzODI0MX0iIHZhbHVlPSIke18weDM0NGYzZX0iIAogICAgICAgICAgICAgICAgICAgICBjbGFzcz0ib3B0aW9uLWlucHV0IiAke3VzZXJBbnN3ZXJzW18weDUzODI0MV0gPT09IF8weDM0NGYzZSA/ICJjaGVja2VkIiA6ICcnfT4KICAgICAgICAgICAgICAke18weDVkZjczNy50ZXh0fQogICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgPC9saT4KICAgICAgICBgKS5qb2luKCcnKX0KICAgICAgPC91bD4KICAgIDwvZGl2PgogIGA7CgogIC8vINil2LbYp9mB2Kkg2KfZhNij2K3Yr9in2Ksg2YTYqtit2K/ZitivINin2YTYpdis2KfYqNipCiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLm9wdGlvbi1sYWJlbCIpLmZvckVhY2goXzB4NDJiNGQxID0+IHsKICAgIF8weDQyYjRkMS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLm9wdGlvbi1sYWJlbCIpLmZvckVhY2goXzB4MTUyOTZiID0+IHsKICAgICAgICBfMHgxNTI5NmIuY2xhc3NMaXN0LnJlbW92ZSgic2VsZWN0ZWQiKTsKICAgICAgfSk7CiAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgic2VsZWN0ZWQiKTsKICAgICAgY29uc3QgXzB4NGQ4MWEzID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpOwogICAgICBfMHg0ZDgxYTMuY2hlY2tlZCA9IHRydWU7CiAgICAgIHVzZXJBbnN3ZXJzW18weDUzODI0MV0gPSBwYXJzZUludChfMHg0ZDgxYTMudmFsdWUpOwogICAgICBzYXZlRXhhbVNlc3Npb24oKTsgLy8g2K3Zgdi4INin2YTYrNmE2LPYqSDYudmG2K8g2KfYrtiq2YrYp9ixINil2KzYp9io2KkKICAgIH0pOwogIH0pOwoKICAvLyDYqtix2KrZitioINin2YTYo9iy2LHYp9ixOiDYp9mE2LPYp9io2YIg2YrZhdmK2YbYjCDYp9mE2KrYp9mE2Yog2YrYs9in2LHYjCDYqtiz2YTZitmFINin2YTYp9iu2KrYqNin2LEg2YrYuNmH2LEg2YHZgti3INmB2Yog2KLYrtixINiz2KTYp9mECiAgY29uc3QgcHJldkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2UXVlc3Rpb25CdG4iKTsKICBjb25zdCBuZXh0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5leHRRdWVzdGlvbkJ0biIpOwogIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdWJtaXRFeGFtQnRuIik7CgogIHByZXZCdG4uZGlzYWJsZWQgPSBfMHg1MzgyNDEgPT09IDA7CiAgbmV4dEJ0bi5kaXNhYmxlZCA9IF8weDUzODI0MSA9PT0gY3VycmVudEV4YW0ucXVlc3Rpb25zLmxlbmd0aCAtIDE7CgogIC8vINiq2LHYqtmK2Kgg2KfZhNij2LLYsdin2LEgKNin2YTYs9in2KjZgiDZitmF2YrZhtiMINin2YTYqtin2YTZiiDZitiz2KfYsSkKICBwcmV2QnRuLnN0eWxlLm9yZGVyID0gIjIiOwogIG5leHRCdG4uc3R5bGUub3JkZXIgPSAiMSI7CiAgc3VibWl0QnRuLnN0eWxlLm9yZGVyID0gIjMiOwoKICAvLyDYpdi42YfYp9ixINiy2LEg2KrYs9mE2YrZhSDYp9mE2KfYrtiq2KjYp9ixINmB2YLYtyDZgdmKINii2K7YsSDYs9ik2KfZhAogIGlmIChfMHg1MzgyNDEgPT09IGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5sZW5ndGggLSAxKSB7CiAgICBzdWJtaXRCdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogIH0gZWxzZSB7CiAgICBzdWJtaXRCdG4uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9CgogIHNhdmVFeGFtU2Vzc2lvbigpOyAvLyDYrdmB2Lgg2KfZhNis2YTYs9ipINi52YbYryDYp9mE2KrZhtmC2YQg2KjZitmGINin2YTYo9iz2KbZhNipCn0KCmZ1bmN0aW9uIHVwZGF0ZVRpbWVyRGlzcGxheSgpIHsKICBjb25zdCBfMHhmZTBmODQgPSBNYXRoLmZsb29yKHRpbWVMZWZ0IC8gMHgzYyk7CiAgY29uc3QgXzB4NTQ5NGY0ID0gdGltZUxlZnQgJSAweDNjOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0aW1lUmVtYWluaW5nIikudGV4dENvbnRlbnQgPSBfMHhmZTBmODQgKyAnOicgKyAoXzB4NTQ5NGY0IDwgMHhhID8gJzAnIDogJycpICsgXzB4NTQ5NGY0OwogIHNhdmVFeGFtU2Vzc2lvbigpOyAvLyDYrdmB2Lgg2KfZhNmI2YLYqiDYp9mE2YXYqtio2YLZigp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBzdWJtaXRFeGFtKCkgewogICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2YjYrNmI2K8g2KPYs9im2YTYqSDYutmK2LEg2YXYrNin2KjYqQogICAgY29uc3QgdW5hbnN3ZXJlZFF1ZXN0aW9ucyA9IFtdOwogICAgY3VycmVudEV4YW0ucXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBpbmRleCkgPT4gewogICAgICAgIGlmICh1c2VyQW5zd2Vyc1tpbmRleF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB1bmFuc3dlcmVkUXVlc3Rpb25zLnB1c2goaW5kZXggKyAxKTsgLy8g2KXYttin2YHYqSDYsdmC2YUg2KfZhNiz2KTYp9mEINi62YrYsSDYp9mE2YXYrNin2KgKICAgICAgICB9CiAgICB9KTsKCiAgICBpZiAodW5hbnN3ZXJlZFF1ZXN0aW9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g2LnYsdi2INin2YTZhtin2YHYsNipINin2YTZhdmG2KjYq9mC2KkKICAgICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1bmFuc3dlcmVkUXVlc3Rpb25zTW9kYWwiKTsKICAgICAgICBjb25zdCBtZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVuYW5zd2VyZWRRdWVzdGlvbnNNZXNzYWdlIik7CiAgICAgICAgbWVzc2FnZS50ZXh0Q29udGVudCA9IGDZh9mG2KfZgyAke3VuYW5zd2VyZWRRdWVzdGlvbnMubGVuZ3RofSDYs9ik2KfZhC/Yo9iz2KbZhNipINmE2YUg2YrYqtmFINin2YTYpdis2KfYqNipINi52YTZitmH2Kc6ICR7dW5hbnN3ZXJlZFF1ZXN0aW9ucy5qb2luKCIsICIpfS4g2YfZhCDYqtix2YrYryDYqNin2YTYqtij2YPZitivINiq2LPZhNmK2YUg2KfZhNin2K7Yqtio2KfYsdifYDsKICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwoKICAgICAgICAvLyDYpdiy2KfZhNipINij2Yog2KPYrdiv2KfYqyDYs9in2KjZgtipINij2YjZhNin2YsKICAgICAgICBjb25zdCBjb250aW51ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250aW51ZVN1Ym1pdEJ0biIpOwogICAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW5jZWxTdWJtaXRCdG4iKTsKICAgICAgICBjb250aW51ZUJ0bi5vbmNsaWNrID0gbnVsbDsKICAgICAgICBjYW5jZWxCdG4ub25jbGljayA9IG51bGw7CgogICAgICAgIC8vINil2LbYp9mB2Kkg2KPYrdiv2KfYqyDYrNiv2YrYr9ipCiAgICAgICAgY29udGludWVCdG4ub25jbGljayA9ICgpID0+IHsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgZmluYWxpemVFeGFtU3VibWlzc2lvbigpOyAvLyDZhdiq2KfYqNi52Kkg2KrYs9mE2YrZhSDYp9mE2KfYrtiq2KjYp9ixCiAgICAgICAgfTsKICAgICAgICBjYW5jZWxCdG4ub25jbGljayA9ICgpID0+IHsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsgLy8g2KXYutmE2KfZgiDYp9mE2YbYp9mB2LDYqQogICAgICAgIH07CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vINil2LDYpyDZhNmFINiq2YPZhiDZh9mG2KfZgyDYo9iz2KbZhNipINi62YrYsSDZhdis2KfYqNip2Iwg2KrYp9io2Lkg2KfZhNiq2LPZhNmK2YUg2YXYqNin2LTYsdipCiAgICBmaW5hbGl6ZUV4YW1TdWJtaXNzaW9uKCk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgpmdW5jdGlvbiBmaW5hbGl6ZUV4YW1TdWJtaXNzaW9uKCkgewogICAgY2xlYXJJbnRlcnZhbCh0aW1lckludGVydmFsKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJleGFtU2Vzc2lvbiIpOyAvLyDYrdiw2YEg2KfZhNis2YTYs9ipINio2LnYryDYp9mE2KrYs9mE2YrZhQogICAgLy8gLi4u2KjYp9mC2Yog2KfZhNmD2YjYryDZg9mF2Kcg2YfZiC4uLgogICAgbGV0IGNvcnJlY3RBbnN3ZXJzID0gMDsKICAgIGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaW5kZXgpID0+IHsKICAgICAgICBpZiAodXNlckFuc3dlcnNbaW5kZXhdID09PSBxdWVzdGlvbi5jb3JyZWN0QW5zd2VyKSB7CiAgICAgICAgICAgIGNvcnJlY3RBbnN3ZXJzKys7CiAgICAgICAgfQogICAgfSk7CgogICAgY29uc3QgdG90YWxRdWVzdGlvbnMgPSBjdXJyZW50RXhhbS5xdWVzdGlvbnMubGVuZ3RoOwogICAgY29uc3Qgc2NvcmVQZXJjZW50YWdlID0gTWF0aC5yb3VuZCgoY29ycmVjdEFuc3dlcnMgLyB0b3RhbFF1ZXN0aW9ucykgKiAxMDApOwogICAgY29uc3Qgd3JvbmdBbnN3ZXJzID0gdG90YWxRdWVzdGlvbnMgLSBjb3JyZWN0QW5zd2VyczsKICAgIGNvbnN0IHRpbWVUYWtlbiA9IGN1cnJlbnRFeGFtLmR1cmF0aW9uIC0gTWF0aC5jZWlsKHRpbWVMZWZ0IC8gNjApOwogICAgY29uc3QgdG90YWxNYXJrcyA9IGN1cnJlbnRFeGFtLnRvdGFsTWFya3MgfHwgMTAwOwogICAgY29uc3Qgb2J0YWluZWRNYXJrcyA9IE1hdGgucm91bmQoKGNvcnJlY3RBbnN3ZXJzIC8gdG90YWxRdWVzdGlvbnMpICogdG90YWxNYXJrcyk7CgogICAgbGV0IGdyYWRlU3RhdHVzOwogICAgaWYgKHNjb3JlUGVyY2VudGFnZSA+PSA5MCkgewogICAgICAgIGdyYWRlU3RhdHVzID0gItmF2YXYqtin2LIiOwogICAgfSBlbHNlIGlmIChzY29yZVBlcmNlbnRhZ2UgPj0gNzUpIHsKICAgICAgICBncmFkZVN0YXR1cyA9ICLYrNmK2K8g2KzYr9in2YsiOwogICAgfSBlbHNlIGlmIChzY29yZVBlcmNlbnRhZ2UgPj0gNjApIHsKICAgICAgICBncmFkZVN0YXR1cyA9ICLYrNmK2K8iOwogICAgfSBlbHNlIGlmIChzY29yZVBlcmNlbnRhZ2UgPj0gNTApIHsKICAgICAgICBncmFkZVN0YXR1cyA9ICLZhdmC2KjZiNmEIjsKICAgIH0gZWxzZSB7CiAgICAgICAgZ3JhZGVTdGF0dXMgPSAi2LHYp9iz2KgiOwogICAgfQoKICAgIC8vINit2YHYuCDYp9mE2YbYqtmK2KzYqSDZgdmKINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqgogICAgZGIuY29sbGVjdGlvbigicmVzdWx0cyIpLmFkZCh7CiAgICAgICAgdXNlcklkOiBjdXJyZW50VXNlci51aWQsCiAgICAgICAgdXNlck5hbWU6IGN1cnJlbnRVc2VyRGF0YT8uWyJuYW1lIl0gfHwgY3VycmVudFVzZXIuZW1haWwsCiAgICAgICAgZXhhbUlkOiBjdXJyZW50RXhhbS5pZCwKICAgICAgICBleGFtVGl0bGU6IGN1cnJlbnRFeGFtLnRpdGxlLAogICAgICAgIHRvdGFsTWFya3M6IHRvdGFsTWFya3MsCiAgICAgICAgb2J0YWluZWRNYXJrczogb2J0YWluZWRNYXJrcywKICAgICAgICBzY29yZVBlcmNlbnRhZ2U6IHNjb3JlUGVyY2VudGFnZSwKICAgICAgICBjb3JyZWN0QW5zd2VyczogY29ycmVjdEFuc3dlcnMsCiAgICAgICAgd3JvbmdBbnN3ZXJzOiB3cm9uZ0Fuc3dlcnMsCiAgICAgICAgdGltZVRha2VuOiB0aW1lVGFrZW4sCiAgICAgICAgZ3JhZGVTdGF0dXM6IGdyYWRlU3RhdHVzLAogICAgICAgIGFuc3dlcnM6IHVzZXJBbnN3ZXJzLAogICAgICAgIHN1Ym1pdHRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgIH0pOwoKICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkudXBkYXRlKHsKICAgICAgICBleGFtc1Rha2VuOiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5pbmNyZW1lbnQoMSksCiAgICAgICAgbGFzdEV4YW1UYWtlbjogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCksCiAgICB9KTsKCiAgICBzaG93UmVzdWx0cyhzY29yZVBlcmNlbnRhZ2UsIGNvcnJlY3RBbnN3ZXJzLCB3cm9uZ0Fuc3dlcnMsIHRpbWVUYWtlbiwgb2J0YWluZWRNYXJrcywgdG90YWxNYXJrcyk7Cn0KZnVuY3Rpb24gc2hvd1Jlc3VsdHMoc2NvcmVQZXJjZW50YWdlLCBjb3JyZWN0QW5zd2Vycywgd3JvbmdBbnN3ZXJzLCB0aW1lVGFrZW4sIG9idGFpbmVkTWFya3MsIHRvdGFsTWFya3MpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmluYWxTY29yZSIpLnRleHRDb250ZW50ID0gc2NvcmVQZXJjZW50YWdlICsgJyUnOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3JyZWN0QW5zd2VycyIpLnRleHRDb250ZW50ID0gY29ycmVjdEFuc3dlcnM7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIndyb25nQW5zd2VycyIpLnRleHRDb250ZW50ID0gd3JvbmdBbnN3ZXJzOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0aW1lVGFrZW4iKS50ZXh0Q29udGVudCA9IHRpbWVUYWtlbjsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib2J0YWluZWRNYXJrcyIpLnRleHRDb250ZW50ID0gb2J0YWluZWRNYXJrcyArICIgLyAiICsgdG90YWxNYXJrczsKICBjb25zdCByZXN1bHRzRGV0YWlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXN1bHRzRGV0YWlscyIpOwogIHJlc3VsdHNEZXRhaWxzLmlubmVySFRNTCA9ICI8aDM+2KrZgdin2LXZitmEINin2YTYpdis2KfYqNin2Ko6PC9oMz4iOwogIGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaWR4KSA9PiB7CiAgICBjb25zdCB1c2VyQW5zd2VyID0gdXNlckFuc3dlcnNbaWR4XTsKICAgIGNvbnN0IGlzQ29ycmVjdCA9IHVzZXJBbnN3ZXIgPT09IHF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXI7CiAgICBjb25zdCBxdWVzdGlvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgcXVlc3Rpb25EaXYuY2xhc3NOYW1lID0gInJlc3VsdC1xdWVzdGlvbiI7CiAgICBxdWVzdGlvbkRpdi5pbm5lckhUTUwgPSBgCiAgICAgIDxwPjxzdHJvbmc+2KfZhNiz2KTYp9mEICR7aWR4ICsgMX06PC9zdHJvbmc+ICR7cXVlc3Rpb24udGV4dH08L3A+CiAgICAgIDxwPtil2KzYp9io2KrZgzogPHNwYW4gY2xhc3M9IiR7aXNDb3JyZWN0ID8gJ2NvcnJlY3QtYW5zd2VyJyA6ICd3cm9uZy1hbnN3ZXInfSI+CiAgICAgICAgJHt1c2VyQW5zd2VyICE9PSB1bmRlZmluZWQgPyBxdWVzdGlvbi5vcHRpb25zW3VzZXJBbnN3ZXJdLnRleHQgOiAi2YTZhSDYqtis2KgifQogICAgICA8L3NwYW4+PC9wPgogICAgICA8cD7Yp9mE2KXYrNin2KjYqSDYp9mE2LXYrdmK2K3YqTogPHNwYW4gY2xhc3M9ImNvcnJlY3QtYW5zd2VyIj4KICAgICAgICAke3F1ZXN0aW9uLm9wdGlvbnNbcXVlc3Rpb24uY29ycmVjdEFuc3dlcl0udGV4dH0KICAgICAgPC9zcGFuPjwvcD4KICAgIGA7CiAgICByZXN1bHRzRGV0YWlscy5hcHBlbmRDaGlsZChxdWVzdGlvbkRpdik7CiAgfSk7CiAgc2hvd1BhZ2UocmVzdWx0c1BhZ2UpOyAvLyDZitis2Kgg2KPZhiDZitmD2YjZhiDZh9iw2Kcg2KfZhNiz2LfYsSDZhdmI2KzZiNiv2KfZiyDYr9in2KbZhdin2YsKfQpmdW5jdGlvbiB2aWV3RXhhbVJlc3VsdHMoXzB4MWM0MTRkKSB7CiAgYWxlcnQoIti52LHYtiDZhtiq2KfYptisINin2YTYp9iu2KrYqNin2LEg2LPZitmD2YjZhiDZh9mG2KciKTsKfQpmdW5jdGlvbiBsb2FkU3R1ZGVudEdyYWRlcygpIHsKICBjb25zdCBfMHg1MzVjMjMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3R1ZGVudEdyYWRlc1RhYmxlJyk7CiAgXzB4NTM1YzIzLmlubmVySFRNTCA9ICI8dHI+PHRkIGNvbHNwYW49XCI2XCI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2K/Ysdis2KfYqi4uLjwvdGQ+PC90cj4iOwogIGRiLmNvbGxlY3Rpb24oInJlc3VsdHMiKS53aGVyZSgndXNlcklkJywgJz09JywgY3VycmVudFVzZXIudWlkKS5vcmRlckJ5KCJzdWJtaXR0ZWRBdCIsICJkZXNjIikuZ2V0KCkudGhlbihfMHhiM2I5NzAgPT4gewogICAgaWYgKF8weGIzYjk3MC5lbXB0eSkgewogICAgICBfMHg1MzVjMjMuaW5uZXJIVE1MID0gIjx0cj48dGQgY29sc3Bhbj1cIjZcIj7ZhNinINiq2YjYrNivINmG2KrYp9im2Kwg2YXYs9is2YTYqSDYqNi52K88L3RkPjwvdHI+IjsKICAgICAgcmV0dXJuOwogICAgfQogICAgXzB4NTM1YzIzLmlubmVySFRNTCA9ICcnOwogICAgXzB4YjNiOTcwLmZvckVhY2goXzB4ZGM0YmU0ID0+IHsKICAgICAgY29uc3QgXzB4MWZlOGRkID0gXzB4ZGM0YmU0LmRhdGEoKTsKICAgICAgY29uc3QgXzB4MTExMTBmID0gXzB4MWZlOGRkLnN1Ym1pdHRlZEF0Py5bInRvRGF0ZSJdKCkgfHwgbmV3IERhdGUoKTsKICAgICAgY29uc3QgXzB4NTU4OWJiID0gXzB4MTExMTBmLnRvTG9jYWxlRGF0ZVN0cmluZygpICsgIiAiICsgXzB4MTExMTBmLnRvTG9jYWxlVGltZVN0cmluZygpOwogICAgICBsZXQgXzB4M2E4OTQwID0gImdyYWRlLXBvb3IiOwogICAgICBpZiAoXzB4MWZlOGRkLnNjb3JlUGVyY2VudGFnZSA+PSAweDVhKSB7CiAgICAgICAgXzB4M2E4OTQwID0gImdyYWRlLWV4Y2VsbGVudCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKF8weDFmZThkZC5zY29yZVBlcmNlbnRhZ2UgPj0gMHg0YikgewogICAgICAgICAgXzB4M2E4OTQwID0gImdyYWRlLWdvb2QiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoXzB4MWZlOGRkLnNjb3JlUGVyY2VudGFnZSA+PSAweDNjKSB7CiAgICAgICAgICAgIF8weDNhODk0MCA9ICJncmFkZS1hdmVyYWdlIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgXzB4NTM1YzIzLmlubmVySFRNTCArPSAiXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4iICsgXzB4MWZlOGRkLmV4YW1UaXRsZSArICI8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiIgKyBfMHg1NTg5YmIgKyAiPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4iICsgXzB4MWZlOGRkLm9idGFpbmVkTWFya3MgKyAiIC8gIiArIF8weDFmZThkZC50b3RhbE1hcmtzICsgIjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+IiArIF8weDFmZThkZC5zY29yZVBlcmNlbnRhZ2UgKyAiJTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9XCJncmFkZS1iYWRnZSAiICsgXzB4M2E4OTQwICsgIlwiPiIgKyBfMHgxZmU4ZGQuZ3JhZGVTdGF0dXMgKyAiPC9zcGFuPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgIjsKICAgIH0pOwogIH0pWyJjYXRjaCJdKF8weGIwNzg2ZSA9PiB7CiAgICBfMHg1MzVjMjMuaW5uZXJIVE1MID0gIjx0cj48dGQgY29sc3Bhbj1cIjZcIj7Yrdiv2Ksg2K7Yt9ijOiAiICsgXzB4YjA3ODZlLm1lc3NhZ2UgKyAiPC90ZD48L3RyPiI7CiAgfSk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBsb2FkQWxsR3JhZGVzKCkgewogIGNvbnN0IF8weDI3OGViZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGxHcmFkZXNUYWJsZSIpOwogIF8weDI3OGViZC5pbm5lckhUTUwgPSAiPHRyPjx0ZCBjb2xzcGFuPVwiNlwiPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNiv2LHYrNin2KouLi48L3RkPjwvdHI+IjsKICBjb25zdCBfMHg0NjlhMjcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JhZGVFeGFtRmlsdGVyJyk7CiAgXzB4NDY5YTI3LmlubmVySFRNTCA9ICI8b3B0aW9uIHZhbHVlPVwiXCI+2KzZhdmK2Lkg2KfZhNin2K7Yqtio2KfYsdin2Ko8L29wdGlvbj4iOwogIGRiLmNvbGxlY3Rpb24oJ2V4YW1zJykuZ2V0KCkudGhlbihfMHgxZTYzMDkgPT4gewogICAgXzB4MWU2MzA5LmZvckVhY2goXzB4MTg1OTk2ID0+IHsKICAgICAgY29uc3QgXzB4MjEyYTc4ID0gXzB4MTg1OTk2LmRhdGEoKTsKICAgICAgXzB4NDY5YTI3LmlubmVySFRNTCArPSAiPG9wdGlvbiB2YWx1ZT1cIiIgKyBfMHgxODU5OTYuaWQgKyAiXCI+IiArIF8weDIxMmE3OC50aXRsZSArICc8L29wdGlvbj4nOwogICAgfSk7CiAgICByZXR1cm4gbG9hZEZpbHRlcmVkR3JhZGVzKCk7CiAgfSlbImNhdGNoIl0oXzB4MzQ3ZDRkID0+IHsKICAgIF8weDI3OGViZC5pbm5lckhUTUwgPSAiPHRyPjx0ZCBjb2xzcGFuPVwiNlwiPtit2K/YqyDYrti32KM6ICIgKyBfMHgzNDdkNGQubWVzc2FnZSArICc8L3RkPjwvdHI+JzsKICB9KTsKfQoKZnVuY3Rpb24gbG9hZEZpbHRlcmVkR3JhZGVzKCkgewogIGNvbnN0IF8weDNkNjhlNyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGxHcmFkZXNUYWJsZSIpOwogIGNvbnN0IF8weDQ1YTgxMCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJncmFkZUV4YW1GaWx0ZXIiKTsKICBjb25zdCBfMHgxMTQ2OGMgPSBfMHg0NWE4MTAudmFsdWU7CiAgXzB4M2Q2OGU3LmlubmVySFRNTCA9ICI8dHI+PHRkIGNvbHNwYW49XCI2XCI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2K/Ysdis2KfYqi4uLjwvdGQ+PC90cj4iOwogIGxldCBfMHg0ZjI1NmEgPSBkYi5jb2xsZWN0aW9uKCJyZXN1bHRzIikub3JkZXJCeSgic3VibWl0dGVkQXQiLCAnZGVzYycpOwogIGlmIChfMHgxMTQ2OGMpIHsKICAgIF8weDRmMjU2YSA9IF8weDRmMjU2YS53aGVyZSgiZXhhbUlkIiwgJz09JywgXzB4MTE0NjhjKTsKICB9CiAgXzB4NGYyNTZhLmdldCgpLnRoZW4oXzB4M2Y4M2QwID0+IHsKICAgIGlmIChfMHgzZjgzZDAuZW1wdHkpIHsKICAgICAgXzB4M2Q2OGU3LmlubmVySFRNTCA9ICI8dHI+PHRkIGNvbHNwYW49XCI2XCI+2YTYpyDYqtmI2KzYryDZhtiq2KfYptisINmF2LPYrNmE2Kkg2KjYudivPC90ZD48L3RyPiI7CiAgICAgIHJldHVybjsKICAgIH0KICAgIF8weDNkNjhlNy5pbm5lckhUTUwgPSAnJzsKICAgIF8weDNmODNkMC5mb3JFYWNoKF8weDU2OGFmMiA9PiB7CiAgICAgIGNvbnN0IF8weDJkZDYyMSA9IF8weDU2OGFmMi5kYXRhKCk7CiAgICAgIGNvbnN0IF8weDIxNzRjNyA9IF8weDJkZDYyMS5zdWJtaXR0ZWRBdD8uWyJ0b0RhdGUiXSgpIHx8IG5ldyBEYXRlKCk7CiAgICAgIC8vINi12YrYutipINin2YTZitmI2YUv2KfZhNi02YfYsS/Yp9mE2LPZhtipIC0g2KfZhNiz2KfYudipOtin2YTYr9mC2YrZgtipOtin2YTYq9in2YbZitipCiAgICAgIGNvbnN0IGRhdGVUaW1lU3RyaW5nID0gYCR7XzB4MjE3NGM3LmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LyR7CiAgICAgICAgKF8weDIxNzRjNy5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS8kewogICAgICAgIF8weDIxNzRjNy5nZXRGdWxsWWVhcigpfSAtICR7CiAgICAgICAgXzB4MjE3NGM3LmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfTokewogICAgICAgIF8weDIxNzRjNy5nZXRNaW51dGVzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfTokewogICAgICAgIF8weDIxNzRjNy5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7CiAgICAgIGxldCBfMHgyMjIzMjIgPSAiZ3JhZGUtcG9vciI7CiAgICAgIGlmIChfMHgyZGQ2MjEuc2NvcmVQZXJjZW50YWdlID49IDB4NWEpIHsKICAgICAgICBfMHgyMjIzMjIgPSAiZ3JhZGUtZXhjZWxsZW50IjsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoXzB4MmRkNjIxLnNjb3JlUGVyY2VudGFnZSA+PSAweDRiKSB7CiAgICAgICAgICBfMHgyMjIzMjIgPSAiZ3JhZGUtZ29vZCI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChfMHgyZGQ2MjEuc2NvcmVQZXJjZW50YWdlID49IDB4M2MpIHsKICAgICAgICAgICAgXzB4MjIyMzIyID0gImdyYWRlLWF2ZXJhZ2UiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBfMHgzZDY4ZTcuaW5uZXJIVE1MICs9IGAKICAgICAgICA8dHI+CiAgICAgICAgICA8dGQ+JHtfMHgyZGQ2MjEudXNlck5hbWV9PC90ZD4KICAgICAgICAgIDx0ZD4ke18weDJkZDYyMS5leGFtVGl0bGV9PC90ZD4KICAgICAgICAgIDx0ZD4ke2RhdGVUaW1lU3RyaW5nfTwvdGQ+CiAgICAgICAgICA8dGQ+JHtfMHgyZGQ2MjEub2J0YWluZWRNYXJrc30gLyAke18weDJkZDYyMS50b3RhbE1hcmtzfTwvdGQ+CiAgICAgICAgICA8dGQ+JHtfMHgyZGQ2MjEuc2NvcmVQZXJjZW50YWdlfSU8L3RkPgogICAgICAgICAgPHRkPjxzcGFuIGNsYXNzPSJncmFkZS1iYWRnZSAke18weDIyMjMyMn0iPiR7XzB4MmRkNjIxLmdyYWRlU3RhdHVzfTwvc3Bhbj48L3RkPgogICAgICAgIDwvdHI+CiAgICAgIGA7CiAgICB9KTsKICB9KVsiY2F0Y2giXShfMHgxMGQ4ODggPT4gewogICAgXzB4M2Q2OGU3LmlubmVySFRNTCA9ICI8dHI+PHRkIGNvbHNwYW49XCI2XCI+2K3Yr9irINiu2LfYozogIiArIF8weDEwZDg4OC5tZXNzYWdlICsgIjwvdGQ+PC90cj4iOwogIH0pOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KrYo9mD2K8g2YXZhiDYp9iz2KrYr9i52KfYoSDZh9iw2Ycg2KfZhNiv2KfZhNipINi52YbYryDZgdiq2K0g2LXZgdit2Kkg2KXYr9in2LHYqSAi2KfYrtiq2KjYsSDZhtmB2LPZgyIKZnVuY3Rpb24gbG9hZFN0dWRlbnRzRm9yU2VsZlRlc3Qoc2VsZWN0ZWRTdHVkZW50cyA9IFtdKSB7CiAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWxsb3dlZFNlbGZUZXN0U3R1ZGVudHMiKTsKICAgIGlmICghc2VsZWN0KSByZXR1cm47CiAgICBzZWxlY3QuaW5uZXJIVE1MID0gIjxvcHRpb24gdmFsdWU9XCJcIj7YrNin2LHZiiDYqtit2YXZitmEINin2YTYt9mE2KfYqC4uLjwvb3B0aW9uPiI7CiAgICAvLyDYrNmE2Kgg2KzZhdmK2Lkg2KfZhNi32YTYp9ioINmI2KfZhNmF2LnZhNmF2YrZhgogICAgZGIuY29sbGVjdGlvbigndXNlcnMnKS53aGVyZSgicm9sZSIsICJpbiIsIFsic3R1ZGVudCIsICJ0ZWFjaGVyIl0pLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSAnJzsKICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBkb2MuZGF0YSgpOwogICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHNlbGVjdGVkU3R1ZGVudHMuaW5jbHVkZXMoZG9jLmlkKSA/ICJzZWxlY3RlZCIgOiAiIjsKICAgICAgICAgICAgc2VsZWN0LmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT0iJHtkb2MuaWR9IiAke3NlbGVjdGVkfT4ke3VzZXIubmFtZX0gKCR7dXNlci5lbWFpbH0pJHt1c2VyLnJvbGUgPT09ICJ0ZWFjaGVyIiA/ICIgLSDZhdi52YTZhSIgOiAiIn08L29wdGlvbj5gOwogICAgICAgIH0pOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHNlbGVjdC5pbm5lckhUTUwgPSBgPG9wdGlvbiB2YWx1ZT0iIj7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2LfZhNin2Kg6ICR7ZXJyb3IubWVzc2FnZX08L29wdGlvbj5gOwogICAgfSk7Cn0KCi8vINin2LPYqtiv2LnZkCDYp9mE2K/Yp9mE2Kkg2LnZhtivINmB2KrYrSDYtdmB2K3YqSDYpdiv2KfYsdipINin2K7Yqtio2LEg2YbZgdiz2YMKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVNYW5hZ2VTZWxmVGVzdCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogIGVkaXRpbmdTZWxmVGVzdElkID0gbnVsbDsKICBsb2FkU3R1ZGVudHNGb3JTZWxmVGVzdCgpOwogIC8vIC4uLtij2Yog2YPZiNivINii2K7YsS4uLgp9KTsKCgpmdW5jdGlvbiBsb2FkU2xpZGVzKCkgewogIGNvbnN0IF8weDM4YjBhMCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZXNHcmlkIik7CiAgXzB4MzhiMGEwLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTYtNix2KfYptitLi4uPC9wPiI7CiAgZGIuY29sbGVjdGlvbigic2xpZGVzIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKF8weDEzYTg0YSA9PiB7CiAgICBpZiAoXzB4MTNhODRhLmVtcHR5KSB7CiAgICAgIF8weDM4YjBhMC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYtNix2KfYptitINmF2KrYp9it2Kkg2K3Yp9mE2YrYp9mLPC9wPiI7CiAgICAgIHJldHVybjsKICAgIH0KICAgIF8weDM4YjBhMC5pbm5lckhUTUwgPSAnJzsKICAgIF8weDEzYTg0YS5mb3JFYWNoKF8weDRlZjFiNSA9PiB7CiAgICAgIGNvbnN0IF8weGUwNzVmYyA9IF8weDRlZjFiNS5kYXRhKCk7CiAgICAgIF8weDM4YjBhMC5hcHBlbmRDaGlsZChjcmVhdGVTbGlkZUNhcmQoXzB4ZTA3NWZjLCBfMHg0ZWYxYjUuaWQpKTsKICAgIH0pOwogIH0pWyJjYXRjaCJdKF8weDQ5MjAwZiA9PiB7CiAgICBfMHgzOGIwYTAuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYtNix2KfYptitOiAiICsgXzB4NDkyMDBmLm1lc3NhZ2UgKyAiPC9wPiI7CiAgfSk7Cn0KZnVuY3Rpb24gY3JlYXRlU2xpZGVDYXJkKHNsaWRlLCBzbGlkZUlkKSB7CiAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBjYXJkLmNsYXNzTmFtZSA9ICJzbGlkZS1jYXJkIjsKICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgaGVhZGVyLmNsYXNzTmFtZSA9ICdzbGlkZS1jYXJkLWhlYWRlcic7CiAgICBoZWFkZXIuaW5uZXJIVE1MID0gYDxpIGNsYXNzPSJmYXMgZmEtY2hhbGtib2FyZC10ZWFjaGVyIj48L2k+ICR7c2xpZGUudGl0bGV9YDsKICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGJvZHkuY2xhc3NOYW1lID0gInNsaWRlLWNhcmQtYm9keSI7CiAgICBib2R5LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7IC8vINil2K7Zgdin2KEg2KfZhNmB2LXZiNmEINin2YHYqtix2KfYttmK2KfZiwogaWYgKHNsaWRlLmltYWdlVXJsICYmIHNsaWRlLmltYWdlVXJsLnRyaW0oKSAhPT0gIiIpIHsKICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTsKICAgICAgICBpbWcuc3JjID0gc2xpZGUuaW1hZ2VVcmw7CiAgICAgICAgaW1nLmFsdCA9ICLYtdmI2LHYqSDYp9mE2YXZgtix2LEiOwogICAgICAgIGltZy5zdHlsZSA9ICJ3aWR0aDoxMDAlO21heC13aWR0aDo0MjBweDttYXgtaGVpZ2h0OjIyMHB4O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjE4cHggYXV0byAxMHB4IGF1dG87Ym9yZGVyLXJhZGl1czoxNHB4O2JveC1zaGFkb3c6MCAycHggMTJweCAjMGE3MGZmMjI7IjsKICAgICAgICBjYXJkLmFwcGVuZENoaWxkKGltZyk7CiAgICB9CiAgICAvLyAuLi5leGlzdGluZyBjb2RlLi4uCiAgICAvLyDYqNin2YLZiiDYp9mE2YPZiNivINmD2YXYpyDZh9mICiAgICAvLyDYudix2LYg2YXYrdiq2YjZiSDYp9mE2LTYsdmK2K3YqSAo2KfZhNmG2LUg2KfZhNix2KbZitiz2YopCiAgICBpZiAoc2xpZGUuY29udGVudCAmJiBzbGlkZS5jb250ZW50LnRyaW0oKSAhPT0gIiIpIHsKICAgICAgICBib2R5LmlubmVySFRNTCArPSBgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxOHB4OyBjb2xvcjojMjIyOyBmb250LXNpemU6MS4xcmVtOyBsaW5lLWhlaWdodDoyOyI+JHtzbGlkZS5jb250ZW50fTwvZGl2PmA7CiAgICB9CgogICAgLy8g2LnYsdi2INin2YTZgdi12YjZhCDZiNin2YTYr9ix2YjYswogICAgaWYgKHNsaWRlLmNoYXB0ZXJzICYmIEFycmF5LmlzQXJyYXkoc2xpZGUuY2hhcHRlcnMpICYmIHNsaWRlLmNoYXB0ZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICBzbGlkZS5jaGFwdGVycy5mb3JFYWNoKChjaGFwdGVyLCBjSWR4KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGNoYXB0ZXJJZCA9IGBjaGFwdGVyLWRldGFpbHMtJHtzbGlkZUlkfS0ke2NJZHh9YDsKICAgICAgICAgICAgY29uc3QgY2hhcHRlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICBjaGFwdGVyRGl2LnN0eWxlID0gIm1hcmdpbi1ib3R0b206MThweDsgYmFja2dyb3VuZDojZWFmM2ZmOyBib3JkZXItcmFkaXVzOjEwcHg7IHBhZGRpbmc6MDsgYm94LXNoYWRvdzowIDJweCA4cHggcmdiYSgwLDAsMCwwLjA0KTsiOwoKICAgICAgICAgICAgLy8g2LLYsSDYp9mE2YHYtdmEICjZitmG2LPYr9mEINi52YbYryDYp9mE2LbYuti3KQogICAgICAgICAgICBjb25zdCBjaGFwdGVyQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgIGNoYXB0ZXJCdG4uY2xhc3NOYW1lID0gImJ0biBidG4tcHJpbWFyeSI7CiAgICAgICAgICAgIGNoYXB0ZXJCdG4uc3R5bGUgPSAid2lkdGg6MTAwJTsgdGV4dC1hbGlnbjpyaWdodDsgYm9yZGVyLXJhZGl1czoxMHB4IDEwcHggMCAwOyBmb250LXNpemU6MS4xcmVtOyBwYWRkaW5nOjE0cHggMThweDsgYmFja2dyb3VuZDojMGE3MGZmOyBjb2xvcjojZmZmOyBib3JkZXI6bm9uZTsgb3V0bGluZTpub25lOyI7CiAgICAgICAgICAgIGNoYXB0ZXJCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPSJmYXMgZmEtY2hldnJvbi1kb3duIj48L2k+ICR7Y2hhcHRlci50aXRsZX1gOwogICAgICAgICAgICBjaGFwdGVyQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBjb25zdCBkZXRhaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2hhcHRlcklkKTsKICAgICAgICAgICAgICAgIGlmIChkZXRhaWxzLnN0eWxlLmRpc3BsYXkgPT09ICJub25lIiB8fCAhZGV0YWlscy5zdHlsZS5kaXNwbGF5KSB7CiAgICAgICAgICAgICAgICAgICAgZGV0YWlscy5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICAgICAgICAgICAgICBjaGFwdGVyQnRuLnF1ZXJ5U2VsZWN0b3IoImkiKS5jbGFzc05hbWUgPSAiZmFzIGZhLWNoZXZyb24tdXAiOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBkZXRhaWxzLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgY2hhcHRlckJ0bi5xdWVyeVNlbGVjdG9yKCJpIikuY2xhc3NOYW1lID0gImZhcyBmYS1jaGV2cm9uLWRvd24iOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8g2YXYrdiq2YjZiSDYp9mE2YHYtdmEICjYp9mE2K/YsdmI2LMpCiAgICAgICAgICAgIGNvbnN0IGNoYXB0ZXJEZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIGNoYXB0ZXJEZXRhaWxzLmlkID0gY2hhcHRlcklkOwogICAgICAgICAgICBjaGFwdGVyRGV0YWlscy5zdHlsZSA9ICJkaXNwbGF5Om5vbmU7IHBhZGRpbmc6MTJweDsgYmFja2dyb3VuZDojZjlmOWY5OyBib3JkZXItcmFkaXVzOjAgMCAxMHB4IDEwcHg7IjsKICAgICAgICAgICAgaWYgKGNoYXB0ZXIubGVzc29ucyAmJiBjaGFwdGVyLmxlc3NvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgY2hhcHRlci5sZXNzb25zLmZvckVhY2goKGxlc3NvbiwgbElkeCkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlc3NvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgICAgIGxlc3NvbkRpdi5zdHlsZSA9ICJtYXJnaW4tYm90dG9tOjEwcHg7IGJhY2tncm91bmQ6I2ZmZjsgYm9yZGVyLXJhZGl1czo4cHg7IHBhZGRpbmc6MTBweDsgYm94LXNoYWRvdzowIDFweCA0cHggcmdiYSgwLDAsMCwwLjAzKTsiOwogICAgICAgICAgICAgICAgICAgIGxlc3NvbkRpdi5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+PGkgY2xhc3M9ImZhcyBmYS1wbGF5LWNpcmNsZSI+PC9pPiAke2xlc3Nvbi50aXRsZX08L3N0cm9uZz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLXRvcDo4cHg7Ij4KJHtsZXNzb24udmlkZW8gPyBgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTo3cHg7IiBvbmNsaWNrPSJyZXF1ZXN0VmlkZW9QYXNzd29yZCgnJHtsZXNzb24udmlkZW99JywgJyR7bGVzc29uLnBhc3N3b3JkIHx8ICIifScpIj48aSBjbGFzcz0iZmFzIGZhLXBsYXkiPjwvaT4g2YXYtNin2YfYr9ipINin2YTZgdmK2K/ZitmIPC9idXR0b24+YCA6ICIifSAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2xlc3Nvbi5kb3dubG9hZCA/IGA8YSBjbGFzcz0iYnRuIGJ0bi1kb3dubG9hZCIgaHJlZj0iJHtsZXNzb24uZG93bmxvYWR9IiBkb3dubG9hZCBzdHlsZT0ibWFyZ2luLXJpZ2h0OjdweDsiPjxpIGNsYXNzPSJmYXMgZmEtZG93bmxvYWQiPjwvaT4g2KrZhtiy2YrZhCDYp9mE2YXZhNmBPC9hPmAgOiAiIn0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgICAgICBjaGFwdGVyRGV0YWlscy5hcHBlbmRDaGlsZChsZXNzb25EaXYpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjaGFwdGVyRGV0YWlscy5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6Izg4ODsiPtmE2Kcg2YrZiNis2K8g2K/YsdmI2LMg2YHZiiDZh9iw2Kcg2KfZhNmB2LXZhC48L2Rpdj5gOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaGFwdGVyRGl2LmFwcGVuZENoaWxkKGNoYXB0ZXJCdG4pOwogICAgICAgICAgICBjaGFwdGVyRGl2LmFwcGVuZENoaWxkKGNoYXB0ZXJEZXRhaWxzKTsKICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChjaGFwdGVyRGl2KTsKICAgICAgICB9KTsKICAgIH0KCiAgICAvLyDYqtiw2YrZitmEINin2YTYtNix2YrYrdipCiAgICBjb25zdCBmb290ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGZvb3Rlci5jbGFzc05hbWUgPSAic2xpZGUtY2FyZC1mb290ZXIiOwogICAgZm9vdGVyLmlubmVySFRNTCA9IGAKICAgICAgICA8c3Bhbj48aSBjbGFzcz0iZmFzIGZhLXVzZXIiPjwvaT4gJHtzbGlkZS5jcmVhdGVkQnkgfHwgItmF2KzZh9mI2YQifTwvc3Bhbj4KICAgICAgICA8c3Bhbj48aSBjbGFzcz0iZmFzIGZhLWNhbGVuZGFyLWFsdCI+PC9pPiAke3NsaWRlLmNyZWF0ZWRBdCAmJiBzbGlkZS5jcmVhdGVkQXQudG9EYXRlID8gbmV3IERhdGUoc2xpZGUuY3JlYXRlZEF0LnRvRGF0ZSgpKS50b0xvY2FsZURhdGVTdHJpbmcoKSA6ICIifTwvc3Bhbj4KICAgIGA7CiAgICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgICAgIC8vINiy2LEg2KrYudiv2YrZhCDYp9mE2LTYsdmK2K3YqQogICAgICAgIGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICBlZGl0QnRuLmNsYXNzTmFtZSA9ICJidG4gYnRuLW91dGxpbmUiOwogICAgICAgIGVkaXRCdG4udGV4dENvbnRlbnQgPSAn2KrYudiv2YrZhCc7CiAgICAgICAgZWRpdEJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gIjEwcHgiOwogICAgICAgIGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBlZGl0U2xpZGUoc2xpZGUsIHNsaWRlSWQpKTsKICAgICAgICBmb290ZXIuYXBwZW5kQ2hpbGQoZWRpdEJ0bik7CgogICAgICAgIC8vINiy2LEg2K3YsNmBINin2YTYtNix2YrYrdipCiAgICAgICAgY29uc3QgZGVsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgZGVsQnRuLmNsYXNzTmFtZSA9ICJidG4gYnRuLWRhbmdlciI7CiAgICAgICAgZGVsQnRuLnRleHRDb250ZW50ID0gJ9it2LDZgSc7CiAgICAgICAgZGVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gY29uZmlybURlbGV0ZVNsaWRlKHNsaWRlSWQpKTsKICAgICAgICBmb290ZXIuYXBwZW5kQ2hpbGQoZGVsQnRuKTsKICAgIH0KCiAgICAvLyDYudmG2K8g2KfZhNi22LrYtyDYudmE2Ykg2LHYo9izINin2YTYtNix2YrYrdipINiq2LjZh9ixL9iq2K7ZgdmKINin2YTZgdi12YjZhCDZiNiq2K7ZgdmKINio2KfZgtmKINin2YTYtNix2KfYptitINin2YTZhdmB2KrZiNit2KkKICAgIGhlYWRlci5zdHlsZS5jdXJzb3IgPSAicG9pbnRlciI7CiAgICBoZWFkZXIub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDYpdi62YTYp9mCINis2YXZiti5INin2YTYtNix2KfYptitINin2YTYo9iu2LHZiQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZS1jYXJkLWJvZHknKS5mb3JFYWNoKGIgPT4gewogICAgICAgICAgICBpZiAoYiAhPT0gYm9keSkgYi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0pOwogICAgICAgIC8vINmB2KrYrS/Ypdi62YTYp9mCINin2YTYtNix2YrYrdipINin2YTYrdin2YTZitipCiAgICAgICAgYm9keS5zdHlsZS5kaXNwbGF5ID0gKGJvZHkuc3R5bGUuZGlzcGxheSA9PT0gIm5vbmUiIHx8ICFib2R5LnN0eWxlLmRpc3BsYXkpID8gImJsb2NrIiA6ICJub25lIjsKICAgIH07CgogICAgY2FyZC5hcHBlbmRDaGlsZChoZWFkZXIpOwogICAgY2FyZC5hcHBlbmRDaGlsZChib2R5KTsKICAgIGNhcmQuYXBwZW5kQ2hpbGQoZm9vdGVyKTsKICAgIHJldHVybiBjYXJkOwp9CgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2K/Yp9mE2Kkg2LfZhNioINmD2YTZhdipINiz2LEg2KfZhNmB2YrYr9mK2YggKNiq2KPZg9ivINij2YYg2YfYsNmHINin2YTYr9in2YTYqSDZhdmI2KzZiNiv2Kkg2YXYsdipINmI2KfYrdiv2Kkg2YHZgti3KQpmdW5jdGlvbiByZXF1ZXN0VmlkZW9QYXNzd29yZCh2aWRlb1VybCwgcGFzc3dvcmQpIHsKICAvLyDYpdiw2Kcg2YTYpyDZitmI2KzYryDZg9mE2YXYqSDYs9ix2Iwg2KfYudix2LYg2KfZhNmB2YrYr9mK2Ygg2YXYqNin2LTYsdipCiAgaWYgKCFwYXNzd29yZCkgewogICAgc2hvd0xlc3NvblZpZGVvTW9kYWwodmlkZW9VcmwpOwogICAgcmV0dXJuOwogIH0KICAvLyDZhtin2YHYsNipINil2K/Yrtin2YQg2YPZhNmF2Kkg2KfZhNiz2LEKICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIG1vZGFsLmNsYXNzTmFtZSA9ICJtb2RhbCI7CiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjM4MHB4O3RleHQtYWxpZ246Y2VudGVyOyI+CiAgICAgIDxoMiBjbGFzcz0ibW9kYWwtdGl0bGUiIHN0eWxlPSJjb2xvcjojMGE3MGZmOyI+8J+UkiDZg9mE2YXYqSDYs9ixINin2YTZgdmK2K/ZitmIPC9oMj4KICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE4cHg7Ij7Zh9iw2Kcg2KfZhNmB2YrYr9mK2Ygg2YTZhNmF2LTYqtix2YPZitmGLiDYpdiw2Kcg2YTZhSDYqtmD2YYg2YXYtNiq2LHZg9mL2KfYjCDYqtmI2KfYtdmEINmF2LnZhtinINmE2YTYp9i02KrYsdin2YMuPC9wPgogICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJ2aWRlb1Bhc3N3b3JkSW5wdXQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHBsYWNlaG9sZGVyPSLYo9iv2K7ZhCDZg9mE2YXYqSDYp9mE2LPYsSIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTRweDsiPgogICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7Z2FwOjEwcHg7anVzdGlmeS1jb250ZW50OmNlbnRlcjttYXJnaW4tYm90dG9tOjEwcHg7Ij4KICAgICAgICA8YnV0dG9uIGlkPSJjb25maXJtVmlkZW9QYXNzd29yZEJ0biIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+2KrYo9mD2YrYrzwvYnV0dG9uPgogICAgICAgIDxidXR0b24gaWQ9ImNhbmNlbFZpZGVvUGFzc3dvcmRCdG4iIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICAgIDxidXR0b24gaWQ9ImNvbnRhY3RXaGF0c2FwcEJ0biIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgc3R5bGU9IndpZHRoOjEwMCU7bWFyZ2luLXRvcDo4cHg7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFiIGZhLXdoYXRzYXBwIj48L2k+INiq2YjYp9i12YQg2YTZhNin2LTYqtix2KfZgwogICAgICA8L2J1dHRvbj4KICAgIDwvZGl2PgogIGA7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CgogIC8vINiy2LEg2KrYo9mD2YrYryDZg9mE2YXYqSDYp9mE2LPYsQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maXJtVmlkZW9QYXNzd29yZEJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aWRlb1Bhc3N3b3JkSW5wdXQiKS52YWx1ZS50cmltKCk7CiAgICBpZiAoaW5wdXQgPT09IHBhc3N3b3JkKSB7CiAgICAgIG1vZGFsLnJlbW92ZSgpOwogICAgICBzaG93TGVzc29uVmlkZW9Nb2RhbCh2aWRlb1VybCk7CiAgICB9IGVsc2UgewogICAgICBhbGVydCgi2YPZhNmF2Kkg2KfZhNiz2LEg2LrZitixINi12K3Zitit2KkhIik7CiAgICB9CiAgfTsKCiAgLy8g2LLYsSDYpdmE2LrYp9ihCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbFZpZGVvUGFzc3dvcmRCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgbW9kYWwucmVtb3ZlKCk7CiAgfTsKCiAgLy8g2LLYsSDYqtmI2KfYtdmEINmI2KfYqtiz2KfYqAogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb250YWN0V2hhdHNhcHBCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgLy8g2LnYr9mEINin2YTYsdmC2YUg2YjYp9mE2LHYs9in2YTYqSDYrdiz2Kgg2LHYutio2KrZgwogICAgY29uc3QgcGhvbmUgPSAiMjAxMDY0MTc0MjcwIjsgLy8g2LbYuSDYsdmC2YXZgyDYqNiv2YjZhiArCiAgICBjb25zdCBtc2cgPSBlbmNvZGVVUklDb21wb25lbnQoItmF2LHYrdio2YvYp9iMINij2LHZitivINin2YTYp9i02KrYsdin2YMg2YHZiiDZhdmG2LXYqSDYp9mE2YHZitiy2YrYp9ihINin2YTZhNiw2YrYsNipLiIpOwogICAgd2luZG93Lm9wZW4oYGh0dHBzOi8vd2EubWUvJHtwaG9uZX0/dGV4dD0ke21zZ31gLCAiX2JsYW5rIik7CiAgfTsKCiAgLy8g2K/YudmFINiy2LEgRW50ZXIKICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aWRlb1Bhc3N3b3JkSW5wdXQiKTsKICBpbnB1dC5mb2N1cygpOwogIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbihlKSB7CiAgICBpZiAoZS5rZXkgPT09ICJFbnRlciIpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maXJtVmlkZW9QYXNzd29yZEJ0biIpLmNsaWNrKCk7CiAgfSk7Cn0KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KKGZ1bmN0aW9uKCl7CiAgY29uc3Qgb3BlbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWN0VXNCdG4nKTsKICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWN0VXNNb2RhbCcpOwogIGNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlQ29udGFjdFVzTW9kYWwnKTsKICBjb25zdCBjb3B5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RVc0NvcHlCdG4nKTsKCiAgZnVuY3Rpb24gb3Blbk1vZGFsKCl7IG1vZGFsLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsgbW9kYWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsJ2ZhbHNlJyk7IGNsb3NlQnRuLmZvY3VzKCk7IH0KICBmdW5jdGlvbiBjbG9zZU1vZGFsKCl7IG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsgbW9kYWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsJ3RydWUnKTsgfQoKICBvcGVuQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Nb2RhbCk7CiAgY2xvc2VCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VNb2RhbCk7CiAgbW9kYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7IGlmIChlLnRhcmdldCA9PT0gbW9kYWwpIGNsb3NlTW9kYWwoKTsgfSk7CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4geyBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSBjbG9zZU1vZGFsKCk7IH0pOwoKICBjb3B5QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgIG5hdmlnYXRvci5jbGlwYm9hcmQ/LndyaXRlVGV4dCgnKzIwMTA2MDkxMTA5MycpLnRoZW4oKCk9PiB7CiAgICAgIGFsZXJ0KCfYqtmFINmG2LPYriDYsdmC2YUg2KfZhNmI2KfYqtiz2KfYqCcpOwogICAgfSkuY2F0Y2goKCk9PiBhbGVydCgn2YHYtNmEINin2YTZhtiz2K4g4oCUINin2YbYs9iuINin2YTYsdmC2YUg2YrYr9mI2YrYp9mLOiArMjAxMDYwOTExMDkzJykpOwogIH0pOwp9KSgpOwoKLy8g2K/Yp9mE2Kkg2KrYudiv2YrZhCDYp9mE2LTYsdmK2K3YqQovLyDYr9in2YTYqSDYqti52K/ZitmEINin2YTYtNix2YrYrdipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2K/Yp9mE2Kkg2KrYudiv2YrZhCDYp9mE2LTYsdmK2K3YqQpmdW5jdGlvbiBlZGl0U2xpZGUoc2xpZGUsIHNsaWRlSWQpIHsKICAgICAgZWRpdGluZ1NsaWRlSWQgPSBzbGlkZUlkOyAvLyDZh9mG2Kcg2YHZgti3CgogICAgc2V0QWN0aXZlTWVudUl0ZW0obWVudUNyZWF0ZVNsaWRlKTsKICAgIHNob3dQYWdlKGNyZWF0ZVNsaWRlUGFnZSk7CgogICAgLy8g2KrYudio2KbYqSDYqNmK2KfZhtin2Kog2KfZhNi02LHZitit2KkKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZVRpdGxlIikudmFsdWUgPSBzbGlkZS50aXRsZSB8fCAiIjsKCiAgICAvLyDYpdiw2Kcg2YPYp9mGINmE2K/ZitmDINit2YLZhCDZhdit2KrZiNmJINin2YTYtNix2YrYrdipICjZhti12Yop2Iwg2LnYqNim2Ycg2YfZhtinCiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlQ29udGVudCIpKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlQ29udGVudCIpLnZhbHVlID0gc2xpZGUuY29udGVudCB8fCAiIjsKICAgIH0KCiAgICAvLyDYqtmB2LHZiti6INin2YTZgdi12YjZhCDYp9mE2YLYr9mK2YXYqQogICAgY29uc3QgY2hhcHRlcnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhcHRlcnNDb250YWluZXIiKTsKICAgIGNoYXB0ZXJzQ29udGFpbmVyLmlubmVySFRNTCA9ICIiOwoKICAgIC8vINil2LnYp9iv2Kkg2KjZhtin2KEg2KfZhNmB2LXZiNmEINmI2KfZhNiv2LHZiNizCiAgICBpZiAoc2xpZGUuY2hhcHRlcnMgJiYgQXJyYXkuaXNBcnJheShzbGlkZS5jaGFwdGVycykpIHsKICAgICAgICBzbGlkZS5jaGFwdGVycy5mb3JFYWNoKChjaGFwdGVyLCBjSWR4KSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGNoYXB0ZXJJZCA9IERhdGUubm93KCkgKyBjSWR4OwogICAgICAgICAgICBjb25zdCBjaGFwdGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIGNoYXB0ZXJEaXYuY2xhc3NOYW1lID0gImNoYXB0ZXItaXRlbSI7CiAgICAgICAgICAgIGNoYXB0ZXJEaXYuc3R5bGUgPSAiYm9yZGVyOjFweCBzb2xpZCAjMGE3MGZmOyBib3JkZXItcmFkaXVzOjhweDsgcGFkZGluZzoxNXB4OyBtYXJnaW4tYm90dG9tOjE1cHg7IGJhY2tncm91bmQ6I2Y3ZmFmZiI7CiAgICAgICAgICAgIGNoYXB0ZXJEaXYuaWQgPSAiY2hhcHRlci0iICsgY2hhcHRlcklkOwogICAgICAgICAgICBjaGFwdGVyRGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbD7YudmG2YjYp9mGINin2YTZgdi12YQ8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGNoYXB0ZXItdGl0bGUiIHZhbHVlPSIke2NoYXB0ZXIudGl0bGUgfHwgIiJ9IiByZXF1aXJlZD4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtiv2LHZiNizINin2YTZgdi12YQ8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Imxlc3NvbnNDb250YWluZXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIGFkZExlc3NvbkJ0biIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4g2KXYttin2YHYqSDYr9ix2LMKICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmUtY2hhcHRlci1idG4iIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHg7Ij7Yrdiw2YEg2KfZhNmB2LXZhDwvYnV0dG9uPgogICAgICAgICAgICBgOwogICAgICAgICAgICBjaGFwdGVyc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjaGFwdGVyRGl2KTsKCiAgICAgICAgICAgIC8vINil2LbYp9mB2Kkg2KfZhNiv2LHZiNizCiAgICAgICAgICAgIGNvbnN0IGxlc3NvbnNDb250YWluZXIgPSBjaGFwdGVyRGl2LnF1ZXJ5U2VsZWN0b3IoIi5sZXNzb25zQ29udGFpbmVyIik7CiAgICAgICAgICAgIGlmIChjaGFwdGVyLmxlc3NvbnMgJiYgQXJyYXkuaXNBcnJheShjaGFwdGVyLmxlc3NvbnMpKSB7CiAgICAgICAgICAgICAgICBjaGFwdGVyLmxlc3NvbnMuZm9yRWFjaCgobGVzc29uLCBsSWR4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVzc29uSWQgPSBEYXRlLm5vdygpICsgbElkeDsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXNzb25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgICAgICBsZXNzb25EaXYuY2xhc3NOYW1lID0gImxlc3Nvbi1pdGVtIjsKICAgICAgICAgICAgICAgICAgICBsZXNzb25EaXYuc3R5bGUgPSAiYm9yZGVyOjFweCBzb2xpZCAjZWVlOyBib3JkZXItcmFkaXVzOjhweDsgcGFkZGluZzoxMnB4OyBtYXJnaW4tYm90dG9tOjEwcHg7IGJhY2tncm91bmQ6I2Y5ZjlmOSI7CiAgICAgICAgICAgICAgICAgICAgbGVzc29uRGl2LmlkID0gImxlc3Nvbi0iICsgbGVzc29uSWQ7CiAgICAgICAgICAgICAgICAgICAgbGVzc29uRGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2LnZhtmI2KfZhiDYp9mE2K/YsdizPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGxlc3Nvbi10aXRsZSIgdmFsdWU9IiR7bGVzc29uLnRpdGxlIHx8ICIifSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Ysdin2KjYtyDZgdmK2K/ZitmIINin2YTYr9ix2LMgKNmK2YjYqtmK2YjYqCDYo9mIIG1wNCk8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgbGVzc29uLXZpZGVvIiB2YWx1ZT0iJHtsZXNzb24udmlkZW8gfHwgIiJ9IiBwbGFjZWhvbGRlcj0i2LHYp9io2Lcg2YHZitiv2YrZiCDYp9mE2K/YsdizIj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtmD2YTZhdipINiz2LEg2KfZhNmB2YrYr9mK2YggKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBsZXNzb24tcGFzc3dvcmQiIHZhbHVlPSIke2xlc3Nvbi5wYXNzd29yZCB8fCAiIn0iIHBsYWNlaG9sZGVyPSLYp9iq2LHZg9mHINmB2KfYsdi62KfZiyDYpdiw2Kcg2YTZhSDYqtix2LrYqCDYqNmD2YTZhdipINiz2LEiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2LHYp9io2Lcg2KrYrdmF2YrZhCDZhdmE2YEg2KfZhNiv2LHYsyAo2KfYrtiq2YrYp9ix2YopPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGxlc3Nvbi1kb3dubG9hZCIgdmFsdWU9IiR7bGVzc29uLmRvd25sb2FkIHx8ICIifSIgcGxhY2Vob2xkZXI9Itix2KfYqNi3INiq2K3ZhdmK2YQg2YXYqNin2LTYsSDZhNmE2YXZhNmBICjYp9iu2KrZitin2LHZiikiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmUtbGVzc29uLWJ0biI+2K3YsNmBINin2YTYr9ix2LM8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIGxlc3NvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQobGVzc29uRGl2KTsKCiAgICAgICAgICAgICAgICAgICAgbGVzc29uRGl2LnF1ZXJ5U2VsZWN0b3IoIi5yZW1vdmUtbGVzc29uLWJ0biIpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxlc3NvbkRpdi5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyBlbmFibGVGaWxlVXBsb2FkT25JbnB1dHMoKTsgfSBjYXRjaCAoZXJyKSB7IGNvbnNvbGUuZXJyb3IoJ2VuYWJsZUZpbGVVcGxvYWRPbklucHV0cyBlcnJvcicsIGVycik7IH0KCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8g2LLYsSDYpdi22KfZgdipINiv2LHYsyDYrNiv2YrYrwogICAgICAgICAgICBjaGFwdGVyRGl2LnF1ZXJ5U2VsZWN0b3IoIi5hZGRMZXNzb25CdG4iKS5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgbGVzc29uc0NvbnRhaW5lciA9IGNoYXB0ZXJEaXYucXVlcnlTZWxlY3RvcigiLmxlc3NvbnNDb250YWluZXIiKTsKICAgICAgICAgICAgICAgIGNvbnN0IGxlc3NvbklkID0gRGF0ZS5ub3coKTsKICAgICAgICAgICAgICAgIGNvbnN0IGxlc3NvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgbGVzc29uRGl2LmNsYXNzTmFtZSA9ICJsZXNzb24taXRlbSI7CiAgICAgICAgICAgICAgICBsZXNzb25EaXYuc3R5bGUgPSAiYm9yZGVyOjFweCBzb2xpZCAjZWVlOyBib3JkZXItcmFkaXVzOjhweDsgcGFkZGluZzoxMnB4OyBtYXJnaW4tYm90dG9tOjEwcHg7IGJhY2tncm91bmQ6I2Y5ZjlmOSI7CiAgICAgICAgICAgICAgICBsZXNzb25EaXYuaWQgPSAibGVzc29uLSIgKyBsZXNzb25JZDsKICAgICAgICAgICAgICAgIGxlc3NvbkRpdi5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7YudmG2YjYp9mGINin2YTYr9ix2LM8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBsZXNzb24tdGl0bGUiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2LHYp9io2Lcg2YHZitiv2YrZiCDYp9mE2K/YsdizICjZitmI2KrZitmI2Kgg2KPZiCBtcDQpPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgbGVzc29uLXZpZGVvIiBwbGFjZWhvbGRlcj0i2LHYp9io2Lcg2YHZitiv2YrZiCDYp9mE2K/YsdizIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtmD2YTZhdipINiz2LEg2KfZhNmB2YrYr9mK2YggKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGxlc3Nvbi1wYXNzd29yZCIgcGxhY2Vob2xkZXI9Itin2KrYsdmD2Ycg2YHYp9ix2LrYp9mLINil2LDYpyDZhNmFINiq2LHYutioINio2YPZhNmF2Kkg2LPYsSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Ysdin2KjYtyDYqtit2YXZitmEINmF2YTZgSDYp9mE2K/YsdizICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBsZXNzb24tZG93bmxvYWQiIHBsYWNlaG9sZGVyPSLYsdin2KjYtyDYqtit2YXZitmEINmF2KjYp9i02LEg2YTZhNmF2YTZgSAo2KfYrtiq2YrYp9ix2YopIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIHJlbW92ZS1sZXNzb24tYnRuIj7Yrdiw2YEg2KfZhNiv2LHYszwvYnV0dG9uPgogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIGxlc3NvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQobGVzc29uRGl2KTsKCiAgICAgICAgICAgICAgICBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLnJlbW92ZS1sZXNzb24tYnRuIikub25jbGljayA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICBsZXNzb25EaXYucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7IGVuYWJsZUZpbGVVcGxvYWRPbklucHV0cygpOyB9IGNhdGNoIChlcnIpIHsgY29uc29sZS5lcnJvcignZW5hYmxlRmlsZVVwbG9hZE9uSW5wdXRzIGVycm9yJywgZXJyKTsgfQoKCiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvLyDYstixINit2LDZgSDYp9mE2YHYtdmECiAgICAgICAgICAgIGNoYXB0ZXJEaXYucXVlcnlTZWxlY3RvcigiLnJlbW92ZS1jaGFwdGVyLWJ0biIpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICBjaGFwdGVyRGl2LnJlbW92ZSgpOwogICAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgfQoKICAgIC8vINiq2LrZitmK2LEg2LLYsSDYp9mE2K3Zgdi4INmE2YrZgtmI2YUg2KjYp9mE2KrYrdiv2YrYqyDYqNiv2YTYp9mLINmF2YYg2KfZhNil2LbYp9mB2KkKICAgIGNvbnN0IHNsaWRlRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZUZvcm0iKTsKICAgIHNsaWRlRm9ybS5vbnN1Ym1pdCA9IGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgY29uc3QgY2hhcHRlcnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhcHRlcnNDb250YWluZXIiKTsKICAgICAgICBjb25zdCBjaGFwdGVyRGl2cyA9IGNoYXB0ZXJzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi5jaGFwdGVyLWl0ZW0iKTsKICAgICAgICBjb25zdCBjaGFwdGVyc0FyciA9IFtdOwogICAgICAgIGNoYXB0ZXJEaXZzLmZvckVhY2goY2hhcHRlckRpdiA9PiB7CiAgICAgICAgICAgIGNvbnN0IGxlc3NvbnNBcnIgPSBbXTsKICAgICAgICAgICAgY29uc3QgbGVzc29uRGl2cyA9IGNoYXB0ZXJEaXYucXVlcnlTZWxlY3RvckFsbCgiLmxlc3Nvbi1pdGVtIik7CiAgICAgICAgICAgIGxlc3NvbkRpdnMuZm9yRWFjaChsZXNzb25EaXYgPT4gewogICAgICAgICAgICAgICAgbGVzc29uc0Fyci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogbGVzc29uRGl2LnF1ZXJ5U2VsZWN0b3IoIi5sZXNzb24tdGl0bGUiKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICAgICAgdmlkZW86IGxlc3NvbkRpdi5xdWVyeVNlbGVjdG9yKCIubGVzc29uLXZpZGVvIikudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkOiBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLmxlc3Nvbi1kb3dubG9hZCIpID8gbGVzc29uRGl2LnF1ZXJ5U2VsZWN0b3IoIi5sZXNzb24tZG93bmxvYWQiKS52YWx1ZS50cmltKCkgOiAiIiwKICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogbGVzc29uRGl2LnF1ZXJ5U2VsZWN0b3IoIi5sZXNzb24tcGFzc3dvcmQiKSA/IGxlc3NvbkRpdi5xdWVyeVNlbGVjdG9yKCIubGVzc29uLXBhc3N3b3JkIikudmFsdWUudHJpbSgpIDogIiIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2hhcHRlcnNBcnIucHVzaCh7CiAgICAgICAgICAgICAgICB0aXRsZTogY2hhcHRlckRpdi5xdWVyeVNlbGVjdG9yKCIuY2hhcHRlci10aXRsZSIpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgIGxlc3NvbnM6IGxlc3NvbnNBcnIKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oInNsaWRlcyIpLmRvYyhzbGlkZUlkKS51cGRhdGUoewogICAgICAgICAgICB0aXRsZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlVGl0bGUiKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgIC8vINil2LDYpyDZg9in2YYg2YTYr9mK2YMg2K3ZgtmEINmF2K3YqtmI2Ykg2KfZhNi02LHZitit2KkKICAgICAgICAgICAgLi4uKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZUNvbnRlbnQiKSAmJiB7IGNvbnRlbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZUNvbnRlbnQiKS52YWx1ZS50cmltKCkgfSksCiAgICAgICAgICAgIGNoYXB0ZXJzOiBjaGFwdGVyc0FyciwKICAgICAgICAgICAgdXBkYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogICAgICAgIH0pOwogICAgICAgIHNob3dUb2FzdCgi2KrZhSDYqtit2K/ZitirINin2YTYtNix2YrYrdipINio2YbYrNin2K0hIiwgInN1Y2Nlc3MiKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVGb3JtIikucmVzZXQoKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhcHRlcnNDb250YWluZXIiKS5pbm5lckhUTUwgPSAiIjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVDcmVhdGlvblN1Y2Nlc3MiKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVDcmVhdGlvblN1Y2Nlc3MiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0sIDIwMDApOwogICAgICAgIC8vINil2LnYp9iv2Kkg2LLYsSDYp9mE2K3Zgdi4INmE2YTZiNi22Lkg2KfZhNin2YHYqtix2KfYttmKICjYpdi22KfZgdipINi02LHZitit2KkpCiAgICAgICAgc2xpZGVGb3JtLm9uc3VibWl0ID0gbnVsbDsKICAgIH07Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINiy2LEg2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINin2YTYqtmKINmE2YrYsyDZhNmH2Kcg2YHYptipCmNvbnN0IGRlbGV0ZU5vQ2F0ZWdvcnlRdWVzdGlvbnNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKZGVsZXRlTm9DYXRlZ29yeVF1ZXN0aW9uc0J0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1kYW5nZXIiOwpkZWxldGVOb0NhdGVnb3J5UXVlc3Rpb25zQnRuLnN0eWxlLm1hcmdpbkJvdHRvbSA9ICIxNXB4IjsKZGVsZXRlTm9DYXRlZ29yeVF1ZXN0aW9uc0J0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPiDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2KjYr9mI2YYg2YHYptipYDsKZGVsZXRlTm9DYXRlZ29yeVF1ZXN0aW9uc0J0bi5pZCA9ICJkZWxldGVOb0NhdGVnb3J5UXVlc3Rpb25zQnRuIjsKCi8vINij2LbZgSDYp9mE2LLYsSDYqtit2Kog2YLYp9im2YXYqSDYp9mE2YHYptin2Kog2YHZiiDYqNmG2YMg2KfZhNij2LPYptmE2KkKdmFyIHF1ZXN0aW9uQmFua0NhdGVnb3J5U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5Iik7CmlmIChxdWVzdGlvbkJhbmtDYXRlZ29yeVNlbGVjdCkgewogIHF1ZXN0aW9uQmFua0NhdGVnb3J5U2VsZWN0LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZGVsZXRlTm9DYXRlZ29yeVF1ZXN0aW9uc0J0bik7Cn0KCi8vINi52YbYryDYp9mE2LbYuti3INi52YTZiSDYstixINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYqNiv2YjZhiDZgdim2KkKZGVsZXRlTm9DYXRlZ29yeVF1ZXN0aW9uc0J0bi5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24gKCkgewogIGlmICghY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINin2YTYqtmKINmE2YrYsyDZhNmH2Kcg2YHYptip2J8g2YTYpyDZitmF2YPZhiDYp9mE2KrYsdin2KzYuSDYudmGINmH2LDYpyDYp9mE2KXYrNix2KfYoSEiKSkgcmV0dXJuOwogIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikud2hlcmUoImNhdGVnb3J5SWQiLCAiPT0iLCBudWxsKS5nZXQoKTsKICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgIHNob3dUb2FzdCgi2YTYpyDZitmI2KzYryDYo9iz2KbZhNipINio2K/ZiNmGINmB2KbYqS4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogIHNuYXBzaG90LmZvckVhY2goZG9jID0+IGJhdGNoLmRlbGV0ZShkb2MucmVmKSk7CiAgYXdhaXQgYmF0Y2guY29tbWl0KCk7CiAgc2hvd1RvYXN0KCLYqtmFINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYqNiv2YjZhiDZgdim2Kkg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogIGxvYWRRdWVzdGlvbkJhbmsoKTsKfTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2LLYsSDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2YHZiiDYrNmF2YrYuSDYp9mE2YHYptin2KogKNio2K/ZiNmGINit2LDZgSDYp9mE2YHYptin2Kog2YbZgdiz2YfYpykKY29uc3QgZGVsZXRlQWxsUXVlc3Rpb25zQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CmRlbGV0ZUFsbFF1ZXN0aW9uc0J0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1kYW5nZXIiOwpkZWxldGVBbGxRdWVzdGlvbnNCdG4uc3R5bGUubWFyZ2luQm90dG9tID0gIjE1cHgiOwpkZWxldGVBbGxRdWVzdGlvbnNCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINmB2Yog2YPZhCDYp9mE2YHYptin2KpgOwpkZWxldGVBbGxRdWVzdGlvbnNCdG4uaWQgPSAiZGVsZXRlQWxsUXVlc3Rpb25zQnRuIjsKCi8vINij2LbZgSDYp9mE2LLYsSDYqtit2Kog2YLYp9im2YXYqSDYp9mE2YHYptin2Kog2YHZiiDYqNmG2YMg2KfZhNij2LPYptmE2KkKcXVlc3Rpb25CYW5rQ2F0ZWdvcnlTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKTsKaWYgKHF1ZXN0aW9uQmFua0NhdGVnb3J5U2VsZWN0KSB7CiAgcXVlc3Rpb25CYW5rQ2F0ZWdvcnlTZWxlY3QucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChkZWxldGVBbGxRdWVzdGlvbnNCdG4pOwp9CgovLyDYudmG2K8g2KfZhNi22LrYtyDYudmE2Ykg2LLYsSDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2YHZiiDZg9mEINin2YTZgdim2KfYqgpkZWxldGVBbGxRdWVzdGlvbnNCdG4ub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uICgpIHsKICBpZiAoIWNvbmZpcm0oItmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDZgdmKINmD2YQg2KfZhNmB2KbYp9iq2J8g2YTYpyDZitmF2YPZhiDYp9mE2KrYsdin2KzYuSDYudmGINmH2LDYpyDYp9mE2KXYrNix2KfYoSEiKSkgcmV0dXJuOwogIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikuZ2V0KCk7CiAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICBzaG93VG9hc3QoItmE2Kcg2YrZiNis2K8g2KPYs9im2YTYqSDZhNit2LDZgdmH2KcuIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIGNvbnN0IGJhdGNoID0gZGIuYmF0Y2goKTsKICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiBiYXRjaC5kZWxldGUoZG9jLnJlZikpOwogIGF3YWl0IGJhdGNoLmNvbW1pdCgpOwogIHNob3dUb2FzdCgi2KrZhSDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogIGxvYWRRdWVzdGlvbkJhbmsoKTsKfTsKCi8vINiy2LEg2K3YsNmBINmB2KbYqSDZhdi52YrZkdmG2KkKY29uc3QgZGVsZXRlQ2F0ZWdvcnlCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKZGVsZXRlQ2F0ZWdvcnlCdG4uY2xhc3NOYW1lID0gImJ0biBidG4tZGFuZ2VyIjsKZGVsZXRlQ2F0ZWdvcnlCdG4uc3R5bGUubWFyZ2luUmlnaHQgPSAiMTBweCI7CmRlbGV0ZUNhdGVnb3J5QnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYp9mE2YHYptipINin2YTZhdit2K/Yr9ipYDsKZGVsZXRlQ2F0ZWdvcnlCdG4uaWQgPSAiZGVsZXRlQ2F0ZWdvcnlCdG4iOwoKLy8g2KPYttmBINin2YTYstixINio2KzZiNin2LEg2LLYsSDYpdi22KfZgdipINmB2KbYqSDYrNiv2YrYr9ipCmNvbnN0IGFkZENhdGVnb3J5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZENhdGVnb3J5QnRuIik7CmlmIChhZGRDYXRlZ29yeUJ0bikgewogIGFkZENhdGVnb3J5QnRuLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZGVsZXRlQ2F0ZWdvcnlCdG4pOwp9CgovLyDYudmG2K8g2KfZhNi22LrYtyDYudmE2Ykg2LLYsSDYrdiw2YEg2KfZhNmB2KbYqSDYp9mE2YXYrdiv2K/YqQpkZWxldGVDYXRlZ29yeUJ0bi5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24gKCkgewogIGNvbnN0IGNhdGVnb3J5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKS52YWx1ZTsKICBpZiAoIWNhdGVnb3J5SWQpIHsKICAgIHNob3dUb2FzdCgi2KfYrtiq2LEg2YHYptipINij2YjZhNin2YshIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIGlmICghY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2K3YsNmBINmH2LDZhyDYp9mE2YHYptip2J8g2YTZhiDZitiq2YUg2K3YsNmBINin2YTYo9iz2KbZhNipINin2YTZhdix2KrYqNi32Kkg2KjZh9inLiIpKSByZXR1cm47CiBhd2FpdCBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkNhdGVnb3JpZXMiKS5kb2MoY2F0ZWdvcnlJZCkuZGVsZXRlKCk7CnNob3dUb2FzdCgi2KrZhSDYrdiw2YEg2KfZhNmB2KbYqSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CnJlZnJlc2hBbGxDYXRlZ29yeUxhYmVscygpOwpsb2FkUXVlc3Rpb25CYW5rKCk7Cn07CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBsb2FkU3R1ZGVudHMoKSB7CiAgY29uc3Qgc3R1ZGVudHNUYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50c1RhYmxlIik7CiAgY29uc3Qgc3R1ZGVudHNDb3VudEVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudHNDb3VudCIpOwogIHN0dWRlbnRzVGFibGUuaW5uZXJIVE1MID0gIjx0cj48dGQgY29sc3Bhbj1cIjhcIj7YrNin2LHZiiDYqtit2YXZitmEINmC2KfYptmF2Kkg2KfZhNi32YTYp9ioLi4uPC90ZD48L3RyPiI7CiAgZGIuY29sbGVjdGlvbigidXNlcnMiKS53aGVyZSgicm9sZSIsICc9PScsICdzdHVkZW50JykuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICBjb25zdCBmaWx0ZXJlZFN0dWRlbnRzID0gW107CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNvbnN0IHN0dWRlbnQgPSBkb2MuZGF0YSgpOwogICAgICAvLyDYp9iz2KrYqNi52KfYryDYrdiz2KfYqCDYp9mE2YXYudmE2YUg2YXZhiDZgtin2KbZhdipINin2YTYt9mE2KfYqCAo2K3YqtmJINmE2Ygg2YPYp9mGINmE2Ycgcm9sZT10ZWFjaGVyKQogICAgICBpZiAoCiAgICAgICAgc3R1ZGVudC5lbWFpbCAhPT0gIm5vYm9keXNlZWV4YW1AZ21haWwuY29tIiAmJgogICAgICAgIHN0dWRlbnQucm9sZSAhPT0gInRlYWNoZXIiCiAgICAgICkgewogICAgICAgIHN0dWRlbnQuaWQgPSBkb2MuaWQ7CiAgICAgICAgZmlsdGVyZWRTdHVkZW50cy5wdXNoKHN0dWRlbnQpOwogICAgICB9CiAgICB9KTsKCiAgICBpZiAoc3R1ZGVudHNDb3VudEVsZW0pIHN0dWRlbnRzQ291bnRFbGVtLnRleHRDb250ZW50ID0gZmlsdGVyZWRTdHVkZW50cy5sZW5ndGg7CgogICAgaWYgKGZpbHRlcmVkU3R1ZGVudHMubGVuZ3RoID09PSAwKSB7CiAgICAgIHN0dWRlbnRzVGFibGUuaW5uZXJIVE1MID0gIjx0cj48dGQgY29sc3Bhbj1cIjhcIj7ZhNinINmK2YjYrNivINi32YTYp9ioINmF2LPYrNmE2YrZhiDYqNi52K88L3RkPjwvdHI+IjsKICAgICAgcmV0dXJuOwogICAgfQogICAgc3R1ZGVudHNUYWJsZS5pbm5lckhUTUwgPSAnJzsKICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7CiAgICBjb25zdCBwcm9taXNlcyA9IGZpbHRlcmVkU3R1ZGVudHMubWFwKHN0dWRlbnQgPT4gewogICAgICByZXR1cm4gZGIuY29sbGVjdGlvbigncmVzdWx0cycpLndoZXJlKCJ1c2VySWQiLCAnPT0nLCBzdHVkZW50LmlkKS5nZXQoKS50aGVuKHJlc3VsdHNTbmFwID0+IHsKICAgICAgICBsZXQgdG90YWxTY29yZSA9IDA7CiAgICAgICAgbGV0IGV4YW1zQ291bnQgPSAwOwogICAgICAgIHJlc3VsdHNTbmFwLmZvckVhY2gocmVzRG9jID0+IHsKICAgICAgICAgIGNvbnN0IHJlcyA9IHJlc0RvYy5kYXRhKCk7CiAgICAgICAgICB0b3RhbFNjb3JlICs9IHJlcy5zY29yZVBlcmNlbnRhZ2U7CiAgICAgICAgICBleGFtc0NvdW50Kys7CiAgICAgICAgfSk7CiAgICAgICAgc3R1ZGVudC5hdmVyYWdlR3JhZGUgPSBleGFtc0NvdW50ID4gMCA/ICh0b3RhbFNjb3JlIC8gZXhhbXNDb3VudCkudG9GaXhlZCgyKSA6IG51bGw7CiAgICAgICAgc3R1ZGVudC5sYXN0QWN0aXZlID0gc3R1ZGVudC5sYXN0QWN0aXZlCiAgICAgICAgICA/IHN0dWRlbnQubGFzdEFjdGl2ZS50b0RhdGUKICAgICAgICAgICAgPyBzdHVkZW50Lmxhc3RBY3RpdmUudG9EYXRlKCkuZ2V0VGltZSgpCiAgICAgICAgICAgIDogc3R1ZGVudC5sYXN0QWN0aXZlCiAgICAgICAgICA6IDA7CiAgICAgICAgcmV0dXJuIHN0dWRlbnQ7CiAgICAgIH0pOwogICAgfSk7CiAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihzdHVkZW50c1dpdGhHcmFkZXMgPT4gewogICAgICBzdHVkZW50c1dpdGhHcmFkZXMuZm9yRWFjaChzdHVkZW50ID0+IHsKICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHN0dWRlbnQubGFzdEFjdGl2ZSAmJiAobm93IC0gc3R1ZGVudC5sYXN0QWN0aXZlIDwgMTgwMDAwKTsKICAgICAgICBsZXQgc3RhdHVzVGV4dCA9ICcnOwogICAgICAgIGxldCBzdGF0dXNDb2xvciA9ICcnOwogICAgICAgIGlmIChpc0FjdGl2ZSkgewogICAgICAgICAgc3RhdHVzVGV4dCA9ICfZhti02Lcg2KfZhNii2YYnOwogICAgICAgICAgc3RhdHVzQ29sb3IgPSAnIzE0ZWU4OCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0YXR1c1RleHQgPSAn2LrZitixINmG2LTYtyc7CiAgICAgICAgICBzdGF0dXNDb2xvciA9ICcjZmM1YzY1JzsKICAgICAgICB9CgogICAgICAgIC8vINit2YLZhCDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2Kkg2YXYuSDYpdmF2YPYp9mG2YrYqSDYp9mE2KrYudiv2YrZhCDZhNmE2YXYudmE2YUKICAgICAgICBsZXQgeWVhclNlbGVjdCA9IGAKICAgICAgICAgIDxzZWxlY3Qgb25jaGFuZ2U9InVwZGF0ZVN0dWRlbnRZZWFyKCcke3N0dWRlbnQuaWR9JywgdGhpcy52YWx1ZSkiIHN0eWxlPSJtaW4td2lkdGg6MTEwcHg7Ij4KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7YutmK2LEg2YXYrdiv2K/YqTwvb3B0aW9uPgogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KPZiNmE2Ykg2KvYp9mG2YjZiiIgJHtzdHVkZW50LnllYXIgPT09ICLYp9mE2KPZiNmE2Ykg2KvYp9mG2YjZiiIgPyAic2VsZWN0ZWQiIDogIiJ9Ptin2YTYo9mI2YTZiSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YbZitipINir2KfZhtmI2YoiICR7c3R1ZGVudC55ZWFyID09PSAi2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZiiIgPyAic2VsZWN0ZWQiIDogIiJ9Ptin2YTYq9in2YbZitipINir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZiiIgJHtzdHVkZW50LnllYXIgPT09ICLYp9mE2KvYp9mE2KvYqSDYq9in2YbZiNmKIiA/ICJzZWxlY3RlZCIgOiAiIn0+2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgPHRkPgogICAgICAgICAgPHNlbGVjdCBvbmNoYW5nZT0idXBkYXRlU3R1ZGVudFRlcm0oJyR7c3R1ZGVudC5pZH0nLCB0aGlzLnZhbHVlKSIgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9Im1pbi13aWR0aDo5MHB4OyI+CiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2KfZhNiq2LHZhTwvb3B0aW9uPgogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KPZiNmEIiAke3N0dWRlbnQudGVybSA9PT0gItin2YTYo9mI2YQiID8gInNlbGVjdGVkIiA6ICIifT7Yp9mE2KPZiNmEPC9vcHRpb24+CiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YbZiiIgJHtzdHVkZW50LnRlcm0gPT09ICLYp9mE2KvYp9mG2YoiID8gInNlbGVjdGVkIiA6ICIifT7Yp9mE2KvYp9mG2Yo8L29wdGlvbj4KICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgIDwvdGQ+CiAgICAgICAgYDsKCiAgICAgICAgc3R1ZGVudHNUYWJsZS5pbm5lckhUTUwgKz0gYAogICAgICAgICAgPHRyPgogICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgPHNwYW4gaWQ9InN0dWRlbnROYW1lXyR7c3R1ZGVudC5pZH0iPiR7c3R1ZGVudC5uYW1lIHx8IHN0dWRlbnQuZW1haWx9PC9zcGFuPgogICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSBidG4tc20iIHN0eWxlPSJtYXJnaW4tcmlnaHQ6N3B4O2ZvbnQtc2l6ZTowLjlyZW07IiBvbmNsaWNrPSJlZGl0U3R1ZGVudE5hbWUoJyR7c3R1ZGVudC5pZH0nLCAnJHsoc3R1ZGVudC5uYW1lIHx8IHN0dWRlbnQuZW1haWwpLnJlcGxhY2UoLycvZywgIlxcJyIpfScpIj4KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZWRpdCI+PC9pPgogICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQ+JHtzdHVkZW50LmVtYWlsfTwvdGQ+CiAgICAgICAgICAgIDx0ZD4ke3N0dWRlbnQuZXhhbXNUYWtlbiB8fCAwfTwvdGQ+CiAgICAgICAgICAgIDx0ZD4ke3N0dWRlbnQuYXZlcmFnZUdyYWRlID8gc3R1ZGVudC5hdmVyYWdlR3JhZGUgKyAnJScgOiAi2YTYpyDZitmI2KzYryDYqNmK2KfZhtin2KoifTwvdGQ+CiAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6NnB4OyI+CiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTJweDtoZWlnaHQ6MTJweDtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kOiR7c3RhdHVzQ29sb3J9O2JvcmRlcjoxLjVweCBzb2xpZCAjZmZmO2JveC1zaGFkb3c6MCAwIDNweCAjY2NjOyI+PC9zcGFuPgogICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxcmVtOyI+JHtzdGF0dXNUZXh0fTwvc3Bhbj4KICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICAke3llYXJTZWxlY3R9CiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgYnRuLXNtIiBvbmNsaWNrPSJ2aWV3U3R1ZGVudEdyYWRlcygnJHtzdHVkZW50LmlkfScpIj4KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZXllIj48L2k+INi52LHYtiDYp9mE2K/Ysdis2KfYqgogICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSIgb25jbGljaz0idG9nZ2xlU3R1ZGVudFN0YXR1cygnJHtzdHVkZW50LmlkfScsICR7c3R1ZGVudC5kaXNhYmxlZCB8fCBmYWxzZX0pIj4KICAgICAgICAgICAgICAgICR7c3R1ZGVudC5kaXNhYmxlZCA/ICLYqtmB2LnZitmEIiA6ICLYqti52LfZitmEIn0KICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc20iIG9uY2xpY2s9ImRlbGV0ZVN0dWRlbnRBY2NvdW50KCcke3N0dWRlbnQuaWR9JykiPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPiDYrdiw2YEg2KfZhNit2LPYp9ioCiAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi13YXJuaW5nIGJ0bi1zbSIgb25jbGljaz0ibG9ja1N0dWRlbnQoJyR7c3R1ZGVudC5pZH0nKSI+CiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWxvY2siPjwvaT4g2YLZgdmEINin2YTYt9in2YTYqAogICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyBidG4tc20iIG9uY2xpY2s9InVubG9ja1N0dWRlbnQoJyR7c3R1ZGVudC5pZH0nKSI+CiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXVubG9jayI+PC9pPiDYpdiy2KfZhNipINin2YTZgtmB2YQKICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXdhcm5pbmcgYnRuLXNtIiBvbmNsaWNrPSJvcGVuU3R1ZGVudFBlcm1pc3Npb25zTW9kYWwoJyR7c3R1ZGVudC5pZH0nLCAnJHtzdHVkZW50Lm5hbWV9JykiPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1rZXkiPjwvaT4g2KrYrdiv2YrYryDYp9mE2LXZhNin2K3Zitin2KoKICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC90ZD4KICAgICAgICAgIDwvdHI+CiAgICAgICAgYDsKICAgICAgfSk7CiAgICB9KTsKICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICBzdHVkZW50c1RhYmxlLmlubmVySFRNTCA9ICI8dHI+PHRkIGNvbHNwYW49XCI4XCI+2K3Yr9irINiu2LfYozogIiArIGVycm9yLm1lc3NhZ2UgKyAiPC90ZD48L3RyPiI7CiAgICBpZiAoc3R1ZGVudHNDb3VudEVsZW0pIHN0dWRlbnRzQ291bnRFbGVtLnRleHRDb250ZW50ID0gIjAiOwogIH0pOwp9CgovLyDYr9in2YTYqSDYqti52K/ZitmEINin2LPZhSDYp9mE2LfYp9mE2KggKNmG2KfZgdiw2Kkg2YXZhtio2KvZgtipINio2LPZiti32KkpCndpbmRvdy5lZGl0U3R1ZGVudE5hbWUgPSBmdW5jdGlvbihzdHVkZW50SWQsIGN1cnJlbnROYW1lKSB7CiAgY29uc3QgbmV3TmFtZSA9IHByb21wdCgi2KPYr9iu2YQg2KfZhNin2LPZhSDYp9mE2KzYr9mK2K8g2YTZhNi32KfZhNioOiIsIGN1cnJlbnROYW1lKTsKICBpZiAobmV3TmFtZSAmJiBuZXdOYW1lLnRyaW0oKSAmJiBuZXdOYW1lICE9PSBjdXJyZW50TmFtZSkgewogICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2Moc3R1ZGVudElkKS5zZXQoeyBuYW1lOiBuZXdOYW1lLnRyaW0oKSwgbmFtZUNoYW5nZWQ6IHRydWUgfSwgeyBtZXJnZTogdHJ1ZSB9KS50aGVuKCgpID0+IHsKICAgICAgc2hvd1RvYXN0KCLYqtmFINiq2K3Yr9mK2Ksg2KfYs9mFINin2YTYt9in2YTYqCEiLCAic3VjY2VzcyIpOwogICAgICBjb25zdCBuYW1lU3BhbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50TmFtZV8iICsgc3R1ZGVudElkKTsKICAgICAgaWYgKG5hbWVTcGFuKSBuYW1lU3Bhbi50ZXh0Q29udGVudCA9IG5ld05hbWUudHJpbSgpOwogICAgfSk7CiAgfQp9OwoKLy8g2K/Yp9mE2Kkg2KrYrdiv2YrYqyDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2Kkg2YTZhNi32KfZhNioINmF2YYg2YLYqNmEINin2YTZhdi52YTZhQp3aW5kb3cudXBkYXRlU3R1ZGVudFllYXIgPSBmdW5jdGlvbihzdHVkZW50SWQsIHllYXIpIHsKICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhzdHVkZW50SWQpLnNldCh7IHllYXIgfSwgeyBtZXJnZTogdHJ1ZSB9KS50aGVuKCgpID0+IHsKICAgIHNob3dUb2FzdCgi2KrZhSDYqtit2K/ZitirINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqSDZhNmE2LfYp9mE2KghIiwgInN1Y2Nlc3MiKTsKICB9KTsKfTsKd2luZG93LnVwZGF0ZVN0dWRlbnRUZXJtID0gZnVuY3Rpb24oc3R1ZGVudElkLCB0ZXJtKSB7CiAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2Moc3R1ZGVudElkKS5zZXQoeyB0ZXJtIH0sIHsgbWVyZ2U6IHRydWUgfSkudGhlbigoKSA9PiB7CiAgICBzaG93VG9hc3QoItiq2YUg2KrYrdiv2YrYqyDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKINmE2YTYt9in2YTYqCEiLCAic3VjY2VzcyIpOwogIH0pOwp9OwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KPYttmBINin2YTYr9mI2KfZhCDYp9mE2KrYp9mE2YrYqSDZgdmKINmF2YTZgdmDICjZhdix2Kkg2YjYp9it2K/YqSDZgdmC2LcpOgoKd2luZG93LmxvY2tTdHVkZW50ID0gZnVuY3Rpb24oc3R1ZGVudElkKSB7CiAgZGIuY29sbGVjdGlvbigic3R1ZGVudExvY2tzIikuZG9jKHN0dWRlbnRJZCkuc2V0KHsKICAgIGxvY2tlZDogdHJ1ZSwKICAgIG1lc3NhZ2U6ICLZitiq2YUg2LHZgdi5INin2YXYqtit2KfZhiDYp9mG2KrYuNixINmC2YTZitmE2KfZiyIsCiAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgfSkudGhlbigoKSA9PiB7CiAgICBzaG93VG9hc3QoItiq2YUg2YLZgdmEINin2YTYt9in2YTYqCDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgfSk7Cn07Cgp3aW5kb3cudW5sb2NrU3R1ZGVudCA9IGZ1bmN0aW9uKHN0dWRlbnRJZCkgewogIGRiLmNvbGxlY3Rpb24oInN0dWRlbnRMb2NrcyIpLmRvYyhzdHVkZW50SWQpLmRlbGV0ZSgpLnRoZW4oKCkgPT4gewogICAgc2hvd1RvYXN0KCLYqtmFINil2LLYp9mE2Kkg2KfZhNmC2YHZhCDYudmGINin2YTYt9in2YTYqCEiLCAic3VjY2VzcyIpOwogIH0pOwp9OwoKLy8g2LnZhtivINin2YTYt9in2YTYqDog2KfYs9iq2YXYuSDZhNmE2YLZgdmEINmI2KPYuNmH2LEg2LHYs9in2YTYqSDZhNinINmK2YXZg9mGINil2LrZhNin2YLZh9inINil2YTYpyDZhdmGINin2YTZhdi52YTZhQpmdW5jdGlvbiBsaXN0ZW5Gb3JTdHVkZW50TG9jaygpIHsKICBpZiAodXNlclJvbGUgPT09ICJzdHVkZW50IiAmJiBjdXJyZW50VXNlcikgewogICAgZGIuY29sbGVjdGlvbigic3R1ZGVudExvY2tzIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkKICAgICAgLm9uU25hcHNob3QoZG9jID0+IHsKICAgICAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudExvY2tNb2RhbCIpOwogICAgICAgIGlmIChkb2MuZXhpc3RzICYmIGRvYy5kYXRhKCkubG9ja2VkKSB7CiAgICAgICAgICBpZiAoIW1vZGFsKSB7CiAgICAgICAgICAgIG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIG1vZGFsLmlkID0gInN0dWRlbnRMb2NrTW9kYWwiOwogICAgICAgICAgICBtb2RhbC5jbGFzc05hbWUgPSAibW9kYWwiOwogICAgICAgICAgICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDo0MjBweDt0ZXh0LWFsaWduOmNlbnRlcjsiPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxOHB4OyI+CiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtbG9jayIgc3R5bGU9ImZvbnQtc2l6ZTozcmVtO2NvbG9yOiNlNzRjM2M7Ij48L2k+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxoMiBjbGFzcz0ibW9kYWwtdGl0bGUiIHN0eWxlPSJjb2xvcjojZTc0YzNjOyI+2K3Ys9in2KjZgyDZhdi52LfZhDwvaDI+CiAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibW9kYWwtbWVzc2FnZSIgc3R5bGU9ImZvbnQtc2l6ZToxLjE1cmVtO2NvbG9yOiMzMzM7bWFyZ2luLWJvdHRvbToxOHB4OyI+CiAgICAgICAgICAgICAgICAgINmK2LHYrNmJINin2YTYp9i02KrYsdin2YMg2YTYqtmB2LnZitmEINin2YTYrdiz2KfYqCDZiNin2YTYp9iz2KrZhdix2KfYsSDZgdmKINin2LPYqtiu2K/Yp9mFINin2YTZhdmG2LXYqS4KICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd2EubWUvMjAxMDY0MTc0MjcwP3RleHQ92KPYsdi62KglMjDZgdmKJTIw2KfZhNin2LTYqtix2KfZgyUyMNmI2KrZgdi52YrZhCUyMNit2LPYp9io2YoiIAogICAgICAgICAgICAgICAgICAgdGFyZ2V0PSJfYmxhbmsiIAogICAgICAgICAgICAgICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6MTBweCAyNHB4O2JhY2tncm91bmQ6IzI1RDM2Njtjb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6NnB4O2ZvbnQtc2l6ZToxLjFyZW07dGV4dC1kZWNvcmF0aW9uOm5vbmU7bWFyZ2luLXRvcDoxMHB4OyI+CiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYWIgZmEtd2hhdHNhcHAiIHN0eWxlPSJtYXJnaW4tbGVmdDo4cHg7Ij48L2k+2KfYtNiq2LHZgyDYudio2LEg2YjYp9iq2LPYp9ioCiAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpOwogICAgICAgICAgfQogICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICB9IGVsc2UgaWYgKG1vZGFsKSB7CiAgICAgICAgICBtb2RhbC5yZW1vdmUoKTsKICAgICAgICB9CiAgICAgIH0pOwogIH0KfQoKLy8g2KfYs9iq2K/YudmQINin2YTYr9in2YTYqSDYqNi52K8g2KrYs9is2YrZhCDYr9iu2YjZhCDYp9mE2LfYp9mE2KggKNmF2KvZhNin2Ysg2YHZiiBzZXR1cEF1dGhlbnRpY2F0ZWRVSSkKbGlzdGVuRm9yU3R1ZGVudExvY2soKTsKZnVuY3Rpb24gZGVsZXRlU3R1ZGVudEFjY291bnQoc3R1ZGVudElkKSB7CiAgaWYgKCFjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYrdiw2YEg2K3Ys9in2Kgg2YfYsNinINin2YTYt9in2YTYqNifINmE2Kcg2YrZhdmD2YYg2KfZhNiq2LHYp9is2Lkg2LnZhiDZh9iw2Kcg2KfZhNil2KzYsdin2KEuIikpIHsKICAgIHJldHVybjsKICB9CiAgLy8g2KPYttmBINil2LTYudin2LEg2K3YsNmBINin2YTYrdiz2KfYqCDZgdmKINmF2KzZhdmI2LnYqSDYrtin2LXYqSDZhNmD2YQg2LfYp9mE2KgKICBkYi5jb2xsZWN0aW9uKCJhY2NvdW50Tm90aWZpY2F0aW9ucyIpLmRvYyhzdHVkZW50SWQpLnNldCh7CiAgICB0eXBlOiAiZGVsZXRlZCIsCiAgICBtZXNzYWdlOiAi2KrZhSDYrdiw2YEg2K3Ys9in2KjZgyDZhdmGINmC2KjZhCDYp9mE2KXYr9in2LHYqS4g2KXYsNinINmD2KfZhiDZhNiv2YrZgyDYp9iz2KrZgdiz2KfYsSDYqtmI2KfYtdmEINmF2Lkg2KfZhNil2K/Yp9ix2KkuIiwKICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICB9KS50aGVuKCgpID0+IHsKICAgIC8vINio2LnYryDYpdix2LPYp9mEINin2YTYpdi02LnYp9ix2Iwg2KfYrdiw2YEg2KfZhNit2LPYp9ioINmB2LnZhNmK2KfZiwogICAgZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2Moc3R1ZGVudElkKS5kZWxldGUoKS50aGVuKCgpID0+IHsKICAgICAgYWxlcnQoItiq2YUg2K3YsNmBINit2LPYp9ioINin2YTYt9in2YTYqCDYqNmG2KzYp9itISIpOwogICAgICBsb2FkU3R1ZGVudHMoKTsKICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgYWxlcnQoItit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYrdiw2YEg2K3Ys9in2Kgg2KfZhNi32KfZhNioOiAiICsgZXJyb3IubWVzc2FnZSk7CiAgICB9KTsKICB9KTsKfQpmdW5jdGlvbiBsaXN0ZW5Gb3JBY2NvdW50RGVsZXRlKCkgewogIGlmIChjdXJyZW50VXNlcikgewogICAgZGIuY29sbGVjdGlvbigiYWNjb3VudE5vdGlmaWNhdGlvbnMiKS5kb2MoY3VycmVudFVzZXIudWlkKQogICAgICAub25TbmFwc2hvdChkb2MgPT4gewogICAgICAgIGlmIChkb2MuZXhpc3RzICYmIGRvYy5kYXRhKCkudHlwZSA9PT0gImRlbGV0ZWQiKSB7CiAgICAgICAgICBzaG93QWNjb3VudERlbGV0ZWRNb2RhbChkb2MuZGF0YSgpLm1lc3NhZ2UgfHwgItiq2YUg2K3YsNmBINit2LPYp9io2YMg2YbZh9in2KbZitmL2KcuINmK2LHYrNmJINin2YTYqtmI2KfYtdmEINmF2Lkg2KfZhNil2K/Yp9ix2KkuIik7CiAgICAgICAgfQogICAgICB9KTsKICB9Cn0KZnVuY3Rpb24gc2hvd0FjY291bnREZWxldGVkTW9kYWwobWVzc2FnZSkgewogIC8vINil2LDYpyDZg9in2YbYqiDYp9mE2YbYp9mB2LDYqSDZhdmI2KzZiNiv2Kkg2YXYs9io2YLYp9mL2Iwg2KfYrdiw2YHZh9inCiAgbGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjY291bnREZWxldGVkTW9kYWwiKTsKICBpZiAobW9kYWwpIG1vZGFsLnJlbW92ZSgpOwoKICBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIG1vZGFsLmlkID0gImFjY291bnREZWxldGVkTW9kYWwiOwogIG1vZGFsLmNsYXNzTmFtZSA9ICJtb2RhbCI7CiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjQyMHB4O3RleHQtYWxpZ246Y2VudGVyOyI+CiAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MThweDsiPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdXNlci1zbGFzaCIgc3R5bGU9ImZvbnQtc2l6ZTozcmVtO2NvbG9yOiNGQzVDNjU7Ij48L2k+CiAgICAgIDwvZGl2PgogICAgICA8aDIgY2xhc3M9Im1vZGFsLXRpdGxlIiBzdHlsZT0iY29sb3I6I0ZDNUM2NTsiPtiq2YUg2K3YsNmBINin2YTYrdiz2KfYqCDZhtmH2KfYptmK2YvYpzwvaDI+CiAgICAgIDxwIGNsYXNzPSJtb2RhbC1tZXNzYWdlIiBzdHlsZT0iZm9udC1zaXplOjEuMTVyZW07Y29sb3I6IzMzMzttYXJnaW4tYm90dG9tOjE4cHg7Ij4KICAgICAgICAke21lc3NhZ2V9PGJyPgogICAgICAgINil2LDYpyDZg9in2YYg2YTYr9mK2YMg2KPZiiDYp9iz2KrZgdiz2KfYsSDYo9mIINiq2LHYutioINmB2Yog2KfZhNiq2YjYp9i12YQg2YXYuSDYp9mE2KXYr9in2LHYqdiMINin2LbYuti3INin2YTYstixINio2KfZhNij2LPZgdmELgogICAgICA8L3A+CiAgICAgIDxhIGhyZWY9Imh0dHBzOi8vd2EubWUvMjAxMDYwOTExMDkzIiB0YXJnZXQ9Il9ibGFuayIgaWQ9IndoYXRzYXBwQ29udGFjdEJ0biIKICAgICAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQ6IzI1ZDM2Njtjb2xvcjojZmZmO2ZvbnQtc2l6ZToxLjJyZW07cGFkZGluZzoxMnB4IDMycHg7Ym9yZGVyLXJhZGl1czo4cHg7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Zm9udC13ZWlnaHQ6Ym9sZDttYXJnaW4tYm90dG9tOjEwcHg7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFiIGZhLXdoYXRzYXBwIiBzdHlsZT0ibWFyZ2luLWxlZnQ6OHB4O2ZvbnQtc2l6ZToxLjVyZW07Ij48L2k+INiq2YjYp9i12YQg2YXYuSDYp9mE2KXYr9in2LHYqSDYudio2LEg2YjYp9iq2LPYp9ioCiAgICAgIDwvYT4KICAgICAgPGJyPgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsiIG9uY2xpY2s9ImNsb3NlQWNjb3VudERlbGV0ZWRNb2RhbCgpIj7Ypdi62YTYp9mCPC9idXR0b24+CiAgICA8L2Rpdj4KICBgOwogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpOwoKICAvLyDYudmG2K8g2KfZhNil2LrZhNin2YLYjCDYs9is2YQg2KfZhNiu2LHZiNisINmI2KPYudivINiq2K3ZhdmK2YQg2KfZhNi12YHYrdipCiAgd2luZG93LmNsb3NlQWNjb3VudERlbGV0ZWRNb2RhbCA9IGZ1bmN0aW9uKCkgewogICAgbW9kYWwucmVtb3ZlKCk7CiAgICBhdXRoLnNpZ25PdXQoKS50aGVuKCgpID0+IHsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSk7CiAgfTsKfQpmdW5jdGlvbiB0b2dnbGVTdHVkZW50U3RhdHVzKF8weDQzOWI5NywgXzB4MjllZmY2KSB7CiAgY29uc3QgXzB4M2IxMzYzID0gXzB4MjllZmY2ID8gItmH2YQg2KrYsdmK2K8g2KrZgdi52YrZhCDYrdiz2KfYqCDZh9iw2Kcg2KfZhNi32KfZhNio2J8iIDogItmH2YQg2KrYsdmK2K8g2KrYudi32YrZhCDYrdiz2KfYqCDZh9iw2Kcg2KfZhNi32KfZhNio2J8iOwogIGlmICghY29uZmlybShfMHgzYjEzNjMpKSB7CiAgICByZXR1cm47CiAgfQogIGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKF8weDQzOWI5NykudXBkYXRlKHsKICAgICdkaXNhYmxlZCc6ICFfMHgyOWVmZjYKICB9KS50aGVuKCgpID0+IHsKICAgIGFsZXJ0KF8weDI5ZWZmNiA/ICLYqtmFINiq2YHYudmK2YQg2K3Ys9in2Kgg2KfZhNi32KfZhNioINio2YbYrNin2K0hIiA6ICLYqtmFINiq2LnYt9mK2YQg2K3Ys9in2Kgg2KfZhNi32KfZhNioINio2YbYrNin2K0hIik7CiAgICBsb2FkU3R1ZGVudHMoKTsKICB9KVsiY2F0Y2giXShfMHg0ZjE2NTggPT4gewogICAgYWxlcnQoItit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2K/ZitirINit2KfZhNipINin2YTYt9in2YTYqDogIiArIF8weDRmMTY1OC5tZXNzYWdlKTsKICB9KTsKfQp3aW5kb3cudmlld1N0dWRlbnRHcmFkZXMgPSBmdW5jdGlvbiAoXzB4MmZiM2UxKSB7CiAgY29uc3QgXzB4MzBhZDI5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdyYWRlc01vZGFsIik7CiAgY29uc3QgXzB4NGFiM2FmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdyYWRlc01vZGFsQ29udGVudCIpOwogIF8weDMwYWQyOS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIF8weDRhYjNhZi5pbm5lckhUTUwgPSAiPHA+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2K/Ysdis2KfYqi4uLjwvcD4iOwogIGRiLmNvbGxlY3Rpb24oInJlc3VsdHMiKS53aGVyZSgidXNlcklkIiwgJz09JywgXzB4MmZiM2UxKS5vcmRlckJ5KCJzdWJtaXR0ZWRBdCIsICdkZXNjJykuZ2V0KCkudGhlbihfMHg1ZWU2NjAgPT4gewogICAgaWYgKF8weDVlZTY2MC5lbXB0eSkgewogICAgICBfMHg0YWIzYWYuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2K/Ysdis2KfYqiDZhdiz2KzZhNipINmE2YfYsNinINin2YTYt9in2YTYqC48L3A+IjsKICAgICAgcmV0dXJuOwogICAgfQogICAgbGV0IF8weDU3MjQ5OSA9ICI8aDM+2K/Ysdis2KfYqiDYp9mE2LfYp9mE2Kg8L2gzPjx0YWJsZSBjbGFzcz1cImdyYWRlcy10YWJsZVwiPjx0aGVhZD48dHI+PHRoPtin2LPZhSDYp9mE2KfYrtiq2KjYp9ixPC90aD48dGg+2KfZhNiq2KfYsdmK2K4g2YjYp9mE2YjZgtiqPC90aD48dGg+2KfZhNiv2LHYrNipPC90aD48dGg+2KfZhNmG2LPYqNipINin2YTZhdim2YjZitipPC90aD48dGg+2KfZhNit2KfZhNipPC90aD48L3RyPjwvdGhlYWQ+PHRib2R5PiI7CiAgICBfMHg1ZWU2NjAuZm9yRWFjaChfMHg2MmFjZTcgPT4gewogICAgICBjb25zdCBfMHhhNGU0ZDYgPSBfMHg2MmFjZTcuZGF0YSgpOwogICAgICBjb25zdCBfMHg1NGVmNTQgPSBfMHhhNGU0ZDYuc3VibWl0dGVkQXQ/LlsidG9EYXRlIl0oKSB8fCBuZXcgRGF0ZSgpOwogICAgICBjb25zdCBfMHg1ZGI5NmUgPSBfMHg1NGVmNTQudG9Mb2NhbGVEYXRlU3RyaW5nKCkgKyAiICIgKyBfMHg1NGVmNTQudG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICAgIF8weDU3MjQ5OSArPSAiXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4iICsgXzB4YTRlNGQ2LmV4YW1UaXRsZSArICI8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiIgKyBfMHg1ZGI5NmUgKyAiPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4iICsgXzB4YTRlNGQ2Lm9idGFpbmVkTWFya3MgKyAiIC8gIiArIF8weGE0ZTRkNi50b3RhbE1hcmtzICsgIjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+IiArIF8weGE0ZTRkNi5zY29yZVBlcmNlbnRhZ2UgKyAiJTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+IiArIF8weGE0ZTRkNi5ncmFkZVN0YXR1cyArICI8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICI7CiAgICB9KTsKICAgIF8weDU3MjQ5OSArPSAnPC90Ym9keT48L3RhYmxlPic7CiAgICBfMHg0YWIzYWYuaW5uZXJIVE1MID0gXzB4NTcyNDk5OwogIH0pWydjYXRjaCddKF8weDFhYWU5NSA9PiB7CiAgICBfMHg0YWIzYWYuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYr9ix2KzYp9iqOiAiICsgXzB4MWFhZTk1Lm1lc3NhZ2UgKyAiPC9wPiI7CiAgfSk7Cn07CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkaXNhYmxlQWxsU3R1ZGVudHNCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIGlmICghY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2KrYudi32YrZhCDYrNmF2YrYuSDYp9mE2LfZhNin2KjYnyIpKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikKICAgICAgICAud2hlcmUoInJvbGUiLCAiPT0iLCAic3R1ZGVudCIpCiAgICAgICAgLmdldCgpCiAgICAgICAgLnRoZW4oKHF1ZXJ5U25hcHNob3QpID0+IHsKICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOyAvLyDYp9iz2KrYrtiv2KfZhSBiYXRjaCDZhNiq2K3Yr9mK2Ksg2KzZhdmK2Lkg2KfZhNi32YTYp9ioINiv2YHYudipINmI2KfYrdiv2KkKICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHsKICAgICAgICAgICAgICAgIGJhdGNoLnVwZGF0ZShkb2MucmVmLCB7IGRpc2FibGVkOiB0cnVlIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJldHVybiBiYXRjaC5jb21taXQoKTsgLy8g2KrZhtmB2YrYsCDYp9mE2KrYrdiv2YrYq9in2KoKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgYWxlcnQoItiq2YUg2KrYudi32YrZhCDYrNmF2YrYuSDYp9mE2LfZhNin2Kgg2KjZhtis2KfYrSEiKTsKICAgICAgICAgICAgbG9hZFN0dWRlbnRzKCk7IC8vINil2LnYp9iv2Kkg2KrYrdmF2YrZhCDZgtin2KbZhdipINin2YTYt9mE2KfYqAogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICBhbGVydCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2LnYt9mK2YQg2KfZhNi32YTYp9ioOiAiICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgfSk7Cn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDYqNi52K8g2KrYudix2YrZgSDYr9in2YTYqSBzZXR1cEF1dGhlbnRpY2F0ZWRVSSDYo9mIINmB2Yog2YbZh9in2YrYqSDZhdmE2YEgPHNjcmlwdD4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KfYs9iq2KjYr9mEINiv2KfZhNipIHNob3dXZWxjb21lQmFja0NlbGVicmF0aW9uINio2YfYsNinINin2YTZg9mI2K8g2YTYrNi52YQg2KfZhNin2K3YqtmB2KfZhCDYo9is2YXZhCDZhdi5INmF2YHYsdmC2LnYp9iqINmF2KrYrdix2YPYqQovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2Kkgc2hvd1dlbGNvbWVCYWNrQ2VsZWJyYXRpb24g2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNis2LnZhCDYp9mE2LHYs9in2YTYqSDYo9is2YXZhCDZiNin2YTYp9it2KrZgdin2YTYp9iqINij2YPYq9ixINmI2YTZgdiq2LHYqSDYo9i32YjZhAovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2Kkgc2hvd1dlbGNvbWVCYWNrQ2VsZWJyYXRpb24g2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNis2LnZhCDYp9mE2LHYs9in2YTYqSDZiNin2YTYp9it2KrZgdin2YQg2KPZg9ir2LEg2KzZhdin2YTYp9mLINmI2KfYrdiq2LHYp9mB2YrYqQovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2Kkgc2hvd1dlbGNvbWVCYWNrQ2VsZWJyYXRpb24g2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNis2LnZhCDYp9mE2LHYs9in2YTYqSDZiNin2YTYo9mE2YjYp9mGINmF2KrZhtin2LPZgtipINmI2LnYtdix2YrYqSDZiNmF2KrYrNin2YjYqNipINmF2Lkg2KzZhdmK2Lkg2KfZhNi02KfYtNin2KoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KfYs9iq2KjYr9mEINiv2KfZhNipIHNob3dXZWxjb21lQmFja0NlbGVicmF0aW9uINio2YfYsNinINin2YTZg9mI2K8g2YTYrNi52YQg2KfZhNmF2YHYsdmC2LnYp9iqIChjb25mZXR0aSkg2KrYqti32KfZitixINmB2Yog2YPZhCDYp9mE2YXZhti12Kkg2YjZhNmK2LMg2YHZgti3INiv2KfYrtmEINin2YTYsdiz2KfZhNipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINin2LPYqtio2K/ZhCDYr9in2YTYqSBzaG93V2VsY29tZUJhY2tDZWxlYnJhdGlvbiDYqNmH2LDYpyDYp9mE2YPZiNivINmE2KzYudmEINix2LPYp9mE2Kkg2KfZhNiq2LHYrdmK2Kgg2YXZhtiz2K/ZhNipINmF2YYg2KfZhNij2LnZhNmJINmI2KrYrtiq2YHZiiDYqtmE2YLYp9im2YrYp9mLICjZhdir2YQgbm90aWNlKQovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2Kkgc2hvd1dlbGNvbWVCYWNrQ2VsZWJyYXRpb24g2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNix2LPYp9mE2Kkg2KrYsdit2YrYqCDZhdmG2LPYr9mE2Kkg2YXZhiDYp9mE2KPYudmE2Ykg2KjYo9mE2YjYp9mGINmH2KfYr9im2Kkg2YjYqNiv2YjZhiDYo9mE2YjYp9mGINmD2KvZitix2KkKLy8g2LbYuSDZh9iw2Kcg2KfZhNmD2YjYryDZgdmKINii2K7YsSDZhdmE2YEgPHNjcmlwdD4g2KPZiCDYqNi52K8g2KrYudix2YrZgSBzZXR1cEF1dGhlbnRpY2F0ZWRVSSDZhdio2KfYtNix2KkKCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmB2Yog2YbZh9in2YrYqSBzZXR1cEF1dGhlbnRpY2F0ZWRVSSgpCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINi52K/ZhCDZh9iw2Kcg2KfZhNis2LLYoSDZgdmKIHNldHVwQXV0aGVudGljYXRlZFVJINmE2YrYuNmH2LEg2KfZhNin2K3YqtmB2KfZhCDYr9in2KbZhdin2Ysg2LnZhtivINiv2K7ZiNmEINin2YTYt9in2YTYqCDZhNmE2YXZhti12KkKLy8gLi4u2K/Yp9iu2YQgc2V0dXBBdXRoZW50aWNhdGVkVUkoKSDYqNi52K8g2LbYqNi3INin2YTZhdiq2LrZitix2KfYqiDZhdio2KfYtNix2KkuLi4KCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KrYrdmF2YrZhCDYp9mE2YHYptin2Kog2YjYudix2LbZh9inINio2LTZg9mEINi02KzYsdmKINmB2Yog2KzYr9mI2YQg2KPZiCDZgtin2KbZhdipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gcmVuZGVyQ2F0ZWdvcmllc1RyZWUoKSB7CiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3JpZXNUcmVlQ29udGFpbmVyIik7CiAgaWYgKCFjb250YWluZXIpIHJldHVybjsKICBjb250YWluZXIuaW5uZXJIVE1MID0gItis2KfYsdmKINin2YTYqtit2YXZitmELi4uIjsKCiAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25DYXRlZ29yaWVzIikub3JkZXJCeSgibmFtZSIpLmdldCgpLnRoZW4oYXN5bmMgc25hcHNob3QgPT4gewogICAgY29uc3QgY2F0ZWdvcmllcyA9IHt9OwogICAgcXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGUgPSB7fTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCkgfHwge307CiAgICAgIGNhdGVnb3JpZXNbZG9jLmlkXSA9IHsgaWQ6IGRvYy5pZCwgbmFtZTogZGF0YS5uYW1lIHx8IGRvYy5pZCwgcGFyZW50SWQ6IGRhdGEucGFyZW50SWQgfHwgbnVsbCwgY2hpbGRyZW46IFtdIH07CiAgICAgIHF1ZXN0aW9uQ2F0ZWdvcmllc0NhY2hlW2RvYy5pZF0gPSBkYXRhLm5hbWUgfHwgZG9jLmlkOwogICAgfSk7CiAgICBPYmplY3QudmFsdWVzKGNhdGVnb3JpZXMpLmZvckVhY2goY2F0ID0+IHsKICAgICAgaWYgKGNhdC5wYXJlbnRJZCAmJiBjYXRlZ29yaWVzW2NhdC5wYXJlbnRJZF0pIGNhdGVnb3JpZXNbY2F0LnBhcmVudElkXS5jaGlsZHJlbi5wdXNoKGNhdCk7CiAgICB9KTsKICAgIGNvbnN0IHJvb3RzID0gT2JqZWN0LnZhbHVlcyhjYXRlZ29yaWVzKS5maWx0ZXIoY2F0ID0+ICFjYXQucGFyZW50SWQpOwoKICAgIC8vINis2YTYqCDYudiv2K8g2KfZhNij2LPYptmE2Kkg2YTZg9mEINmB2KbYqSDZhNin2LPYqtiu2K/Yp9mF2Ycg2YHZiiDYp9mE2KrYs9mF2YrYp9iqCiAgICBjb25zdCBxdWVzdGlvbnNTbmFwc2hvdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLmdldCgpOwogICAgY29uc3QgY291bnRzID0ge307CiAgICBxdWVzdGlvbnNTbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNvbnN0IHEgPSBkb2MuZGF0YSgpIHx8IHt9OwogICAgICBpZiAocS5jYXRlZ29yeUlkKSBjb3VudHNbcS5jYXRlZ29yeUlkXSA9IChjb3VudHNbcS5jYXRlZ29yeUlkXSB8fCAwKSArIDE7CiAgICB9KTsKCiAgICAvLyDYqNmG2KfYoSBIVE1MINmE2LTYrNix2KkgKHVsL2xpKSDigJQg2YrYuNmH2LEg2KjYtNmD2YQg2LXYp9mE2K0g2K/Yp9iu2YQgZGl2INmI2YTZitizINmD2YAgPG9wdGlvbj4g2YbYtdmKCiAgICBmdW5jdGlvbiBidWlsZExpc3QoY2F0cykgewogICAgICBpZiAoIWNhdHMgfHwgIWNhdHMubGVuZ3RoKSByZXR1cm4gIiI7CiAgICAgIHJldHVybiBgPHVsIGNsYXNzPSJjYXRlZ29yaWVzLXRyZWUiIHN0eWxlPSJsaXN0LXN0eWxlOm5vbmU7cGFkZGluZy1yaWdodDo4cHg7bWFyZ2luOjZweCAwOyI+JHtjYXRzLm1hcChjYXQgPT4gewogICAgICAgIGNvbnN0IGNudCA9IGNvdW50c1tjYXQuaWRdIHx8IDA7CiAgICAgICAgY29uc3QgbGFiZWwgPSBgJHtjYXQubmFtZX0ke2NudCA/IGAgKCR7Y250fSlgIDogIiJ9YDsKICAgICAgICBjb25zdCBjaGlsZHJlbkh0bWwgPSBidWlsZExpc3QoY2F0LmNoaWxkcmVuKTsKICAgICAgICByZXR1cm4gYDxsaSBkYXRhLWlkPSIke2NhdC5pZH0iIHN0eWxlPSJwYWRkaW5nOjZweCAwO2N1cnNvcjpwb2ludGVyO2JvcmRlci1yYWRpdXM6NnB4OyI+CiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjYXQtbGFiZWwiIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjZweCA4cHg7Ij4ke2xhYmVsfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgJHtjaGlsZHJlbkh0bWx9CiAgICAgICAgICAgICAgICA8L2xpPmA7CiAgICAgIH0pLmpvaW4oJycpfTwvdWw+YDsKICAgIH0KCiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYnVpbGRMaXN0KHJvb3RzKSB8fCAiPGRpdj7ZhNinINiq2YjYrNivINmB2KbYp9iqPC9kaXY+IjsKCiAgICAvLyDYp9mF2YTYoyDYp9mE2YAgc2VsZWN0INin2YTZhdiz2KrYrtiv2YUg2YHZiiDZhtin2YHYsNipINin2YTYpdi22KfZgdipINij2YrYttin2YsgKNil2YYg2YjYrNivKQogICAgY29uc3Qgc2VsZWN0QWRkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5QWRkIik7CiAgICBjb25zdCBzZWxlY3RNYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5Iik7CiAgICBmdW5jdGlvbiBidWlsZE9wdGlvbnMoY2F0cywgcHJlZml4ID0gIiIpIHsKICAgICAgcmV0dXJuIGNhdHMubWFwKGNhdCA9PiB7CiAgICAgICAgY29uc3QgY250ID0gY291bnRzW2NhdC5pZF0gfHwgMDsKICAgICAgICBsZXQgaHRtbCA9IGA8b3B0aW9uIHZhbHVlPSIke2NhdC5pZH0iPiR7cHJlZml4fSR7Y2F0Lm5hbWV9JHtjbnQgPyBgICgke2NudH0pYCA6ICIifTwvb3B0aW9uPmA7CiAgICAgICAgaWYgKGNhdC5jaGlsZHJlbiAmJiBjYXQuY2hpbGRyZW4ubGVuZ3RoKSBodG1sICs9IGJ1aWxkT3B0aW9ucyhjYXQuY2hpbGRyZW4sIHByZWZpeCArICLigJQgIik7CiAgICAgICAgcmV0dXJuIGh0bWw7CiAgICAgIH0pLmpvaW4oIiIpOwogICAgfQogICAgY29uc3QgdG90YWxDb3VudCA9IE9iamVjdC52YWx1ZXMoY291bnRzKS5yZWR1Y2UoKHMsIHYpID0+IHMgKyB2LCAwKTsKICAgIGlmIChzZWxlY3RNYWluKSBzZWxlY3RNYWluLmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPScnPtmD2YQg2KfZhNmB2KbYp9iqICgke3RvdGFsQ291bnR9KTwvb3B0aW9uPmAgKyBidWlsZE9wdGlvbnMocm9vdHMpOwogICAgaWYgKHNlbGVjdEFkZCkgc2VsZWN0QWRkLmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPScnPtio2K/ZiNmGINmB2KbYqTwvb3B0aW9uPmAgKyBidWlsZE9wdGlvbnMocm9vdHMpOwoKICAgIC8vINit2K/YqyDYp9mE2YbZgtix2KfYqiDYudmE2Ykg2LnZhtin2LXYsSDYp9mE2LTYrNix2Kkg2YTZhdmE2KEg2KfZhNmAIHNlbGVjdCDYp9mE2YXYrtiq2LUg2YjYqtit2K/ZitivINin2YTZgtmK2YXYqSDYudin2YTZhdmK2KfZiwogICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoImxpW2RhdGEtaWRdIikuZm9yRWFjaChsaSA9PiB7CiAgICAgIGxpLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpIHx8ICIiOwogICAgICAgIGlmIChzZWxlY3RBZGQpIHNlbGVjdEFkZC52YWx1ZSA9IGlkOwogICAgICAgIGlmIChzZWxlY3RNYWluKSBzZWxlY3RNYWluLnZhbHVlID0gaWQ7CiAgICAgICAgd2luZG93Ll9zZWxlY3RlZFF1ZXN0aW9uQmFua0NhdGVnb3J5ID0gaWQgfHwgIiI7CiAgICAgICAgLy8g2KXYqNix2KfYsiDYp9mE2LnZhti12LEg2KfZhNmF2K7Yqtin2LEg2KjYtdix2YrYpwogICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIuY2F0LWxhYmVsLnNlbGVjdGVkIikuZm9yRWFjaChlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCJzZWxlY3RlZCIpKTsKICAgICAgICBjb25zdCBsYWJlbCA9IHRoaXMucXVlcnlTZWxlY3RvcigiLmNhdC1sYWJlbCIpOwogICAgICAgIGlmIChsYWJlbCkgbGFiZWwuY2xhc3NMaXN0LmFkZCgic2VsZWN0ZWQiKTsKICAgICAgfTsKICAgIH0pOwogIH0pLmNhdGNoKGVyciA9PiB7CiAgICBjb25zb2xlLmVycm9yKCJyZW5kZXJDYXRlZ29yaWVzVHJlZSBlcnJvcjoiLCBlcnIpOwogICAgY29udGFpbmVyLmlubmVySFRNTCA9ICI8ZGl2IHN0eWxlPSdjb2xvcjojYzAzOTJiJz7Yrti32KMg2YHZiiDYqtit2YXZitmEINin2YTZgdim2KfYqjwvZGl2PiI7CiAgfSk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYp9iz2KrYr9i52ZAg2KfZhNiv2KfZhNipINi52YbYryDZgdiq2K0g2KjZhtmDINin2YTYo9iz2KbZhNipINij2Ygg2KjYudivINil2LbYp9mB2Kkv2KrYudiv2YrZhC/Yrdiw2YEg2YHYptipCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51UXVlc3Rpb25CYW5rIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpIHsKICByZW5kZXJDYXRlZ29yaWVzVHJlZSgpOwogIC8vIC4uLtio2KfZgtmKINin2YTZg9mI2K8uLi4KfSk7CmZ1bmN0aW9uIGxvYWRTdHVkZW50UHJvZ3Jlc3MoKSB7CiAgY29uc3QgXzB4NDI1ZjlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnRQcm9ncmVzc0NoYXJ0Iik7CiAgXzB4NDI1ZjlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINio2YrYp9mG2KfYqiDYp9mE2KrZgtiv2YUuLi48L3A+IjsKICAvLyDYp9mE2K3ZhDog2KfYs9iq2K7Yr9mFIG9yZGVyQnkoJ3VzZXJJZCcpLndoZXJlKCd1c2VySWQnLCAnPT0nLCAuLi4pINir2YUgb3JkZXJCeSgnc3VibWl0dGVkQXQnLCAnYXNjJykKICBkYi5jb2xsZWN0aW9uKCJyZXN1bHRzIikKICAgIC53aGVyZSgndXNlcklkJywgJz09JywgY3VycmVudFVzZXIudWlkKQogICAgLm9yZGVyQnkoJ3VzZXJJZCcpCiAgICAub3JkZXJCeSgnc3VibWl0dGVkQXQnLCAiYXNjIikKICAgIC5nZXQoKQogICAgLnRoZW4oXzB4NTljZTFmID0+IHsKICAgICAgaWYgKF8weDU5Y2UxZi5lbXB0eSkgewogICAgICAgIF8weDQyNWY5ZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYqNmK2KfZhtin2Kog2KrZgtiv2YUg2YXYqtin2K3YqTwvcD4iOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjb25zdCBfMHg1ZjNhMDcgPSBbXTsKICAgICAgXzB4NTljZTFmLmZvckVhY2goXzB4ZDAyZmI2ID0+IHsKICAgICAgICBfMHg1ZjNhMDcucHVzaChfMHhkMDJmYjYuZGF0YSgpKTsKICAgICAgfSk7CiAgICAgIHJlbmRlclN0dWRlbnRQcm9ncmVzc0NoYXJ0KF8weDVmM2EwNyk7CiAgICB9KVsiY2F0Y2giXShfMHgyYTk0NzQgPT4gewogICAgICBfMHg0MjVmOWQuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KM6ICIgKyBfMHgyYTk0NzQubWVzc2FnZSArICI8L3A+IjsKICAgIH0pOwp9CmZ1bmN0aW9uIHJlbmRlclN0dWRlbnRQcm9ncmVzc0NoYXJ0KF8weDExNzdiNykgewogIGNvbnN0IF8weGU2NTY4MCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50UHJvZ3Jlc3NDaGFydCIpOwogIGlmIChfMHgxMTc3YjcubGVuZ3RoID09PSAweDApIHsKICAgIF8weGU2NTY4MC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYqNmK2KfZhtin2Kog2KrZgtiv2YUg2YXYqtin2K3YqTwvcD4iOwogICAgcmV0dXJuOwogIH0KICBsZXQgXzB4MTEzOWIzID0gIjxoMz7YqtmC2K/ZhdmKINmB2Yog2KfZhNin2K7Yqtio2KfYsdin2Ko8L2gzPiI7CiAgXzB4MTE3N2I3LmZvckVhY2goKF8weDllMDU4ZSwgXzB4MmJlYmZhKSA9PiB7CiAgICBfMHgxMTM5YjMgKz0gIlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPiIgKyBfMHg5ZTA1OGUuZXhhbVRpdGxlICsgIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPiIgKyBfMHg5ZTA1OGUuc2NvcmVQZXJjZW50YWdlICsgIiU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtZmlsbFwiIHN0eWxlPVwid2lkdGg6ICIgKyBfMHg5ZTA1OGUuc2NvcmVQZXJjZW50YWdlICsgIiVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgIjsKICB9KTsKICBfMHhlNjU2ODAuaW5uZXJIVE1MID0gXzB4MTEzOWIzOwp9CmZ1bmN0aW9uIGxvYWRTdHVkZW50c1Byb2dyZXNzKCkgewogIGNvbnN0IF8weDVlYzc0NCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50c1Byb2dyZXNzQ2hhcnQiKTsKICBfMHg1ZWM3NDQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KjZitin2YbYp9iqINiq2YLYr9mFINin2YTYt9mE2KfYqC4uLjwvcD4iOwogIGRiLmNvbGxlY3Rpb24oJ3Jlc3VsdHMnKS5nZXQoKS50aGVuKF8weDJhNjcxZCA9PiB7CiAgICBpZiAoXzB4MmE2NzFkLmVtcHR5KSB7CiAgICAgIF8weDVlYzc0NC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYqNmK2KfZhtin2Kog2KrZgtiv2YUg2YXYqtin2K3YqTwvcD4iOwogICAgICByZXR1cm47CiAgICB9CiAgICBsZXQgXzB4M2M1YzYzID0gMHgwOwogICAgbGV0IF8weDUxOThkOSA9IDB4MDsKICAgIGxldCBfMHgzZmVjMjAgPSAweDA7CiAgICBsZXQgXzB4MmJlMGM4ID0gMHgwOwogICAgY29uc3QgXzB4MzVjNjZkID0gXzB4MmE2NzFkLnNpemU7CiAgICBfMHgyYTY3MWQuZm9yRWFjaChfMHg0MWFkYmIgPT4gewogICAgICBjb25zdCBfMHgzOWE1NzEgPSBfMHg0MWFkYmIuZGF0YSgpOwogICAgICBjb25zdCBfMHg1NGFmYjUgPSBfMHgzOWE1NzEuc2NvcmVQZXJjZW50YWdlOwogICAgICBpZiAoXzB4NTRhZmI1ID49IDB4NWEpIHsKICAgICAgICBfMHgzYzVjNjMrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoXzB4NTRhZmI1ID49IDB4NGIpIHsKICAgICAgICAgIF8weDUxOThkOSsrOwogICAgICAgIH0gZWxzZSBpZiAoXzB4NTRhZmI1ID49IDB4M2MpIHsKICAgICAgICAgIF8weDNmZWMyMCsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfMHgyYmUwYzgrKzsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgY29uc3QgXzB4NGI5YjYyID0gTWF0aC5yb3VuZChfMHgzYzVjNjMgLyBfMHgzNWM2NmQgKiAweDY0KTsKICAgIGNvbnN0IF8weDE2MmVmNyA9IE1hdGgucm91bmQoXzB4NTE5OGQ5IC8gXzB4MzVjNjZkICogMHg2NCk7CiAgICBjb25zdCBfMHg0ZWZmNDYgPSBNYXRoLnJvdW5kKF8weDNmZWMyMCAvIF8weDM1YzY2ZCAqIDB4NjQpOwogICAgY29uc3QgXzB4MTA2ZDJhID0gTWF0aC5yb3VuZChfMHgyYmUwYzggLyBfMHgzNWM2NmQgKiAweDY0KTsKICAgIF8weDVlYzc0NC5pbm5lckhUTUwgPSAiXG4gICAgICAgICAgICAgICAgPGgzPtmF2KrZiNiz2Lcg2K/Ysdis2KfYqiDYp9mE2LfZhNin2Kg8L2gzPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj7Yp9mE2LfZhNin2Kgg2KfZhNmF2YXYqtin2LLZiNmGICg5MCUrKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+IiArIF8weDRiOWI2MiArICIlPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWZpbGxcIiBzdHlsZT1cIndpZHRoOiAiICsgXzB4NGI5YjYyICsgIiVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj7Yp9mE2LfZhNin2Kgg2KfZhNis2YrYr9mI2YYgKDc1LTg5JSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPiIgKyBfMHgxNjJlZjcgKyAiJTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1maWxsXCIgc3R5bGU9XCJ3aWR0aDogIiArIF8weDE2MmVmNyArICIlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+2KfZhNi32YTYp9ioINin2YTZhdiq2YjYs9i32YjZhiAoNjAtNzQlKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+IiArIF8weDRlZmY0NiArICIlPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWZpbGxcIiBzdHlsZT1cIndpZHRoOiAiICsgXzB4NGVmZjQ2ICsgIiVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj7Yp9mE2LfZhNin2Kgg2KfZhNi22LnYp9mBICjYo9mC2YQg2YXZhiA2MCUpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj4iICsgXzB4MTA2ZDJhICsgIiU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtZmlsbFwiIHN0eWxlPVwid2lkdGg6ICIgKyBfMHgxMDZkMmEgKyAiJVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgIjsKICB9KVsiY2F0Y2giXShfMHg0ZTUxYjkgPT4gewogICAgXzB4NWVjNzQ0LmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqOiAiICsgXzB4NGU1MWI5Lm1lc3NhZ2UgKyAiPC9wPiI7CiAgfSk7Cn0KCmZ1bmN0aW9uIGFkZFF1ZXN0aW9uKCkgewogIGNvbnN0IHF1ZXN0aW9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbnNDb250YWluZXIiKTsKICBjb25zdCBxdWVzdGlvbklkID0gRGF0ZS5ub3coKTsKICBjb25zdCBxdWVzdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBxdWVzdGlvbkVsZW1lbnQuY2xhc3NOYW1lID0gInF1ZXN0aW9uLWNvbnRhaW5lciBpbXBvcnRlZC1xdWVzdGlvbi1saWdodCI7CiAgcXVlc3Rpb25FbGVtZW50LmlkID0gInF1ZXN0aW9uLSIgKyBxdWVzdGlvbklkOwoKICBxdWVzdGlvbkVsZW1lbnQuaW5uZXJIVE1MID0gYAogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2YbYtSDYp9mE2LPYpNin2YQ8L2xhYmVsPgogICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi10ZXh0IiByZXF1aXJlZD4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2LHYp9io2Lcg2KfZhNi12YjYsdipICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi1pbWFnZS11cmwiIHBsYWNlaG9sZGVyPSLYo9iv2K7ZhCDYsdin2KjYtyDYp9mE2LXZiNix2KkiPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7YrtmK2KfYsdin2Kog2KfZhNil2KzYp9io2Kk8L2xhYmVsPgogICAgICA8ZGl2IGlkPSJvcHRpb25zLSR7cXVlc3Rpb25JZH0iPgogICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pdGVtIj4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke3F1ZXN0aW9uSWR9IiB2YWx1ZT0iMCIgcmVxdWlyZWQ+CiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgcGxhY2Vob2xkZXI9Itin2YTYrtmK2KfYsSDYp9mE2KPZiNmEIiByZXF1aXJlZD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24taXRlbSI+CiAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImNvcnJlY3QtJHtxdWVzdGlvbklkfSIgdmFsdWU9IjEiIHJlcXVpcmVkPgogICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgb3B0aW9uLXRleHQiIHBsYWNlaG9sZGVyPSLYp9mE2K7Zitin2LEg2KfZhNir2KfZhtmKIiByZXF1aXJlZD4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYWRkLWJ0biIgb25jbGljaz0iYWRkT3B0aW9uKCcke3F1ZXN0aW9uSWR9JykiPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINiu2YrYp9ixCiAgICAgIDwvYnV0dG9uPgogICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InJlbW92ZS1idG4iIG9uY2xpY2s9InJlbW92ZVF1ZXN0aW9uKCcke3F1ZXN0aW9uSWR9JykiPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINin2YTYs9ik2KfZhAogICAgICA8L2J1dHRvbj4KICAgIDwvZGl2PgogIGA7CiAgcXVlc3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHF1ZXN0aW9uRWxlbWVudCk7CiAgZW5hYmxlSW1hZ2VQYXN0ZU9uVXJsRmllbGRzKCk7Cn0KLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINio2LnYryDYr9in2YTYqSBsb2FkU3R1ZGVudHMg2KPZiCDZgdmKINmF2YTZgSDYp9mE2KzYp9mB2KfYs9mD2LHZitio2Kog2KjYudivINiq2LnYsdmK2YEg2KzYr9mI2YQg2KfZhNi32YTYp9ioCgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VhcmNoU3R1ZGVudHNJbnB1dCIpLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZnVuY3Rpb24gKCkgewogIGNvbnN0IHF1ZXJ5ID0gdGhpcy52YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTsKICBjb25zdCBzdHVkZW50c1RhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnRzVGFibGUiKTsKICBjb25zdCByb3dzID0gc3R1ZGVudHNUYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCJ0ciIpOwogIGxldCBmb3VuZCA9IGZhbHNlOwogIHJvd3MuZm9yRWFjaChyb3cgPT4gewogICAgY29uc3QgbmFtZUNlbGwgPSByb3cucXVlcnlTZWxlY3RvcigidGQiKTsKICAgIGlmICghbmFtZUNlbGwpIHJldHVybjsKICAgIGNvbnN0IG5hbWUgPSBuYW1lQ2VsbC50ZXh0Q29udGVudC50cmltKCkudG9Mb3dlckNhc2UoKTsKICAgIGlmIChuYW1lLmluY2x1ZGVzKHF1ZXJ5KSkgewogICAgICByb3cuc3R5bGUuZGlzcGxheSA9ICIiOwogICAgICBmb3VuZCA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICByb3cuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KICB9KTsKICAvLyDYpdiw2Kcg2YTZhSDZitmI2KzYryDZhtiq2KfYptisCiAgaWYgKCFmb3VuZCAmJiBxdWVyeS5sZW5ndGggPiAwKSB7CiAgICBzdHVkZW50c1RhYmxlLmlubmVySFRNTCA9IGA8dHI+PHRkIGNvbHNwYW49IjUiPtmE2Kcg2YrZiNis2K8g2LfZhNin2Kgg2YXYt9in2KjZgtmK2YYg2YTYqNit2KvZgy48L3RkPjwvdHI+YDsKICB9CiAgLy8g2KXYsNinINiq2YUg2YXYs9itINin2YTYqNit2Ksg2KPYudivINiq2K3ZhdmK2YQg2KfZhNi32YTYp9ioCiAgaWYgKHF1ZXJ5Lmxlbmd0aCA9PT0gMCkgewogICAgbG9hZFN0dWRlbnRzKCk7CiAgfQp9KTsKd2luZG93LnJlbW92ZVF1ZXN0aW9uID0gZnVuY3Rpb24gKHF1ZXN0aW9uSWQpIHsKICAgIC8vINil2LDYpyDZg9in2YYg2KfZhNmF2LnYsdmBINmK2KjYr9ijINio2YAgInF1ZXN0aW9uLSIg2KfYs9iq2K7Yr9mF2Ycg2YPZhdinINmH2YjYjCDZiNil2YTYpyDYo9i22YEgInF1ZXN0aW9uLSIKICAgIGxldCBlbGVtZW50SWQgPSBxdWVzdGlvbklkLnN0YXJ0c1dpdGgoInF1ZXN0aW9uLSIpID8gcXVlc3Rpb25JZCA6ICJxdWVzdGlvbi0iICsgcXVlc3Rpb25JZDsKICAgIGNvbnN0IHF1ZXN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7CiAgICBpZiAocXVlc3Rpb25FbGVtZW50ICYmIGNvbmZpcm0oItmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2YXZhiDYrdiw2YEg2YfYsNinINin2YTYs9ik2KfZhNifIikpIHsKICAgICAgICBxdWVzdGlvbkVsZW1lbnQucmVtb3ZlKCk7CiAgICB9Cn07CmZ1bmN0aW9uIGxvYWRQcm9maWxlKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlTmFtZSIpLnZhbHVlID0gY3VycmVudFVzZXJEYXRhPy5bIm5hbWUiXSB8fCBjdXJyZW50VXNlci5lbWFpbDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZUVtYWlsIikudmFsdWUgPSBjdXJyZW50VXNlci5lbWFpbDsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZVJvbGUiKS52YWx1ZSA9IHVzZXJSb2xlID09PSAidGVhY2hlciIgPyAi2YXYudmE2YUiIDogIti32KfZhNioIjsKICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyhjdXJyZW50VXNlci51aWQpLmdldCgpLnRoZW4oXzB4ZDQ2YmUwID0+IHsKICAgIGNvbnN0IF8weGZiNmE5MSA9IF8weGQ0NmJlMC5kYXRhKCk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZUV4YW1zQ3JlYXRlZCIpLnZhbHVlID0gXzB4ZmI2YTkxPy5bImV4YW1zQ3JlYXRlZCJdIHx8IDA7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZUV4YW1zVGFrZW4nKS52YWx1ZSA9IF8weGZiNmE5MT8uWyJleGFtc1Rha2VuIl0gfHwgMDsKCiAgICAvLyDYpdi42YfYp9ixINit2YLZhCDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2Kkg2YjYrdmC2YQg2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZiiDZhNmE2LfYp9mE2Kgg2YHZgti3CiAgICBpZiAodXNlclJvbGUgPT09ICJzdHVkZW50IikgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZVllYXJHcm91cCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZVRlcm1Hcm91cCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAvLyDYpdiw2Kcg2KrZhSDYqtit2K/ZitivINin2YTYs9mG2Kkg2KPZiCDYp9mE2KrYsdmFINmF2LPYqNmC2KfZi9iMINin2KzYudmE2YfYpyDYutmK2LEg2YLYp9io2YTYqSDZhNmE2KrYutmK2YrYsQogICAgICBjb25zdCB5ZWFyID0gXzB4ZmI2YTkxPy55ZWFyIHx8ICIiOwogICAgICBjb25zdCB0ZXJtID0gXzB4ZmI2YTkxPy50ZXJtIHx8ICIiOwogICAgICBjb25zdCB5ZWFyU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2ZpbGVZZWFyIik7CiAgICAgIGNvbnN0IHRlcm1TZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZVRlcm0iKTsKICAgICAgY29uc3Qgc2F2ZVllYXJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZVByb2ZpbGVZZWFyQnRuIik7CiAgICAgIGNvbnN0IHNhdmVUZXJtQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVQcm9maWxlVGVybUJ0biIpOwoKICAgICAgeWVhclNlbGVjdC52YWx1ZSA9IHllYXI7CiAgICAgIHRlcm1TZWxlY3QudmFsdWUgPSB0ZXJtOwoKICAgICAgaWYgKHllYXIpIHsKICAgICAgICB5ZWFyU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICBzYXZlWWVhckJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgc2F2ZVllYXJCdG4udGV4dENvbnRlbnQgPSAi2KrZhSDYp9mE2K3Zgdi4IjsKICAgICAgfSBlbHNlIHsKICAgICAgICB5ZWFyU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgc2F2ZVllYXJCdG4uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICBzYXZlWWVhckJ0bi50ZXh0Q29udGVudCA9ICLYrdmB2Lgg2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipIjsKICAgICAgfQoKICAgICAgaWYgKHRlcm0pIHsKICAgICAgICB0ZXJtU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICBzYXZlVGVybUJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgc2F2ZVRlcm1CdG4udGV4dENvbnRlbnQgPSAi2KrZhSDYp9mE2K3Zgdi4IjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0ZXJtU2VsZWN0LmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgc2F2ZVRlcm1CdG4uZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICBzYXZlVGVybUJ0bi50ZXh0Q29udGVudCA9ICLYrdmB2Lgg2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZiiI7CiAgICAgIH0KCiAgICAgIC8vINin2YTYs9mF2KfYrSDZhNmE2LfYp9mE2Kgg2KjYqti62YrZitixINin2LPZhdmHINmF2LHYqSDZiNin2K3Yr9ipINmB2YLYtwogICAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZU5hbWUiKTsKICAgICAgY29uc3Qgc2F2ZU5hbWVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZVByb2ZpbGVOYW1lQnRuIik7CiAgICAgIGlmIChfMHhmYjZhOTE/Lm5hbWVDaGFuZ2VkKSB7CiAgICAgICAgbmFtZUlucHV0LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICBpZiAoc2F2ZU5hbWVCdG4pIHsKICAgICAgICAgIHNhdmVOYW1lQnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgIHNhdmVOYW1lQnRuLnRleHRDb250ZW50ID0gItiq2YUg2KrYutmK2YrYsSDYp9mE2KfYs9mFIjsKICAgICAgICAgIHNhdmVOYW1lQnRuLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmFtZUlucHV0LmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgaWYgKHNhdmVOYW1lQnRuKSB7CiAgICAgICAgICBzYXZlTmFtZUJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgc2F2ZU5hbWVCdG4udGV4dENvbnRlbnQgPSAi2K3Zgdi4INin2YTYp9iz2YUiOwogICAgICAgICAgc2F2ZU5hbWVCdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2ZpbGVZZWFyR3JvdXAiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZVRlcm1Hcm91cCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9CiAgfSk7Cn0KCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlUHJvZmlsZVllYXJCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgY29uc3QgeWVhclNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlWWVhciIpOwogIGlmICh5ZWFyU2VsZWN0LmRpc2FibGVkKSByZXR1cm47CiAgY29uc3QgeWVhciA9IHllYXJTZWxlY3QudmFsdWU7CiAgaWYgKCF5ZWFyKSB7CiAgICBzaG93VG9hc3QoItmK2LHYrNmJINin2K7YqtmK2KfYsSDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2KkuIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkuc2V0KHsgeWVhciB9LCB7IG1lcmdlOiB0cnVlIH0pLnRoZW4oKCkgPT4gewogICAgc2hvd1RvYXN0KCLYqtmFINit2YHYuCDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2KkhIiwgInN1Y2Nlc3MiKTsKICAgIHllYXJTZWxlY3QuZGlzYWJsZWQgPSB0cnVlOwogICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7CiAgICB0aGlzLnRleHRDb250ZW50ID0gItiq2YUg2KfZhNit2YHYuCI7CiAgfSk7Cn07Ci8vINiy2LEg2K3Zgdi4INin2YTYp9iz2YUg2YTZhNi32KfZhNioICjZhdix2Kkg2YjYp9it2K/YqSDZgdmC2LcpCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlUHJvZmlsZU5hbWVCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2ZpbGVOYW1lIik7CiAgaWYgKG5hbWVJbnB1dC5kaXNhYmxlZCkgcmV0dXJuOwogIGNvbnN0IG5ld05hbWUgPSBuYW1lSW5wdXQudmFsdWUudHJpbSgpOwogIGlmICghbmV3TmFtZSkgewogICAgc2hvd1RvYXN0KCLZitix2KzZiSDYpdiv2K7Yp9mEINin2YTYp9iz2YUuIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkuc2V0KHsgbmFtZTogbmV3TmFtZSwgbmFtZUNoYW5nZWQ6IHRydWUgfSwgeyBtZXJnZTogdHJ1ZSB9KS50aGVuKCgpID0+IHsKICAgIHNob3dUb2FzdCgi2KrZhSDYqti62YrZitixINin2YTYp9iz2YUg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogICAgbmFtZUlucHV0LmRpc2FibGVkID0gdHJ1ZTsKICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlOwogICAgdGhpcy50ZXh0Q29udGVudCA9ICLYqtmFINiq2LrZitmK2LEg2KfZhNin2LPZhSI7CiAgfSk7Cn07CgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpsb2dpbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNob3dBdXRoRm9ybSgnbG9naW4nKSk7CnJlZ2lzdGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gc2hvd0F1dGhGb3JtKCJyZWdpc3RlciIpKTsKc2hvd0xvZ2luLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgXzB4NDU3MzAxID0+IHsKICBfMHg0NTczMDEucHJldmVudERlZmF1bHQoKTsKICBzaG93QXV0aEZvcm0oJ2xvZ2luJyk7Cn0pOwpzaG93UmVnaXN0ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfMHg0NTkyYTggPT4gewogIF8weDQ1OTJhOC5wcmV2ZW50RGVmYXVsdCgpOwogIHNob3dBdXRoRm9ybSgicmVnaXN0ZXIiKTsKfSk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2dpbkZvcm1GaWVsZHMiKS5hZGRFdmVudExpc3RlbmVyKCJzdWJtaXQiLCBfMHgxNDk3NDEgPT4gewogIF8weDE0OTc0MS5wcmV2ZW50RGVmYXVsdCgpOwogIGNvbnN0IF8weDQ4NDlmMyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2dpbkVtYWlsIikudmFsdWU7CiAgY29uc3QgXzB4MjExMzE5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZ2luUGFzc3dvcmQiKS52YWx1ZTsKICBhdXRoLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKF8weDQ4NDlmMywgXzB4MjExMzE5KS50aGVuKF8weDQwZTM0NSA9PiB7CiAgICBjb25zdCBfMHg0ZjRmOGYgPSBfMHg0MGUzNDUudXNlci51aWQ7CiAgICByZXR1cm4gZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2MoXzB4NGY0ZjhmKS5nZXQoKTsKICB9KS50aGVuKF8weGVkZGQwOCA9PiB7CiAgICBpZiAoXzB4ZWRkZDA4LmV4aXN0cyAmJiBfMHhlZGRkMDguZGF0YSgpLmRpc2FibGVkKSB7CiAgICAgIGFsZXJ0KCLYqtmFINiq2LnYt9mK2YQg2K3Ys9in2KjZgy4g2YrYsdis2Ykg2KfZhNiq2YjYp9i12YQg2YXYuSDYp9mE2KXYr9in2LHYqS4iKTsKICAgICAgYXV0aC5zaWduT3V0KCk7CiAgICB9IGVsc2UgewogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0KICB9KVsnY2F0Y2gnXShfMHg1MjVlZDAgPT4gewogICAgYWxlcnQoItit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtiz2KzZitmEINin2YTYr9iu2YjZhDogIiArIF8weDUyNWVkMC5tZXNzYWdlKTsKICB9KTsKfSk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWdpc3RlckZvcm1GaWVsZHMiKS5hZGRFdmVudExpc3RlbmVyKCJzdWJtaXQiLCBfMHgxM2Y5MTggPT4gewogIF8weDEzZjkxOC5wcmV2ZW50RGVmYXVsdCgpOwogIGNvbnN0IF8weDNkZGIxMCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWdpc3Rlck5hbWUiKS52YWx1ZTsKICBjb25zdCBfMHgzNDg3MjMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaXN0ZXJFbWFpbCcpLnZhbHVlOwogIGNvbnN0IF8weDVjODEwNCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWdpc3RlclBhc3N3b3JkIikudmFsdWU7CiAgY29uc3QgXzB4MzQ1N2U2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlZ2lzdGVyQ29uZmlybVBhc3N3b3JkIikudmFsdWU7CiAgY29uc3QgXzB4MTQxYjNhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlZ2lzdGVyUm9sZSIpLnZhbHVlOwogIGNvbnN0IF8weDE0OGFmYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWdpc3RlckVycm9yIik7CiAgY29uc3QgXzB4NGU3M2JjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZ2lzdGVyRXJyb3JUZXh0Jyk7CiAgaWYgKF8weDVjODEwNCAhPT0gXzB4MzQ1N2U2KSB7CiAgICBfMHg0ZTczYmMudGV4dENvbnRlbnQgPSAi2YPZhNmF2Kkg2KfZhNmF2LHZiNixINi62YrYsSDZhdiq2LfYp9io2YLYqSI7CiAgICBfMHgxNDhhZmMuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIHJldHVybjsKICB9CiAgYXV0aC5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoXzB4MzQ4NzIzLCBfMHg1YzgxMDQpLnRoZW4oXzB4M2JhYjAzID0+IHsKICAgIHJldHVybiBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhfMHgzYmFiMDMudXNlci51aWQpLnNldCh7CiAgICAgICduYW1lJzogXzB4M2RkYjEwLAogICAgICAnZW1haWwnOiBfMHgzNDg3MjMsCiAgICAgICdyb2xlJzogXzB4MTQxYjNhLAogICAgICAnY3JlYXRlZEF0JzogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICdleGFtc0NyZWF0ZWQnOiAweDAsCiAgICAgICdleGFtc1Rha2VuJzogMHgwCiAgICB9KTsKICB9KS50aGVuKCgpID0+IHsKICAgIHJldHVybiBhdXRoLmN1cnJlbnRVc2VyLnVwZGF0ZVByb2ZpbGUoewogICAgICAnZGlzcGxheU5hbWUnOiBfMHgzZGRiMTAKICAgIH0pOwogIH0pLnRoZW4oKCkgPT4ge30pWyJjYXRjaCJdKF8weDJkYzRjNCA9PiB7CiAgICBfMHg0ZTczYmMudGV4dENvbnRlbnQgPSBfMHgyZGM0YzQubWVzc2FnZTsKICAgIF8weDE0OGFmYy5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIH0pOwp9KTsKbG9nb3V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogIC8vINiq2K3Yr9mK2Ksg2K3Yp9mE2Kkg2KfZhNmG2LTYp9i3INil2YTZiSDYutmK2LEg2YbYtNi3ICjZiNmC2Kog2YLYr9mK2YUg2KzYr9in2YspCiAgaWYgKGN1cnJlbnRVc2VyICYmIHVzZXJSb2xlID09PSAic3R1ZGVudCIpIHsKICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkudXBkYXRlKHsKICAgICAgbGFzdEFjdGl2ZTogbmV3IERhdGUoMjAwMCwgMCwgMSkgLy8g2KPZiCBEYXRlLm5vdygpIC0gOTk5OTk5OTk5OQogICAgfSk7CiAgfQogIGF1dGguc2lnbk91dCgpOwp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LnYr9mEINmD2YjYryDYstixINin2YTYsdim2YrYs9mK2Kkg2YTZitit2YjZhCDZgdmC2Lcg2YTZhNix2KbZitiz2YrYqSDYqNiv2YjZhiByZWxvYWQKbWVudURhc2hib2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF8weDNkYjg3YiA9PiB7CiAgXzB4M2RiODdiLnByZXZlbnREZWZhdWx0KCk7CiAgc2V0QWN0aXZlTWVudUl0ZW0obWVudURhc2hib2FyZCk7CiAgc2hvd1BhZ2UoZGFzaGJvYXJkUGFnZSk7IC8vINmB2YLYtyDYudix2LYg2LXZgdit2Kkg2KfZhNix2KbZitiz2YrYqQogIC8vINmE2Kcg2KrYs9iq2K7Yr9mFIGxvY2F0aW9uLnJlbG9hZCgpOwogIGxvYWREYXNoYm9hcmQoKTsgLy8g2KXYsNinINmD2YbYqiDYqtix2YrYryDYqtit2K/ZitirINin2YTYqNmK2KfZhtin2Kog2KfZhNix2KbZitiz2YrYqSDZgdmC2LcKfSk7CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgptZW51Q3JlYXRlRXhhbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIF8weDMyYmI3MCA9PiB7CiAgXzB4MzJiYjcwLnByZXZlbnREZWZhdWx0KCk7CiAgaWYgKHVzZXJSb2xlICE9PSAidGVhY2hlciIpIHsKICAgIGFsZXJ0KCLYudiw2LHZi9in2Iwg2YHZgti3INin2YTZhdi52YTZhSDZitmF2YPZhtmHINil2YbYtNin2KEg2KfZhNin2K7Yqtio2KfYsdin2KouIik7CiAgICByZXR1cm47CiAgfQogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVDcmVhdGVFeGFtKTsKICBzaG93UGFnZShjcmVhdGVFeGFtUGFnZSk7CiAgbG9hZFN0dWRlbnRzRm9yRXhhbSgpOyAvLyDYqtit2YXZitmEINin2YTYt9mE2KfYqCDZg9mEINmF2LHYqSDYqtmB2KrYrSDZgdmK2YfYpyDYp9mE2LXZgdit2KkKfSk7CgptZW51Q3JlYXRlU2xpZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfMHg4OTYwZTEgPT4gewogIF8weDg5NjBlMS5wcmV2ZW50RGVmYXVsdCgpOwogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVDcmVhdGVTbGlkZSk7CiAgc2hvd1BhZ2UoY3JlYXRlU2xpZGVQYWdlKTsKfSk7Cm1lbnVSZXN1bHRzLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgXzB4ZjIxMzUxID0+IHsKICBfMHhmMjEzNTEucHJldmVudERlZmF1bHQoKTsKICBzZXRBY3RpdmVNZW51SXRlbShtZW51UmVzdWx0cyk7CiAgc2hvd1BhZ2UocmVzdWx0c1BhZ2UpOwp9KTsKZnVuY3Rpb24gdG9nZ2xlR3JhZGVzRGVsZXRlQnV0dG9ucygpIHsKICBjb25zdCBkZWxldGVFeGFtR3JhZGVzQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGV0ZUV4YW1HcmFkZXNCdG4iKTsKICBjb25zdCBkZWxldGVBbGxTdHVkZW50R3JhZGVzQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGV0ZUFsbFN0dWRlbnRHcmFkZXNCdG4iKTsKICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgaWYgKGRlbGV0ZUV4YW1HcmFkZXNCdG4pIGRlbGV0ZUV4YW1HcmFkZXNCdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgaWYgKGRlbGV0ZUFsbFN0dWRlbnRHcmFkZXNCdG4pIGRlbGV0ZUFsbFN0dWRlbnRHcmFkZXNCdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogIH0gZWxzZSB7CiAgICBpZiAoZGVsZXRlRXhhbUdyYWRlc0J0bikgZGVsZXRlRXhhbUdyYWRlc0J0bi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgaWYgKGRlbGV0ZUFsbFN0dWRlbnRHcmFkZXNCdG4pIGRlbGV0ZUFsbFN0dWRlbnRHcmFkZXNCdG4uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9Cn0KbWVudUdyYWRlcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF8weDk0Mjk2ZCA9PiB7CiAgXzB4OTQyOTZkLnByZXZlbnREZWZhdWx0KCk7CiAgc2V0QWN0aXZlTWVudUl0ZW0obWVudUdyYWRlcyk7CiAgc2hvd1BhZ2UoZ3JhZGVzUGFnZSk7CiAgdG9nZ2xlR3JhZGVzRGVsZXRlQnV0dG9ucygpOyAvLyDYo9i22YEg2YfYsNinINin2YTYs9i32LEg2YfZhtinINij2YrYttin2YsKICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgbG9hZEFsbEdyYWRlcygpOwogIH0gZWxzZSB7CiAgICBsb2FkU3R1ZGVudEdyYWRlcygpOwogICAgbG9hZFN0dWRlbnRQcm9ncmVzcygpOwogIH0KfSk7CgptZW51U3R1ZGVudHMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBfMHgyMTVhYzMgPT4gewogIF8weDIxNWFjMy5wcmV2ZW50RGVmYXVsdCgpOwogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVTdHVkZW50cyk7CiAgc2hvd1BhZ2Uoc3R1ZGVudHNQYWdlKTsKICBsb2FkU3R1ZGVudHMoKTsKfSk7Cm1lbnVQcm9maWxlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgXzB4ZWQwNTBmID0+IHsKICBfMHhlZDA1MGYucHJldmVudERlZmF1bHQoKTsKICBzZXRBY3RpdmVNZW51SXRlbShtZW51UHJvZmlsZSk7CiAgc2hvd1BhZ2UocHJvZmlsZVBhZ2UpOwogIGxvYWRQcm9maWxlKCk7Cn0pOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJldlF1ZXN0aW9uQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgaWYgKGN1cnJlbnRRdWVzdGlvbkluZGV4ID4gMHgwKSB7CiAgICBjdXJyZW50UXVlc3Rpb25JbmRleC0tOwogICAgbG9hZFF1ZXN0aW9uKGN1cnJlbnRRdWVzdGlvbkluZGV4KTsKICB9Cn0pOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmV4dFF1ZXN0aW9uQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgaWYgKGN1cnJlbnRRdWVzdGlvbkluZGV4IDwgY3VycmVudEV4YW0ucXVlc3Rpb25zLmxlbmd0aCAtIDB4MSkgewogICAgY3VycmVudFF1ZXN0aW9uSW5kZXgrKzsKICAgIGxvYWRRdWVzdGlvbihjdXJyZW50UXVlc3Rpb25JbmRleCk7CiAgfQp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KfYrNi52YQg2LLYsSAi2KfZhNi52YjYr9ipINil2YTZiSDYp9mE2KfYrtiq2KjYp9ix2KfYqiIg2YrYsNmH2Kgg2KXZhNmJINin2YTYsdim2YrYs9mK2KkgKGRhc2hib2FyZCkg2KjYr9mE2KfZiyDZhdmGINi12YHYrdipINin2YTYp9iu2KrYqNin2LHYp9iqINmB2YLYtwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFja1RvRXhhbXNCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICBzZXRBY3RpdmVNZW51SXRlbShtZW51RGFzaGJvYXJkKTsKICBzaG93UGFnZShkYXNoYm9hcmRQYWdlKTsKICBsb2FkRGFzaGJvYXJkKCk7IC8vINil2LDYpyDZg9mG2Kog2KrYsdmK2K8g2KrYrdiv2YrYqyDYqNmK2KfZhtin2Kog2KfZhNix2KbZitiz2YrYqSDZgdmC2LcKfSk7CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJncmFkZUV4YW1GaWx0ZXIiKS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBsb2FkRmlsdGVyZWRHcmFkZXMpOwpsZXQgZWRpdGluZ0V4YW1JZCA9IG51bGw7IC8vINij2LbZgSDZh9iw2Kcg2YHZiiDYp9mE2KPYudmE2YkgKNil2LDYpyDZhNmFINmK2YPZhiDZhdmI2KzZiNiv2KfZiykKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KfYs9iq2KjYr9mEINmD2YjYryDYstixINil2LbYp9mB2Kkg2LPYpNin2YQg2YHZiiDYtdmB2K3YqSDYpdmG2LTYp9ihINin2YTYp9mF2KrYrdin2YYg2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNmK2KrZhSDYp9mE2KrYsdmC2YrZhSDYqtmE2YLYp9im2YrYp9mLCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRRdWVzdGlvbkJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogIGNvbnN0IHF1ZXN0aW9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbnNDb250YWluZXIiKTsKICBjb25zdCBxdWVzdGlvbklkID0gInF1ZXN0aW9uLSIgKyBEYXRlLm5vdygpOwogIGNvbnN0IHF1ZXN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIHF1ZXN0aW9uRWxlbWVudC5jbGFzc05hbWUgPSAicXVlc3Rpb24tY29udGFpbmVyIGltcG9ydGVkLXF1ZXN0aW9uLWxpZ2h0IjsKICBxdWVzdGlvbkVsZW1lbnQuaWQgPSBxdWVzdGlvbklkOwogIHF1ZXN0aW9uRWxlbWVudC5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Zhti1INin2YTYs9ik2KfZhDwvbGFiZWw+CiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLXRleHQiIHJlcXVpcmVkPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Ysdin2KjYtyDYp9mE2LXZiNix2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLWltYWdlLXVybCIgcGxhY2Vob2xkZXI9Itij2K/YrtmEINix2KfYqNi3INin2YTYtdmI2LHYqSI+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtiu2YrYp9ix2KfYqiDYp9mE2KXYrNin2KjYqTwvbGFiZWw+CiAgICAgIDxkaXYgaWQ9Im9wdGlvbnMtJHtxdWVzdGlvbklkfSI+CiAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWl0ZW0iPgogICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJjb3JyZWN0LSR7cXVlc3Rpb25JZH0iIHZhbHVlPSIwIiByZXF1aXJlZD4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIG9wdGlvbi10ZXh0IiBwbGFjZWhvbGRlcj0i2KfZhNiu2YrYp9ixINin2YTYo9mI2YQiIHJlcXVpcmVkPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pdGVtIj4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke3F1ZXN0aW9uSWR9IiB2YWx1ZT0iMSIgcmVxdWlyZWQ+CiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgcGxhY2Vob2xkZXI9Itin2YTYrtmK2KfYsSDYp9mE2KvYp9mG2YoiIHJlcXVpcmVkPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJhZGQtYnRuIiBvbmNsaWNrPSJhZGRPcHRpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2K7Zitin2LEKICAgICAgPC9idXR0b24+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0icmVtb3ZlLWJ0biIgb25jbGljaz0icmVtb3ZlUXVlc3Rpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPiDYrdiw2YEg2KfZhNiz2KTYp9mECiAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CiAgYDsKICBxdWVzdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocXVlc3Rpb25FbGVtZW50KTsKICBlbmFibGVJbWFnZVBhc3RlT25VcmxGaWVsZHMoKTsKICB1cGRhdGVRdWVzdGlvbnNOdW1iZXJzKCk7IC8vINil2LnYp9iv2Kkg2KfZhNiq2LHZgtmK2YUg2KjYudivINmD2YQg2KXYttin2YHYqQp9KTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINiq2KPZg9ivINij2YYg2K/Yp9mE2KkgdXBkYXRlUXVlc3Rpb25zTnVtYmVycyDZhdmI2KzZiNiv2Kkg2KjZh9iw2Kcg2KfZhNi02YPZhCDZgdmC2Lcg2YXYsdipINmI2KfYrdiv2Kkg2YHZiiDZhdmE2YHZgzoKZnVuY3Rpb24gdXBkYXRlUXVlc3Rpb25zTnVtYmVycygpIHsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjc2VsZlRlc3RRdWVzdGlvbnNDb250YWluZXIgLnF1ZXN0aW9uLWNvbnRhaW5lciwgI3F1ZXN0aW9uc0NvbnRhaW5lciAucXVlc3Rpb24tY29udGFpbmVyIikuZm9yRWFjaCgoZGl2LCBpZHgpID0+IHsKICAgIC8vINin2K3YsNmBINij2Yog2LnZhti12LEg2KrYsdmC2YrZhSDZgtiv2YrZhQogICAgZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIi5xdWVzdGlvbi1udW1iZXItbGFiZWwsIGRpdiIpLmZvckVhY2goZWwgPT4gewogICAgICBpZiAoCiAgICAgICAgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCJxdWVzdGlvbi1udW1iZXItbGFiZWwiKSB8fAogICAgICAgIChlbC50ZXh0Q29udGVudCAmJiBlbC50ZXh0Q29udGVudC50cmltKCkuc3RhcnRzV2l0aCgi2LPYpNin2YQg2LHZgtmFIikpCiAgICAgICkgewogICAgICAgIGVsLnJlbW92ZSgpOwogICAgICB9CiAgICB9KTsKICAgIC8vINij2LbZgSDYp9mE2KrYsdmC2YrZhSDYp9mE2KzYr9mK2K8g2YHZiiDYp9mE2KPYudmE2YkKICAgIGNvbnN0IG51bURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbnVtRGl2LmNsYXNzTmFtZSA9ICJxdWVzdGlvbi1udW1iZXItbGFiZWwiOwogICAgbnVtRGl2LnN0eWxlID0gImZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6IzBhNzBmZjtmb250LXNpemU6MS4xcmVtO21hcmdpbi1ib3R0b206OHB4OyI7CiAgICBudW1EaXYudGV4dENvbnRlbnQgPSBg2LPYpNin2YQg2LHZgtmFICR7aWR4ICsgMX1gOwogICAgZGl2LnByZXBlbmQobnVtRGl2KTsKICB9KTsKfQoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbUZvcm0nKS5vbnN1Ym1pdCA9IGFzeW5jIGZ1bmN0aW9uKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KICAgIGNvbnN0IHllYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbVllYXIiKS52YWx1ZTsgLy8g2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqQogICAgICBjb25zdCB0ZXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1UZXJtIik/LnZhbHVlIHx8ICIiOyAvLyDYp9mE2KrYtdit2YrYrSDZh9mG2KcKCiAgICAvLyAuLi7Yp9is2YXYuSDYqNin2YLZiiDYqNmK2KfZhtin2Kog2KfZhNin2YXYqtit2KfZhi4uLgogICAgLy8g2YXYq9in2YQ6CiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtVGl0bGUiKS52YWx1ZS50cmltKCk7CiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtRGVzY3JpcHRpb24iKS52YWx1ZS50cmltKCk7CiAgICBjb25zdCBkdXJhdGlvbiA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtRHVyYXRpb24iKS52YWx1ZSk7CiAgICBjb25zdCB0b3RhbE1hcmtzID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1Ub3RhbE1hcmtzJykudmFsdWUpOwogICAgY29uc3QgYWxsb3dlZFN0dWRlbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxsb3dlZFN0dWRlbnRzJykuc2VsZWN0ZWRPcHRpb25zKS5tYXAob3B0ID0+IG9wdC52YWx1ZSk7CiAgICBjb25zdCBzdGFydFRpbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtU3RhcnRUaW1lIikudmFsdWU7CiAgICBjb25zdCBlbmRUaW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbUVuZFRpbWUiKS52YWx1ZTsKICAgIGNvbnN0IHN0YXJ0VGltZSA9IHN0YXJ0VGltZUlucHV0ID8gbmV3IERhdGUoc3RhcnRUaW1lSW5wdXQpLnRvSVNPU3RyaW5nKCkgOiBudWxsOwogICAgY29uc3QgZW5kVGltZSA9IGVuZFRpbWVJbnB1dCA/IG5ldyBEYXRlKGVuZFRpbWVJbnB1dCkudG9JU09TdHJpbmcoKSA6IG51bGw7CiAgICBjb25zdCBxdWVzdGlvbnMgPSBbXTsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5xdWVzdGlvbi1jb250YWluZXIiKS5mb3JFYWNoKGRpdiA9PiB7CiAgICAgICAgY29uc3QgdGV4dCA9IGRpdi5xdWVyeVNlbGVjdG9yKCIucXVlc3Rpb24tdGV4dCIpLnZhbHVlLnRyaW0oKTsKICAgICAgICBjb25zdCBpbWFnZVVybCA9IGRpdi5xdWVyeVNlbGVjdG9yKCIucXVlc3Rpb24taW1hZ2UtdXJsIik/LnZhbHVlLnRyaW0oKSB8fCAiIjsKICAgICAgICBjb25zdCBvcHRpb25zID0gQXJyYXkuZnJvbShkaXYucXVlcnlTZWxlY3RvckFsbCgnLm9wdGlvbi10ZXh0JykpLm1hcChvcHQgPT4gKHsgdGV4dDogb3B0LnZhbHVlLnRyaW0oKSB9KSk7CiAgICAgICAgY29uc3QgY29ycmVjdEFuc3dlciA9IHBhcnNlSW50KGRpdi5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lXj0nY29ycmVjdC0nXTpjaGVja2VkIik/LnZhbHVlKTsKICAgICAgICBxdWVzdGlvbnMucHVzaCh7CiAgICAgICAgICAgIHRleHQsCiAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCB8fCBudWxsLAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICBjb3JyZWN0QW5zd2VyCiAgICAgICAgfSk7CiAgICB9KTsKCiAgICBpZiAoZWRpdGluZ0V4YW1JZCkgewogICAgICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2V4YW1zJykuZG9jKGVkaXRpbmdFeGFtSWQpLnVwZGF0ZSh7CiAgICAgICAgICAgIHRpdGxlLAogICAgICAgICAgICBkZXNjcmlwdGlvbiwKICAgICAgICAgICAgZHVyYXRpb24sCiAgICAgICAgICAgIHRvdGFsTWFya3MsCiAgICAgICAgICAgIHF1ZXN0aW9ucywKICAgICAgICAgICAgYWxsb3dlZFN0dWRlbnRzLAogICAgICAgICAgICBzdGFydFRpbWUsCiAgICAgICAgICAgIGVuZFRpbWUsCiAgICAgICAgICAgIHllYXIsIC8vINin2YTZhdix2K3ZhNipINin2YTYr9ix2KfYs9mK2KkKICAgICAgICAgICAgdGVybSwgLy8g2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZigogICAgICAgICAgICB1cGRhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgICAgICAgfSk7CiAgICAgICAgYWxlcnQoItiq2YUg2KrYrdiv2YrYqyDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hIik7CiAgICAgICAgZWRpdGluZ0V4YW1JZCA9IG51bGw7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1Gb3JtIikucmVzZXQoKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXVlc3Rpb25zQ29udGFpbmVyJykuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgbG9hZEFsbEV4YW1zKCk7CiAgICAgICAgc2hvd1BhZ2UoZXhhbXNQYWdlKTsKICAgIH0gZWxzZSB7CiAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbignZXhhbXMnKS5hZGQoewogICAgICAgICAgICB0aXRsZSwKICAgICAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgICAgIGR1cmF0aW9uLAogICAgICAgICAgICB0b3RhbE1hcmtzLAogICAgICAgICAgICBxdWVzdGlvbnMsCiAgICAgICAgICAgIGFsbG93ZWRTdHVkZW50cywKICAgICAgICAgICAgc3RhcnRUaW1lLAogICAgICAgICAgICBlbmRUaW1lLAogICAgICAgICAgICB5ZWFyLCAvLyDYp9mE2YXYsdit2YTYqSDYp9mE2K/Ysdin2LPZitipCiAgICAgICAgICAgIHRlcm0sIC8vINin2YTYqtix2YUg2KfZhNiv2LHYp9iz2YoKICAgICAgICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlckRhdGE/LlsibmFtZSJdIHx8IGN1cnJlbnRVc2VyLmVtYWlsLAogICAgICAgICAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLnVpZAogICAgICAgIH0pOwogICAgICAgIGFsZXJ0KCLYqtmFINit2YHYuCDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hIik7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1Gb3JtIikucmVzZXQoKTsKICAgICAgICBjb25zdCBxdWVzdGlvbkNvbnRhaW5lcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucXVlc3Rpb24tY29udGFpbmVyIik7CiAgICAgICAgbG9hZEFsbEV4YW1zKCk7CiAgICAgICAgc2hvd1BhZ2UoZXhhbXNQYWdlKTsKICAgIH0KfTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2Kkg2K3Zgdi4INin2YTYtNix2YrYrdipINio2YfYsNinINin2YTZg9mI2K8g2YTZitiq2YUg2KfZhNiq2K3Yr9mK2Ksg2LnZhtivINin2YTYqti52K/ZitmEINmI2YTZitizINin2YTYpdi22KfZgdipINiv2KfYptmF2KfZiwoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2Kkg2K3Zgdi4INin2YTYtNix2YrYrdipINio2YfYsNinINin2YTZg9mI2K8g2YTZitiq2YUg2KfZhNiq2K3Yr9mK2Ksg2LnZhtivINin2YTYqti52K/ZitmEINmI2YTZitizINin2YTYpdi22KfZgdipINiv2KfYptmF2KfZiwoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVGb3JtIikuYWRkRXZlbnRMaXN0ZW5lcigic3VibWl0IiwgYXN5bmMgZnVuY3Rpb24oZSkgewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgY29uc3QgY2hhcHRlcnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhcHRlcnNDb250YWluZXIiKTsKICAgIGNvbnN0IGNoYXB0ZXJEaXZzID0gY2hhcHRlcnNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLmNoYXB0ZXItaXRlbSIpOwogICAgY29uc3QgY2hhcHRlcnNBcnIgPSBbXTsKICAgIGNoYXB0ZXJEaXZzLmZvckVhY2goY2hhcHRlckRpdiA9PiB7CiAgICAgICAgY29uc3QgbGVzc29uc0FyciA9IFtdOwogICAgICAgIGNvbnN0IGxlc3NvbkRpdnMgPSBjaGFwdGVyRGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIi5sZXNzb24taXRlbSIpOwogICAgICAgIGxlc3NvbkRpdnMuZm9yRWFjaChsZXNzb25EaXYgPT4gewogICAgICAgIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KbGVzc29uc0Fyci5wdXNoKHsKICAgIHRpdGxlOiBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLmxlc3Nvbi10aXRsZSIpLnZhbHVlLnRyaW0oKSwKICAgIHZpZGVvOiBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLmxlc3Nvbi12aWRlbyIpLnZhbHVlLnRyaW0oKSwKICAgIGRvd25sb2FkOiBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLmxlc3Nvbi1kb3dubG9hZCIpID8gbGVzc29uRGl2LnF1ZXJ5U2VsZWN0b3IoIi5sZXNzb24tZG93bmxvYWQiKS52YWx1ZS50cmltKCkgOiAiIiwKICAgIHBhc3N3b3JkOiBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLmxlc3Nvbi1wYXNzd29yZCIpID8gbGVzc29uRGl2LnF1ZXJ5U2VsZWN0b3IoIi5sZXNzb24tcGFzc3dvcmQiKS52YWx1ZS50cmltKCkgOiAiIgp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgogICAgICAgIH0pOwogICAgICAgIGNoYXB0ZXJzQXJyLnB1c2goewogICAgICAgICAgICB0aXRsZTogY2hhcHRlckRpdi5xdWVyeVNlbGVjdG9yKCIuY2hhcHRlci10aXRsZSIpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgbGVzc29uczogbGVzc29uc0FycgogICAgICAgIH0pOwogICAgfSk7CgogICAgY29uc3QgaW1hZ2VVcmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVJbWFnZVVybCIpPy52YWx1ZS50cmltKCkgfHwgIiI7CgogICAgaWYgKGVkaXRpbmdTbGlkZUlkKSB7CiAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbigic2xpZGVzIikuZG9jKGVkaXRpbmdTbGlkZUlkKS51cGRhdGUoewogICAgICAgICAgICB0aXRsZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlVGl0bGUiKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgIGltYWdlVXJsLAogICAgICAgICAgICBjaGFwdGVyczogY2hhcHRlcnNBcnIsCiAgICAgICAgICAgIHVwZGF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgICAgICB9KTsKICAgICAgICBzaG93VG9hc3QoItiq2YUg2KrYrdiv2YrYqyDYp9mE2YXZgtix2LEg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogICAgICAgIGVkaXRpbmdTbGlkZUlkID0gbnVsbDsKICAgICAgICBsb2FkU2xpZGVzKCk7CiAgICB9IGVsc2UgewogICAgICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oInNsaWRlcyIpLmFkZCh7CiAgICAgICAgICAgIHRpdGxlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVUaXRsZSIpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgaW1hZ2VVcmwsCiAgICAgICAgICAgIGNoYXB0ZXJzOiBjaGFwdGVyc0FyciwKICAgICAgICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlckRhdGE/LlsibmFtZSJdIHx8IGN1cnJlbnRVc2VyLmVtYWlsLAogICAgICAgICAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLnVpZAogICAgICAgIH0pOwogICAgICAgIHNob3dUb2FzdCgi2KrZhSDYpdmG2LTYp9ihINin2YTZhdmC2LHYsSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgICAgICAgbG9hZFNsaWRlcygpOwogICAgfQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlRm9ybSIpLnJlc2V0KCk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhcHRlcnNDb250YWluZXIiKS5pbm5lckhUTUwgPSAiIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZUNyZWF0aW9uU3VjY2VzcyIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVDcmVhdGlvblN1Y2Nlc3MiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfSwgMjAwMCk7Cn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsICgpID0+IHsKICBjb25zdCBfMHgxYTk4OWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYWJvdXQtY29udGVudCIpOwogIGNvbnN0IF8weDMwZjkyNCA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihfMHgzYzU2MWIgPT4gewogICAgXzB4M2M1NjFiLmZvckVhY2goXzB4MjNjYWQwID0+IHsKICAgICAgaWYgKF8weDIzY2FkMC5pc0ludGVyc2VjdGluZykgewogICAgICAgIF8weDFhOTg5Yi5jbGFzc0xpc3QuYWRkKCJ2aXNpYmxlIik7CiAgICAgIH0KICAgIH0pOwogIH0pOwogIF8weDMwZjkyNC5vYnNlcnZlKF8weDFhOTg5Yik7Cn0pOwppbml0QXBwKCk7CihmdW5jdGlvbiAoKSB7CiAgbGV0IF8weDNjYmMxNiA9IGZhbHNlOwogIGZ1bmN0aW9uIF8weDU3ZTdkNygpIHsKICAgIGNvbnN0IF8weDI3ZmExZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CiAgICBfMHgyN2ZhMWYuaW5uZXJIVE1MID0gIlxuICAgICAgLmRldnRvb2xzLXdhcm5pbmcge1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20gcmlnaHQsICNkMTAwMDAsICMzYjAwMDApO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBzYW5zLXNlcmlmO1xuICAgICAgICBmb250LXNpemU6IDJyZW07XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDQwcHg7XG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgIHotaW5kZXg6IDk5OTk5OTtcbiAgICAgICAgZGlzcGxheTogbm9uZTsgLyog2KfZhNix2LPYp9mE2Kkg2YXYrtmB2YrYqSDYqNi02YPZhCDYp9mB2KrYsdin2LbZiiAqL1xuICAgICAgfVxuICAgICAgLmRldnRvb2xzLXdhcm5pbmcuc2hvdyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7IC8qINiq2LjZh9ixINin2YTYsdiz2KfZhNipINi52YbYr9mF2Kcg2YrYqtmFINin2YPYqti02KfZgSDYo9iv2YjYp9iqINin2YTZhdi32YjYsSAqL1xuICAgICAgfVxuICAgICI7CiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKF8weDI3ZmExZik7CiAgfQogIAogIGZ1bmN0aW9uIF8weDFlNDY1OCgpIHsKICAgIGlmIChfMHgzY2JjMTYpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgXzB4M2NiYzE2ID0gdHJ1ZTsKICAgIGNvbnN0IF8weDU4N2Y4ZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZXZ0b29scy13YXJuaW5nIik7CiAgICBpZiAoXzB4NTg3ZjhkKSB7CiAgICAgIF8weDU4N2Y4ZC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gImFib3V0OmJsYW5rIjsKICAgICAgfSwgMHg5YzQpOwogICAgfQogIH0KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vIDMuINil2LjZh9in2LEg2LLYsSDYp9mE2KXYrdi12KfYptmK2KfYqiDZhNmE2YXYudmE2YUg2YHZgti3CgovLyA0LiDYudmG2K8g2KfZhNi22LrYtyDYudmE2Ykg2LLYsSDYp9mE2KXYrdi12KfYptmK2KfYqtiMINin2YHYqtitINin2YTYtdmB2K3YqSDZiNit2YXZkdmEINin2YTYsdiz2YjZhdin2KoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTdHVkZW50c1N0YXRpc3RpY3MiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKICBlLnByZXZlbnREZWZhdWx0KCk7CiAgc2V0QWN0aXZlTWVudUl0ZW0oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTdHVkZW50c1N0YXRpc3RpY3NMaSIpKTsKICBzaG93UGFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudHNTdGF0aXN0aWNzUGFnZSIpKTsKICBsb2FkU3R1ZGVudHNTdGF0aXN0aWNzQ2hhcnRzKCk7Cn0pOwoKLy8gNS4g2K/Yp9mE2Kkg2KrYrdmF2YrZhCDYp9mE2KjZitin2YbYp9iqINmI2LHYs9mFINin2YTYsdiz2YjZhdin2Kog2KfZhNio2YrYp9mG2YrYqQpmdW5jdGlvbiBsb2FkU3R1ZGVudHNTdGF0aXN0aWNzQ2hhcnRzKCkgewogIGRiLmNvbGxlY3Rpb24oInJlc3VsdHMiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgIGNvbnN0IGV4YW1TdGF0cyA9IHt9OwogICAgY29uc3Qgc3R1ZGVudFN0YXRzID0ge307CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpOwogICAgICAvLyDZhdiq2YjYs9i3INiv2LHYrNin2Kog2YPZhCDYp9mF2KrYrdin2YYKICAgICAgaWYgKCFleGFtU3RhdHNbZGF0YS5leGFtVGl0bGVdKSBleGFtU3RhdHNbZGF0YS5leGFtVGl0bGVdID0gW107CiAgICAgIGV4YW1TdGF0c1tkYXRhLmV4YW1UaXRsZV0ucHVzaChkYXRhLnNjb3JlUGVyY2VudGFnZSk7CgogICAgICAvLyDYp9mE2YXYs9iq2YjZiSDYp9mE2LnYp9mFINmE2YPZhCDYt9in2YTYqAogICAgICBpZiAoIXN0dWRlbnRTdGF0c1tkYXRhLnVzZXJOYW1lXSkgc3R1ZGVudFN0YXRzW2RhdGEudXNlck5hbWVdID0gW107CiAgICAgIHN0dWRlbnRTdGF0c1tkYXRhLnVzZXJOYW1lXS5wdXNoKGRhdGEuc2NvcmVQZXJjZW50YWdlKTsKICAgIH0pOwoKICAgIC8vINix2LPZhSDZhdiq2YjYs9i3INiv2LHYrNin2Kog2YPZhCDYp9mF2KrYrdin2YYKICAgIGNvbnN0IGV4YW1MYWJlbHMgPSBPYmplY3Qua2V5cyhleGFtU3RhdHMpOwogICAgY29uc3QgZXhhbUF2ZXJhZ2VzID0gZXhhbUxhYmVscy5tYXAodGl0bGUgPT4gewogICAgICBjb25zdCBhcnIgPSBleGFtU3RhdHNbdGl0bGVdOwogICAgICByZXR1cm4gYXJyLmxlbmd0aCA/IChhcnIucmVkdWNlKChhLGIpPT5hK2IsMCkvYXJyLmxlbmd0aCkudG9GaXhlZCgxKSA6IDA7CiAgICB9KTsKICAgIGRyYXdCYXJDaGFydCgiZXhhbUF2ZXJhZ2VDaGFydCIsIGV4YW1MYWJlbHMsIGV4YW1BdmVyYWdlcywgItmF2KrZiNiz2Lcg2KfZhNiv2LHYrNin2KogKCUpIiwgIiMwYTcwZmYiKTsKCiAgICAvLyDYsdiz2YUg2KfZhNmF2LPYqtmI2Ykg2KfZhNi52KfZhSDZhNmD2YQg2LfYp9mE2KgKICAgIGNvbnN0IHN0dWRlbnRMYWJlbHMgPSBPYmplY3Qua2V5cyhzdHVkZW50U3RhdHMpOwogICAgY29uc3Qgc3R1ZGVudEF2ZXJhZ2VzID0gc3R1ZGVudExhYmVscy5tYXAobmFtZSA9PiB7CiAgICAgIGNvbnN0IGFyciA9IHN0dWRlbnRTdGF0c1tuYW1lXTsKICAgICAgcmV0dXJuIGFyci5sZW5ndGggPyAoYXJyLnJlZHVjZSgoYSxiKT0+YStiLDApL2Fyci5sZW5ndGgpLnRvRml4ZWQoMSkgOiAwOwogICAgfSk7CiAgICBkcmF3QmFyQ2hhcnQoInN0dWRlbnRHZW5lcmFsQ2hhcnQiLCBzdHVkZW50TGFiZWxzLCBzdHVkZW50QXZlcmFnZXMsICLYp9mE2YXYs9iq2YjZiSDYp9mE2LnYp9mFICglKSIsICIjMTRlZTg4Iik7CgogICAgLy8g2LHYs9mFINmF2YLYp9ix2YbYqSDYp9mE2LfZhNin2Kgg2KjYqNi52LbZh9mFINin2YTYqNi52LYKICAgIGRyYXdSYWRhckNoYXJ0KCJzdHVkZW50c0NvbXBhcmVDaGFydCIsIHN0dWRlbnRMYWJlbHMsIHN0dWRlbnRBdmVyYWdlcywgItmF2YLYp9ix2YbYqSDYp9mE2LfZhNin2KgiKTsKICB9KTsKfQoKLy8g2LHYs9mFINix2LPZhSDYqNmK2KfZhtmKINi52YXZiNiv2YoKZnVuY3Rpb24gZHJhd0JhckNoYXJ0KGNhbnZhc0lkLCBsYWJlbHMsIGRhdGEsIGxhYmVsLCBjb2xvcikgewogIGNvbnN0IGN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc0lkKS5nZXRDb250ZXh0KCIyZCIpOwogIG5ldyBDaGFydChjdHgsIHsKICAgIHR5cGU6ICJiYXIiLAogICAgZGF0YTogewogICAgICBsYWJlbHM6IGxhYmVscywKICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgbGFiZWw6IGxhYmVsLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvciwKICAgICAgICBib3JkZXJSYWRpdXM6IDgKICAgICAgfV0KICAgIH0sCiAgICBvcHRpb25zOiB7CiAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgIHBsdWdpbnM6IHsKICAgICAgICBsZWdlbmQ6IHsgZGlzcGxheTogZmFsc2UgfSwKICAgICAgICB0aXRsZTogeyBkaXNwbGF5OiBmYWxzZSB9CiAgICAgIH0sCiAgICAgIHNjYWxlczogewogICAgICAgIHk6IHsgYmVnaW5BdFplcm86IHRydWUsIG1heDogMTAwIH0KICAgICAgfQogICAgfQogIH0pOwp9CgovLyDYsdiz2YUg2LHYs9mFINio2YrYp9mG2Yog2LHYp9iv2KfYsdmKINmE2YTZhdmC2KfYsdmG2KkKZnVuY3Rpb24gZHJhd1JhZGFyQ2hhcnQoY2FudmFzSWQsIGxhYmVscywgZGF0YSwgbGFiZWwpIHsKICBjb25zdCBjdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNJZCkuZ2V0Q29udGV4dCgiMmQiKTsKICBuZXcgQ2hhcnQoY3R4LCB7CiAgICB0eXBlOiAicmFkYXIiLAogICAgZGF0YTogewogICAgICBsYWJlbHM6IGxhYmVscywKICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgbGFiZWw6IGxhYmVsLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAicmdiYSgxMCwxMTIsMjU1LDAuMikiLAogICAgICAgIGJvcmRlckNvbG9yOiAiIzBhNzBmZiIsCiAgICAgICAgYm9yZGVyV2lkdGg6IDIsCiAgICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6ICIjMTRlZTg4IgogICAgICB9XQogICAgfSwKICAgIG9wdGlvbnM6IHsKICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgcGx1Z2luczogewogICAgICAgIGxlZ2VuZDogeyBkaXNwbGF5OiBmYWxzZSB9LAogICAgICAgIHRpdGxlOiB7IGRpc3BsYXk6IGZhbHNlIH0KICAgICAgfSwKICAgICAgc2NhbGVzOiB7CiAgICAgICAgcjogeyBiZWdpbkF0WmVybzogdHJ1ZSwgbWF4OiAxMDAgfQogICAgICB9CiAgICB9CiAgfSk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgogIGZ1bmN0aW9uIF8weDIxNzIxNSgpIHsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBmdW5jdGlvbiAoXzB4MWZhMzE5KSB7CiAgICAgIGlmIChfMHgxZmEzMTkua2V5ID09PSAiRjEyIiB8fCBfMHgxZmEzMTkuY3RybEtleSAmJiBfMHgxZmEzMTkuc2hpZnRLZXkgJiYgWydJJywgJ0onLCAnQyddLmluY2x1ZGVzKF8weDFmYTMxOS5rZXkpIHx8IF8weDFmYTMxOS5jdHJsS2V5ICYmIF8weDFmYTMxOS5rZXkgPT09ICdVJykgewogICAgICAgIF8weDFmYTMxOS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIF8weDFlNDY1OCgpOwogICAgICB9CiAgICB9KTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51IiwgZnVuY3Rpb24gKF8weDU1NjJjYykgewogICAgICBfMHg1NTYyY2MucHJldmVudERlZmF1bHQoKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiBfMHg0NjE5YmMoKSB7CiAgXzB4NTdlN2Q3KCk7CiAgXzB4M2I1MWNmKCk7CiAgXzB4MjE3MjE1KCk7Cgp9CiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBfMHg0NjE5YmMpOwp9KSgpOwoKZnVuY3Rpb24gc2hvd05vdGlmaWNhdGlvbk1lbnVGb3JUZWFjaGVyKCkgewogIGNvbnN0IGxpU2VuZE5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsaVNlbmROb3RpZmljYXRpb24iKTsKICBpZiAoIWxpU2VuZE5vdGlmaWNhdGlvbikgcmV0dXJuOwogIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICBsaVNlbmROb3RpZmljYXRpb24uc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgfSBlbHNlIHsKICAgIGxpU2VuZE5vdGlmaWNhdGlvbi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0KfQoKLy8g2K/Yp9mE2Kkg2KXYuNmH2KfYsSDZhtin2YHYsNipINin2YTYpdi02LnYp9ixCmZ1bmN0aW9uIHNob3dOb3RpZmljYXRpb25Nb2RhbCgpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibm90aWZpY2F0aW9uTW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwoKICAvLyDYpdi52KfYr9ipINix2KjYtyDYo9iy2LHYp9ixINin2YTYqtiz2KzZitmEINmD2YQg2YXYsdipINiq2YHYqtitINmB2YrZh9inINin2YTZhtin2YHYsNipCiAgY29uc3Qgc3RhcnRSZWNvcmRpbmdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RhcnRSZWNvcmRpbmdCdG4iKTsKICBjb25zdCBzdG9wUmVjb3JkaW5nQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0b3BSZWNvcmRpbmdCdG4iKTsKICBjb25zdCByZWNvcmRlZEF1ZGlvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY29yZGVkQXVkaW8iKTsKICBjb25zdCBub3RpZmljYXRpb25BdWRpb1VybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3RpZmljYXRpb25BdWRpb1VybCIpOwoKICBsZXQgbWVkaWFSZWNvcmRlcjsKICBsZXQgYXVkaW9DaHVua3MgPSBbXTsKICBsZXQgcmVjb3JkZWRBdWRpb0Jsb2IgPSBudWxsOwoKICBpZiAoc3RhcnRSZWNvcmRpbmdCdG4gJiYgc3RvcFJlY29yZGluZ0J0biAmJiByZWNvcmRlZEF1ZGlvKSB7CiAgICBzdGFydFJlY29yZGluZ0J0bi5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24gKCkgewogICAgICBhdWRpb0NodW5rcyA9IFtdOwogICAgICByZWNvcmRlZEF1ZGlvQmxvYiA9IG51bGw7CiAgICAgIHJlY29yZGVkQXVkaW8uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgbm90aWZpY2F0aW9uQXVkaW9VcmwudmFsdWUgPSAiIjsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pOwogICAgICAgIG1lZGlhUmVjb3JkZXIgPSBuZXcgTWVkaWFSZWNvcmRlcihzdHJlYW0pOwogICAgICAgIG1lZGlhUmVjb3JkZXIuc3RhcnQoKTsKICAgICAgICBzdGFydFJlY29yZGluZ0J0bi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIHN0b3BSZWNvcmRpbmdCdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgICAgIG1lZGlhUmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gZSA9PiBhdWRpb0NodW5rcy5wdXNoKGUuZGF0YSk7CiAgICAgICAgbWVkaWFSZWNvcmRlci5vbnN0b3AgPSBhc3luYyAoKSA9PiB7CiAgICAgICAgICByZWNvcmRlZEF1ZGlvQmxvYiA9IG5ldyBCbG9iKGF1ZGlvQ2h1bmtzLCB7IHR5cGU6ICJhdWRpby93ZWJtIiB9KTsKICAgICAgICAgIHJlY29yZGVkQXVkaW8uc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChyZWNvcmRlZEF1ZGlvQmxvYik7CiAgICAgICAgICByZWNvcmRlZEF1ZGlvLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgc3RvcFJlY29yZGluZ0J0bi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc3RhcnRSZWNvcmRpbmdCdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgICAgICAgLy8g2LHZgdi5INin2YTZhdmE2YEg2KXZhNmJIEZpcmViYXNlIFN0b3JhZ2UKICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gIm5vdGlmaWNhdGlvbnMvIiArIERhdGUubm93KCkgKyAiLndlYm0iOwogICAgICAgICAgY29uc3Qgc3RvcmFnZVJlZiA9IGZpcmViYXNlLnN0b3JhZ2UoKS5yZWYoKS5jaGlsZChmaWxlTmFtZSk7CiAgICAgICAgICBhd2FpdCBzdG9yYWdlUmVmLnB1dChyZWNvcmRlZEF1ZGlvQmxvYik7CiAgICAgICAgICBjb25zdCB1cmwgPSBhd2FpdCBzdG9yYWdlUmVmLmdldERvd25sb2FkVVJMKCk7CiAgICAgICAgICBub3RpZmljYXRpb25BdWRpb1VybC52YWx1ZSA9IHVybDsKICAgICAgICB9OwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBhbGVydCgi2KrYudiw2LEg2KfZhNmI2LXZiNmEINmE2YTZhdmK2YPYsdmI2YHZiNmGOiAiICsgZXJyLm1lc3NhZ2UpOwogICAgICAgIHN0YXJ0UmVjb3JkaW5nQnRuLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKICAgICAgICBzdG9wUmVjb3JkaW5nQnRuLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIH0KICAgIH07CgogICAgc3RvcFJlY29yZGluZ0J0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICBpZiAobWVkaWFSZWNvcmRlciAmJiBtZWRpYVJlY29yZGVyLnN0YXRlID09PSAicmVjb3JkaW5nIikgewogICAgICAgIG1lZGlhUmVjb3JkZXIuc3RvcCgpOwogICAgICB9CiAgICB9OwogIH0KfQoKCi8vINiv2KfZhNipINil2K7Zgdin2KEg2YbYp9mB2LDYqSDYp9mE2KXYtNi52KfYsQpmdW5jdGlvbiBoaWRlTm90aWZpY2F0aW9uTW9kYWwoKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vdGlmaWNhdGlvbk1vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibm90aWZpY2F0aW9uTWVzc2FnZSIpLnZhbHVlID0gIiI7Cn0KCi8vINiv2KfZhNipINil2LHYs9in2YQg2KfZhNil2LTYudin2LEg2KXZhNmJINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqgphc3luYyBmdW5jdGlvbiBzZW5kVGVhY2hlck5vdGlmaWNhdGlvbigpIHsKICBjb25zdCBtc2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibm90aWZpY2F0aW9uTWVzc2FnZSIpLnZhbHVlLnRyaW0oKTsKICBjb25zdCBhdWRpb1VybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3RpZmljYXRpb25BdWRpb1VybCIpLnZhbHVlLnRyaW0oKTsKICBpZiAoIW1zZykgewogICAgc2hvd1RvYXN0KCLZitix2KzZiSDZg9iq2KfYqNipINin2YTYsdiz2KfZhNipLiIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICBhd2FpdCBkYi5jb2xsZWN0aW9uKCJub3RpZmljYXRpb25zIikuYWRkKHsKICAgIG1lc3NhZ2U6IG1zZywKICAgIGF1ZGlvVXJsOiBhdWRpb1VybCB8fCBudWxsLAogICAgY3JlYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogIH0pOwogIGhpZGVOb3RpZmljYXRpb25Nb2RhbCgpOwogIHNob3dUb2FzdCgi2KrZhSDYpdix2LPYp9mEINin2YTYpdi02LnYp9ixINio2YbYrNin2K0hIiwgInN1Y2Nlc3MiKTsKfQovLyDYsdio2Lcg2KfZhNij2K3Yr9in2Ksg2KjYp9mE2KPYstix2KfYsSAo2YXYsdipINmI2KfYrdiv2Kkg2KjYudivINin2YTYqtij2YPYryDZhdmGINmI2KzZiNivINin2YTYudmG2KfYtdixKQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVNlbmROb3RpZmljYXRpb24iKS5vbmNsaWNrID0gZnVuY3Rpb24oZSkgewogIGUucHJldmVudERlZmF1bHQoKTsKICBzaG93Tm90aWZpY2F0aW9uTW9kYWwoKTsKfTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LLYsSDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2LDYp9iqICLZgdim2Kkg2LrZitixINmF2LnYsdmI2YHYqSIKY29uc3QgZGVsZXRlVW5rbm93bkNhdGVnb3J5UXVlc3Rpb25zQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CmRlbGV0ZVVua25vd25DYXRlZ29yeVF1ZXN0aW9uc0J0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1kYW5nZXIiOwpkZWxldGVVbmtub3duQ2F0ZWdvcnlRdWVzdGlvbnNCdG4uc3R5bGUubWFyZ2luQm90dG9tID0gIjE1cHgiOwpkZWxldGVVbmtub3duQ2F0ZWdvcnlRdWVzdGlvbnNCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINiw2KfYqiDZgdim2Kkg2LrZitixINmF2LnYsdmI2YHYqWA7CmRlbGV0ZVVua25vd25DYXRlZ29yeVF1ZXN0aW9uc0J0bi5pZCA9ICJkZWxldGVVbmtub3duQ2F0ZWdvcnlRdWVzdGlvbnNCdG4iOwoKLy8g2KPYttmBINin2YTYstixINiq2K3YqiDZgtin2KbZhdipINin2YTZgdim2KfYqiDZgdmKINio2YbZgyDYp9mE2KPYs9im2YTYqQpxdWVzdGlvbkJhbmtDYXRlZ29yeVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpOwppZiAocXVlc3Rpb25CYW5rQ2F0ZWdvcnlTZWxlY3QpIHsKICBxdWVzdGlvbkJhbmtDYXRlZ29yeVNlbGVjdC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGRlbGV0ZVVua25vd25DYXRlZ29yeVF1ZXN0aW9uc0J0bik7Cn0KCi8vINi52YbYryDYp9mE2LbYuti3INi52YTZiSDYstixINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYsNin2Kog2YHYptipINi62YrYsSDZhdi52LHZiNmB2KkKZGVsZXRlVW5rbm93bkNhdGVnb3J5UXVlc3Rpb25zQnRuLm9uY2xpY2sgPSBhc3luYyBmdW5jdGlvbiAoKSB7CiAgaWYgKCFjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2LDYp9iqINmB2KbYqSDYutmK2LEg2YXYudix2YjZgdip2J8g2YTYpyDZitmF2YPZhiDYp9mE2KrYsdin2KzYuSDYudmGINmH2LDYpyDYp9mE2KXYrNix2KfYoSEiKSkgcmV0dXJuOwoKICAvLyDYrNmE2Kgg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2KfZhNiq2Yog2YTZh9inIGNhdGVnb3J5SWQg2LrZitixINmF2YjYrNmI2K8g2YHZiiDYp9mE2YPYp9i0CiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS5nZXQoKTsKICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgIHNob3dUb2FzdCgi2YTYpyDZitmI2KzYryDYo9iz2KbZhNipINmB2Yog2KjZhtmDINin2YTYo9iz2KbZhNipLiIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICAvLyDYqtij2YPYryDZhdmGINiq2K3ZhdmK2YQg2KfZhNmD2KfYtCDYo9mI2YTYp9mLCiAgaWYgKCF3aW5kb3cucXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGUgfHwgT2JqZWN0LmtleXMod2luZG93LnF1ZXN0aW9uQ2F0ZWdvcmllc0NhY2hlKS5sZW5ndGggPT09IDApIHsKICAgIGF3YWl0IGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZSgpOwogIH0KICBjb25zdCBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgbGV0IGZvdW5kID0gMDsKICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICBjb25zdCBxID0gZG9jLmRhdGEoKTsKICAgIGlmIChxLmNhdGVnb3J5SWQgJiYgIXF1ZXN0aW9uQ2F0ZWdvcmllc0NhY2hlW3EuY2F0ZWdvcnlJZF0pIHsKICAgICAgYmF0Y2guZGVsZXRlKGRvYy5yZWYpOwogICAgICBmb3VuZCsrOwogICAgfQogIH0pOwogIGlmIChmb3VuZCA9PT0gMCkgewogICAgc2hvd1RvYXN0KCLZhNinINmK2YjYrNivINij2LPYptmE2Kkg2KjZgdim2Kkg2LrZitixINmF2LnYsdmI2YHYqS4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgYXdhaXQgYmF0Y2guY29tbWl0KCk7CiAgc2hvd1RvYXN0KCLYqtmFINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYsNin2Kog2YHYptipINi62YrYsSDZhdi52LHZiNmB2Kkg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogIGxvYWRRdWVzdGlvbkJhbmsoKTsKfTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2K/Yp9mE2Kkg2LnYsdi2INin2YTYpdi02LnYp9ixINmE2YTYt9in2YTYqCDYudmG2K8g2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gbGlzdGVuRm9yU3R1ZGVudE5vdGlmaWNhdGlvbnMoKSB7CiAgaWYgKHVzZXJSb2xlID09PSAic3R1ZGVudCIpIHsKICAgIGxldCBub3RpZmljYXRpb25EaXNwbGF5Q291bnQgPSAwOwogICAgbGV0IGxhc3ROb3RpZklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxhc3RUZWFjaGVyTm90aWZpY2F0aW9uSWQiKSB8fCAiIjsKCiAgICAvLyDYrNmE2Kgg2KLYrtixINil2LTYudin2LEg2YHZgti3INmF2LHYqSDZiNin2K3Yr9ipINio2LnYryAxMCDYq9mI2KfZhtmKICjZhdix2KrZitmGINmB2YLYtykKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICBkYi5jb2xsZWN0aW9uKCJub3RpZmljYXRpb25zIikKICAgICAgICAub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKQogICAgICAgIC5saW1pdCgxKQogICAgICAgIC5nZXQoKQogICAgICAgIC50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICAgIGlmICghc25hcHNob3QuZW1wdHkpIHsKICAgICAgICAgICAgY29uc3Qgbm90aWZEb2MgPSBzbmFwc2hvdC5kb2NzWzBdOwogICAgICAgICAgICBjb25zdCBub3RpZiA9IG5vdGlmRG9jLmRhdGEoKTsKICAgICAgICAgICAgY29uc3Qgbm90aWZJZCA9IG5vdGlmRG9jLmlkOwogICAgICAgICAgICAvLyDYpdiw2Kcg2YTZhSDZitiq2YUg2LnYsdi2INmH2LDYpyDYp9mE2KXYtNi52KfYsSDZhdmGINmC2KjZhAogICAgICAgICAgICBpZiAobGFzdE5vdGlmSWQgIT09IG5vdGlmSWQpIHsKICAgICAgICAgICAgICBzaG93UG9wdXBOb3RpZmljYXRpb24obm90aWYubWVzc2FnZSwgbm90aWYuYXVkaW9VcmwpOwogICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkRpc3BsYXlDb3VudCsrOwogICAgICAgICAgICAgIGxhc3ROb3RpZklkID0gbm90aWZJZDsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibGFzdFRlYWNoZXJOb3RpZmljYXRpb25JZCIsIG5vdGlmSWQpOwogICAgICAgICAgICAgIC8vINio2LnYryAxMCDYq9mI2KfZhtmKINij2K7YsdmJ2Iwg2KPYuNmH2LHZhyDZhdix2Kkg2KvYp9mG2YrYqSDZgdmC2Lcg2KXYsNinINmE2YUg2YrYqtmFINiq2K3Yr9mK2Ksg2KfZhNil2LTYudin2LEKICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIC8vINiq2K3ZgtmCINmF2LHYqSDYo9iu2LHZiSDYo9mGINin2YTYpdi02LnYp9ixINmE2YUg2YrYqti62YrYsQogICAgICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsYXN0VGVhY2hlck5vdGlmaWNhdGlvbklkIikgPT09IG5vdGlmSWQgJiYgbm90aWZpY2F0aW9uRGlzcGxheUNvdW50IDwgMikgewogICAgICAgICAgICAgICAgICBzaG93UG9wdXBOb3RpZmljYXRpb24obm90aWYubWVzc2FnZSwgbm90aWYuYXVkaW9VcmwpOwogICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25EaXNwbGF5Q291bnQrKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCAxMDAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sIDEwMDAwKTsKCiAgICAvLyDYp9iz2KrZhdi5INmE2YTYpdi02LnYp9ix2KfYqiDYp9mE2KzYr9mK2K/YqSDZgdmC2Lcg2KPYq9mG2KfYoSDYp9mE2KzZhNiz2KkgKNmE2Kcg2KrYuNmH2LEg2KXZhNinINil2LDYpyDZg9in2YYg2KzYr9mK2K8g2YjZhNmFINmK2LjZh9ixINmB2Yog2YfYsNmHINin2YTYrNmE2LPYqSkKICAgIGRiLmNvbGxlY3Rpb24oIm5vdGlmaWNhdGlvbnMiKQogICAgICAub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKQogICAgICAubGltaXQoMSkKICAgICAgLm9uU25hcHNob3Qoc25hcHNob3QgPT4gewogICAgICAgIGlmICghc25hcHNob3QuZW1wdHkpIHsKICAgICAgICAgIGNvbnN0IG5vdGlmRG9jID0gc25hcHNob3QuZG9jc1swXTsKICAgICAgICAgIGNvbnN0IG5vdGlmID0gbm90aWZEb2MuZGF0YSgpOwogICAgICAgICAgY29uc3Qgbm90aWZJZCA9IG5vdGlmRG9jLmlkOwogICAgICAgICAgaWYgKGxhc3ROb3RpZklkICE9PSBub3RpZklkKSB7CiAgICAgICAgICAgIHNob3dQb3B1cE5vdGlmaWNhdGlvbihub3RpZi5tZXNzYWdlLCBub3RpZi5hdWRpb1VybCk7CiAgICAgICAgICAgIG5vdGlmaWNhdGlvbkRpc3BsYXlDb3VudCA9IDE7CiAgICAgICAgICAgIGxhc3ROb3RpZklkID0gbm90aWZJZDsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImxhc3RUZWFjaGVyTm90aWZpY2F0aW9uSWQiLCBub3RpZklkKTsKICAgICAgICAgICAgLy8g2KjYudivIDEwINir2YjYp9mG2Yog2KPYrtix2YnYjCDYo9i42YfYsdmHINmF2LHYqSDYq9in2YbZitipINmB2YLYtyDYpdiw2Kcg2YTZhSDZitiq2LrZitixINin2YTYpdi02LnYp9ixCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibGFzdFRlYWNoZXJOb3RpZmljYXRpb25JZCIpID09PSBub3RpZklkICYmIG5vdGlmaWNhdGlvbkRpc3BsYXlDb3VudCA8IDIpIHsKICAgICAgICAgICAgICAgIHNob3dQb3B1cE5vdGlmaWNhdGlvbihub3RpZi5tZXNzYWdlLCBub3RpZi5hdWRpb1VybCk7CiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25EaXNwbGF5Q291bnQrKzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEwMDAwKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogIH0KfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINin2LPYqtiv2LnZkCDZh9iw2Ycg2KfZhNiv2KfZhNipINmB2Yog2YbZh9in2YrYqSBzZXR1cEF1dGhlbnRpY2F0ZWRVSSDYqNiv2YTYp9mLINmF2YYgc2hvd1N0dWRlbnROb3RpZmljYXRpb24KLy8gc2V0dXBBdXRoZW50aWNhdGVkVUkoKSB7Ci8vICAgLi4uCi8vICAgc2hvd05vdGlmaWNhdGlvbk1lbnVGb3JUZWFjaGVyKCk7Ci8vICAgbGlzdGVuRm9yU3R1ZGVudE5vdGlmaWNhdGlvbnMoKTsKLy8gfQpmdW5jdGlvbiBzaG93UG9wdXBOb3RpZmljYXRpb24obWVzc2FnZSwgYXVkaW9VcmwpIHsKICAvLyDYpdiw2Kcg2YPYp9mG2Kog2KfZhNmG2KfZgdiw2Kkg2YXZiNis2YjYr9ipINmF2LPYqNmC2KfZi9iMINin2K3YsNmB2YfYpwogIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50Tm90aWZpY2F0aW9uTW9kYWwiKTsKICBpZiAobW9kYWwpIG1vZGFsLnJlbW92ZSgpOwoKICAvLyDYr9i52YUg2KrZhtiz2YrZgtin2Kog2K7Yp9i12Kk6ICoq2LrYp9mF2YIqKiBfX9iq2LbYrtmK2YVfXyA9Pdiq2LjZhNmK2YQ9PSAoaGlnaGxpZ2h0KQogIGxldCBmb3JtYXR0ZWRNZXNzYWdlID0gbWVzc2FnZQogICAgLy8g2KPYs9i32LEg2KzYr9mK2K/YqQogICAgLnJlcGxhY2UoLyg/OlxyXG58XHJ8XG4pL2csICI8YnI+IikKICAgIC8vINix2YjYp9io2LcKICAgIC5yZXBsYWNlKC8oaHR0cHM/OlwvXC9bXlxzXSspL2csICc8YSBocmVmPSIkMSIgdGFyZ2V0PSJfYmxhbmsiIHN0eWxlPSJjb2xvcjojMGE3MGZmO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7Ij4kMTwvYT4nKQogICAgLy8gKirYutin2YXZgioqCiAgICAucmVwbGFjZSgvXCpcKiguKj8pXCpcKi9nLCAnPGIgc3R5bGU9ImNvbG9yOiMwYTcwZmY7Ij4kMTwvYj4nKQogICAgLy8gX1/Yqti22K7ZitmFX18KICAgIC5yZXBsYWNlKC9fXyguKj8pX18vZywgJzxzcGFuIHN0eWxlPSJmb250LXNpemU6MS4zZW07Zm9udC13ZWlnaHQ6Ym9sZDsiPiQxPC9zcGFuPicpCiAgICAvLyA9Pdiq2LjZhNmK2YQ9PQogICAgLnJlcGxhY2UoLz09KC4rPyk9PS9nLCAnPG1hcmsgc3R5bGU9ImJhY2tncm91bmQ6I2ZmZTA2Njtjb2xvcjojMjIyO3BhZGRpbmc6MnB4IDZweDtib3JkZXItcmFkaXVzOjVweDsiPiQxPC9tYXJrPicpOwoKICBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIG1vZGFsLmlkID0gInN0dWRlbnROb3RpZmljYXRpb25Nb2RhbCI7CiAgbW9kYWwuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwogIG1vZGFsLnN0eWxlLnRvcCA9ICIwIjsKICBtb2RhbC5zdHlsZS5sZWZ0ID0gIjAiOwogIG1vZGFsLnN0eWxlLndpZHRoID0gIjEwMHZ3IjsKICBtb2RhbC5zdHlsZS5oZWlnaHQgPSAiMTAwdmgiOwogIG1vZGFsLnN0eWxlLmJhY2tncm91bmQgPSAicmdiYSgwLDAsMCwwLjQ1KSI7CiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBtb2RhbC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwogIG1vZGFsLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKICBtb2RhbC5zdHlsZS56SW5kZXggPSAiOTk5OSI7CgogIG1vZGFsLmlubmVySFRNTCA9IGAKICA8ZGl2IHN0eWxlPSIKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmOGZhZmMgNzAlLCAjZTNmMGZmIDEwMCUpOwogICAgYm9yZGVyLXJhZGl1czogMjJweDsKICAgIHBhZGRpbmc6IDM4cHggMzJweCAyOHB4IDMycHg7CiAgICBib3gtc2hhZG93OiAwIDhweCAzMnB4IHJnYmEoMTAsMTEyLDI1NSwwLjE1KTsKICAgIG1heC13aWR0aDogNDQwcHg7CiAgICB3aWR0aDogOTUlOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYW5pbWF0aW9uOiBmYWRlSW4gMC41czsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGRpcmVjdGlvbjogcnRsOwogICAgYm9yZGVyOiAycHggc29saWQgIzBhNzBmZjFhOwogICI+CiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luLWJvdHRvbToxMHB4OyI+CiAgICAgIDxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiMwYTcwZmYxYTtib3JkZXItcmFkaXVzOjUwJTtwYWRkaW5nOjE4cHg7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWJlbGwgYmVsbC1hbmltYXRlIiBzdHlsZT0iZm9udC1zaXplOjIuN3JlbTtjb2xvcjojMGE3MGZmOyI+PC9pPgogICAgICA8L3NwYW4+CiAgICA8L2Rpdj4KICAgIDxoMiBzdHlsZT0iZm9udC1zaXplOjEuNXJlbTtjb2xvcjojMGE3MGZmO21hcmdpbi1ib3R0b206MTRweDtmb250LXdlaWdodDpib2xkO2xldHRlci1zcGFjaW5nOjFweDsiPtil2LTYudin2LEg2YXZhiDYp9mE2YXYudmE2YU8L2gyPgogICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEuMjVyZW07Y29sb3I6IzIyMjttYXJnaW4tYm90dG9tOjIycHg7bGluZS1oZWlnaHQ6Mjt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7dGV4dC1hbGlnbjpjZW50ZXI7Ij4KICAgICAgJHtmb3JtYXR0ZWRNZXNzYWdlfQogICAgPC9kaXY+CiAgICAke2F1ZGlvVXJsID8gYDxhdWRpbyBpZD0ibm90aWZBdWRpbyIgc3JjPSIke2F1ZGlvVXJsfSIgYXV0b3BsYXkgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPjwvYXVkaW8+YCA6ICIifQogICAgPGJ1dHRvbiBpZD0iY2xvc2VTdHVkZW50Tm90aWZpY2F0aW9uQnRuIiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBzdHlsZT0icGFkZGluZzoxMnB4IDM4cHg7Zm9udC1zaXplOjEuMTVyZW07Ym9yZGVyLXJhZGl1czo4cHg7bWFyZ2luLXRvcDoxMHB4O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDkwZGVnLCMwYTcwZmYsIzE0ZWU4OCk7Ym9yZGVyOm5vbmU7Ij4KICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jaGVjay1jaXJjbGUiIHN0eWxlPSJtYXJnaW4tbGVmdDo4cHg7Ij48L2k+2K3Ys9mG2KfZiwogICAgPC9idXR0b24+CiAgPC9kaXY+CmA7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDZhdix2Kkg2YjYp9it2K/YqSDZgdmC2Lcg2YHZiiA8c3R5bGU+INij2Ygg2LnYqNixIEphdmFTY3JpcHQg2KXYsNinINmE2YUg2YrZg9mGINmF2YjYrNmI2K/Yp9mLCmlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JlbGwtYW5pbWF0ZS1zdHlsZScpKSB7CiAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogIHN0eWxlLmlkID0gJ2JlbGwtYW5pbWF0ZS1zdHlsZSc7CiAgc3R5bGUuaW5uZXJIVE1MID0gYAogICAgQGtleWZyYW1lcyBiZWxsUmluZyB7CiAgICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMCk7IH0KICAgICAgMTAlIHsgdHJhbnNmb3JtOiByb3RhdGUoLTIwZGVnKTsgfQogICAgICAyMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgxOGRlZyk7IH0KICAgICAgMzAlIHsgdHJhbnNmb3JtOiByb3RhdGUoLTE2ZGVnKTsgfQogICAgICA0MCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgxNGRlZyk7IH0KICAgICAgNTAlIHsgdHJhbnNmb3JtOiByb3RhdGUoLTEyZGVnKTsgfQogICAgICA2MCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgxMGRlZyk7IH0KICAgICAgNzAlIHsgdHJhbnNmb3JtOiByb3RhdGUoLThkZWcpOyB9CiAgICAgIDgwJSB7IHRyYW5zZm9ybTogcm90YXRlKDZkZWcpOyB9CiAgICAgIDkwJSB7IHRyYW5zZm9ybTogcm90YXRlKC00ZGVnKTsgfQogICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMCk7IH0KICAgIH0KICAgIC5iZWxsLWFuaW1hdGUgewogICAgICBhbmltYXRpb246IGJlbGxSaW5nIDEuMnMgY3ViaWMtYmV6aWVyKC4zNiwuMDcsLjE5LC45NykgYm90aCA5OwogICAgICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgY2VudGVyOwogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB9CiAgYDsKICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKfQogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpOwoKICAvLyDYqti02LrZitmEINin2YTYtdmI2Kog2KXYsNinINmD2KfZhiDZhdmI2KzZiNiv2KfZiwogIGlmIChhdWRpb1VybCkgewogICAgY29uc3QgYXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibm90aWZBdWRpbyIpOwogICAgaWYgKGF1ZGlvKSB7CiAgICAgIGF1ZGlvLnBsYXkoKS5jYXRjaCgoKT0+e30pOwogICAgfQogIH0KCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsb3NlU3R1ZGVudE5vdGlmaWNhdGlvbkJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgIG1vZGFsLnJlbW92ZSgpOwogIH07Cn0KCi8vIPCflI0g2YPYtNmBINmB2KrYrSDYo9iv2YjYp9iqINin2YTZhdi32YjYsSDYqNin2LPYqtiu2K/Yp9mFINin2YTZgdix2YIg2KfZhNiy2YXZhtmKINmB2YogZGVidWdnZXIKCi8vINiq2KPZg9ivINmF2YYg2LHYqNi3INin2YTYo9it2K/Yp9irINio2LnYryDYqtit2YXZitmEINin2YTYtdmB2K3YqSDZiNmD2YQg2KfZhNi52YbYp9i12LEKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGZ1bmN0aW9uICgpIHsKICAvLyDYstixINmB2KrYrSDZhtin2YHYsNipINin2YTYpdi02LnYp9ixCiAgY29uc3QgbWVudVNlbmROb3RpZmljYXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVNlbmROb3RpZmljYXRpb24iKTsKICBpZiAobWVudVNlbmROb3RpZmljYXRpb24pIHsKICAgIG1lbnVTZW5kTm90aWZpY2F0aW9uLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgc2hvd05vdGlmaWNhdGlvbk1vZGFsKCk7CiAgICB9OwogIH0KCiAgLy8g2LLYsSDYpdix2LPYp9mEINin2YTYpdi02LnYp9ixCiAgY29uc3Qgc2VuZE5vdGlmaWNhdGlvbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZW5kTm90aWZpY2F0aW9uQnRuIik7CiAgaWYgKHNlbmROb3RpZmljYXRpb25CdG4pIHsKICAgIHNlbmROb3RpZmljYXRpb25CdG4ub25jbGljayA9IHNlbmRUZWFjaGVyTm90aWZpY2F0aW9uOwogIH0KCiAgLy8g2LLYsSDYpdmE2LrYp9ihINin2YTYpdi02LnYp9ixCiAgY29uc3QgY2FuY2VsTm90aWZpY2F0aW9uQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbE5vdGlmaWNhdGlvbkJ0biIpOwogIGlmIChjYW5jZWxOb3RpZmljYXRpb25CdG4pIHsKICAgIGNhbmNlbE5vdGlmaWNhdGlvbkJ0bi5vbmNsaWNrID0gaGlkZU5vdGlmaWNhdGlvbk1vZGFsOwogIH0KfSk7CgovLyAtLS0g2YPYp9i0INin2YTZgdim2KfYqiAtLS0KbGV0IHF1ZXN0aW9uQ2F0ZWdvcmllc0NhY2hlID0ge307CgovLyDYqtit2YXZitmEINin2YTZgdim2KfYqiDZgdmKINio2YbZgyDYp9mE2KPYs9im2YTYqSDZiNmG2KfZgdiw2Kkg2KfZhNil2LbYp9mB2Kkg2YjZhtin2YHYsNipINin2YTYp9iz2KrZitix2KfYrwpmdW5jdGlvbiBsb2FkUXVlc3Rpb25CYW5rQ2F0ZWdvcmllcyhzZWxlY3RlZCA9ICIiLCBzZWxlY3RJZCA9ICJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpIHsKICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3RJZCk7CiAgc2VsZWN0LmlubmVySFRNTCA9ICIiOwogIGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQ2F0ZWdvcmllcyIpLm9yZGVyQnkoIm5hbWUiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgIHF1ZXN0aW9uQ2F0ZWdvcmllc0NhY2hlID0ge307CiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgc2VsZWN0LmlubmVySFRNTCA9ICI8b3B0aW9uIHZhbHVlPScnPtio2K/ZiNmGINmB2KbYqTwvb3B0aW9uPiI7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHNlbGVjdC5pbm5lckhUTUwgPSAiPG9wdGlvbiB2YWx1ZT0nJz7Zg9mEINin2YTZgdim2KfYqjwvb3B0aW9uPiI7CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNvbnN0IGNhdCA9IGRvYy5kYXRhKCk7CiAgICAgIHF1ZXN0aW9uQ2F0ZWdvcmllc0NhY2hlW2RvYy5pZF0gPSBjYXQubmFtZTsKICAgICAgc2VsZWN0LmlubmVySFRNTCArPSBgPG9wdGlvbiB2YWx1ZT0iJHtkb2MuaWR9IiAke3NlbGVjdGVkID09PSBkb2MuaWQgPyAic2VsZWN0ZWQiIDogIiJ9PiR7Y2F0Lm5hbWV9PC9vcHRpb24+YDsKICAgIH0pOwogIH0pOwp9CgovLyDYstixINil2LbYp9mB2Kkg2YHYptipINis2K/Zitiv2KkKLy8g2LnZhtivINin2YTYtti62Lcg2LnZhNmJINiy2LEg2KXYttin2YHYqSDZgdim2Kkg2KzYr9mK2K/YqQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ2F0ZWdvcnlCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZENhdGVnb3J5TW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIC8vINiq2K3ZhdmK2YQg2KfZhNmB2KbYp9iqINin2YTYsdim2YrYs9mK2Kkg2YHZiiDYp9mE2YLYp9im2YXYqSDYp9mE2YXZhtiz2K/ZhNipCiAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhcmVudENhdGVnb3J5U2VsZWN0Iik7CiAgc2VsZWN0LmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPSIiPtio2K/ZiNmGINmB2KbYqSDYsdim2YrYs9mK2Kk8L29wdGlvbj5gOwogZGIuY29sbGVjdGlvbigicXVlc3Rpb25DYXRlZ29yaWVzIikKICAud2hlcmUoInBhcmVudElkIiwgIj09IiwgbnVsbCkKICAub3JkZXJCeSgibmFtZSIpCiAgLmdldCgpCiAgLnRoZW4oc25hcHNob3QgPT4gewogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCBjYXQgPSBkb2MuZGF0YSgpOwogICAgICBzZWxlY3QuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPSIke2RvYy5pZH0iPiR7Y2F0Lm5hbWV9PC9vcHRpb24+YDsKICAgIH0pOwogIH0pOwp9OwoKLy8g2LLYsSDYpdmE2LrYp9ihCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW5jZWxBZGRDYXRlZ29yeUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ2F0ZWdvcnlNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZENhdGVnb3J5Rm9ybSIpLnJlc2V0KCk7Cn07CgovLyDYudmG2K8g2K3Zgdi4INin2YTZgdim2Kkg2KfZhNis2K/Zitiv2KkKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZENhdGVnb3J5Rm9ybSIpLm9uc3VibWl0ID0gZnVuY3Rpb24oZSkgewogIGUucHJldmVudERlZmF1bHQoKTsKICBjb25zdCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3J5TmFtZUlucHV0IikudmFsdWUudHJpbSgpOwogIGNvbnN0IHBhcmVudElkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhcmVudENhdGVnb3J5U2VsZWN0IikudmFsdWUgfHwgbnVsbDsKICBpZiAoIW5hbWUpIHJldHVybjsKZGIuY29sbGVjdGlvbigicXVlc3Rpb25DYXRlZ29yaWVzIikuYWRkKHsgbmFtZSwgcGFyZW50SWQgfSkudGhlbigoKSA9PiB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZENhdGVnb3J5TW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRDYXRlZ29yeUZvcm0iKS5yZXNldCgpOwogIHJlZnJlc2hBbGxDYXRlZ29yeUxhYmVscygpOwogIHNob3dUb2FzdCgi2KrZhdiqINil2LbYp9mB2Kkg2KfZhNmB2KbYqSEiLCAic3VjY2VzcyIpOwp9KTsKfTsKCi8vINi52YbYryDZgdiq2K0g2KjZhtmDINin2YTYo9iz2KbZhNipCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51UXVlc3Rpb25CYW5rIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihlKSB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIHNldEFjdGl2ZU1lbnVJdGVtKHRoaXMpOwogIHNob3dQYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtQYWdlIikpOwogIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZSgpOyAvLyDYtNis2LHZigogIGxvYWRRdWVzdGlvbkJhbmsoKTsKfSk7CgovLyDYudmG2K8g2KrYutmK2YrYsSDYp9mE2YHYptipINmB2Yog2KjZhtmDINin2YTYo9iz2KbZhNipCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIGxvYWRRdWVzdGlvbkJhbmsoKTsKfSk7CgovLyDYqtit2YXZitmEINin2YTZgdim2KfYqiDZgdmKINmG2KfZgdiw2Kkg2KXYttin2YHYqSDYs9ik2KfZhCDYrNiv2YrYrwovLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFF1ZXN0aW9uQmFua01vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAvLyDYp9it2LDZgSDYo9mIINin2K7ZgdmQINi02KzYsdipINin2YTZgdim2KfYqiDZgdmKINmG2KfZgdiw2Kkg2KfZhNil2LbYp9mB2KkKICBjb25zdCB0cmVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3JpZXNUcmVlQ29udGFpbmVyIik7CiAgaWYgKHRyZWUpIHsKICAgIC8vINil2YXYpyDYpdiy2KfZhNipINin2YTYudmG2LXYsSDZhdmGIERPTToKICAgIC8vIHRyZWUucmVtb3ZlKCk7CiAgICAvLyDYo9mIINil2K7Zgdin2KTZhyDZgdmC2Lc6CiAgICB0cmVlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfQogIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZSgiIiwgInF1ZXN0aW9uQmFua0NhdGVnb3J5QWRkIik7Cn07Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2LLYsSDYpdmE2LrYp9ihINil2LbYp9mB2Kkg2LPYpNin2YQKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbEFkZFF1ZXN0aW9uQmFua0J0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUXVlc3Rpb25CYW5rTW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtGb3JtIikucmVzZXQoKTsKfTsKCi8vINit2YHYuCDYp9mE2LPYpNin2YQg2KfZhNis2K/ZitivINmF2Lkg2KfZhNmB2KbYqQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUXVlc3Rpb25CYW5rRm9ybSIpLm9uc3VibWl0ID0gZnVuY3Rpb24oZSkgewogIGUucHJldmVudERlZmF1bHQoKTsKICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua1RleHQiKS52YWx1ZS50cmltKCk7CiAgY29uc3Qgb3B0aW9ucyA9IFsKICAgIHsgdGV4dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjEiKS52YWx1ZS50cmltKCkgfSwKICAgIHsgdGV4dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjIiKS52YWx1ZS50cmltKCkgfQogIF07CiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb24zIikudmFsdWUudHJpbSgpKSBvcHRpb25zLnB1c2goeyB0ZXh0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3B0aW9uMyIpLnZhbHVlLnRyaW0oKSB9KTsKICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjQiKS52YWx1ZS50cmltKCkpIG9wdGlvbnMucHVzaCh7IHRleHQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb240IikudmFsdWUudHJpbSgpIH0pOwogIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29ycmVjdE9wdGlvbiIpLnZhbHVlKSAtIDE7CiAgY29uc3QgaW1hZ2VVcmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rSW1hZ2VVcmwiKS52YWx1ZS50cmltKCk7CiAgY29uc3QgY2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeUFkZCIpLnZhbHVlIHx8IG51bGw7CgogIGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLmFkZCh7CiAgICB0ZXh0LAogICAgb3B0aW9ucywKICAgIGNvcnJlY3RBbnN3ZXIsCiAgICBpbWFnZVVybCwKICAgIGNhdGVnb3J5SWQsCiAgICBjcmVhdGVkQnk6IGN1cnJlbnRVc2VyRGF0YT8ubmFtZSB8fCBjdXJyZW50VXNlci5lbWFpbCwKICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICB9KS50aGVuKCgpID0+IHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUXVlc3Rpb25CYW5rRm9ybSIpLnJlc2V0KCk7CiAgICBsb2FkUXVlc3Rpb25CYW5rKCk7CiAgICBzaG93VG9hc3QoItiq2YUg2KXYttin2YHYqSDYp9mE2LPYpNin2YQhIiwgInN1Y2Nlc3MiKTsKICB9KTsKfTsKCi8vINiq2K3ZhdmK2YQg2YjYudix2LYg2KfZhNij2LPYptmE2Kkg2K3Ys9ioINin2YTZgdim2Kkg2KfZhNmF2K7Yqtin2LHYqSDZhdi5INil2YXZg9in2YbZitipINin2YTYqti52K/ZitmEINmI2KfZhNit2LDZgQovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYudiv2YQg2K/Yp9mE2KkgbG9hZFF1ZXN0aW9uQmFuayDZhNmK2KrZhSDYqtix2KrZitioINin2YTYo9iz2KbZhNipINmF2YYg2KfZhNij2LnZhNmJINmE2YTYo9iz2YHZhCAo2KfZhNij2K3Yr9irINmB2Yog2KfZhNij2LnZhNmJ2Iwg2KfZhNij2YLYr9mFINmB2Yog2KfZhNij2LPZgdmEKQovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyAxLiDYudiv2ZHZhCDYudiv2K8g2KfZhNij2LPYptmE2Kkg2YHZiiDYp9mE2LXZgdit2KkKCgovLyAyLiDYudiv2ZHZhCDYr9in2YTYqSBsb2FkUXVlc3Rpb25CYW5rINmE2KXYttin2YHYqSDYp9mE2KrYsdmC2YrZhSDZiNin2YTYo9iy2LHYp9ixINij2LnZhNmJINin2YTYrNiv2YjZhAovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KKGZ1bmN0aW9uKCl7CiAgLy8g2KXYttin2YHYqSDYp9mE2LLYsSDYpdmE2Ykg2YjYp9is2YfYqSDYpdiv2KfYsdipINin2YTYt9mE2KfYqAogIGZ1bmN0aW9uIGVuc3VyZUJhdGNoQnV0dG9uKCkgewogICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0dWRlbnRzQ291bnRCb3gnKTsKICAgIGlmICghY29udGFpbmVyKSByZXR1cm47CiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoU2V0UGVybWlzc2lvbnNCdG4nKSkgcmV0dXJuOwogICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICBidG4uaWQgPSAnYmF0Y2hTZXRQZXJtaXNzaW9uc0J0bic7CiAgICBidG4uY2xhc3NOYW1lID0gJ2J0biBidG4tcHJpbWFyeSc7CiAgICBidG4uc3R5bGUubWFyZ2luTGVmdCA9ICcxMnB4JzsKICAgIGJ0bi50ZXh0Q29udGVudCA9ICfYqtit2K/ZitivINi12YTYp9it2YrYp9iqINiv2YHYudipJzsKICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidG4pOwogICAgYnRuLm9uY2xpY2sgPSBvcGVuQmF0Y2hQZXJtaXNzaW9uc01vZGFsOwogIH0KCiAgLy8g2KjZhtin2KEg2KfZhNmG2KfZgdiw2Kkg2KfZhNmF2YbYqNir2YLYqSDZhdi5INin2K7YqtmK2KfYsSDYudmG2KfYtdixINmF2K3Yr9iv2KkgKNin2K7Yqtio2KfYsdin2Kov2YjYp9is2KjYp9iqL9mF2YLYsdix2KfYqikKICBhc3luYyBmdW5jdGlvbiBvcGVuQmF0Y2hQZXJtaXNzaW9uc01vZGFsKCkgewogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFBlcm1pc3Npb25zTW9kYWwnKSkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hQZXJtaXNzaW9uc01vZGFsJykuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBtb2RhbC5pZCA9ICdiYXRjaFBlcm1pc3Npb25zTW9kYWwnOwogICAgbW9kYWwuY2xhc3NOYW1lID0gJ21vZGFsJzsKICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6NzIwcHg7dGV4dC1hbGlnbjpjZW50ZXI7ZGlyZWN0aW9uOnJ0bDsiPgogICAgICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiPtiq2K3Yr9mK2K8g2LXZhNin2K3Zitin2Kog2K/Zgdi52Kkg2LfZhNin2Kg8L2gzPgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtnYXA6MTJweDtmbGV4LXdyYXA6d3JhcDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjttYXJnaW4tdG9wOjEycHg7Ij4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MTttaW4td2lkdGg6MjAwcHg7Ij4KICAgICAgICAgICAgPGxhYmVsPtin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqTwvbGFiZWw+CiAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImJhdGNoWWVhclNlbGVjdCIgY2xhc3M9ImZvcm0tY29udHJvbCI+CiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2LPZhtipPC9vcHRpb24+CiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNij2YjZhNmJINir2KfZhtmI2YoiPtin2YTYo9mI2YTZiSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YTYq9ipINir2KfZhtmI2YoiPtin2YTYq9in2YTYq9ipINir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MTttaW4td2lkdGg6MTYwcHg7Ij4KICAgICAgICAgICAgPGxhYmVsPtin2YTYqtix2YU8L2xhYmVsPgogICAgICAgICAgICA8c2VsZWN0IGlkPSJiYXRjaFRlcm1TZWxlY3QiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2KfZhNiq2LHZhTwvb3B0aW9uPgogICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YQiPtiq2LHZhSDYo9mI2YQ8L29wdGlvbj4KICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mG2YoiPtiq2LHZhSDYq9in2YbZijwvb3B0aW9uPgogICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZmxleDoxO21pbi13aWR0aDoyMjBweDsiPgogICAgICAgICAgICA8bGFiZWw+2KfYrtiq2LEg2LfZhNin2Kgg2YXYrdiv2K/ZitmGICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgICAgICAgICA8c2VsZWN0IGlkPSJiYXRjaFN0dWRlbnRzTGlzdCIgY2xhc3M9ImZvcm0tY29udHJvbCIgbXVsdGlwbGUgc2l6ZT0iNiIgc3R5bGU9IndpZHRoOjEwMCU7Ij48L3NlbGVjdD4KICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjAuODVyZW07Y29sb3I6IzY2NjttYXJnaW4tdG9wOjZweDsiPtin2KrYsdmDINin2YTZgtin2KbZhdipINmB2KfYsdi62Kkg2YTYqti32KjZitmCINi52YTZiSDZg9mEINi32YTYp9ioINin2YTYs9mG2Kkv2KfZhNiq2LHZhTwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtnYXA6MTJweDttYXJnaW4tdG9wOjE0cHg7ZmxleC13cmFwOndyYXA7Ij4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MTttaW4td2lkdGg6MjIwcHg7Ym9yZGVyOjFweCBzb2xpZCAjZWVlO3BhZGRpbmc6OHB4O2JvcmRlci1yYWRpdXM6OHB4O21heC1oZWlnaHQ6MjYwcHg7b3ZlcmZsb3c6YXV0bzsiPgogICAgICAgICAgICA8c3Ryb25nPtin2K7YqtmK2KfYsSDYp9iu2KrYqNin2LHYp9iqIChFeGFtcyk8L3N0cm9uZz4KICAgICAgICAgICAgPGRpdiBpZD0iYmF0Y2hFeGFtc0xpc3QiIHN0eWxlPSJtYXJnaW4tdG9wOjhweDsiPtis2KfYsdmKINin2YTYqtit2YXZitmELi4uPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxkaXYgc3R5bGU9ImZsZXg6MTttaW4td2lkdGg6MjIwcHg7Ym9yZGVyOjFweCBzb2xpZCAjZWVlO3BhZGRpbmc6OHB4O2JvcmRlci1yYWRpdXM6OHB4O21heC1oZWlnaHQ6MjYwcHg7b3ZlcmZsb3c6YXV0bzsiPgogICAgICAgICAgICA8c3Ryb25nPtin2K7YqtmK2KfYsSDZiNin2KzYqNin2KogKFNlbGYgVGVzdHMpPC9zdHJvbmc+CiAgICAgICAgICAgIDxkaXYgaWQ9ImJhdGNoU2VsZlRlc3RzTGlzdCIgc3R5bGU9Im1hcmdpbi10b3A6OHB4OyI+2KzYp9ix2Yog2KfZhNiq2K3ZhdmK2YQuLi48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZmxleDoxO21pbi13aWR0aDoyMjBweDtib3JkZXI6MXB4IHNvbGlkICNlZWU7cGFkZGluZzo4cHg7Ym9yZGVyLXJhZGl1czo4cHg7bWF4LWhlaWdodDoyNjBweDtvdmVyZmxvdzphdXRvOyI+CiAgICAgICAgICAgIDxzdHJvbmc+2KfYrtiq2YrYp9ixINmF2YLYsdix2KfYqiAoQ291cnNlcyk8L3N0cm9uZz4KICAgICAgICAgICAgPGRpdiBpZD0iYmF0Y2hDb3Vyc2VzTGlzdCIgc3R5bGU9Im1hcmdpbi10b3A6OHB4OyI+2KzYp9ix2Yog2KfZhNiq2K3ZhdmK2YQuLi48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOnJpZ2h0O21hcmdpbi10b3A6MTJweDsiPgogICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImJhdGNoQXBwbHlTZWxlY3RlZE9ubHkiIGNoZWNrZWQ+INiq2LfYqNmK2YIg2YHZgti3INi52YTZiSDYp9mE2LnZhtin2LXYsSDYp9mE2YXYrdiv2K/YqSAo2KXZhiDZhNmFINiq2Y/Yrdiv2K86INiq2KzYp9mH2YQg2KfZhNmG2YjYuSk8L2xhYmVsPgogICAgICAgIDwvZGl2PgoKICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1hY3Rpb25zIiBzdHlsZT0ibWFyZ2luLXRvcDoxNHB4O2Rpc3BsYXk6ZmxleDtnYXA6MTBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyI+CiAgICAgICAgICA8YnV0dG9uIGlkPSJhcHBseUJhdGNoUGVybXNCdG4iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPtiq2LfYqNmK2YIg2LnZhNmJINin2YTYt9mE2KfYqDwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBpZD0iY2FuY2VsQmF0Y2hQZXJtc0J0biIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgaWQ9ImJhdGNoUGVybXNTdGF0dXMiIHN0eWxlPSJtYXJnaW4tdG9wOjEycHg7ZGlzcGxheTpub25lOyI+PC9kaXY+CiAgICAgIDwvZGl2PgogICAgYDsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpOwoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWxCYXRjaFBlcm1zQnRuJykub25jbGljayA9ICgpID0+IG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwbHlCYXRjaFBlcm1zQnRuJykub25jbGljayA9IGFwcGx5QmF0Y2hQZXJtaXNzaW9uczsKCiAgICAvLyDYrNmE2Kgg2KfZhNmC2YjYp9im2YUg2YjZhdmE2KbZh9inCiAgICBhd2FpdCBsb2FkQmF0Y2hTdHVkZW50cygpOwogICAgbG9hZEJhdGNoTGlzdHMoKTsKCiAgICAvLyDYsdio2Lcg2KrYutmK2ZHYsSDYp9mE2LPZhtipL9in2YTYqtix2YUg2YTYpdi52KfYr9ipINiq2K3ZhdmK2YQg2KfZhNmC2YjYp9im2YUg2YjYp9mE2LfZhNin2KgKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFllYXJTZWxlY3QnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7IGxvYWRCYXRjaExpc3RzKCk7IGxvYWRCYXRjaFN0dWRlbnRzKCk7IH0pOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoVGVybVNlbGVjdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHsgbG9hZEJhdGNoTGlzdHMoKTsgbG9hZEJhdGNoU3R1ZGVudHMoKTsgfSk7CiAgfQoKICAvLyDYrNmE2Kgg2LfZhNin2Kgg2KfZhNiz2YbYqS/Yp9mE2KrYsdmFINmE2KrZhdmD2YrZhiDYp9iu2KrZitin2LEg2LfZhNin2Kgg2YXYrdiv2K/ZitmGCiAgYXN5bmMgZnVuY3Rpb24gbG9hZEJhdGNoU3R1ZGVudHMoKSB7CiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFN0dWRlbnRzTGlzdCcpOwogICAgaWYgKCFlbCkgcmV0dXJuOwogICAgZWwuaW5uZXJIVE1MID0gJzxvcHRpb24+2KzYp9ix2Yog2KfZhNiq2K3ZhdmK2YQuLi48L29wdGlvbj4nOwogICAgY29uc3QgeWVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFllYXJTZWxlY3QnKT8udmFsdWUgfHwgIiI7CiAgICBjb25zdCB0ZXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoVGVybVNlbGVjdCcpPy52YWx1ZSB8fCAiIjsKICAgIHRyeSB7CiAgICAgIGxldCBxID0gZGIuY29sbGVjdGlvbigndXNlcnMnKS53aGVyZSgncm9sZScsJz09Jywnc3R1ZGVudCcpLm9yZGVyQnkoJ25hbWUnKTsKICAgICAgaWYgKHllYXIpIHEgPSBxLndoZXJlKCd5ZWFyJywnPT0nLHllYXIpOwogICAgICBpZiAodGVybSkgcSA9IHEud2hlcmUoJ3Rlcm0nLCc9PScsdGVybSk7CiAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBxLmdldCgpOwogICAgICBpZiAoc25hcC5lbXB0eSkgewogICAgICAgIGVsLmlubmVySFRNTCA9IGA8b3B0aW9uIGRpc2FibGVkPtmE2Kcg2YrZiNis2K8g2LfZhNin2Kgke3llYXJ8fHRlcm0gPyAnINmF2LfYp9io2YLYqSDZhNmE2LPZhtipL9in2YTYqtix2YUnIDogJyd9PC9vcHRpb24+YDsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZWwuaW5uZXJIVE1MID0gc25hcC5kb2NzLm1hcChkID0+IHsKICAgICAgICBjb25zdCB1ID0gZC5kYXRhKCk7CiAgICAgICAgcmV0dXJuIGA8b3B0aW9uIHZhbHVlPSIke2QuaWR9Ij4ke3UubmFtZSB8fCB1LmVtYWlsfSAke3UueWVhciA/ICcgLSAnICsgdS55ZWFyIDogJyd9ICR7dS50ZXJtID8gJyAtICcgKyB1LnRlcm0gOiAnJ308L29wdGlvbj5gOwogICAgICB9KS5qb2luKCcnKTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICBjb25zb2xlLmVycm9yKCJsb2FkQmF0Y2hTdHVkZW50cyBlcnJvcjoiLCBlcnIpOwogICAgICBlbC5pbm5lckhUTUwgPSBgPG9wdGlvbiBkaXNhYmxlZD7Yrti32KM6ICR7ZXJyLm1lc3NhZ2V9PC9vcHRpb24+YDsKICAgIH0KICB9CgogIGFzeW5jIGZ1bmN0aW9uIGxvYWRCYXRjaExpc3RzKCkgewogICAgY29uc3QgZXhhbXNMaXN0RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hFeGFtc0xpc3QnKTsKICAgIGNvbnN0IHNlbGZUZXN0c0xpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFNlbGZUZXN0c0xpc3QnKTsKICAgIGNvbnN0IGNvdXJzZXNMaXN0RWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hDb3Vyc2VzTGlzdCcpOwoKICAgIGlmICghZXhhbXNMaXN0RWwgfHwgIXNlbGZUZXN0c0xpc3RFbCB8fCAhY291cnNlc0xpc3RFbCkgcmV0dXJuOwoKICAgIHRyeSB7CiAgICAgIGV4YW1zTGlzdEVsLmlubmVySFRNTCA9ICfYrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLic7CiAgICAgIHNlbGZUZXN0c0xpc3RFbC5pbm5lckhUTUwgPSAn2KzYp9ix2Yog2KfZhNiq2K3ZhdmK2YQuLi4nOwogICAgICBjb3Vyc2VzTGlzdEVsLmlubmVySFRNTCA9ICfYrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLic7CgogICAgICBjb25zdCB5ZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoWWVhclNlbGVjdCcpPy52YWx1ZSB8fCAiIjsKICAgICAgY29uc3QgdGVybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFRlcm1TZWxlY3QnKT8udmFsdWUgfHwgIiI7CgogICAgICAvLyDYpdiw2Kcg2YTZhSDZitit2K/ZkdivINin2YTZhdi52YTZhSDYs9mG2Kkg2KPZiCDYqtix2YUg2YTYpyDZhti52LHYtiDYudmG2KfYtdixINiu2KfYt9im2Kk6INin2LfZhNioINmF2YbZhyDYp9mE2KrYrdiv2YrYryDYo9mIINi52LHYtiDYp9mE2YPZhCDYqNmG2KfYodmLINi52YTZiSDYqtmB2LbZitmE2YMKICAgICAgLy8g2YfZhtinINmG2LnYsdi2INin2YTYudmG2KfYtdixINin2YTZhdi32KfYqNmC2Kkg2YHZgti3INil2LDYpyDYqtmFINin2K7YqtmK2KfYsSDYs9mG2Kkg2KPZiCDYqtix2YXYjCDZiNil2YTYpyDZhti52LHYtiDYsdiz2KfZhNipINiq2K3YsNmK2LHZitipINio2K/ZhNin2Ysg2YXZhiDZg9mEINin2YTYudmG2KfYtdixLgogICAgICBjb25zdCBidWlsZFF1ZXJ5ID0gKGNvbGxlY3Rpb25OYW1lKSA9PiB7CiAgICAgICAgbGV0IHEgPSBkYi5jb2xsZWN0aW9uKGNvbGxlY3Rpb25OYW1lKS5vcmRlckJ5KCd0aXRsZScpOwogICAgICAgIGlmICh5ZWFyKSBxID0gcS53aGVyZSgneWVhcicsICc9PScsIHllYXIpOwogICAgICAgIGlmICh0ZXJtKSBxID0gcS53aGVyZSgndGVybScsICc9PScsIHRlcm0pOwogICAgICAgIHJldHVybiBxOwogICAgICB9OwoKICAgICAgY29uc3QgW2V4YW1zU25hcCwgdGVzdHNTbmFwLCBjb3Vyc2VzU25hcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbCiAgICAgICAgYnVpbGRRdWVyeSgnZXhhbXMnKS5nZXQoKSwKICAgICAgICBidWlsZFF1ZXJ5KCdzZWxmVGVzdHMnKS5nZXQoKSwKICAgICAgICAvLyBjb3Vyc2VzL3NsaWRlcyBtYXkgbm90IGhhdmUgeWVhci90ZXJtOyBpZiB5ZWFyL3Rlcm0gcHJvdmlkZWQgdHJ5IGZpbHRlciwgZWxzZSBmZXRjaCBhbGwKICAgICAgICAoZnVuY3Rpb24oKXsKICAgICAgICAgIGxldCBxID0gZGIuY29sbGVjdGlvbignc2xpZGVzJykub3JkZXJCeSgndGl0bGUnKTsKICAgICAgICAgIGlmICh5ZWFyKSBxID0gcS53aGVyZSgneWVhcicsJz09JywgeWVhcik7CiAgICAgICAgICBpZiAodGVybSkgcSA9IHEud2hlcmUoJ3Rlcm0nLCc9PScsIHRlcm0pOwogICAgICAgICAgcmV0dXJuIHEuZ2V0KCk7CiAgICAgICAgfSkoKQogICAgICBdKTsKCiAgICAgIGlmICghZXhhbXNTbmFwLmVtcHR5KSB7CiAgICAgICAgZXhhbXNMaXN0RWwuaW5uZXJIVE1MID0gZXhhbXNTbmFwLmRvY3MubWFwKGQgPT4gewogICAgICAgICAgY29uc3QgdCA9IGQuZGF0YSgpOwogICAgICAgICAgcmV0dXJuIGA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6YmxvY2s7cGFkZGluZzo2cHggNHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNmNWY1ZjU7Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJiYXRjaC1leGFtLWNoZWNrYm94IiB2YWx1ZT0iJHtkLmlkfSI+ICR7dC50aXRsZSB8fCB0LmRlc2NyaXB0aW9uIHx8IGQuaWR9CiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+YDsKICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBleGFtc0xpc3RFbC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6Izg4OCI+JHt5ZWFyfHx0ZXJtID8gJ9mE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdi32KfYqNmC2Kkg2YTZhNiz2YbYqS/Yp9mE2KrYsdmFINin2YTZhdit2K/YrycgOiAn2KfYrtiq2LEg2KfZhNiz2YbYqSDZiNin2YTYqtix2YUg2YTYudix2LYg2KfZhNin2K7Yqtio2KfYsdin2KonfTwvZGl2PmA7CiAgICAgIH0KCiAgICAgIGlmICghdGVzdHNTbmFwLmVtcHR5KSB7CiAgICAgICAgc2VsZlRlc3RzTGlzdEVsLmlubmVySFRNTCA9IHRlc3RzU25hcC5kb2NzLm1hcChkID0+IHsKICAgICAgICAgIGNvbnN0IHQgPSBkLmRhdGEoKTsKICAgICAgICAgIHJldHVybiBgPGxhYmVsIHN0eWxlPSJkaXNwbGF5OmJsb2NrO3BhZGRpbmc6NnB4IDRweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZjVmNWY1OyI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0iYmF0Y2gtc2VsZnRlc3QtY2hlY2tib3giIHZhbHVlPSIke2QuaWR9Ij4gJHt0LnRpdGxlIHx8IHQuZGVzY3JpcHRpb24gfHwgZC5pZH0KICAgICAgICAgICAgICAgICAgPC9sYWJlbD5gOwogICAgICAgIH0pLmpvaW4oJycpOwogICAgICB9IGVsc2UgewogICAgICAgIHNlbGZUZXN0c0xpc3RFbC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6Izg4OCI+JHt5ZWFyfHx0ZXJtID8gJ9mE2Kcg2KrZiNis2K8g2YjYp9is2KjYp9iqINmF2LfYp9io2YLYqSDZhNmE2LPZhtipL9in2YTYqtix2YUg2KfZhNmF2K3Yr9ivJyA6ICfYp9iu2KrYsSDYp9mE2LPZhtipINmI2KfZhNiq2LHZhSDZhNi52LHYtiDYp9mE2YjYp9is2KjYp9iqJ308L2Rpdj5gOwogICAgICB9CgogICAgICBpZiAoIWNvdXJzZXNTbmFwLmVtcHR5KSB7CiAgICAgICAgY291cnNlc0xpc3RFbC5pbm5lckhUTUwgPSBjb3Vyc2VzU25hcC5kb2NzLm1hcChkID0+IHsKICAgICAgICAgIGNvbnN0IHQgPSBkLmRhdGEoKTsKICAgICAgICAgIHJldHVybiBgPGxhYmVsIHN0eWxlPSJkaXNwbGF5OmJsb2NrO3BhZGRpbmc6NnB4IDRweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZjVmNWY1OyI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0iYmF0Y2gtY291cnNlLWNoZWNrYm94IiB2YWx1ZT0iJHtkLmlkfSI+ICR7dC50aXRsZSB8fCBkLmlkfQogICAgICAgICAgICAgICAgICA8L2xhYmVsPmA7CiAgICAgICAgfSkuam9pbignJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY291cnNlc0xpc3RFbC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6Izg4OCI+JHt5ZWFyfHx0ZXJtID8gJ9mE2Kcg2KrZiNis2K8g2YXZgtix2LHYp9iqINmF2LfYp9io2YLYqSDZhNmE2LPZhtipL9in2YTYqtix2YUg2KfZhNmF2K3Yr9ivJyA6ICfYp9iu2KrYsSDYp9mE2LPZhtipINmI2KfZhNiq2LHZhSDYpdmGINij2LHYr9iqINmB2YTYqtix2Kkg2KfZhNmF2YLYsdix2KfYqid9PC9kaXY+YDsKICAgICAgfQoKICAgIH0gY2F0Y2ggKGVycikgewogICAgICBjb25zb2xlLmVycm9yKCJsb2FkQmF0Y2hMaXN0cyBlcnJvcjoiLCBlcnIpOwogICAgICBleGFtc0xpc3RFbC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6I2MwMzkyYiI+2K7Yt9ijOiAke2Vyci5tZXNzYWdlfTwvZGl2PmA7CiAgICAgIHNlbGZUZXN0c0xpc3RFbC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6I2MwMzkyYiI+2K7Yt9ijOiAke2Vyci5tZXNzYWdlfTwvZGl2PmA7CiAgICAgIGNvdXJzZXNMaXN0RWwuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9ImNvbG9yOiNjMDM5MmIiPtiu2LfYozogJHtlcnIubWVzc2FnZX08L2Rpdj5gOwogICAgfQogIH0KCiAgLy8g2K/Yp9mE2Kkg2YTYudmF2YQg2KfYqtit2KfYryDYqNmK2YYg2KfZhNmF2LXZgdmI2YHYp9iqIChubyBkdXBlcykKICBmdW5jdGlvbiB1bmlvbkFycmF5cyhhLGIpeyBjb25zdCBzPW5ldyBTZXQoWy4uLihhfHxbXSksLi4uKGJ8fFtdKV0pOyByZXR1cm4gQXJyYXkuZnJvbShzKTsgfQoKICAvLyDYqti32KjZitmCINin2YTYtdmE2KfYrdmK2KfYqiDYr9mB2LnYqSDZhdi5INiv2LnZhSDYp9iu2KrZitin2LEg2LnZhtin2LXYsSDZhdi52YrZhtipCiAgYXN5bmMgZnVuY3Rpb24gYXBwbHlCYXRjaFBlcm1pc3Npb25zKCkgewogICAgY29uc3QgeWVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFllYXJTZWxlY3QnKS52YWx1ZTsKICAgIGNvbnN0IHRlcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hUZXJtU2VsZWN0JykudmFsdWU7CiAgICBjb25zdCBzdGF0dXNFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFBlcm1zU3RhdHVzJyk7CiAgICBjb25zdCBhcHBseVNlbGVjdGVkT25seSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaEFwcGx5U2VsZWN0ZWRPbmx5JykuY2hlY2tlZDsKCiAgICBzdGF0dXNFbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgIGlmICgheWVhciB8fCAhdGVybSkgeyBzdGF0dXNFbC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6I2MwMzkyYiI+2KfYrtiq2LEg2KfZhNiz2YbYqSDZiNin2YTYqtix2YUg2KPZiNmE2KfZiy48L2Rpdj5gOyByZXR1cm47IH0KCiAgICAvLyDYp9is2YXYuSDYp9mE2KfYrtiq2YrYp9ix2KfYqgogICAgY29uc3Qgc2VsZWN0ZWRFeGFtSWRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmF0Y2gtZXhhbS1jaGVja2JveDpjaGVja2VkJykpLm1hcChpPT5pLnZhbHVlKTsKICAgIGNvbnN0IHNlbGVjdGVkU2VsZlRlc3RJZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYXRjaC1zZWxmdGVzdC1jaGVja2JveDpjaGVja2VkJykpLm1hcChpPT5pLnZhbHVlKTsKICAgIGNvbnN0IHNlbGVjdGVkQ291cnNlSWRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmF0Y2gtY291cnNlLWNoZWNrYm94OmNoZWNrZWQnKSkubWFwKGk9PmkudmFsdWUpOwoKICAgIC8vINis2YXYuSDYt9mE2KfYqCDZhdit2K/Yr9mK2YYg2KXZhiDZiNmP2KzYr9mI2KcKICAgIGNvbnN0IHNlbGVjdGVkU3R1ZGVudElkcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoU3R1ZGVudHNMaXN0Jyk/LnNlbGVjdGVkT3B0aW9ucyB8fCBbXSkubWFwKG89Pm8udmFsdWUpOwoKICAgIGlmIChhcHBseVNlbGVjdGVkT25seSAmJiBzZWxlY3RlZEV4YW1JZHMubGVuZ3RoPT09MCAmJiBzZWxlY3RlZFNlbGZUZXN0SWRzLmxlbmd0aD09PTAgJiYgc2VsZWN0ZWRDb3Vyc2VJZHMubGVuZ3RoPT09MCkgewogICAgICBzdGF0dXNFbC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6I2MwMzkyYiI+2KfYrtiq2LEg2LnZhNmJINin2YTYo9mC2YQg2KfYrtiq2KjYp9ix2KfZiyDYo9mIINmI2KfYrNio2KfZiyDYo9mIINmF2YLYsdix2YvYp9iMINij2Ygg2YLZhSDYqNil2YTYutin2KEg2KrZgdi52YrZhCAi2KrYt9io2YrZgiDZgdmC2Lcg2LnZhNmJINin2YTYudmG2KfYtdixINin2YTZhdit2K/Yr9ipIi48L2Rpdj5gOwogICAgICByZXR1cm47CiAgICB9CgogICAgdHJ5IHsKICAgICAgc3RhdHVzRWwuaW5uZXJIVE1MID0gJ9is2KfYsdmKINis2YTYqCDYp9mE2LfZhNin2KguLi4nOwoKICAgICAgLy8g2KXYsNinINin2K7Yqtin2LEg2KfZhNmF2LnZhNmFINi32YTYp9io2KfZiyDZhdit2K/Yr9mK2YYg2KfYs9iq2K7Yr9mF2YfZhdiMINmI2KXZhNinINis2YTYqCDZg9mEINi32YTYp9ioINin2YTYs9mG2Kkv2KfZhNiq2LHZhQogICAgICBsZXQgc3R1ZGVudHNEb2NzID0gW107CiAgICAgIGlmIChzZWxlY3RlZFN0dWRlbnRJZHMubGVuZ3RoID4gMCkgewogICAgICAgIC8vINis2YTYqCDZhdiz2KrZhtiv2KfYqiDYp9mE2LfZhNin2Kgg2KfZhNmF2K3Yr9iv2YrZhiDYqNmF2KzZhdmI2LnYp9iqIChGaXJlc3RvcmUgJ2luJyDZitiv2LnZhSDYrdiq2YkgMTApCiAgICAgICAgZm9yIChsZXQgaT0wO2k8c2VsZWN0ZWRTdHVkZW50SWRzLmxlbmd0aDtpKz0xMCkgewogICAgICAgICAgY29uc3QgY2h1bmsgPSBzZWxlY3RlZFN0dWRlbnRJZHMuc2xpY2UoaSxpKzEwKTsKICAgICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCd1c2VycycpLndoZXJlKGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFBhdGguZG9jdW1lbnRJZCgpLCAnaW4nLCBjaHVuaykuZ2V0KCk7CiAgICAgICAgICBzdHVkZW50c0RvY3MgPSBzdHVkZW50c0RvY3MuY29uY2F0KHNuYXAuZG9jcyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGNvbnN0IHNuYXAgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCd1c2VycycpLndoZXJlKCdyb2xlJywnPT0nLCdzdHVkZW50Jykud2hlcmUoJ3llYXInLCc9PScseWVhcikud2hlcmUoJ3Rlcm0nLCc9PScsdGVybSkuZ2V0KCk7CiAgICAgICAgaWYgKHNuYXAuZW1wdHkpIHsgc3RhdHVzRWwuaW5uZXJIVE1MID0gYDxkaXY+2YTYpyDZitmI2KzYryDYt9mE2KfYqCDZhNmE2LPZhtipL9in2YTYqtix2YUg2KfZhNmF2K3Yr9iv2YrZhi48L2Rpdj5gOyByZXR1cm47IH0KICAgICAgICBzdHVkZW50c0RvY3MgPSBzbmFwLmRvY3M7CiAgICAgIH0KCiAgICAgIC8vINil2LDYpyDZhNmFINmK2K7YqtmO2LEg2KfZhNmF2LnZhNmFINi52YbYp9i12LEg2YggYXBwbHlTZWxlY3RlZE9ubHk9ZmFsc2UgPT4g2YbYudi32Yog2YPZhCDYp9mE2LnZhtin2LXYsSDZhdmGINmD2YQg2KfZhNmF2KzZhdmI2LnYp9iqCiAgICAgIGxldCBleGFtc0lkcyA9IHNlbGVjdGVkRXhhbUlkcy5zbGljZSgpOwogICAgICBsZXQgc2VsZlRlc3RzSWRzID0gc2VsZWN0ZWRTZWxmVGVzdElkcy5zbGljZSgpOwogICAgICBsZXQgY291cnNlc0lkcyA9IHNlbGVjdGVkQ291cnNlSWRzLnNsaWNlKCk7CgogICAgICBpZiAoIWFwcGx5U2VsZWN0ZWRPbmx5KSB7CiAgICAgICAgc3RhdHVzRWwuaW5uZXJIVE1MID0gJ9is2KfYsdmKINis2YTYqCDZg9mEINin2YTYudmG2KfYtdixICjYp9iu2KrYqNin2LHYp9iqL9mI2KfYrNio2KfYqi/ZhdmC2LHYsdin2KopLi4uJzsKICAgICAgICBjb25zdCBbZXhhbXNTbmFwLCB0ZXN0c1NuYXAsIGNvdXJzZXNTbmFwXSA9IGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgICAgIGRiLmNvbGxlY3Rpb24oJ2V4YW1zJykuZ2V0KCksCiAgICAgICAgICBkYi5jb2xsZWN0aW9uKCdzZWxmVGVzdHMnKS5nZXQoKSwKICAgICAgICAgIGRiLmNvbGxlY3Rpb24oJ3NsaWRlcycpLmdldCgpCiAgICAgICAgXSk7CiAgICAgICAgZXhhbXNJZHMgPSBleGFtc1NuYXAuZG9jcy5tYXAoZD0+ZC5pZCk7CiAgICAgICAgc2VsZlRlc3RzSWRzID0gdGVzdHNTbmFwLmRvY3MubWFwKGQ9PmQuaWQpOwogICAgICAgIGNvdXJzZXNJZHMgPSBjb3Vyc2VzU25hcC5kb2NzLm1hcChkPT5kLmlkKTsKICAgICAgfQoKICAgICAgaWYgKGV4YW1zSWRzLmxlbmd0aD09PTAgJiYgc2VsZlRlc3RzSWRzLmxlbmd0aD09PTAgJiYgY291cnNlc0lkcy5sZW5ndGg9PT0wKSB7CiAgICAgICAgc3RhdHVzRWwuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9ImNvbG9yOiNjMDM5MmIiPtmE2Kcg2KrZiNis2K8g2LnZhtin2LXYsSDZhNiq2LfYqNmK2YLZh9inLjwvZGl2PmA7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICAvLyDYqtit2K/ZitirINmD2YQg2LfYp9mE2Kgg2LnYqNixIGJhdGNoICjYp9it2KrYsdizINmF2YYg2K3Yr9mI2K8g2KfZhNio2KfYqti0KQogICAgICBzdGF0dXNFbC5pbm5lckhUTUwgPSAn2KzYp9ix2Yog2KrYt9io2YrZgiDYp9mE2LXZhNin2K3Zitin2Kog2LnZhNmJINin2YTYt9mE2KfYqC4uLic7CiAgICAgIGxldCBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgICAgIGxldCBvcHMgPSAwOwogICAgICBsZXQgdXBkYXRlZCA9IDA7CiAgICAgIGZvciAoY29uc3QgZG9jIG9mIHN0dWRlbnRzRG9jcykgewogICAgICAgIGNvbnN0IGlkID0gZG9jLmlkOwogICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpIHx8IHt9OwogICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTsKICAgICAgICBpZiAoZXhhbXNJZHMubGVuZ3RoKSB1cGRhdGVEYXRhLmFsbG93ZWRFeGFtcyA9IHVuaW9uQXJyYXlzKGRhdGEuYWxsb3dlZEV4YW1zfHxbXSwgZXhhbXNJZHMpOwogICAgICAgIGlmIChzZWxmVGVzdHNJZHMubGVuZ3RoKSB1cGRhdGVEYXRhLmFsbG93ZWRTZWxmVGVzdHMgPSB1bmlvbkFycmF5cyhkYXRhLmFsbG93ZWRTZWxmVGVzdHN8fFtdLCBzZWxmVGVzdHNJZHMpOwogICAgICAgIGlmIChjb3Vyc2VzSWRzLmxlbmd0aCkgdXBkYXRlRGF0YS5hbGxvd2VkQ291cnNlcyA9IHVuaW9uQXJyYXlzKGRhdGEuYWxsb3dlZENvdXJzZXN8fFtdLCBjb3Vyc2VzSWRzKTsKCiAgICAgICAgYmF0Y2guc2V0KGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKGlkKSwgdXBkYXRlRGF0YSwgeyBtZXJnZTogdHJ1ZSB9KTsKICAgICAgICBvcHMrKzsgdXBkYXRlZCsrOwogICAgICAgIGlmIChvcHMgPj0gNDUwKSB7IGF3YWl0IGJhdGNoLmNvbW1pdCgpOyBiYXRjaCA9IGRiLmJhdGNoKCk7IG9wcyA9IDA7IH0KICAgICAgfQogICAgICBpZiAob3BzID4gMCkgYXdhaXQgYmF0Y2guY29tbWl0KCk7CgogICAgICBzdGF0dXNFbC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6IzE0ZWU4OCI+2KrZhSDYqti32KjZitmCINin2YTYtdmE2KfYrdmK2KfYqiDYudmE2YkgJHt1cGRhdGVkfSDYt9in2YTYqCDYqNmG2KzYp9itLjwvZGl2PmA7CiAgICAgIHNldFRpbWVvdXQoKCk9PnsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoUGVybWlzc2lvbnNNb2RhbCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnOyBzdGF0dXNFbC5zdHlsZS5kaXNwbGF5PSdub25lJzsgfSwgMTIwMCk7CiAgICAgIHNob3dUb2FzdChg2KrZhSDYqti32KjZitmCINin2YTYtdmE2KfYrdmK2KfYqiDYudmE2YkgJHt1cGRhdGVkfSDYt9in2YTYqC5gLCAnc3VjY2VzcycpOwogICAgICBsb2FkU3R1ZGVudHMoKTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIHN0YXR1c0VsLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojYzAzOTJiIj7Yrdiv2Ksg2K7Yt9ijOiAke2Vyci5tZXNzYWdlfTwvZGl2PmA7CiAgICB9CiAgfQoKICAvLyDYsdio2Lcg2LnZhtivINiq2K3ZhdmK2YQgRE9NINmI2YXYsdipINi52YbYryDYqtit2K/ZitirINmI2KfYrNmH2Kkg2KfZhNmF2LnZhNmFL9i32YTYp9ioCiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGVuc3VyZUJhdGNoQnV0dG9uKTsKICAvLyDZgdmKINit2KfZhCDYqtmFINiq2K3ZhdmK2YQg2YjYp9is2YfYqSDYp9mE2YXYtdin2K/ZgtipINmE2KfYrdmC2KfZiwogIHdpbmRvdy5lbnN1cmVCYXRjaFBlcm1pc3Npb25zQnV0dG9uID0gZW5zdXJlQmF0Y2hCdXR0b247Cn0pKCk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIGxvYWRRdWVzdGlvbkJhbmsocGFnZSA9IDEpIHsKICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ29udGFpbmVyIik7CiAgY29udGFpbmVyLmlubmVySFRNTCA9ICLYrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLiI7CiAgY29uc3QgY2F0ZWdvcnlFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpOwogIGNvbnN0IGNhdGVnb3J5SWQgPSBjYXRlZ29yeUVsID8gY2F0ZWdvcnlFbC52YWx1ZSA6ICIiOwoKICAvLyDYrdmB2Lgg2KfZhNin2K7YqtmK2KfYsSDYudin2YTZhdmK2KfZiyDZgtio2YQg2KPZiiDYpdi52KfYr9ipINiq2K3ZhdmK2YQg2YTZhNi02KzYsdipCiAgd2luZG93Ll9zZWxlY3RlZFF1ZXN0aW9uQmFua0NhdGVnb3J5ID0gY2F0ZWdvcnlJZCB8fCAiIjsKCiAgbGV0IHF1ZXJ5ID0gZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIik7CiAgaWYgKGNhdGVnb3J5SWQgJiYgY2F0ZWdvcnlJZCAhPT0gIiIpIHsKICAgIHF1ZXJ5ID0gcXVlcnkud2hlcmUoImNhdGVnb3J5SWQiLCAiPT0iLCBjYXRlZ29yeUlkKTsKICB9CiAgcXVlcnkub3JkZXJCeSgiY3JlYXRlZEF0IiwgImFzYyIpLmdldCgpLnRoZW4oYXN5bmMgc25hcHNob3QgPT4gewogICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAiPHA+2YTYpyDZitmI2KzYryDYo9iz2KbZhNipINmB2Yog2YfYsNmHINin2YTZgdim2KkuPC9wPiI7CiAgICAgIHJldHVybjsKICAgIH0KICAgIC8vINmF2LHZkdixINin2YTZgdim2Kkg2KfZhNit2KfZhNmK2Kkg2LnZhtivINi32YTYqCDYpdi52KfYr9ipINiq2K3ZhdmK2YQg2LTYrNix2Kkg2KfZhNmB2KbYp9iqINmE2LbZhdin2YYg2LnYr9mFINil2LnYp9iv2Kkg2KfZhNin2K7YqtmK2KfYsQogICAgaWYgKCF3aW5kb3cucXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGUgfHwgT2JqZWN0LmtleXMod2luZG93LnF1ZXN0aW9uQ2F0ZWdvcmllc0NhY2hlKS5sZW5ndGggPT09IDApIHsKICAgICAgYXdhaXQgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKHdpbmRvdy5fc2VsZWN0ZWRRdWVzdGlvbkJhbmtDYXRlZ29yeSwgInF1ZXN0aW9uQmFua0NhdGVnb3J5Iik7CiAgICB9IGVsc2UgewogICAgICAvLyDYrdiq2Ykg2YTZiCDZg9in2YbYqiDYp9mE2YPYp9i0INmF2YjYrNmI2K/YqdiMINij2LnYryDYqNmG2KfYoSDYp9mE2LTYrNix2Kkg2YTZg9mGINmF2Lkg2KfZhNmF2K3Yp9mB2LjYqSDYudmE2Ykg2KfZhNin2K7YqtmK2KfYsQogICAgICBhd2FpdCBsb2FkUXVlc3Rpb25CYW5rQ2F0ZWdvcmllc1RyZWUod2luZG93Ll9zZWxlY3RlZFF1ZXN0aW9uQmFua0NhdGVnb3J5LCAicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKTsKICAgIH0KCiAgICBsZXQgYWxsUXVlc3Rpb25zID0gW107CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGFsbFF1ZXN0aW9ucy5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KTsKICAgIH0pOwoKICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoYWxsUXVlc3Rpb25zLmxlbmd0aCAvIFFVRVNUSU9OU19QRVJfUEFHRSkpOwogICAgY29uc3QgY3VycmVudFBhZ2UgPSBNYXRoLm1heCgxLCBNYXRoLm1pbihwYWdlLCB0b3RhbFBhZ2VzKSk7CiAgICBjb25zdCBzdGFydElkeCA9IChjdXJyZW50UGFnZSAtIDEpICogUVVFU1RJT05TX1BFUl9QQUdFOwogICAgY29uc3QgZW5kSWR4ID0gc3RhcnRJZHggKyBRVUVTVElPTlNfUEVSX1BBR0U7CiAgICBjb25zdCBwYWdlUXVlc3Rpb25zID0gYWxsUXVlc3Rpb25zLnNsaWNlKHN0YXJ0SWR4LCBlbmRJZHgpOwoKICAgIGxldCBwYWdpbmF0aW9uSHRtbCA9IGAKICAgICAgPGRpdiBjbGFzcz0icGFnaW5hdGlvbi1jb250YWluZXIiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjEycHg7Ij4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJwYWdpbmF0aW9uLWJ0biIgaWQ9InByZXZRdWVzdGlvbkJhbmtQYWdlQnRuIiAke2N1cnJlbnRQYWdlID09PSAxID8gImRpc2FibGVkIiA6ICIifT7Yp9mE2LPYp9io2YI8L2J1dHRvbj4KICAgICAgICA8c3BhbiBjbGFzcz0icGFnaW5hdGlvbi1pbmZvIj7YtdmB2K3YqSAke2N1cnJlbnRQYWdlfSDZhdmGICR7dG90YWxQYWdlc308L3NwYW4+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0icGFnaW5hdGlvbi1idG4iIGlkPSJuZXh0UXVlc3Rpb25CYW5rUGFnZUJ0biIgJHtjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyA/ICJkaXNhYmxlZCIgOiAiIn0+2KfZhNiq2KfZhNmKPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgYDsKCiAgICBsZXQgaHRtbCA9IHBhZ2luYXRpb25IdG1sOwogICAgaHRtbCArPSBgPHRhYmxlIGNsYXNzPSdncmFkZXMtdGFibGUnPjx0aGVhZD48dHI+CiAgICAgIDx0aD7Yp9mE2LPYpNin2YQ8L3RoPgogICAgICA8dGg+2KfZhNmB2KbYqTwvdGg+CiAgICAgIDx0aD7Yp9mE2K7Zitin2LHYp9iqPC90aD4KICAgICAgPHRoPtin2YTYtdit2YrYrTwvdGg+CiAgICAgIDx0aD7YtdmI2LHYqTwvdGg+CiAgICAgIDx0aD7Ypdis2LHYp9ih2KfYqjwvdGg+CiAgICA8L3RyPjwvdGhlYWQ+PHRib2R5PmA7CiAgICBwYWdlUXVlc3Rpb25zLmZvckVhY2gocSA9PiB7CiAgICAgIGxldCBjYXRlZ29yeU5hbWUgPSAiIjsKICAgICAgaWYgKHEuY2F0ZWdvcnlJZCAmJiB3aW5kb3cucXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGUpIHsKICAgICAgICBjYXRlZ29yeU5hbWUgPSB3aW5kb3cucXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGVbcS5jYXRlZ29yeUlkXSB8fCAiIjsKICAgICAgfQogICAgICBodG1sICs9IGA8dHI+CiAgICAgICAgPHRkPiR7cS50ZXh0IHx8ICIifTwvdGQ+CiAgICAgICAgPHRkPiR7Y2F0ZWdvcnlOYW1lfTwvdGQ+CiAgICAgICAgPHRkPiR7cS5vcHRpb25zPy5tYXAob3B0ID0+IG9wdC50ZXh0KS5qb2luKCI8YnI+IikgfHwgIiJ9PC90ZD4KICAgICAgICA8dGQ+JHt0eXBlb2YgcS5jb3JyZWN0QW5zd2VyID09PSAibnVtYmVyIiAmJiBxLm9wdGlvbnMgJiYgcS5vcHRpb25zW3EuY29ycmVjdEFuc3dlcl0gPyBxLm9wdGlvbnNbcS5jb3JyZWN0QW5zd2VyXS50ZXh0IDogIiJ9PC90ZD4KICAgICAgICA8dGQ+JHtxLmltYWdlVXJsID8gYDxpbWcgc3JjPSIke3EuaW1hZ2VVcmx9IiBjbGFzcz0icXVlc3Rpb24tYmFuay1pbWciIHN0eWxlPSJtYXgtd2lkdGg6NjBweDttYXgtaGVpZ2h0OjYwcHg7Ym9yZGVyLXJhZGl1czo2cHg7Y3Vyc29yOnpvb20taW47Ij5gIDogIiJ9PC90ZD4KICAgICAgICA8dGQ+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIG9uY2xpY2s9ImVkaXRCYW5rUXVlc3Rpb24oJyR7cS5pZH0nKSI+PGkgY2xhc3M9ImZhcyBmYS1lZGl0Ij48L2k+PC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iZGVsZXRlQmFua1F1ZXN0aW9uKCcke3EuaWR9JykiPjxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT48L2J1dHRvbj4KICAgICAgICA8L3RkPgogICAgICA8L3RyPmA7CiAgICB9KTsKICAgIGh0bWwgKz0gIjwvdGJvZHk+PC90YWJsZT4iOwogICAgY29udGFpbmVyLmlubmVySFRNTCA9IGh0bWw7CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByZXZRdWVzdGlvbkJhbmtQYWdlQnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgbG9hZFF1ZXN0aW9uQmFuayhjdXJyZW50UGFnZSAtIDEpOwogICAgfTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXh0UXVlc3Rpb25CYW5rUGFnZUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGxvYWRRdWVzdGlvbkJhbmsoY3VycmVudFBhZ2UgKyAxKTsKICAgIH07CgogICAgLy8g2KfYs9iq2K/Yudin2KEg2KrZg9io2YrYsSDYp9mE2LXZiNixINio2LnYryDYsdiz2YUg2KfZhNis2K/ZiNmECiAgICBlbmFibGVRdWVzdGlvbkJhbmtJbWFnZVpvb20oKTsKICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gYDxwIHN0eWxlPSJjb2xvcjpyZWQ7Ij7Yrdiv2Ksg2K7Yt9ijOiAke2Vycm9yLm1lc3NhZ2V9PC9wPmA7CiAgfSk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KPYttmBINin2YTYr9in2YTYqtmK2YYg2KfZhNiq2KfZhNmK2KrZitmGINmF2LHYqSDZiNin2K3Yr9ipINmB2YLYtyDZgdmKINmF2YTZgdmDICjYpdmGINmE2YUg2KrZg9mGINmF2YjYrNmI2K/YqSk6CgpmdW5jdGlvbiBzaG93SW1hZ2VNb2RhbChzcmMpIHsKICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25JbWFnZU1vZGFsIik7CiAgaWYgKG1vZGFsKSBtb2RhbC5yZW1vdmUoKTsKCiAgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBtb2RhbC5pZCA9ICJxdWVzdGlvbkltYWdlTW9kYWwiOwogIG1vZGFsLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICBtb2RhbC5zdHlsZS50b3AgPSAiMCI7CiAgbW9kYWwuc3R5bGUubGVmdCA9ICIwIjsKICBtb2RhbC5zdHlsZS53aWR0aCA9ICIxMDB2dyI7CiAgbW9kYWwuc3R5bGUuaGVpZ2h0ID0gIjEwMHZoIjsKICBtb2RhbC5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYmEoMCwwLDAsMC43KSI7CiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBtb2RhbC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwogIG1vZGFsLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKICBtb2RhbC5zdHlsZS56SW5kZXggPSAiOTk5OTkiOwogIG1vZGFsLmlubmVySFRNTCA9IGAKICAgIDxkaXYgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlO21heC13aWR0aDo5NXZ3O21heC1oZWlnaHQ6OTB2aDsiPgogICAgICA8aW1nIHNyYz0iJHtzcmN9IiBzdHlsZT0ibWF4LXdpZHRoOjk1dnc7bWF4LWhlaWdodDo5MHZoO2JvcmRlci1yYWRpdXM6MTZweDtib3gtc2hhZG93OjAgNHB4IDMycHggIzAwMGE7Ij4KICAgICAgPGJ1dHRvbiBpZD0iY2xvc2VJbWFnZU1vZGFsQnRuIiBzdHlsZT0iCiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7dG9wOi0xOHB4O2xlZnQ6LTE4cHg7CiAgICAgICAgYmFja2dyb3VuZDojZmM1YzY1O2NvbG9yOiNmZmY7Ym9yZGVyOm5vbmU7CiAgICAgICAgYm9yZGVyLXJhZGl1czo1MCU7d2lkdGg6MzhweDtoZWlnaHQ6MzhweDsKICAgICAgICBmb250LXNpemU6MS41cmVtO2N1cnNvcjpwb2ludGVyO2JveC1zaGFkb3c6MCAycHggOHB4ICMwMDA1OwogICAgICAgIGRpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjsKICAgICAgIiB0aXRsZT0i2KXYutmE2KfZgiI+JnRpbWVzOzwvYnV0dG9uPgogICAgPC9kaXY+CiAgYDsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2xvc2VJbWFnZU1vZGFsQnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgbW9kYWwucmVtb3ZlKCk7CiAgfTsKICBtb2RhbC5vbmNsaWNrID0gZnVuY3Rpb24oZSkgewogICAgaWYgKGUudGFyZ2V0ID09PSBtb2RhbCkgbW9kYWwucmVtb3ZlKCk7CiAgfTsKfQoKZnVuY3Rpb24gZW5hYmxlUXVlc3Rpb25CYW5rSW1hZ2Vab29tKCkgewogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNxdWVzdGlvbkJhbmtDb250YWluZXIgaW1nLnF1ZXN0aW9uLWJhbmstaW1nIikuZm9yRWFjaChpbWcgPT4gewogICAgaW1nLnN0eWxlLmN1cnNvciA9ICJ6b29tLWluIjsKICAgIGltZy5vbmNsaWNrID0gZnVuY3Rpb24oZSkgewogICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICBzaG93SW1hZ2VNb2RhbCh0aGlzLnNyYyk7CiAgICB9OwogIH0pOwp9CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyAuLi5leGlzdGluZyBjb2RlLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2K3YsNmBINiz2KTYp9mEINmF2YYg2KjZhtmDINin2YTYo9iz2KbZhNipCndpbmRvdy5kZWxldGVCYW5rUXVlc3Rpb24gPSBmdW5jdGlvbihpZCkgewogIGlmIChjb25maXJtKCLZh9mEINiq2LHZitivINit2LDZgSDZh9iw2Kcg2KfZhNiz2KTYp9mE2J8iKSkgewogICAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikuZG9jKGlkKS5kZWxldGUoKS50aGVuKGxvYWRRdWVzdGlvbkJhbmspOwogIH0KfTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUXVlc3Rpb25CYW5rQnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgLy8g2KfYrdiw2YEg2KPZiCDYp9iu2YHZkCDYtNis2LHYqSDYp9mE2YHYptin2Kog2YHZiiDZhtin2YHYsNipINin2YTYpdi22KfZgdipCiAgY29uc3QgdHJlZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXRlZ29yaWVzVHJlZUNvbnRhaW5lciIpOwogIGlmICh0cmVlKSB7CiAgICAvLyDYpdmF2Kcg2KXYstin2YTYqSDYp9mE2LnZhti12LEg2YXZhiBET006CiAgICAvLyB0cmVlLnJlbW92ZSgpOwogICAgLy8g2KPZiCDYpdiu2YHYp9ik2Ycg2YHZgti3OgogICAgdHJlZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0KICBsb2FkUXVlc3Rpb25CYW5rQ2F0ZWdvcmllc1RyZWUoIiIsICJxdWVzdGlvbkJhbmtDYXRlZ29yeUFkZCIpOwp9OwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINiq2LnYr9mK2YQg2LPYpNin2YQgKNmG2KfZgdiw2Kkg2YXYqNiz2LfYqSkKd2luZG93LmVkaXRCYW5rUXVlc3Rpb24gPSBmdW5jdGlvbihpZCkgewogIGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLmRvYyhpZCkuZ2V0KCkudGhlbihkb2MgPT4gewogICAgaWYgKCFkb2MuZXhpc3RzKSByZXR1cm47CiAgICBjb25zdCBxID0gZG9jLmRhdGEoKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rVGV4dCIpLnZhbHVlID0gcS50ZXh0OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjEiKS52YWx1ZSA9IHEub3B0aW9uc1swXT8udGV4dCB8fCAiIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb24yIikudmFsdWUgPSBxLm9wdGlvbnNbMV0/LnRleHQgfHwgIiI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3B0aW9uMyIpLnZhbHVlID0gcS5vcHRpb25zWzJdPy50ZXh0IHx8ICIiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjQiKS52YWx1ZSA9IHEub3B0aW9uc1szXT8udGV4dCB8fCAiIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3JyZWN0T3B0aW9uIikudmFsdWUgPSAocS5jb3JyZWN0QW5zd2VyIHx8IDApICsgMTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtJbWFnZVVybCIpLnZhbHVlID0gcS5pbWFnZVVybCB8fCAiIjsKICAgIC8vINit2YQg2YXYtNmD2YTYqSDYqtmD2LHYp9ixINin2YTZgdim2KfYqjog2KrZgdix2YrYuiDYp9mE2YLYp9im2YXYqSDZgtio2YQg2KrYudio2KbYqtmH2KcKICAgIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZShxLmNhdGVnb3J5SWQsICJxdWVzdGlvbkJhbmtDYXRlZ29yeUFkZCIpOwogICAgLy8g2LnZhtivINin2YTYrdmB2LjYjCDYrdiv2Ksg2KjYr9mE2KfZiyDZhdmGINil2LbYp9mB2Kkg2KzYr9mK2K8KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtGb3JtIikub25zdWJtaXQgPSBmdW5jdGlvbihlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtUZXh0IikudmFsdWUudHJpbSgpOwogICAgICBjb25zdCBvcHRpb25zID0gWwogICAgICAgIHsgdGV4dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjEiKS52YWx1ZS50cmltKCkgfSwKICAgICAgICB7IHRleHQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb24yIikudmFsdWUudHJpbSgpIH0KICAgICAgXTsKICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb24zIikudmFsdWUudHJpbSgpKSBvcHRpb25zLnB1c2goeyB0ZXh0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3B0aW9uMyIpLnZhbHVlLnRyaW0oKSB9KTsKICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb240IikudmFsdWUudHJpbSgpKSBvcHRpb25zLnB1c2goeyB0ZXh0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3B0aW9uNCIpLnZhbHVlLnRyaW0oKSB9KTsKICAgICAgY29uc3QgY29ycmVjdEFuc3dlciA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3JyZWN0T3B0aW9uIikudmFsdWUpIC0gMTsKICAgICAgY29uc3QgaW1hZ2VVcmwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rSW1hZ2VVcmwiKS52YWx1ZS50cmltKCk7CiAgICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnlBZGQiKS52YWx1ZSB8fCBudWxsOwogICAgICBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS5kb2MoaWQpLnVwZGF0ZSh7CiAgICAgICAgdGV4dCwgb3B0aW9ucywgY29ycmVjdEFuc3dlciwgaW1hZ2VVcmwsIGNhdGVnb3J5SWQKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFF1ZXN0aW9uQmFua01vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUXVlc3Rpb25CYW5rRm9ybSIpLnJlc2V0KCk7CiAgICAgICAgbG9hZFF1ZXN0aW9uQmFuaygpOwogICAgICAgIHNob3dUb2FzdCgi2KrZhSDYqtit2K/ZitirINin2YTYs9ik2KfZhCEiLCAic3VjY2VzcyIpOwogICAgICAgIC8vINij2LnYryDYsdio2Lcgb25zdWJtaXQg2YTZhNil2LbYp9mB2Kkg2KfZhNi52KfYr9mK2KkKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUXVlc3Rpb25CYW5rRm9ybSIpLm9uc3VibWl0ID0gZGVmYXVsdEFkZFF1ZXN0aW9uQmFua0Zvcm1IYW5kbGVyOwogICAgICB9KTsKICAgIH07CiAgfSk7Cn07Ci8vINil2LnYp9iv2Kkgb25zdWJtaXQg2KfZhNin2YHYqtix2KfYttmKINio2LnYryDYp9mE2KrYudiv2YrZhApjb25zdCBkZWZhdWx0QWRkUXVlc3Rpb25CYW5rRm9ybUhhbmRsZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUXVlc3Rpb25CYW5rRm9ybSIpLm9uc3VibWl0OwoKLy8gLS0tINin2LPYqtmK2LHYp9ivINij2LPYptmE2Kkg2YXZhiDYqNmG2YMg2KfZhNij2LPYptmE2Kkg2YHZiiDYtdmB2K3YqSDYpdmG2LTYp9ihINin2K7Yqtio2KfYsSAtLS0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydEZyb21RdWVzdGlvbkJhbmtCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgd2luZG93Ll9pbXBvcnRUYXJnZXRDb250YWluZXJJZCA9ICJxdWVzdGlvbnNDb250YWluZXIiOwogIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZSgiIiwgImltcG9ydEJhbmtDYXRlZ29yeSIpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbXBvcnRRdWVzdGlvbnNNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgbG9hZEltcG9ydFF1ZXN0aW9uc0xpc3QoKTsKfTsKLy8g2LnZhtivINiq2LrZitmK2LEg2KfZhNmB2KbYqSDZgdmKINmG2KfZgdiw2Kkg2KfZhNin2LPYqtmK2LHYp9ivCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbXBvcnRCYW5rQ2F0ZWdvcnkiKS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICBsb2FkSW1wb3J0UXVlc3Rpb25zTGlzdCgxKTsKfSk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCmxldCBpbXBvcnRRdWVzdGlvbnNQYWdlID0gMTsKY29uc3QgUVVFU1RJT05TX1BFUl9QQUdFID0gMTA7CmxldCBpbXBvcnRRdWVzdGlvbnNBbGxEb2NzID0gW107IC8vINmE2KrYrtiy2YrZhiDZg9mEINin2YTYo9iz2KbZhNipCgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KfYs9iq2KjYr9mEINiv2KfZhNipIGxvYWRJbXBvcnRRdWVzdGlvbnNMaXN0INio2YfYsNinINin2YTZg9mI2K8g2YTYpdi12YTYp9itINmF2LTZg9mE2KkgItis2KfYsdmKINin2YTYqtit2YXZitmELi4uIiDYudmG2K8g2KfYrtiq2YrYp9ixINin2YTZgdim2Kkg2YHZiiDZhtin2YHYsNipINin2YTYp9iz2KrZitix2KfYrwoKZnVuY3Rpb24gbG9hZEltcG9ydFF1ZXN0aW9uc0xpc3QocGFnZSA9IDEpIHsKICBpbXBvcnRRdWVzdGlvbnNQYWdlID0gcGFnZTsKICBjb25zdCBjYXRlZ29yeUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydEJhbmtDYXRlZ29yeSIpLnZhbHVlOwogIGxldCBxdWVyeSA9IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJhc2MiKTsgLy8g2KrYsdiq2YrYqCDZhdmGINin2YTYo9i52YTZiSDZhNmE2KPYs9mB2YQKICBpZiAoY2F0ZWdvcnlJZCAmJiBjYXRlZ29yeUlkICE9PSAiIikgcXVlcnkgPSBxdWVyeS53aGVyZSgiY2F0ZWdvcnlJZCIsICI9PSIsIGNhdGVnb3J5SWQpOwogIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1wb3J0UXVlc3Rpb25zTGlzdCIpOwogIGxpc3QuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTBweDsiPgogICAgICA8bGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ic2VsZWN0QWxsSW1wb3J0UXVlc3Rpb25zIj4KICAgICAgICDYqtit2K/ZitivINin2YTZg9mECiAgICAgIDwvbGFiZWw+CiAgICA8L2Rpdj4KICAgINis2KfYsdmKINin2YTYqtit2YXZitmELi4uYDsKCiAgLy8g2KfYs9iq2K7Yr9mFIGdldCgpLnRoZW4g2KjYr9mE2KfZiyDZhdmGIG9uU25hcHNob3QgKNmE2KPZhiBvblNuYXBzaG90INmE2Kcg2YrYudmF2YQg2YXYuSB3aGVyZStvcmRlckJ5INij2K3Zitin2YbYp9mLKQogIHF1ZXJ5LmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgIGxpc3QuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2YrZiNis2K8g2KPYs9im2YTYqSDZgdmKINmH2LDZhyDYp9mE2YHYptipLjwvcD4iOwogICAgICByZXR1cm47CiAgICB9CiAgICBpbXBvcnRRdWVzdGlvbnNBbGxEb2NzID0gW107CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGltcG9ydFF1ZXN0aW9uc0FsbERvY3MucHVzaCh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSk7CiAgICB9KTsKCiAgICAvLyDYrdiz2KfYqCDYp9mE2LXZgdit2KfYqgogICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbChpbXBvcnRRdWVzdGlvbnNBbGxEb2NzLmxlbmd0aCAvIFFVRVNUSU9OU19QRVJfUEFHRSk7CiAgICBjb25zdCBzdGFydElkeCA9IChpbXBvcnRRdWVzdGlvbnNQYWdlIC0gMSkgKiBRVUVTVElPTlNfUEVSX1BBR0U7CiAgICBjb25zdCBlbmRJZHggPSBzdGFydElkeCArIFFVRVNUSU9OU19QRVJfUEFHRTsKICAgIGNvbnN0IHBhZ2VRdWVzdGlvbnMgPSBpbXBvcnRRdWVzdGlvbnNBbGxEb2NzLnNsaWNlKHN0YXJ0SWR4LCBlbmRJZHgpOwoKICAgIGxldCBodG1sID0gYDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTBweDsiPgogICAgIDxsYWJlbD4KICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InNlbGVjdEFsbEltcG9ydFF1ZXN0aW9ucyI+CiAgICDYqtit2K/ZitivINin2YTZg9mECiAgPC9sYWJlbD4KPC9kaXY+Cjx0YWJsZSBjbGFzcz0iZ3JhZGVzLXRhYmxlIj4KICA8dGhlYWQ+CiAgICA8dHI+CiAgICAgIDx0aD48L3RoPgogICAgICA8dGg+2KfZhNiz2KTYp9mEPC90aD4KICAgICAgPHRoPtin2YTYrtmK2KfYsdin2Ko8L3RoPgogICAgICA8dGg+2KfZhNi12K3ZititPC90aD4KICAgICAgPHRoPti12YjYsdipPC90aD4gPCEtLSDYo9i22YEg2YfYsNinINin2YTYs9i32LEgLS0+CiAgICA8L3RyPgogIDwvdGhlYWQ+CiAgPHRib2R5PmA7CgpwYWdlUXVlc3Rpb25zLmZvckVhY2gocSA9PiB7CiAgaHRtbCArPSBgPHRyIGNsYXNzPSJpbXBvcnQtcXVlc3Rpb24tcm93IiBkYXRhLXFpZD0iJHtxLmlkfSIgc3R5bGU9ImN1cnNvcjpwb2ludGVyOyI+CiAgICA8dGQ+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0iaW1wb3J0LXF1ZXN0aW9uLWNoZWNrYm94IiB2YWx1ZT0iJHtxLmlkfSI+PC90ZD4KICAgIDx0ZD4ke3EudGV4dH08L3RkPgogICAgPHRkPiR7cS5vcHRpb25zLm1hcCgobyxpKT0+YCR7aSsxfS0gJHtvLnRleHR9YCkuam9pbigiPGJyPiIpfTwvdGQ+CiAgICA8dGQ+JHtxLm9wdGlvbnNbcS5jb3JyZWN0QW5zd2VyXT8udGV4dCB8fCAiIn08L3RkPgogICAgPHRkPgogICAgICAke3EuaW1hZ2VVcmwgPyBgPGltZyBzcmM9IiR7cS5pbWFnZVVybH0iIHN0eWxlPSJtYXgtd2lkdGg6NjBweDttYXgtaGVpZ2h0OjQwcHg7Ym9yZGVyLXJhZGl1czo2cHg7Ym94LXNoYWRvdzowIDJweCA4cHggIzBhNzBmZjIyOyI+YCA6ICIifQogICAgPC90ZD4KICA8L3RyPmA7Cn0pOwoKaHRtbCArPSAiPC90Ym9keT48L3RhYmxlPiI7CgogICAgLy8g2KPYstix2KfYsSDYp9mE2KrZhtmC2YQg2KjZitmGINin2YTYtdmB2K3Yp9iqCiAgICBodG1sICs9IGA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjE1cHg7Ij5gOwogICAgaWYgKGltcG9ydFF1ZXN0aW9uc1BhZ2UgPiAxKSB7CiAgICAgIGh0bWwgKz0gYDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9InByZXZJbXBvcnRRdWVzdGlvbnNQYWdlQnRuIiBzdHlsZT0ibWFyZ2luLWxlZnQ6MTBweDsiPtin2YTYs9in2KjZgjwvYnV0dG9uPmA7CiAgICB9CiAgICBodG1sICs9IGA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZDsiPti12YHYrdipICR7aW1wb3J0UXVlc3Rpb25zUGFnZX0g2YXZhiAke3RvdGFsUGFnZXN9PC9zcGFuPmA7CiAgICBpZiAoaW1wb3J0UXVlc3Rpb25zUGFnZSA8IHRvdGFsUGFnZXMpIHsKICAgICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0ibmV4dEltcG9ydFF1ZXN0aW9uc1BhZ2VCdG4iIHN0eWxlPSJtYXJnaW4tcmlnaHQ6MTBweDsiPtin2YTYqtin2YTZijwvYnV0dG9uPmA7CiAgICB9CiAgICBodG1sICs9IGA8L2Rpdj5gOwoKICAgIGxpc3QuaW5uZXJIVE1MID0gaHRtbDsKCiAgICAvLyDYsdio2Lcg2KfZhNij2K3Yr9in2KsKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5pbXBvcnQtcXVlc3Rpb24tcm93IikuZm9yRWFjaChyb3cgPT4gewogICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihlKSB7CiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygiaW1wb3J0LXF1ZXN0aW9uLWNoZWNrYm94IikpIHJldHVybjsKICAgICAgICBjb25zdCBjaGVja2JveCA9IHRoaXMucXVlcnlTZWxlY3RvcigiLmltcG9ydC1xdWVzdGlvbi1jaGVja2JveCIpOwogICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSAhY2hlY2tib3guY2hlY2tlZDsKICAgICAgICBjb25zdCBhbGxDaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmltcG9ydC1xdWVzdGlvbi1jaGVja2JveCIpOwogICAgICAgIGNvbnN0IHNlbGVjdEFsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxlY3RBbGxJbXBvcnRRdWVzdGlvbnMiKTsKICAgICAgICBpZiAoc2VsZWN0QWxsKSB7CiAgICAgICAgICBzZWxlY3RBbGwuY2hlY2tlZCA9IEFycmF5LmZyb20oYWxsQ2hlY2tib3hlcykuZXZlcnkoY2IgPT4gY2IuY2hlY2tlZCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogICAgY29uc3Qgc2VsZWN0QWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGVjdEFsbEltcG9ydFF1ZXN0aW9ucyIpOwogICAgaWYgKHNlbGVjdEFsbCkgewogICAgICBzZWxlY3RBbGwuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmltcG9ydC1xdWVzdGlvbi1jaGVja2JveCIpLmZvckVhY2goY2IgPT4gewogICAgICAgICAgY2IuY2hlY2tlZCA9IHNlbGVjdEFsbC5jaGVja2VkOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJldkltcG9ydFF1ZXN0aW9uc1BhZ2VCdG4iKSkgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJldkltcG9ydFF1ZXN0aW9uc1BhZ2VCdG4iKS5vbmNsaWNrID0gKCkgPT4gbG9hZEltcG9ydFF1ZXN0aW9uc0xpc3QoaW1wb3J0UXVlc3Rpb25zUGFnZSAtIDEpOwogICAgfQogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXh0SW1wb3J0UXVlc3Rpb25zUGFnZUJ0biIpKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXh0SW1wb3J0UXVlc3Rpb25zUGFnZUJ0biIpLm9uY2xpY2sgPSAoKSA9PiBsb2FkSW1wb3J0UXVlc3Rpb25zTGlzdChpbXBvcnRRdWVzdGlvbnNQYWdlICsgMSk7CiAgICB9CiAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgbGlzdC5pbm5lckhUTUwgPSBgPHAgc3R5bGU9ImNvbG9yOnJlZDsiPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYo9iz2KbZhNipOiAke2Vycm9yLm1lc3NhZ2V9PC9wPmA7CiAgfSk7Cn0KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LnZhtivINin2YTYtti62Lcg2LnZhNmJINiy2LEg2KXYttin2YHYqSDZhNmE2KPYs9im2YTYqSDYp9mE2YXYrtiq2KfYsdipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINi52YbYryDYp9mE2LbYuti3INi52YTZiSDYstixINil2LbYp9mB2Kkg2YTZhNij2LPYptmE2Kkg2KfZhNmF2K7Yqtin2LHYqQovLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRTZWxlY3RlZFF1ZXN0aW9uc0J0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICBjb25zdCBjaGVja2VkID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuaW1wb3J0LXF1ZXN0aW9uLWNoZWNrYm94OmNoZWNrZWQiKSkubWFwKGNiID0+IGNiLnZhbHVlKTsKICBpZiAoY2hlY2tlZC5sZW5ndGggPT09IDApIHsKICAgIHNob3dUb2FzdCgi2KfYrtiq2LEg2LPYpNin2YTYp9mLINmI2KfYrdiv2KfZiyDYudmE2Ykg2KfZhNij2YLZhC4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgLy8g2KrZgtiz2YrZhSDYp9mE2YAgSURzINil2YTZiSDZhdis2YXZiNi52KfYqiDZhdmGIDEwIChGaXJlc3RvcmUgaW4g2YrYr9i52YUgMTAg2YHZgti3INmB2Yog2YPZhCDYp9iz2KrYudmE2KfZhSkKICBjb25zdCBjaHVua1NpemUgPSAxMDsKICBjb25zdCBjaHVua3MgPSBbXTsKICBmb3IgKGxldCBpID0gMDsgaSA8IGNoZWNrZWQubGVuZ3RoOyBpICs9IGNodW5rU2l6ZSkgewogICAgY2h1bmtzLnB1c2goY2hlY2tlZC5zbGljZShpLCBpICsgY2h1bmtTaXplKSk7CiAgfQogIC8vINin2LPYqtiu2K/ZhSDYp9mE2K3Yp9mI2YrYqSDYp9mE2YXYs9iq2YfYr9mB2Kkg2K3Ys9ioINin2YTYtdmB2K3YqQogIGNvbnN0IGNvbnRhaW5lcklkID0gd2luZG93Ll9pbXBvcnRUYXJnZXRDb250YWluZXJJZCB8fCAicXVlc3Rpb25zQ29udGFpbmVyIjsKICBjb25zdCBxdWVzdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7CiAgbGV0IGFsbFF1ZXN0aW9ucyA9IFtdOwogIGxldCBwcm9taXNlcyA9IGNodW5rcy5tYXAoY2h1bmsgPT4KICAgIGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpCiAgICAgIC53aGVyZShmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgImluIiwgY2h1bmspCiAgICAgIC5nZXQoKQogICAgICAudGhlbihzbmFwc2hvdCA9PiB7CiAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgYWxsUXVlc3Rpb25zLnB1c2goZG9jLmRhdGEoKSk7CiAgICAgICAgfSk7CiAgICAgIH0pCiAgKTsKICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB7CiAgICAvLyDYo9i22YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2KfZhNmF2LPYqtmI2LHYr9ipINmF2Lkg2KfZhNiq2LHZgtmK2YUg2KfZhNi12K3ZititCiAgICBhbGxRdWVzdGlvbnMuZm9yRWFjaCgocSwgaWR4KSA9PiB7CiAgICAgIGNvbnN0IHF1ZXN0aW9uSWQgPSBEYXRlLm5vdygpICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOwogICAgICBjb25zdCBxdWVzdGlvbk51bWJlciA9IHF1ZXN0aW9uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIucXVlc3Rpb24tY29udGFpbmVyIikubGVuZ3RoICsgMTsKICAgICAgY29uc3QgcXVlc3Rpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHF1ZXN0aW9uRWxlbWVudC5jbGFzc05hbWUgPSAicXVlc3Rpb24tY29udGFpbmVyIGltcG9ydGVkLXF1ZXN0aW9uLWxpZ2h0IjsKICAgICAgcXVlc3Rpb25FbGVtZW50LmlkID0gInF1ZXN0aW9uLSIgKyBxdWVzdGlvbklkOwogICAgICBxdWVzdGlvbkVsZW1lbnQuaW5uZXJIVE1MID0gYAogICAgICAgIDxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6IzBhNzBmZjtmb250LXNpemU6MS4xcmVtO21hcmdpbi1ib3R0b206OHB4OyI+2LPYpNin2YQg2LHZgtmFICR7cXVlc3Rpb25OdW1iZXJ9PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiIHN0eWxlPSJjb2xvcjojMjIyO2ZvbnQtc2l6ZToxLjFyZW07Ij48aSBjbGFzcz0iZmFzIGZhLXF1ZXN0aW9uLWNpcmNsZSI+PC9pPiDZhti1INin2YTYs9ik2KfZhDwvbGFiZWw+CiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi10ZXh0IiB2YWx1ZT0iJHtxLnRleHR9IiByZXF1aXJlZD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgc3R5bGU9ImNvbG9yOiMyMjI7Ij7Ysdin2KjYtyDYp9mE2LXZiNix2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi1pbWFnZS11cmwiIHZhbHVlPSIke3EuaW1hZ2VVcmwgfHwgJyd9IiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2LHYp9io2Lcg2KfZhNi12YjYsdipIj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgc3R5bGU9ImNvbG9yOiMyMjI7Ij7YrtmK2KfYsdin2Kog2KfZhNil2KzYp9io2Kk8L2xhYmVsPgogICAgICAgICAgPGRpdiBpZD0ib3B0aW9ucy0ke3F1ZXN0aW9uSWR9Ij4KICAgICAgICAgICAgJHtxLm9wdGlvbnMubWFwKChvcHRpb24sIG9wdGlvbkluZGV4KSA9PiBgCiAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWl0ZW0gb3B0aW9uLWl0ZW0tbGlnaHQiPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJjb3JyZWN0LSR7cXVlc3Rpb25JZH0iIHZhbHVlPSIke29wdGlvbkluZGV4fSIgJHtxLmNvcnJlY3RBbnN3ZXIgPT09IG9wdGlvbkluZGV4ID8gImNoZWNrZWQiIDogIiJ9IHJlcXVpcmVkPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgb3B0aW9uLXRleHQiIHZhbHVlPSIke29wdGlvbi50ZXh0fSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIGApLmpvaW4oJycpfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImFkZC1idG4iIG9uY2xpY2s9ImFkZE9wdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2K7Zitin2LEKICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJyZW1vdmUtYnRuIiBvbmNsaWNrPSJyZW1vdmVRdWVzdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPiDYrdiw2YEg2KfZhNiz2KTYp9mECiAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgYDsKICAgICAgcXVlc3Rpb25zQ29udGFpbmVyLmFwcGVuZENoaWxkKHF1ZXN0aW9uRWxlbWVudCk7CiAgICAgIGVuYWJsZUltYWdlUGFzdGVPblVybEZpZWxkcygpOwogICAgfSk7CiAgICAvLyDYpdi52KfYr9ipINiq2LHZgtmK2YUg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2KjYudivINin2YTYpdi22KfZgdipCiAgICB1cGRhdGVRdWVzdGlvbnNOdW1iZXJzKCk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1wb3J0UXVlc3Rpb25zTW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgc2hvd1RvYXN0KCLYqtmFINin2LPYqtmK2LHYp9ivINin2YTYo9iz2KbZhNipINio2YbYrNin2K0hIiwgInN1Y2Nlc3MiKTsKICB9KTsKfTsKCi8vINiv2KfZhNipINil2LnYp9iv2Kkg2KfZhNiq2LHZgtmK2YUgKNiq2KPZg9ivINij2YbZh9inINmF2YjYrNmI2K/YqSDZhdix2Kkg2YjYp9it2K/YqSDZgdmC2Lcg2YHZiiDZhdmE2YHZgykKZnVuY3Rpb24gdXBkYXRlUXVlc3Rpb25zTnVtYmVycygpIHsKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjc2VsZlRlc3RRdWVzdGlvbnNDb250YWluZXIgLnF1ZXN0aW9uLWNvbnRhaW5lciwgI3F1ZXN0aW9uc0NvbnRhaW5lciAucXVlc3Rpb24tY29udGFpbmVyIikuZm9yRWFjaCgoZGl2LCBpZHgpID0+IHsKICAgIC8vINin2K3YsNmBINij2Yog2LnZhti12LEg2KrYsdmC2YrZhSDZgtiv2YrZhSAo2LPZiNin2KEgY2xhc3Mg2KPZiCBkaXYg2KjYr9in2K7ZhNmHINmG2LUgItiz2KTYp9mEINix2YLZhSIpCiAgICBkaXYucXVlcnlTZWxlY3RvckFsbCgiLnF1ZXN0aW9uLW51bWJlci1sYWJlbCwgZGl2IikuZm9yRWFjaChlbCA9PiB7CiAgICAgIGlmICgKICAgICAgICBlbC5jbGFzc0xpc3QuY29udGFpbnMoInF1ZXN0aW9uLW51bWJlci1sYWJlbCIpIHx8CiAgICAgICAgKGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRyaW0oKS5zdGFydHNXaXRoKCLYs9ik2KfZhCDYsdmC2YUiKSkKICAgICAgKSB7CiAgICAgICAgZWwucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0pOwogICAgLy8g2KPYttmBINin2YTYqtix2YLZitmFINin2YTYrNiv2YrYryDZgdmKINin2YTYo9i52YTZiQogICAgY29uc3QgbnVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBudW1EaXYuY2xhc3NOYW1lID0gInF1ZXN0aW9uLW51bWJlci1sYWJlbCI7CiAgICBudW1EaXYuc3R5bGUgPSAiZm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMGE3MGZmO2ZvbnQtc2l6ZToxLjFyZW07bWFyZ2luLWJvdHRvbTo4cHg7IjsKICAgIG51bURpdi50ZXh0Q29udGVudCA9IGDYs9ik2KfZhCDYsdmC2YUgJHtpZHggKyAxfWA7CiAgICBkaXYucHJlcGVuZChudW1EaXYpOwogIH0pOwp9CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LLYsSDYsdmB2Lkg2KfZhNij2LPYptmE2Kkg2YTYqNmG2YMg2KfZhNij2LPYptmE2KkKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1bGtVcGxvYWRRdWVzdGlvbkJhbmtCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWxrVXBsb2FkUXVlc3Rpb25CYW5rSW5wdXQiKS5jbGljaygpOwp9KTsKCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWxrVXBsb2FkUXVlc3Rpb25CYW5rSW5wdXQiKS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbihlKSB7CiAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogIGlmICghZmlsZSkgcmV0dXJuOwoKICBjb25zdCBmaWxlRXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTsKCiAgaWYgKGZpbGVFeHRlbnNpb24gPT09ICdjc3YnKSB7CiAgICBQYXBhLnBhcnNlKGZpbGUsIHsKICAgICAgaGVhZGVyOiB0cnVlLAogICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHJlc3VsdHMpIHsKICAgICAgICBwcm9jZXNzQnVsa1F1ZXN0aW9uQmFua1F1ZXN0aW9ucyhyZXN1bHRzLmRhdGEpOwogICAgICB9LAogICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgYWxlcnQoYNit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDZgtix2KfYodipINin2YTZhdmE2YE6ICR7ZXJyb3IubWVzc2FnZX1gKTsKICAgICAgfQogICAgfSk7CiAgfSBlbHNlIGlmIChbJ3hsc3gnLCAneGxzJ10uaW5jbHVkZXMoZmlsZUV4dGVuc2lvbikpIHsKICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgIGNvbnN0IHdvcmtib29rID0gWExTWC5yZWFkKGRhdGEsIHsgdHlwZTogJ2FycmF5JyB9KTsKICAgICAgY29uc3Qgc2hlZXROYW1lID0gd29ya2Jvb2suU2hlZXROYW1lc1swXTsKICAgICAgY29uc3Qgc2hlZXQgPSB3b3JrYm9vay5TaGVldHNbc2hlZXROYW1lXTsKICAgICAgY29uc3QganNvbkRhdGEgPSBYTFNYLnV0aWxzLnNoZWV0X3RvX2pzb24oc2hlZXQpOwogICAgICBwcm9jZXNzQnVsa1F1ZXN0aW9uQmFua1F1ZXN0aW9ucyhqc29uRGF0YSk7CiAgICB9OwogICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpOwogIH0gZWxzZSB7CiAgICBhbGVydCgn2YrYsdis2Ykg2LHZgdi5INmF2YTZgSDYqNi12YrYutipIENTViDYo9mIIEV4Y2VsINmB2YLYty4nKTsKICB9Cn0pOwoKLy8g2YXYudin2YTYrNipINin2YTYo9iz2KbZhNipINmI2LHZgdi52YfYpyDYpdmE2Ykg2KjZhtmDINin2YTYo9iz2KbZhNipCmZ1bmN0aW9uIHByb2Nlc3NCdWxrUXVlc3Rpb25CYW5rUXVlc3Rpb25zKGRhdGEpIHsKICBsZXQgYWRkZWQgPSAwLCBmYWlsZWQgPSAwOwogIGNvbnN0IGNvbGxlY3Rpb24gPSBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKTsKICAvLyDYsdio2Lcg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2KjYp9mE2YHYptipINin2YTZhdiu2KrYp9ix2Kkg2YXZhiDYp9mE2YLYp9im2YXYqSDYp9mE2LHYptmK2LPZitipICjYpdmGINmI2KzYr9iqKQogIGNvbnN0IGNhdGVnb3J5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKS52YWx1ZSB8fCBudWxsOwogIGNvbnN0IHByb21pc2VzID0gW107CgogIGRhdGEuZm9yRWFjaChyb3cgPT4gewogICAgY29uc3QgdGV4dCA9IHJvd1sn2KfZhNiz2KTYp9mEJ10/LnRyaW0oKTsKICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBwYXJzZUludChyb3dbJ9in2YTYpdis2KfYqNipINin2YTYtdit2YrYrdipJ10pIC0gMTsKICAgIGNvbnN0IGltYWdlVXJsID0gcm93WyfYsdin2KjYtyDYp9mE2LXZiNix2KknXT8udHJpbSgpIHx8ICIiOwogICAgY29uc3Qgb3B0aW9ucyA9IFtdOwogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gNDsgaSsrKSB7CiAgICAgIGNvbnN0IG9wdGlvblRleHQgPSByb3dbYNin2YTYrtmK2KfYsSAke2l9YF0/LnRyaW0oKTsKICAgICAgaWYgKG9wdGlvblRleHQpIG9wdGlvbnMucHVzaCh7IHRleHQ6IG9wdGlvblRleHQgfSk7CiAgICB9CiAgICBpZiAodGV4dCAmJiBvcHRpb25zLmxlbmd0aCA+PSAyICYmICFpc05hTihjb3JyZWN0QW5zd2VyKSkgewogICAgICBwcm9taXNlcy5wdXNoKAogICAgICAgIGNvbGxlY3Rpb24uYWRkKHsKICAgICAgICAgIHRleHQsCiAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgY29ycmVjdEFuc3dlciwKICAgICAgICAgIGltYWdlVXJsLAogICAgICAgICAgY2F0ZWdvcnlJZCwKICAgICAgICAgIGNyZWF0ZWRCeTogY3VycmVudFVzZXJEYXRhPy5uYW1lIHx8IGN1cnJlbnRVc2VyLmVtYWlsLAogICAgICAgICAgY3JlYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogICAgICAgIH0pLnRoZW4oKCkgPT4gYWRkZWQrKykuY2F0Y2goKCkgPT4gZmFpbGVkKyspCiAgICAgICk7CiAgICB9IGVsc2UgewogICAgICBmYWlsZWQrKzsKICAgIH0KICB9KTsKCiAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4gewogICAgbG9hZFF1ZXN0aW9uQmFuaygpOwogICAgc2hvd1RvYXN0KGDYqtmF2Kog2KXYttin2YHYqSAke2FkZGVkfSDYs9ik2KfZhCR7YWRkZWQgIT09IDEgPyAi2KfYqiIgOiAiIn0g2KjZhtis2KfYrSEke2ZhaWxlZCA/ICIgKCIgKyBmYWlsZWQgKyAiINmE2YUg2YrYqtmFINil2LbYp9mB2KrZh9inINio2LPYqNioINmG2YLYtSDYp9mE2KjZitin2YbYp9iqKSIgOiAiIn1gLCAic3VjY2VzcyIpOwogIH0pOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINil2LjZh9in2LEg2LLYsSDYrdiw2YEg2KfZhNmD2YQg2YHZgti3INi52YbYryDYp9iu2KrZitin2LEg2YHYptipINmF2K3Yr9iv2KkKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5IikuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgbG9hZFF1ZXN0aW9uQmFuaygpOwogIGNvbnN0IGNhdGVnb3J5SWQgPSB0aGlzLnZhbHVlOwogIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZWxldGVBbGxRdWVzdGlvbnNJbkNhdGVnb3J5QnRuIik7CiAgaWYgKGNhdGVnb3J5SWQgJiYgY2F0ZWdvcnlJZCAhPT0gIiIpIHsKICAgIGRlbGV0ZUJ0bi5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgfSBlbHNlIHsKICAgIGRlbGV0ZUJ0bi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0KfSk7CgovLyDYudmG2K8g2KfZhNi22LrYtyDYudmE2Ykg2LLYsSDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2YHZiiDYp9mE2YHYptipCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZWxldGVBbGxRdWVzdGlvbnNJbkNhdGVnb3J5QnRuIikub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uKCkgewogIGNvbnN0IGNhdGVnb3J5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKS52YWx1ZTsKICBpZiAoIWNhdGVnb3J5SWQpIHsKICAgIHNob3dUb2FzdCgi2KfYrtiq2LEg2YHYptipINij2YjZhNin2YshIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIGlmICghY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINmB2Yog2YfYsNmHINin2YTZgdim2KnYnyDZhNinINmK2YXZg9mGINin2YTYqtix2KfYrNi5INi52YYg2YfYsNinINin2YTYpdis2LHYp9ihISIpKSByZXR1cm47CgogIC8vINis2YTYqCDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDZgdmKINin2YTZgdim2KkKICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLndoZXJlKCJjYXRlZ29yeUlkIiwgIj09IiwgY2F0ZWdvcnlJZCkuZ2V0KCk7CiAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICBzaG93VG9hc3QoItmE2Kcg2YrZiNis2K8g2KPYs9im2YTYqSDZgdmKINmH2LDZhyDYp9mE2YHYptipLiIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICAvLyDYrdiw2YEg2KfZhNij2LPYptmE2Kkg2K/Zgdi52Kkg2YjYp9it2K/YqSDYqNin2LPYqtiu2K/Yp9mFIGJhdGNoCiAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogIHNuYXBzaG90LmZvckVhY2goZG9jID0+IGJhdGNoLmRlbGV0ZShkb2MucmVmKSk7CiAgYXdhaXQgYmF0Y2guY29tbWl0KCk7CiAgc2hvd1RvYXN0KCLYqtmFINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDZgdmKINin2YTZgdim2Kkg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogIGxvYWRRdWVzdGlvbkJhbmsoKTsKfTsKZnVuY3Rpb24gbG9hZFBhcmVudENhdGVnb3JpZXMoc2VsZWN0ZWRJZCA9ICIiKSB7CiAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhcmVudENhdGVnb3J5U2VsZWN0Iik7CiAgc2VsZWN0LmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPSIiPtio2K/ZiNmGINmB2KbYqSDYsdim2YrYs9mK2Kk8L29wdGlvbj5gOwogIGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQ2F0ZWdvcmllcyIpLm9yZGVyQnkoIm5hbWUiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgIC8vINio2YbYp9ihINi02KzYsdipINin2YTZgdim2KfYqgogICAgY29uc3QgY2F0ZWdvcmllcyA9IHt9OwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjYXRlZ29yaWVzW2RvYy5pZF0gPSB7IC4uLmRvYy5kYXRhKCksIGlkOiBkb2MuaWQsIGNoaWxkcmVuOiBbXSB9OwogICAgfSk7CiAgICBPYmplY3QudmFsdWVzKGNhdGVnb3JpZXMpLmZvckVhY2goY2F0ID0+IHsKICAgICAgaWYgKGNhdC5wYXJlbnRJZCAmJiBjYXRlZ29yaWVzW2NhdC5wYXJlbnRJZF0pIHsKICAgICAgICBjYXRlZ29yaWVzW2NhdC5wYXJlbnRJZF0uY2hpbGRyZW4ucHVzaChjYXQpOwogICAgICB9CiAgICB9KTsKICAgIGNvbnN0IHJvb3RzID0gT2JqZWN0LnZhbHVlcyhjYXRlZ29yaWVzKS5maWx0ZXIoY2F0ID0+ICFjYXQucGFyZW50SWQpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck9wdGlvbnMoY2F0cywgcHJlZml4ID0gIiIpIHsKICAgICAgbGV0IGh0bWwgPSAiIjsKICAgICAgY2F0cy5mb3JFYWNoKGNhdCA9PiB7CiAgICAgICAgaHRtbCArPSBgPG9wdGlvbiB2YWx1ZT0iJHtjYXQuaWR9IiAke3NlbGVjdGVkSWQgPT09IGNhdC5pZCA/ICJzZWxlY3RlZCIgOiAiIn0+JHtwcmVmaXh9JHtjYXQubmFtZX08L29wdGlvbj5gOwogICAgICAgIGlmIChjYXQuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICBodG1sICs9IHJlbmRlck9wdGlvbnMoY2F0LmNoaWxkcmVuLCBwcmVmaXggKyAi4oCUICIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBodG1sOwogICAgfQoKICAgIHNlbGVjdC5pbm5lckhUTUwgKz0gcmVuZGVyT3B0aW9ucyhyb290cyk7CiAgfSk7Cn0KCgovLyDYudmG2K8g2YHYqtitINmG2KfZgdiw2Kkg2KXYttin2YHYqSDZgdim2Kkg2KzYr9mK2K/YqQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ2F0ZWdvcnlCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZENhdGVnb3J5TW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIGxvYWRQYXJlbnRDYXRlZ29yaWVzKCk7Cn07CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYqtit2YXZitmEINin2YTZgdim2KfYqiDYqNi02YPZhCDYtNis2LHZiiDZgdmKINmC2KfYptmF2Kkg2KfYrtiq2YrYp9ixINin2YTZgdim2Kkg2YHZiiDYqNmG2YMg2KfZhNij2LPYptmE2KkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8gPT09PT09PT09PT09PT09PT09PT09PSBFeHBvcnQgLyBJbXBvcnQgZm9yIFF1ZXN0aW9uIENhdGVnb3J5IChFeGNlbC9DU1YpID09PT09PT09PT09PT09PT09PT09PT0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4cG9ydENhdGVnb3J5RXhjZWxCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGFzeW5jIGZ1bmN0aW9uICgpIHsKICBjb25zdCBjYXRlZ29yeUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5IikudmFsdWU7CiAgaWYgKCFjYXRlZ29yeUlkKSB7IHNob3dUb2FzdCgi2KfYrtiq2LEg2YHYptipINij2YjZhNin2YshIiwgImVycm9yIik7IHJldHVybjsgfQoKICB0cnkgewogICAgY29uc3Qgc25hcCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpCiAgICAgIC53aGVyZSgiY2F0ZWdvcnlJZCIsICI9PSIsIGNhdGVnb3J5SWQpCiAgICAgIC5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiYXNjIikKICAgICAgLmdldCgpOwoKICAgIGlmIChzbmFwLmVtcHR5KSB7CiAgICAgIHNob3dUb2FzdCgi2YTYpyDYqtmI2KzYryDYo9iz2KbZhNipINmB2Yog2YfYsNmHINin2YTZgdim2KkuIiwgImVycm9yIik7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCByb3dzID0gW107CiAgICBzbmFwLmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3QgcSA9IGRvYy5kYXRhKCk7CiAgICAgIHJvd3MucHVzaCh7CiAgICAgICAgItmF2LnYsdmBINin2YTYs9ik2KfZhCI6IGRvYy5pZCwKICAgICAgICAi2KfZhNiz2KTYp9mEIjogcS50ZXh0IHx8ICIiLAogICAgICAgICLYp9mE2K7Zitin2LEgMSI6IHEub3B0aW9ucz8uWzBdPy50ZXh0IHx8ICIiLAogICAgICAgICLYp9mE2K7Zitin2LEgMiI6IHEub3B0aW9ucz8uWzFdPy50ZXh0IHx8ICIiLAogICAgICAgICLYp9mE2K7Zitin2LEgMyI6IHEub3B0aW9ucz8uWzJdPy50ZXh0IHx8ICIiLAogICAgICAgICLYp9mE2K7Zitin2LEgNCI6IHEub3B0aW9ucz8uWzNdPy50ZXh0IHx8ICIiLAogICAgICAgICLYp9mE2KXYrNin2KjYqSDYp9mE2LXYrdmK2K3YqSI6ICh0eXBlb2YgcS5jb3JyZWN0QW5zd2VyID09PSAibnVtYmVyIikgPyAocS5jb3JyZWN0QW5zd2VyICsgMSkgOiAiIiwKICAgICAgICAi2LHYp9io2Lcg2KfZhNi12YjYsdipIjogcS5pbWFnZVVybCB8fCAiIiwKICAgICAgICAi2YXZhti02KMg2KjZiNin2LPYt9ipIjogcS5jcmVhdGVkQnkgfHwgIiIsCiAgICAgICAgItiq2KfYsdmK2K4g2KfZhNil2YbYtNin2KEiOiBxLmNyZWF0ZWRBdCA/IChxLmNyZWF0ZWRBdC50b0RhdGUgPyBxLmNyZWF0ZWRBdC50b0RhdGUoKS50b0lTT1N0cmluZygpIDogcS5jcmVhdGVkQXQpIDogIiIKICAgICAgfSk7CiAgICB9KTsKCiAgICBjb25zdCB3cyA9IFhMU1gudXRpbHMuanNvbl90b19zaGVldChyb3dzKTsKICAgIGNvbnN0IHdiID0gWExTWC51dGlscy5ib29rX25ldygpOwogICAgWExTWC51dGlscy5ib29rX2FwcGVuZF9zaGVldCh3Yiwgd3MsICJRdWVzdGlvbnMiKTsKICAgIGNvbnN0IHNhZmVOYW1lID0gKHdpbmRvdy5xdWVzdGlvbkNhdGVnb3JpZXNDYWNoZSAmJiB3aW5kb3cucXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGVbY2F0ZWdvcnlJZF0pID8gd2luZG93LnF1ZXN0aW9uQ2F0ZWdvcmllc0NhY2hlW2NhdGVnb3J5SWRdIDogY2F0ZWdvcnlJZDsKICAgIFhMU1gud3JpdGVGaWxlKHdiLCBgcXVlc3Rpb25zXyR7c2FmZU5hbWV9Lnhsc3hgKTsKICAgIHNob3dUb2FzdCgi2KrZhSDYqti12K/ZitixINin2YTZgdim2Kkg2KXZhNmJINmF2YTZgSBFeGNlbC4iLCAic3VjY2VzcyIpOwogIH0gY2F0Y2ggKGVycikgewogICAgc2hvd1RvYXN0KCLYrti32KMg2YHZiiDYp9mE2KrYtdiv2YrYsTogIiArIGVyci5tZXNzYWdlLCAiZXJyb3IiKTsKICB9Cn0pOwoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydENhdGVnb3J5RXhjZWxCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICBjb25zdCBjYXRlZ29yeUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5IikudmFsdWU7CiAgaWYgKCFjYXRlZ29yeUlkKSB7IHNob3dUb2FzdCgi2KfYrtiq2LEg2YHYptipINmF2LPYqtmH2K/ZgdipINij2YjZhNin2YshIiwgImVycm9yIik7IHJldHVybjsgfQogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeUltcG9ydElucHV0IikuY2xpY2soKTsKfSk7Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnlJbXBvcnRJbnB1dCIpLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uIChlKSB7CiAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogIGlmICghZmlsZSkgcmV0dXJuOwogIGNvbnN0IGNhdGVnb3J5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKS52YWx1ZTsKICBpZiAoIWNhdGVnb3J5SWQpIHsgc2hvd1RvYXN0KCLYp9iu2KrYsSDZgdim2Kkg2YXYs9iq2YfYr9mB2Kkg2KPZiNmE2KfZiyEiLCAiZXJyb3IiKTsgcmV0dXJuOyB9CgogIGNvbnN0IGV4dCA9IGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpLnRvTG93ZXJDYXNlKCk7CiAgaWYgKGV4dCA9PT0gImNzdiIpIHsKICAgIFBhcGEucGFyc2UoZmlsZSwgewogICAgICBoZWFkZXI6IHRydWUsCiAgICAgIHNraXBFbXB0eUxpbmVzOiB0cnVlLAogICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKHJlc3VsdHMpIHsKICAgICAgICBwcm9jZXNzSW1wb3J0Um93cyhyZXN1bHRzLmRhdGEsIGNhdGVnb3J5SWQpOwogICAgICB9LAogICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikgewogICAgICAgIHNob3dUb2FzdCgi2K7Yt9ijINio2YLYsdin2KHYqSBDU1Y6ICIgKyBlcnIubWVzc2FnZSwgImVycm9yIik7CiAgICAgIH0KICAgIH0pOwogIH0gZWxzZSBpZiAoWyJ4bHN4IiwgInhscyJdLmluY2x1ZGVzKGV4dCkpIHsKICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2KSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGV2LnRhcmdldC5yZXN1bHQpOwogICAgICAgIGNvbnN0IHdvcmtib29rID0gWExTWC5yZWFkKGRhdGEsIHsgdHlwZTogJ2FycmF5JyB9KTsKICAgICAgICBjb25zdCBmaXJzdCA9IHdvcmtib29rLlNoZWV0TmFtZXNbMF07CiAgICAgICAgY29uc3QganNvbiA9IFhMU1gudXRpbHMuc2hlZXRfdG9fanNvbih3b3JrYm9vay5TaGVldHNbZmlyc3RdLCB7IGRlZnZhbDogIiIgfSk7CiAgICAgICAgcHJvY2Vzc0ltcG9ydFJvd3MoanNvbiwgY2F0ZWdvcnlJZCk7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIHNob3dUb2FzdCgi2K7Yt9ijINio2YLYsdin2KHYqSDZhdmE2YEgRXhjZWw6ICIgKyBlcnIubWVzc2FnZSwgImVycm9yIik7CiAgICAgIH0KICAgIH07CiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7CiAgfSBlbHNlIHsKICAgIHNob3dUb2FzdCgi2YrYsdis2Ykg2LHZgdi5INmF2YTZgSDYqNi12YrYutipIENTViDYo9mIIEV4Y2VsINmB2YLYty4iLCAiZXJyb3IiKTsKICB9CiAgLy8g2KrZgdix2YrYuiDZgtmK2YXYqSDYp9mE2YXZhNmBINmE2YbZgdizINin2YTYpdiv2K7Yp9mEINmE2KrZhdmD2YrZhiDYsdmB2Lkg2YbZgdizINin2YTZhdmE2YEg2YTYp9it2YLYp9mLCiAgZS50YXJnZXQudmFsdWUgPSAiIjsKfSk7Cgphc3luYyBmdW5jdGlvbiBwcm9jZXNzSW1wb3J0Um93cyhyb3dzLCBjYXRlZ29yeUlkKSB7CiAgaWYgKCFBcnJheS5pc0FycmF5KHJvd3MpIHx8IHJvd3MubGVuZ3RoID09PSAwKSB7IHNob3dUb2FzdCgi2KfZhNmF2YTZgSDZgdin2LHYuiDYo9mIINin2YTYtdmK2LrYqSDYutmK2LEg2YXYr9i52YjZhdipLiIsICJlcnJvciIpOyByZXR1cm47IH0KICBsZXQgYWRkZWQgPSAwLCBza2lwcGVkID0gMDsKICBjb25zdCBiYXRjaExpbWl0ID0gNDAwOyAvLyBzYWZldHkKICBjb25zdCBwcm9taXNlcyA9IFtdOwoKICBmb3IgKGNvbnN0IHJvdyBvZiByb3dzKSB7CiAgICAvLyDYqtmI2YLYuSDYo9i52YXYr9ipOiAi2KfZhNiz2KTYp9mEIiwgItin2YTYrtmK2KfYsSAxIi4uItin2YTYrtmK2KfYsSA0IiwgItin2YTYpdis2KfYqNipINin2YTYtdit2YrYrdipIiAoMS00KSwgItix2KfYqNi3INin2YTYtdmI2LHYqSIKICAgIGNvbnN0IHRleHQgPSAocm93WyLYp9mE2LPYpNin2YQiXSB8fCByb3dbInF1ZXN0aW9uIl0gfHwgIiIpLnRvU3RyaW5nKCkudHJpbSgpOwogICAgaWYgKCF0ZXh0KSB7IHNraXBwZWQrKzsgY29udGludWU7IH0KICAgIGNvbnN0IG9wdGlvbnMgPSBbXTsKICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDQ7IGkrKykgewogICAgICBjb25zdCB2YWwgPSByb3dbYNin2YTYrtmK2KfYsSAke2l9YF0gfHwgcm93W2BvcHRpb24gJHtpfWBdIHx8IHJvd1tgb3B0aW9uJHtpfWBdIHx8ICIiOwogICAgICBpZiAodmFsICYmIHZhbC50b1N0cmluZygpLnRyaW0oKSkgb3B0aW9ucy5wdXNoKHsgdGV4dDogdmFsLnRvU3RyaW5nKCkudHJpbSgpIH0pOwogICAgfQogICAgaWYgKG9wdGlvbnMubGVuZ3RoIDwgMikgeyBza2lwcGVkKys7IGNvbnRpbnVlOyB9CiAgICBsZXQgY29ycmVjdCA9IHBhcnNlSW50KHJvd1si2KfZhNil2KzYp9io2Kkg2KfZhNi12K3Zitit2KkiXSB8fCByb3dbImNvcnJlY3QiXSB8fCByb3dbImFuc3dlciJdIHx8ICIiKTsKICAgIGlmIChpc05hTihjb3JyZWN0KSkgY29ycmVjdCA9IDE7CiAgICBjb3JyZWN0ID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oNCwgY29ycmVjdCkpIC0gMTsgLy8gdG8gemVyby1iYXNlZAoKICAgIGNvbnN0IGRvY0RhdGEgPSB7CiAgICAgIHRleHQsCiAgICAgIG9wdGlvbnMsCiAgICAgIGNvcnJlY3RBbnN3ZXI6IGNvcnJlY3QsCiAgICAgIGltYWdlVXJsOiAocm93WyLYsdin2KjYtyDYp9mE2LXZiNix2KkiXSB8fCByb3dbImltYWdlVXJsIl0gfHwgcm93WyJpbWFnZSJdIHx8ICIiKS50b1N0cmluZygpLnRyaW0oKSB8fCAiIiwKICAgICAgY2F0ZWdvcnlJZCwKICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlckRhdGE/Lm5hbWUgfHwgY3VycmVudFVzZXI/LmVtYWlsIHx8ICJpbXBvcnQiLAogICAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgICB9OwoKICAgIC8vINij2LbZgSDYpdmE2YkgRmlyZXN0b3JlICjYqNiv2YjZhiDYp9mG2KrYuNin2LEg2YTZg9mEINi52YXZhNmK2Kkg2YTYqtiz2LHZiti5KQogICAgcHJvbWlzZXMucHVzaChkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS5hZGQoZG9jRGF0YSkudGhlbigoKSA9PiBhZGRlZCsrKS5jYXRjaCgoKSA9PiBza2lwcGVkKyspKTsKICAgIC8vINmI2YLZgdipINit2KzZhdmK2Kkg2YTZhdmG2Lkg2KfZhNmF2K3Yp9mB2LjYqSDYudmE2Ykg2LnYr9ivINmI2LnZiNivINmD2KjZitixINis2K/Yp9mLCiAgICBpZiAocHJvbWlzZXMubGVuZ3RoID4gYmF0Y2hMaW1pdCkgewogICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgICAgIHByb21pc2VzLmxlbmd0aCA9IDA7CiAgICB9CiAgfQogIGlmIChwcm9taXNlcy5sZW5ndGgpIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTsKICBzaG93VG9hc3QoYNiq2YUg2KfZhNin2LPYqtmK2LHYp9ivOiAke2FkZGVkfdiMINiq2YUg2KrYrti32Yo6ICR7c2tpcHBlZH1gLCAic3VjY2VzcyIpOwogIGxvYWRRdWVzdGlvbkJhbmsoKTsgLy8g2KXYudin2K/YqSDYqtit2YXZitmEINi52LHYtiDYp9mE2KjZhtmDCn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINiq2K3ZhdmK2YQg2KfZhNmB2KbYp9iqINio2LTZg9mEINi02KzYsdmKINmF2Lkg2LnYr9ivINin2YTYo9iz2KbZhNipINio2KzZiNin2LEg2YPZhCDZgdim2KkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiByZWZyZXNoQWxsQ2F0ZWdvcnlMYWJlbHMoKSB7CiAgLy8g2KfZhNmC2KfYptmF2Kkg2KfZhNix2KbZitiz2YrYqSDZgdmKINio2YbZgyDYp9mE2KPYs9im2YTYqQogIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKS52YWx1ZSwgInF1ZXN0aW9uQmFua0NhdGVnb3J5Iik7CiAgLy8g2YLYp9im2YXYqSDYp9mE2YHYptipINmB2Yog2YbYp9mB2LDYqSDYpdi22KfZgdipINiz2KTYp9mEINis2K/ZitivCiAgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeUFkZCIpPy52YWx1ZSB8fCAiIiwgInF1ZXN0aW9uQmFua0NhdGVnb3J5QWRkIik7CiAgLy8g2YLYp9im2YXYqSDYp9mE2YHYptipINmB2Yog2YbYp9mB2LDYqSDYp9mE2KfYs9iq2YrYsdin2K8KICBsb2FkUXVlc3Rpb25CYW5rQ2F0ZWdvcmllc1RyZWUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydEJhbmtDYXRlZ29yeSIpPy52YWx1ZSB8fCAiIiwgImltcG9ydEJhbmtDYXRlZ29yeSIpOwogIC8vINmC2KfYptmF2Kkg2KfZhNmB2KbYqSDYp9mE2LHYptmK2LPZitipINmB2Yog2YbYp9mB2LDYqSDYpdi22KfZgdipINmB2KbYqSDYrNiv2YrYr9ipCiAgbG9hZFBhcmVudENhdGVnb3JpZXMoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBhcmVudENhdGVnb3J5U2VsZWN0Iik/LnZhbHVlIHx8ICIiKTsKfQovLyDYqtit2YXZitmEINin2YTZgdim2KfYqiDYqNi02YPZhCDYtNis2LHZiiDZhdi5INi52K/YryDYp9mE2KPYs9im2YTYqSDYqNis2YjYp9ixINmD2YQg2YHYptip2Iwg2YjYudiv2K8g2YPZhCDYp9mE2KPYs9im2YTYqSDYqNis2YjYp9ixICLZg9mEINin2YTZgdim2KfYqiIKZnVuY3Rpb24gbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKHNlbGVjdGVkID0gIiIsIHNlbGVjdElkID0gInF1ZXN0aW9uQmFua0NhdGVnb3J5IikgewogIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdElkKTsKICBzZWxlY3QuaW5uZXJIVE1MID0gIiI7CiAgLy8g2KzZhNioINis2YXZiti5INin2YTZgdim2KfYqgogIGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQ2F0ZWdvcmllcyIpLm9yZGVyQnkoIm5hbWUiKS5nZXQoKS50aGVuKGFzeW5jIHNuYXBzaG90ID0+IHsKICAgIC8vINio2YbYp9ihINi02KzYsdipINin2YTZgdim2KfYqgogICAgY29uc3QgY2F0ZWdvcmllcyA9IHt9OwogICAgcXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGUgPSB7fTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY2F0ZWdvcmllc1tkb2MuaWRdID0geyAuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkLCBjaGlsZHJlbjogW10sIGNvdW50OiAwIH07CiAgICAgIHF1ZXN0aW9uQ2F0ZWdvcmllc0NhY2hlW2RvYy5pZF0gPSBkb2MuZGF0YSgpLm5hbWU7CiAgICB9KTsKICAgIE9iamVjdC52YWx1ZXMoY2F0ZWdvcmllcykuZm9yRWFjaChjYXQgPT4gewogICAgICBpZiAoY2F0LnBhcmVudElkICYmIGNhdGVnb3JpZXNbY2F0LnBhcmVudElkXSkgewogICAgICAgIGNhdGVnb3JpZXNbY2F0LnBhcmVudElkXS5jaGlsZHJlbi5wdXNoKGNhdCk7CiAgICAgIH0KICAgIH0pOwogICAgY29uc3Qgcm9vdHMgPSBPYmplY3QudmFsdWVzKGNhdGVnb3JpZXMpLmZpbHRlcihjYXQgPT4gIWNhdC5wYXJlbnRJZCk7CgogICAgLy8g2KzZhNioINi52K/YryDYp9mE2KPYs9im2YTYqSDZhNmD2YQg2YHYptipICjZhdix2Kkg2YjYp9it2K/YqSkKICAgIGNvbnN0IHF1ZXN0aW9uc1NuYXBzaG90ID0gYXdhaXQgZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikuZ2V0KCk7CiAgICBjb25zdCBjb3VudHMgPSB7fTsKICAgIGxldCB0b3RhbENvdW50ID0gMDsKICAgIHF1ZXN0aW9uc1NuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3QgcSA9IGRvYy5kYXRhKCk7CiAgICAgIGlmIChxLmNhdGVnb3J5SWQpIHsKICAgICAgICBjb3VudHNbcS5jYXRlZ29yeUlkXSA9IChjb3VudHNbcS5jYXRlZ29yeUlkXSB8fCAwKSArIDE7CiAgICAgIH0KICAgICAgdG90YWxDb3VudCsrOwogICAgfSk7CiAgICAvLyDYtti5INin2YTYudiv2K8g2YHZiiDZg9mEINmB2KbYqQogICAgT2JqZWN0LmtleXMoY291bnRzKS5mb3JFYWNoKGNhdElkID0+IHsKICAgICAgaWYgKGNhdGVnb3JpZXNbY2F0SWRdKSBjYXRlZ29yaWVzW2NhdElkXS5jb3VudCA9IGNvdW50c1tjYXRJZF07CiAgICB9KTsKCiAgICAvLyDYr9in2YTYqSDZhNil2LjZh9in2LEg2KfZhNmB2KbYp9iqINio2LTZg9mEINmF2KrYr9in2K7ZhCDZhdi5INin2YTYudiv2K8KICAgIGZ1bmN0aW9uIHJlbmRlck9wdGlvbnMoY2F0cywgcHJlZml4ID0gIiIpIHsKICAgICAgbGV0IGh0bWwgPSAiIjsKICAgICAgY2F0cy5mb3JFYWNoKGNhdCA9PiB7CiAgICAgICAgaHRtbCArPSBgPG9wdGlvbiB2YWx1ZT0iJHtjYXQuaWR9IiAke3NlbGVjdGVkID09PSBjYXQuaWQgPyAic2VsZWN0ZWQiIDogIiJ9PiR7cHJlZml4fSR7Y2F0Lm5hbWV9ICgke2NhdC5jb3VudH0pPC9vcHRpb24+YDsKICAgICAgICBpZiAoY2F0LmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgaHRtbCArPSByZW5kZXJPcHRpb25zKGNhdC5jaGlsZHJlbiwgcHJlZml4ICsgIuKAlCAiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gaHRtbDsKICAgIH0KCiAgICBzZWxlY3QuaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9Jyc+2YPZhCDYp9mE2YHYptin2KogKCR7dG90YWxDb3VudH0pPC9vcHRpb24+YCArIHJlbmRlck9wdGlvbnMocm9vdHMpOwogIH0pOwp9CgovLyDwn5SNINmD2LTZgSDZgdiq2K0g2KPYr9mI2KfYqiDYp9mE2YXYt9mI2LEg2KjYp9iz2KrYrtiv2KfZhSDYp9mE2YHYsdmCINin2YTYstmF2YbZiiDZgdmKIGRlYnVnZ2VyCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINin2LPYqtio2K/ZhCDZg9mEINin2LPYqtiv2LnYp9ihIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzKHNlbGVjdGVkLCAicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKQovLyDYqNmAIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZShzZWxlY3RlZCwgInF1ZXN0aW9uQmFua0NhdGVnb3J5IikKCi8vINmF2KvYp9mEINi52YbYryDZgdiq2K0g2KjZhtmDINin2YTYo9iz2KbZhNipOgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVF1ZXN0aW9uQmFuayIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZSkgewogIGUucHJldmVudERlZmF1bHQoKTsKICBzZXRBY3RpdmVNZW51SXRlbSh0aGlzKTsKICBzaG93UGFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rUGFnZSIpKTsKICBsb2FkUXVlc3Rpb25CYW5rQ2F0ZWdvcmllc1RyZWUoKTsgLy8g2LTYrNix2YoKICBsb2FkUXVlc3Rpb25CYW5rKCk7Cn0pOwoKLy8g2YjYo9mK2LbYp9mLINi52YbYryDYpdi22KfZgdipINiz2KTYp9mEINis2K/ZitivINil2LDYpyDYo9ix2K/YqiDZhtmB2LMg2KfZhNi02KzYsdipINmB2Yog2YbYp9mB2LDYqSDYp9mE2KXYttin2YHYqToKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUXVlc3Rpb25CYW5rQnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgLy8g2KfYrdiw2YEg2KPZiCDYp9iu2YHZkCDYtNis2LHYqSDYp9mE2YHYptin2Kog2YHZiiDZhtin2YHYsNipINin2YTYpdi22KfZgdipCiAgY29uc3QgdHJlZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYXRlZ29yaWVzVHJlZUNvbnRhaW5lciIpOwogIGlmICh0cmVlKSB7CiAgICAvLyDYpdmF2Kcg2KXYstin2YTYqSDYp9mE2LnZhti12LEg2YXZhiBET006CiAgICAvLyB0cmVlLnJlbW92ZSgpOwogICAgLy8g2KPZiCDYpdiu2YHYp9ik2Ycg2YHZgti3OgogICAgdHJlZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0KICBsb2FkUXVlc3Rpb25CYW5rQ2F0ZWdvcmllc1RyZWUoIiIsICJxdWVzdGlvbkJhbmtDYXRlZ29yeUFkZCIpOwp9OwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBzZWxlY3RTdHVkZW50c0J5TnVtYmVyKHNlbGVjdElkLCBudW1iZXIpIHsKICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3RJZCk7CiAgaWYgKCFzZWxlY3QpIHJldHVybjsKICAvLyDYrdmB2Lgg2K3Yp9mE2Kkg2KfZhNiy2LEg2KfZhNiz2KfYqNmCINmE2YPZhCDZgtin2KbZhdipCiAgaWYgKCFzZWxlY3QuX2xhc3RTZWxlY3RlZE51bWJlcikgc2VsZWN0Ll9sYXN0U2VsZWN0ZWROdW1iZXIgPSBudWxsOwogIC8vINil2LDYpyDYtti62LfYqiDZhtmB2LMg2KfZhNix2YLZhSDZhdix2KrZitmGINij2LLZhCDYp9mE2KrYrdiv2YrYrwogIGlmIChzZWxlY3QuX2xhc3RTZWxlY3RlZE51bWJlciA9PT0gbnVtYmVyKSB7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgIHNlbGVjdC5vcHRpb25zW2ldLnNlbGVjdGVkID0gZmFsc2U7CiAgICB9CiAgICBzZWxlY3QuX2xhc3RTZWxlY3RlZE51bWJlciA9IG51bGw7CiAgfSBlbHNlIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgbmFtZSA9IHNlbGVjdC5vcHRpb25zW2ldLnRleHRDb250ZW50IHx8IHNlbGVjdC5vcHRpb25zW2ldLmlubmVyVGV4dCB8fCAiIjsKICAgICAgc2VsZWN0Lm9wdGlvbnNbaV0uc2VsZWN0ZWQgPSBuYW1lLmluY2x1ZGVzKG51bWJlcik7CiAgICB9CiAgICBzZWxlY3QuX2xhc3RTZWxlY3RlZE51bWJlciA9IG51bWJlcjsKICB9Cn0KLy8g2LnZhtivINil2LrZhNin2YIg2KfZhNi12YHYrdipINij2Ygg2KfZhNiq2KjZiNmK2KjYjCDYrdiv2KsgbGFzdEFjdGl2ZSDZhNmK2LjZh9ixINi62YrYsSDZhti02LcKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LnZhtivINiq2K3ZhdmK2YQg2KjZitin2YbYp9iqINin2YTZhdiz2KrYrtiv2YUg2KPZiCDYudmG2K8g2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQKYXN5bmMgZnVuY3Rpb24gZW5zdXJlVGVhY2hlckhhc0FsbFBlcm1pc3Npb25zKHVzZXJJZCkgewogIC8vINis2YTYqCDYqNmK2KfZhtin2Kog2KfZhNmF2LPYqtiu2K/ZhQogIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyh1c2VySWQpLmdldCgpOwogIGlmICghdXNlckRvYy5leGlzdHMpIHJldHVybjsKICBjb25zdCB1c2VyID0gdXNlckRvYy5kYXRhKCk7CiAgaWYgKHVzZXIucm9sZSAhPT0gInRlYWNoZXIiKSByZXR1cm47CgogIC8vINis2YTYqCDZg9mEINin2YTYp9iu2KrYqNin2LHYp9iqINmI2KfZhNmI2KfYrNio2KfYqiDZiNin2YTZhdmC2LHYsdin2KoKICBjb25zdCBbZXhhbXNTbmFwLCBzZWxmVGVzdHNTbmFwLCBzbGlkZXNTbmFwXSA9IGF3YWl0IFByb21pc2UuYWxsKFsKICAgIGRiLmNvbGxlY3Rpb24oImV4YW1zIikuZ2V0KCksCiAgICBkYi5jb2xsZWN0aW9uKCJzZWxmVGVzdHMiKS5nZXQoKSwKICAgIGRiLmNvbGxlY3Rpb24oInNsaWRlcyIpLmdldCgpCiAgXSk7CiAgY29uc3QgYWxsRXhhbXMgPSBleGFtc1NuYXAuZG9jcy5tYXAoZG9jID0+IGRvYy5pZCk7CiAgY29uc3QgYWxsU2VsZlRlc3RzID0gc2VsZlRlc3RzU25hcC5kb2NzLm1hcChkb2MgPT4gZG9jLmlkKTsKICBjb25zdCBhbGxDb3Vyc2VzID0gc2xpZGVzU25hcC5kb2NzLm1hcChkb2MgPT4gZG9jLmlkKTsKCiAgLy8g2KrYrdiv2YrYqyDYtdmE2KfYrdmK2KfYqiDYp9mE2YXYudmE2YUg2YTZiti02KfZh9ivINmD2YQg2LTZitihCiAgYXdhaXQgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2ModXNlcklkKS5zZXQoewogICAgYWxsb3dlZEV4YW1zOiBhbGxFeGFtcywKICAgIGFsbG93ZWRTZWxmVGVzdHM6IGFsbFNlbGZUZXN0cywKICAgIGFsbG93ZWRDb3Vyc2VzOiBhbGxDb3Vyc2VzCiAgfSwgeyBtZXJnZTogdHJ1ZSB9KTsKfQoKLy8g2KfYs9iq2K/YudmQINin2YTYr9in2YTYqSDYudmG2K8g2KrYs9is2YrZhCDYr9iu2YjZhCDYp9mE2YXYudmE2YUg2KPZiCDYqtit2YXZitmEINio2YrYp9mG2KfYqtmHCmF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKGFzeW5jIHVzZXIgPT4gewogIGlmICh1c2VyKSB7CiAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2ModXNlci51aWQpLmdldCgpOwogICAgaWYgKHVzZXJEb2MuZXhpc3RzICYmIHVzZXJEb2MuZGF0YSgpLnJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgICBhd2FpdCBlbnN1cmVUZWFjaGVySGFzQWxsUGVybWlzc2lvbnModXNlci51aWQpOwogICAgfQogICAgLy8gLi4uZXhpc3RpbmcgY29kZS4uLgogIH0KICAvLyAuLi5leGlzdGluZyBjb2RlLi4uCn0pOwoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmB2Yog2YbZh9in2YrYqSDZhdmE2YEgPHNjcmlwdD4g2KPZiCDYqNi52K8g2KrYudix2YrZgSBzZXR1cEF1dGhlbnRpY2F0ZWRVSSDZhdio2KfYtNix2KkKCi8vINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDZgdmKINmG2YfYp9mK2Kkg2YXZhNmBIDxzY3JpcHQ+INij2Ygg2KjYudivINiq2LnYsdmK2YEgc2V0dXBBdXRoZW50aWNhdGVkVUkg2YXYqNin2LTYsdipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCndpbmRvdy5vcGVuU3R1ZGVudFBlcm1pc3Npb25zTW9kYWwgPSBhc3luYyBmdW5jdGlvbihzdHVkZW50SWQsIHN0dWRlbnROYW1lKSB7CiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudFBlcm1pc3Npb25zTW9kYWwiKTsKICBjb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnRQZXJtaXNzaW9uc0JvZHkiKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudFBlcm1pc3Npb25zVGl0bGUiKS5pbm5lckhUTUwgPSBg2KrYrdiv2YrYryDYp9mE2LXZhNin2K3Zitin2Kog2YTZhNi32KfZhNioOiA8c3BhbiBzdHlsZT0iY29sb3I6IzBhNzBmZiI+JHtzdHVkZW50TmFtZX08L3NwYW4+YDsKICBib2R5LmlubmVySFRNTCA9ICLYrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLiI7CgogIHRyeSB7CiAgICBjb25zdCB1c2VyRG9jID0gYXdhaXQgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2Moc3R1ZGVudElkKS5nZXQoKTsKICAgIGNvbnN0IHN0dWRlbnRZZWFyID0gdXNlckRvYy5leGlzdHMgPyAodXNlckRvYy5kYXRhKCkueWVhciB8fCAiIikgOiAiIjsKICAgIGNvbnN0IHN0dWRlbnRUZXJtID0gdXNlckRvYy5leGlzdHMgPyAodXNlckRvYy5kYXRhKCkudGVybSB8fCAiIikgOiAiIjsKCiAgICAvLyDYrNmE2Kgg2YPZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqiDZiNin2YTZiNin2KzYqNin2Kog2KvZhSDZgdmE2KrYsdipINmF2K3ZhNmK2KfZiyDYrdiz2Kgg2LPZhtipINmIINiq2LHZhSDYp9mE2LfYp9mE2KgKICAgIGNvbnN0IFtleGFtc1NuYXAsIHNlbGZUZXN0c1NuYXAsIGNvdXJzZXNTbmFwXSA9IGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgZGIuY29sbGVjdGlvbigiZXhhbXMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLAogICAgICBkYi5jb2xsZWN0aW9uKCJzZWxmVGVzdHMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLAogICAgICBkYi5jb2xsZWN0aW9uKCJzbGlkZXMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpCiAgICBdKTsKCiAgICBjb25zdCBhbGxvd2VkRXhhbXMgPSB1c2VyRG9jLmV4aXN0cyAmJiBBcnJheS5pc0FycmF5KHVzZXJEb2MuZGF0YSgpLmFsbG93ZWRFeGFtcykgPyB1c2VyRG9jLmRhdGEoKS5hbGxvd2VkRXhhbXMgOiBbXTsKICAgIGNvbnN0IGFsbG93ZWRTZWxmVGVzdHMgPSB1c2VyRG9jLmV4aXN0cyAmJiBBcnJheS5pc0FycmF5KHVzZXJEb2MuZGF0YSgpLmFsbG93ZWRTZWxmVGVzdHMpID8gdXNlckRvYy5kYXRhKCkuYWxsb3dlZFNlbGZUZXN0cyA6IFtdOwogICAgY29uc3QgYWxsb3dlZENvdXJzZXMgPSB1c2VyRG9jLmV4aXN0cyAmJiBBcnJheS5pc0FycmF5KHVzZXJEb2MuZGF0YSgpLmFsbG93ZWRDb3Vyc2VzKSA/IHVzZXJEb2MuZGF0YSgpLmFsbG93ZWRDb3Vyc2VzIDogW107CgogICAgLy8g2YHZhNiq2LHYqTog2YLYqNmI2YQg2KfZhNi52YbYtdixINmB2YLYtyDYpdiw2Kcg2KrYt9in2KjZgiDZhdi5INiz2YbYqSDYp9mE2LfYp9mE2KggKNij2Ygg2YTZhSDZitit2K/YryDYp9mE2LnZhti12LEg2LPZhtipKSBBTkQg2KrYsdmFINin2YTYt9in2YTYqCAo2KPZiCDZhNmFINmK2K3Yr9ivINin2YTYudmG2LXYsSDYqtix2YUpCiAgICBjb25zdCBtYXRjaGVzWWVhclRlcm0gPSAoaXRlbSkgPT4gewogICAgICAvLyDYpdiw2Kcg2YTZhSDZitit2K/YryDYp9mE2LfYp9mE2Kgg2LPZhtipL9iq2LHZhSDZhti52LHYtiDYp9mE2YPZhAogICAgICBpZiAoIXN0dWRlbnRZZWFyICYmICFzdHVkZW50VGVybSkgcmV0dXJuIHRydWU7CiAgICAgIGlmIChzdHVkZW50WWVhciAmJiBpdGVtLnllYXIgJiYgaXRlbS55ZWFyICE9PSBzdHVkZW50WWVhcikgcmV0dXJuIGZhbHNlOwogICAgICBpZiAoc3R1ZGVudFRlcm0gJiYgaXRlbS50ZXJtICYmIGl0ZW0udGVybSAhPT0gc3R1ZGVudFRlcm0pIHJldHVybiBmYWxzZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwoKICAgIGxldCBodG1sID0gYDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTJweDsiPgogICAgICA8c3Ryb25nIHN0eWxlPSJjb2xvcjojMGE3MGZmOyI+2KfZhNin2K7Yqtio2KfYsdin2Kog2KfZhNmF2KrYp9it2KkgKCR7c3R1ZGVudFllYXIgfHwgJ9mD2YQg2KfZhNiz2YbZiNin2KonfSAtICR7c3R1ZGVudFRlcm0gfHwgJ9mD2YQg2KfZhNiq2LHZhdmK2KfYqid9KTo8L3N0cm9uZz4KICAgICAgPGRpdiBzdHlsZT0ibWF4LWhlaWdodDoyNDBweDtvdmVyZmxvdy15OmF1dG87Ym9yZGVyOjFweCBzb2xpZCAjZWVlO3BhZGRpbmc6OHB4O2JvcmRlci1yYWRpdXM6OHB4O2JhY2tncm91bmQ6I2ZmZjttYXJnaW4tdG9wOjhweDsiPmA7CgogICAgZXhhbXNTbmFwLmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3QgZXhhbSA9IGRvYy5kYXRhKCk7CiAgICAgIGlmICghbWF0Y2hlc1llYXJUZXJtKGV4YW0pKSByZXR1cm47CiAgICAgIGNvbnN0IGNoZWNrZWQgPSBhbGxvd2VkRXhhbXMuaW5jbHVkZXMoZG9jLmlkKSA/ICJjaGVja2VkIiA6ICIiOwogICAgICBodG1sICs9IGA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzo2cHggOHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNmMWYxZjE7Ij4KICAgICAgICA8c3BhbiBzdHlsZT0iZmxleDoxO3RleHQtYWxpZ246cmlnaHQiPiR7KGV4YW0udGl0bGUgfHwgZXhhbS5kZXNjcmlwdGlvbiB8fCAn2KjYr9mI2YYg2LnZhtmI2KfZhicpfTwvc3Bhbj4KICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJzdHVkZW50LWV4YW0tcGVybSIgdmFsdWU9IiR7ZG9jLmlkfSIgJHtjaGVja2VkfT4KICAgICAgPC9sYWJlbD5gOwogICAgfSk7CgogICAgaHRtbCArPSBgPC9kaXY+PC9kaXY+YDsKCiAgICBodG1sICs9IGA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjEycHg7Ij4KICAgICAgPHN0cm9uZyBzdHlsZT0iY29sb3I6IzBhNzBmZjsiPtin2YTZiNin2KzYqNin2Kog2KfZhNmF2YbYstmE2YrYqSDYp9mE2YXYqtin2K3YqSAoJHtzdHVkZW50WWVhciB8fCAn2YPZhCDYp9mE2LPZhtmI2KfYqid9IC0gJHtzdHVkZW50VGVybSB8fCAn2YPZhCDYp9mE2KrYsdmF2YrYp9iqJ30pOjwvc3Ryb25nPgogICAgICA8ZGl2IHN0eWxlPSJtYXgtaGVpZ2h0OjI0MHB4O292ZXJmbG93LXk6YXV0bztib3JkZXI6MXB4IHNvbGlkICNlZWU7cGFkZGluZzo4cHg7Ym9yZGVyLXJhZGl1czo4cHg7YmFja2dyb3VuZDojZmZmO21hcmdpbi10b3A6OHB4OyI+YDsKCiAgICBzZWxmVGVzdHNTbmFwLmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3QgdGVzdCA9IGRvYy5kYXRhKCk7CiAgICAgIGlmICghbWF0Y2hlc1llYXJUZXJtKHRlc3QpKSByZXR1cm47CiAgICAgIGNvbnN0IGNoZWNrZWQgPSBhbGxvd2VkU2VsZlRlc3RzLmluY2x1ZGVzKGRvYy5pZCkgPyAiY2hlY2tlZCIgOiAiIjsKICAgICAgaHRtbCArPSBgPGxhYmVsIHN0eWxlPSJkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6NnB4IDhweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZjFmMWYxOyI+CiAgICAgICAgPHNwYW4gc3R5bGU9ImZsZXg6MTt0ZXh0LWFsaWduOnJpZ2h0Ij4keyh0ZXN0LnRpdGxlIHx8IHRlc3QuZGVzY3JpcHRpb24gfHwgJ9io2K/ZiNmGINi52YbZiNin2YYnKX08L3NwYW4+CiAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0ic3R1ZGVudC1zZWxmdGVzdC1wZXJtIiB2YWx1ZT0iJHtkb2MuaWR9IiAke2NoZWNrZWR9PgogICAgICA8L2xhYmVsPmA7CiAgICB9KTsKCiAgICBodG1sICs9IGA8L2Rpdj48L2Rpdj5gOwoKICAgIC8vINin2YTZhdmC2LHYsdin2KogLSDZhNinINmG2LfYqNmR2YIg2YHZhNiq2LHYqSDYtdin2LHZhdipINmH2YbYpyDZhNmD2YYg2YrZhdmD2YYg2KXYttin2YHYqtmH2Kcg2KXYsNinINij2LHYr9iqCiAgICBodG1sICs9IGA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjEycHg7Ij4KICAgICAgPHN0cm9uZyBzdHlsZT0iY29sb3I6IzBhNzBmZjsiPtin2YTZhdmC2LHYsdin2Ko6PC9zdHJvbmc+CiAgICAgIDxkaXYgc3R5bGU9Im1heC1oZWlnaHQ6MTgwcHg7b3ZlcmZsb3cteTphdXRvO2JvcmRlcjoxcHggc29saWQgI2VlZTtwYWRkaW5nOjhweDtib3JkZXItcmFkaXVzOjhweDtiYWNrZ3JvdW5kOiNmZmY7bWFyZ2luLXRvcDo4cHg7Ij5gOwogICAgY291cnNlc1NuYXAuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCBjb3Vyc2UgPSBkb2MuZGF0YSgpOwogICAgICBjb25zdCBjaGVja2VkID0gYWxsb3dlZENvdXJzZXMuaW5jbHVkZXMoZG9jLmlkKSA/ICJjaGVja2VkIiA6ICIiOwogICAgICBodG1sICs9IGA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzo2cHggOHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNmMWYxZjE7Ij4KICAgICAgICA8c3BhbiBzdHlsZT0iZmxleDoxO3RleHQtYWxpZ246cmlnaHQiPiR7KGNvdXJzZS50aXRsZSB8fCAnJyl9PC9zcGFuPgogICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgY2xhc3M9InN0dWRlbnQtY291cnNlLXBlcm0iIHZhbHVlPSIke2RvYy5pZH0iICR7Y2hlY2tlZH0+CiAgICAgIDwvbGFiZWw+YDsKICAgIH0pOwogICAgaHRtbCArPSBgPC9kaXY+PC9kaXY+YDsKCiAgICBib2R5LmlubmVySFRNTCA9IGh0bWw7CiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlU3R1ZGVudFBlcm1pc3Npb25zQnRuIikub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uKCkgewogICAgICBjb25zdCBleGFtcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnN0dWRlbnQtZXhhbS1wZXJtOmNoZWNrZWQiKSkubWFwKGNiID0+IGNiLnZhbHVlKTsKICAgICAgY29uc3Qgc2VsZlRlc3RzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuc3R1ZGVudC1zZWxmdGVzdC1wZXJtOmNoZWNrZWQiKSkubWFwKGNiID0+IGNiLnZhbHVlKTsKICAgICAgY29uc3QgY291cnNlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnN0dWRlbnQtY291cnNlLXBlcm06Y2hlY2tlZCIpKS5tYXAoY2IgPT4gY2IudmFsdWUpOwogICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhzdHVkZW50SWQpLnNldCh7CiAgICAgICAgYWxsb3dlZEV4YW1zOiBleGFtcywKICAgICAgICBhbGxvd2VkU2VsZlRlc3RzOiBzZWxmVGVzdHMsCiAgICAgICAgYWxsb3dlZENvdXJzZXM6IGNvdXJzZXMKICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KTsKICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgc2hvd1RvYXN0KCLYqtmFINiq2K3Yr9mK2Ksg2KfZhNi12YTYp9it2YrYp9iqISIsICJzdWNjZXNzIik7CiAgICB9OwoKICB9IGNhdGNoIChlcnIpIHsKICAgIGJvZHkuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9ImNvbG9yOnJlZDsiPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYp9mE2KrYrdmF2YrZhDogJHtlcnIubWVzc2FnZX08L2Rpdj5gOwogIH0KfTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2Kkgc2hvd1dlbGNvbWVCYWNrQ2VsZWJyYXRpb24g2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNis2LnZhCDYp9mE2LHYs9in2YTYqSDZiNin2YTYo9mE2YjYp9mGINmF2KrZhtin2LPZgtipINmI2LnYtdix2YrYqSDZiNmF2KrYrNin2YjYqNipINmF2Lkg2KzZhdmK2Lkg2KfZhNi02KfYtNin2KoKZnVuY3Rpb24gc2hvd1dlbGNvbWVCYWNrQ2VsZWJyYXRpb24obGFzdEFjdGl2ZURhdGUpIHsKICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIndlbGNvbWVCYWNrQ2VsZWJyYXRpb24iKSkgcmV0dXJuOwoKICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIG1vZGFsLmlkID0gIndlbGNvbWVCYWNrQ2VsZWJyYXRpb24iOwogIG1vZGFsLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICBtb2RhbC5zdHlsZS50b3AgPSAiMCI7CiAgbW9kYWwuc3R5bGUubGVmdCA9ICIwIjsKICBtb2RhbC5zdHlsZS53aWR0aCA9ICIxMDB2dyI7CiAgbW9kYWwuc3R5bGUuaGVpZ2h0ID0gIjEwMHZoIjsKICBtb2RhbC5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYmEoMTAsMTEyLDI1NSwwLjEzKSI7CiAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBtb2RhbC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICJjZW50ZXIiOwogIG1vZGFsLnN0eWxlLmFsaWduSXRlbXMgPSAiY2VudGVyIjsKICBtb2RhbC5zdHlsZS56SW5kZXggPSAiOTk5OTkiOwoKICBsZXQgbGFzdEFjdGl2ZVN0ciA9ICIiOwogIGlmIChsYXN0QWN0aXZlRGF0ZSBpbnN0YW5jZW9mIERhdGUpIHsKICAgIGxhc3RBY3RpdmVTdHIgPSBg2KLYrtixINiv2K7ZiNmEINmE2YMg2YPYp9mGINio2KrYp9ix2YrYriA8YiBzdHlsZT0iY29sb3I6IzBhNzBmZiI+JHtsYXN0QWN0aXZlRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKX0gJHtsYXN0QWN0aXZlRGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoKX08L2I+YDsKICB9CgogIG1vZGFsLmlubmVySFRNTCA9IGAKICAgIDxkaXYgaWQ9IndlbGNvbWVCYWNrQ2VsZWJyYXRpb25Db250ZW50IiBzdHlsZT0iCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNlM2YwZmYgNjAlLCAjZmZmYmU2IDEwMCUpOwogICAgICBib3JkZXItcmFkaXVzOiAyOHB4OwogICAgICBwYWRkaW5nOiA0NHB4IDI0cHggMzRweCAyNHB4OwogICAgICBib3gtc2hhZG93OiAwIDhweCA0MHB4IDAgcmdiYSgxMCwxMTIsMjU1LDAuMTgpLCAwIDJweCAxMnB4ICMwYTcwZmYxMTsKICAgICAgbWF4LXdpZHRoOiAzNzBweDsKICAgICAgd2lkdGg6IDk2dnc7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgYW5pbWF0aW9uOiBmYWRlSW4gMC43czsKICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICBkaXJlY3Rpb246IHJ0bDsKICAgICAgYm9yZGVyOiAzcHggc29saWQgIzBhNzBmZjIyOwogICAgICBvdmVyZmxvdzogdmlzaWJsZTsKICAgICAgZm9udC1mYW1pbHk6ICdUYWphd2FsJywgQXJpYWwsIHNhbnMtc2VyaWY7CiAgICAiPgogICAgICA8Y2FudmFzIGlkPSJjb25mZXR0aUNhbnZhcyIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDoxOyI+PC9jYW52YXM+CiAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW4tYm90dG9tOjEycHg7ei1pbmRleDoyO3Bvc2l0aW9uOnJlbGF0aXZlOyI+CiAgICAgICAgPHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDEzNWRlZywjMTRlZTg4IDYwJSwjMGE3MGZmIDEwMCUpO2JvcmRlci1yYWRpdXM6NTAlO3BhZGRpbmc6MThweDtib3gtc2hhZG93OjAgNHB4IDE4cHggIzBhNzBmZjIyOyI+CiAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNyb3duIiBzdHlsZT0iZm9udC1zaXplOjIuMnJlbTtjb2xvcjojZmY5ODAwO3RleHQtc2hhZG93OjAgMnB4IDhweCAjZmY5ODAwNTU7Ij48L2k+CiAgICAgICAgPC9zcGFuPgogICAgICA8L2Rpdj4KICAgICAgPGgyIHN0eWxlPSJmb250LXNpemU6MS4zcmVtO2NvbG9yOiMwYTcwZmY7bWFyZ2luLWJvdHRvbToxMnB4O2ZvbnQtd2VpZ2h0OmJvbGQ7bGV0dGVyLXNwYWNpbmc6MXB4O3otaW5kZXg6Mjtwb3NpdGlvbjpyZWxhdGl2ZTtsaW5lLWhlaWdodDoxLjU7Ij4KICAgICAgICDwn46JINij2YfZhNin2Ysg2KjYudmI2K/YqtmDINil2YTZiSA8c3BhbiBzdHlsZT0iY29sb3I6IzE0ZWU4ODsiPtin2YTZgdmK2LLZitin2KEg2KfZhNmE2LDZitiw2YcgIDwvc3Bhbj4g8J+OiQogICAgICA8L2gyPgogICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MS4wOHJlbTtjb2xvcjojMjIyO21hcmdpbi1ib3R0b206MjJweDtsaW5lLWhlaWdodDoyO3dvcmQtYnJlYWs6YnJlYWstd29yZDt0ZXh0LWFsaWduOmNlbnRlcjt6LWluZGV4OjI7cG9zaXRpb246cmVsYXRpdmU7Ij4KICAgICAgICAke2xhc3RBY3RpdmVTdHIgPyBsYXN0QWN0aXZlU3RyICsgIjxicj4iIDogIiJ9CiAgICAgICAgPHNwYW4gc3R5bGU9ImNvbG9yOiMxNGVlODg7Zm9udC13ZWlnaHQ6Ym9sZDsiPtmE2YLYryDYp9i02KrZgtmG2Kcg2KXZhNmK2YMhPC9zcGFuPjxicj4KICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6IzBhNzBmZjtmb250LXdlaWdodDpib2xkOyI+2YbYqtmF2YbZiSDZhNmDINmK2YjZhdin2Ysg2YXZhNmK2KbYp9mLINio2KfZhNmG2KzYp9itINmI2KfZhNiz2LnYp9iv2KkuPC9zcGFuPjxicj4KICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjFyZW07Y29sb3I6I2ZmOTgwMDsiPtin2KjYr9ijINmF2LrYp9mF2LHYqtmDINin2YTZitmI2YUg8J+agDwvc3Bhbj4KICAgICAgPC9kaXY+CiAgICAgIDxidXR0b24gaWQ9ImNsb3NlV2VsY29tZUJhY2tCdG4iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIHN0eWxlPSJwYWRkaW5nOjEycHggMzJweDtmb250LXNpemU6MS4wOHJlbTtib3JkZXItcmFkaXVzOjEycHg7bWFyZ2luLXRvcDoxMHB4O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDkwZGVnLCMwYTcwZmYsIzE0ZWU4OCk7Ym9yZGVyOm5vbmU7ei1pbmRleDoyO3Bvc2l0aW9uOnJlbGF0aXZlO2JveC1zaGFkb3c6MCAycHggMTJweCAjMGE3MGZmMjI7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWJvbHQiIHN0eWxlPSJtYXJnaW4tbGVmdDo4cHg7Ij48L2k+INmE2YbYqNiv2KMhCiAgICAgIDwvYnV0dG9uPgogICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOjE4cHg7ei1pbmRleDoyO3Bvc2l0aW9uOnJlbGF0aXZlOyI+CiAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxLjVyZW07Ij7inKjwn4yf8J+OivCfjog8L3NwYW4+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8c3R5bGU+CiAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgewogICAgICAgICN3ZWxjb21lQmFja0NlbGVicmF0aW9uQ29udGVudCB7CiAgICAgICAgICBtYXgtd2lkdGg6IDk4dncgIWltcG9ydGFudDsKICAgICAgICAgIHdpZHRoOiA5OHZ3ICFpbXBvcnRhbnQ7CiAgICAgICAgICBwYWRkaW5nOiAxOHB4IDR2dyAxOHB4IDR2dyAhaW1wb3J0YW50OwogICAgICAgICAgYm9yZGVyLXJhZGl1czogMTRweCAhaW1wb3J0YW50OwogICAgICAgIH0KICAgICAgICAjd2VsY29tZUJhY2tDZWxlYnJhdGlvbkNvbnRlbnQgaDIgewogICAgICAgICAgZm9udC1zaXplOiAxLjA3cmVtICFpbXBvcnRhbnQ7CiAgICAgICAgfQogICAgICAgICN3ZWxjb21lQmFja0NlbGVicmF0aW9uQ29udGVudCBkaXYgewogICAgICAgICAgZm9udC1zaXplOiAwLjk3cmVtICFpbXBvcnRhbnQ7CiAgICAgICAgfQogICAgICAgICNjbG9zZVdlbGNvbWVCYWNrQnRuIHsKICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbSAhaW1wb3J0YW50OwogICAgICAgICAgcGFkZGluZzogMTBweCAxMHZ3ICFpbXBvcnRhbnQ7CiAgICAgICAgfQogICAgICB9CiAgICA8L3N0eWxlPgogIGA7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CgogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjbG9zZVdlbGNvbWVCYWNrQnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgbW9kYWwucmVtb3ZlKCk7CiAgfTsKCiAgLy8g2KrYo9ir2YrYsSDZhdmB2LHZgti52KfYqiDYp9it2KrZgdin2YTZitipINmF2KrZg9ix2LHYqSDZiNmF2YTZiNmG2Kkg2YTZgdiq2LHYqSDYo9i32YjZhCDZiNij2YPYq9ixINmD2KvYp9mB2KkKICBmdW5jdGlvbiBsYXVuY2hDb25mZXR0aUJ1cnN0KCkgewogICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbmZldHRpQ2FudmFzIik7CiAgICBpZiAoIWNhbnZhcykgcmV0dXJuOwogICAgY2FudmFzLndpZHRoID0gY2FudmFzLm9mZnNldFdpZHRoOwogICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5vZmZzZXRIZWlnaHQ7CiAgICBjb25zdCBjb25mZXR0aSA9IHdpbmRvdy5jb25mZXR0aS5jcmVhdGUoY2FudmFzLCB7IHJlc2l6ZTogdHJ1ZSwgdXNlV29ya2VyOiB0cnVlIH0pOwogICAgbGV0IGJ1cnN0cyA9IDA7CiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgYnVyc3RzKys7CiAgICAgIGNvbmZldHRpKHsKICAgICAgICBwYXJ0aWNsZUNvdW50OiAxMjAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNDApLAogICAgICAgIHNwcmVhZDogMTQwICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjQwKSwKICAgICAgICBvcmlnaW46IHsgeTogMC40ICsgTWF0aC5yYW5kb20oKSowLjMgfSwKICAgICAgICBzdGFydFZlbG9jaXR5OiA0NSArIE1hdGgucmFuZG9tKCkqMTUsCiAgICAgICAgZ3Jhdml0eTogMC41NSArIE1hdGgucmFuZG9tKCkqMC4xNSwKICAgICAgICBzY2FsYXI6IDEuMSArIE1hdGgucmFuZG9tKCkqMC4zLAogICAgICAgIHNoYXBlczogWydjaXJjbGUnLCAnc3F1YXJlJywgJ3N0YXInXSwKICAgICAgICBjb2xvcnM6IFsnIzBhNzBmZicsICcjMTRlZTg4JywgJyNmZjk4MDAnLCAnI2ZmMjYwMCcsICcjZmZmYmU2JywgJyNlM2YwZmYnLCAnI2ZjNWM2NScsICcjNGNhZjUwJywgJyNmNDQzMzYnLCAnI2ZmZDYwMCddCiAgICAgIH0pOwogICAgICBpZiAoYnVyc3RzID49IDEwKSBjbGVhckludGVydmFsKGludGVydmFsKTsgLy8g2YXYr9ipINij2LfZiNmEICgxMCDYp9mG2YHYrNin2LHYp9iqKQogICAgfSwgNjUwKTsKICB9CgogIHNldFRpbWVvdXQoKCkgPT4gewogICAgaWYgKHdpbmRvdy5jb25mZXR0aSkgewogICAgICBsYXVuY2hDb25mZXR0aUJ1cnN0KCk7CiAgICB9IGVsc2UgewogICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgc2NyaXB0LnNyYyA9ICJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2NhbnZhcy1jb25mZXR0aUAxLjYuMC9kaXN0L2NvbmZldHRpLmJyb3dzZXIubWluLmpzIjsKICAgICAgc2NyaXB0Lm9ubG9hZCA9IGxhdW5jaENvbmZldHRpQnVyc3Q7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKICAgIH0KICB9LCA1MDApOwp9Ci8vIC4uLtiv2KfYrtmEIHNldHVwQXV0aGVudGljYXRlZFVJKCkg2KjYudivINi22KjYtyDYp9mE2YXYqti62YrYsdin2Kog2YXYqNin2LTYsdipLi4uCgppZiAodXNlclJvbGUgPT09ICJzdHVkZW50IikgewogIGxldCBsYXN0QWN0aXZlID0gbnVsbDsKICBpZiAoY3VycmVudFVzZXJEYXRhPy5sYXN0QWN0aXZlKSB7CiAgICBpZiAodHlwZW9mIGN1cnJlbnRVc2VyRGF0YS5sYXN0QWN0aXZlID09PSAib2JqZWN0IiAmJiB0eXBlb2YgY3VycmVudFVzZXJEYXRhLmxhc3RBY3RpdmUudG9EYXRlID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIGxhc3RBY3RpdmUgPSBjdXJyZW50VXNlckRhdGEubGFzdEFjdGl2ZS50b0RhdGUoKTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIGN1cnJlbnRVc2VyRGF0YS5sYXN0QWN0aXZlID09PSAibnVtYmVyIikgewogICAgICBsYXN0QWN0aXZlID0gbmV3IERhdGUoY3VycmVudFVzZXJEYXRhLmxhc3RBY3RpdmUpOwogICAgfQogIH0KICBzaG93V2VsY29tZUJhY2tDZWxlYnJhdGlvbihsYXN0QWN0aXZlKTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYr9mI2KfZhCBhZGRPcHRpb24vcmVtb3ZlUXVlc3Rpb24g2YXZiNis2YjYr9ipINmE2K/ZitmDINio2KfZhNmB2LnZhCDZiNiq2LnZhdmEINmF2Lkg2KfZhNij2LPYptmE2Kkg2KfZhNmF2LPYqtmI2LHYr9ipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDZgdmKINmG2YfYp9mK2Kkg2YXZhNmBIDxzY3JpcHQ+INij2Ygg2KjYudivINiq2LnYsdmK2YEg2K/ZiNin2YQg2KrYrdiv2YrYqyDYp9mE2LfZhNin2Kgg2YXYqNin2LTYsdipCgovLyDYr9in2YTYqSDYqtis2LnZhCDYtdmB2K3YqSDYp9mE2LfYp9mE2Kgg2KrYudmF2YQg2LHZitmB2LHYtCDYqtmE2YLYp9im2Yog2KXYsNinINi32YTYqCDYp9mE2YXYudmE2YUg2LDZhNmDCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINi22Lkg2YfYsNinINin2YTZg9mI2K8g2YHZiiDZhtmH2KfZitipINmF2YTZgSA8c2NyaXB0PiDYo9mIINio2LnYryDYqti52LHZitmBIHNldHVwQXV0aGVudGljYXRlZFVJINmF2KjYp9i02LHYqQoKLy8g2K/Yp9mE2Kkg2KrYrNi52YQg2LXZgdit2Kkg2KfZhNi32KfZhNioINiq2LjZh9ixINix2LPYp9mE2Kkg2KXYrNio2KfYsdmK2Kkg2LnZhtivINi32YTYqCDYp9mE2YXYudmE2YUg2KrYrdiv2YrYqyDYp9mE2LXZgdit2KkgKNiq2K3Yr9mK2Ksg2KrZhNmC2KfYptmKINmE2YTZg9mEKQoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2K/Yp9mE2Kkg2YTZhNmF2LnZhNmFOiDYpdix2LPYp9mEINij2YXYsSDYsdmK2YHYsdi0INmE2LfYp9mE2Kgg2YXYudmK2YYg2KPZiCDZhNmD2YQg2KfZhNi32YTYp9ioCndpbmRvdy5zZW5kU3R1ZGVudFJlbG9hZCA9IGZ1bmN0aW9uKHN0dWRlbnRJZCA9IG51bGwpIHsKICBpZiAodXNlclJvbGUgIT09ICJ0ZWFjaGVyIikgcmV0dXJuOwogIGlmIChzdHVkZW50SWQpIHsKICAgIGRiLmNvbGxlY3Rpb24oInN0dWRlbnRSZWxvYWRzIikuZG9jKHN0dWRlbnRJZCkuc2V0KHsgcmVsb2FkOiB0cnVlIH0pOwogIH0gZWxzZSB7CiAgICAvLyDZhNmD2YQg2KfZhNi32YTYp9ioCiAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLndoZXJlKCJyb2xlIiwgIj09IiwgInN0dWRlbnQiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgIGRiLmNvbGxlY3Rpb24oInN0dWRlbnRSZWxvYWRzIikuZG9jKGRvYy5pZCkuc2V0KHsgcmVsb2FkOiB0cnVlIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0KICBzaG93VG9hc3QoItiq2YUg2KXYsdiz2KfZhCDYo9mF2LEg2KrYrdiv2YrYqyDYp9mE2LXZgdit2Kkg2YTZhNi32KfZhNioL9in2YTYt9mE2KfYqC4iLCAic3VjY2VzcyIpOwp9OwoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGZ1bmN0aW9uKCkgewogIC8vINiy2LEg2KrYrdiv2YrYqyDYqtmE2YLYp9im2Yog2YTZhNmD2YQKICBjb25zdCBzdHVkZW50c1RhYmxlSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRoZWFkIHRyJyk7CiAgaWYgKHN0dWRlbnRzVGFibGVIZWFkZXIgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JjZVJlbG9hZEFsbEJ0bicpKSB7CiAgICBjb25zdCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7CiAgICB0aC5pbm5lckhUTUwgPSBgPGJ1dHRvbiBpZD0iZm9yY2VSZWxvYWRBbGxCdG4iIGNsYXNzPSJidG4gYnRuLXdhcm5pbmcgYnRuLXNtIiB0aXRsZT0i2KXYrNio2KfYsSDZg9mEINin2YTYt9mE2KfYqCDYudmE2Ykg2KrYrdiv2YrYqyDYp9mE2LXZgdit2KkiPjxpIGNsYXNzPSJmYXMgZmEtc3luYy1hbHQiPjwvaT4g2KrYrdiv2YrYqyDYqtmE2YLYp9im2Yog2YTZhNmD2YQ8L2J1dHRvbj5gOwogICAgc3R1ZGVudHNUYWJsZUhlYWRlci5hcHBlbmRDaGlsZCh0aCk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9yY2VSZWxvYWRBbGxCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgICAgIGlmIChjb25maXJtKCLZh9mEINiq2LHZitivINil2KzYqNin2LEg2KzZhdmK2Lkg2KfZhNi32YTYp9ioINi52YTZiSDYqtit2K/ZitirINin2YTYtdmB2K3YqSDYp9mE2KLZhtifIikpIHsKICAgICAgICB3aW5kb3cuc2VuZFN0dWRlbnRSZWxvYWQobnVsbCk7CiAgICAgICAgLy8g2YTYpyDYqti42YfYsSDYp9mE2LHYs9in2YTYqSDZhNmE2YXYudmE2YXYjCDZgdmC2Lcg2KfZhNi32YTYp9ioINiz2YrYuNmH2LEg2YTZh9mFINiq2YTZgtin2KbZitin2Ysg2LnZhtivINin2LPYqtmC2KjYp9mEIHJlbG9hZCDZhdmGINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqgogICAgICB9CiAgICB9OwogIH0KfSk7Ci8vINi52YbYryDYqtit2YXZitmEINin2YTYt9mE2KfYqCDYo9i22YEg2LLYsSDYqtit2K/ZitirINiq2YTZgtin2KbZiiDZhNmD2YQg2LfYp9mE2KgKCiAgLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBzaG93QWNjZXNzRGVuaWVkTW9kYWwoKSB7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjZXNzRGVuaWVkTW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwp9CgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpjb25zdCBJVEVNU19QRVJfUEFHRSA9IDU7IC8vINi52K/YryDYp9mE2LnZhtin2LXYsSDZhNmD2YQg2LXZgdit2KkgKNi02LHYp9im2K0gLyDZiNin2KzYqNin2KopCiAvLyDYudix2LYg2KfZhNi02LHYp9im2K0g2KjYr9mI2YYg2KPZiiDYo9iy2LHYp9ixINiq2LHZgtmK2YUgKNin2YTZhdmC2LHYsdin2Kog2YTYpyDYqtit2KrZiNmKINi52YTZiSBQYWdlcikKZnVuY3Rpb24gbG9hZFNsaWRlcyhwYWdlID0gMSkgewogIGNvbnN0IHNsaWRlc0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVzR3JpZCIpOwogIHNsaWRlc0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNi02LHYp9im2K0uLi48L3A+IjsKCiAgZGIuY29sbGVjdGlvbigic2xpZGVzIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgICBzbGlkZXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINi02LHYp9im2K0g2YXYqtin2K3YqSDYrdin2YTZitin2Ys8L3A+IjsKICAgICAgLy8g2KXYstin2YTYqSDYp9mE2YAgcGFnZXIg2KXYsNinINmD2KfZhtiqINmF2YjYrNmI2K/YqQogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVzUGFnZXJUb3AiKT8ucmVtb3ZlKCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBhbGxTbGlkZXMgPSBbXTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IGFsbFNsaWRlcy5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7CgogICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGgubWF4KDEsIE1hdGguY2VpbChhbGxTbGlkZXMubGVuZ3RoIC8gSVRFTVNfUEVSX1BBR0UpKTsKICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gTWF0aC5tYXgoMSwgTWF0aC5taW4ocGFnZSwgdG90YWxQYWdlcykpOwogICAgY29uc3Qgc3RhcnQgPSAoY3VycmVudFBhZ2UgLSAxKSAqIElURU1TX1BFUl9QQUdFOwogICAgY29uc3QgcGFnZVNsaWRlcyA9IGFsbFNsaWRlcy5zbGljZShzdGFydCwgc3RhcnQgKyBJVEVNU19QRVJfUEFHRSk7CgogICAgc2xpZGVzR3JpZC5pbm5lckhUTUwgPSAiIjsKICAgIHBhZ2VTbGlkZXMuZm9yRWFjaChzID0+IHNsaWRlc0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlU2xpZGVDYXJkKHMsIHMuaWQpKSk7CgogICAgLy8gdG9wIHBhZ2VyIG9ubHkgKNij2LjZh9ix2YfYpyDZhNmE2LfYp9mE2Kgg2YjYp9mE2YXYudmE2YUpCiAgICBsZXQgcGFnZXJUb3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVzUGFnZXJUb3AiKTsKICAgIGlmICghcGFnZXJUb3ApIHsKICAgICAgcGFnZXJUb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgcGFnZXJUb3AuaWQgPSAic2xpZGVzUGFnZXJUb3AiOwogICAgICBwYWdlclRvcC5zdHlsZSA9ICJkaXNwbGF5OmZsZXg7Z2FwOjEwcHg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luOjhweCAwOyI7CiAgICAgIC8vINij2K/YrtmEINin2YTZgCBwYWdlciDZgdmI2YIg2YLYp9im2YXYqSDYp9mE2LTYsdin2KbYrQogICAgICBzbGlkZXNHcmlkLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHBhZ2VyVG9wLCBzbGlkZXNHcmlkKTsKICAgIH0KICAgIHBhZ2VyVG9wLmlubmVySFRNTCA9IGAKICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0ic2xpZGVzUHJldkJ0blRvcCIgJHtjdXJyZW50UGFnZSA9PT0gMSA/ICdkaXNhYmxlZCcgOiAnJ30+2KfZhNiz2KfYqNmCPC9idXR0b24+CiAgICAgIDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDo3MDA7Y29sb3I6IzBhNzBmZjsiPti12YHYrdipICR7Y3VycmVudFBhZ2V9INmF2YYgJHt0b3RhbFBhZ2VzfTwvc3Bhbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0ic2xpZGVzTmV4dEJ0blRvcCIgJHtjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyA/ICdkaXNhYmxlZCcgOiAnJ30+2KfZhNiq2KfZhNmKPC9idXR0b24+CiAgICBgOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlc1ByZXZCdG5Ub3AiKS5vbmNsaWNrID0gKCkgPT4gbG9hZFNsaWRlcyhjdXJyZW50UGFnZSAtIDEpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlc05leHRCdG5Ub3AiKS5vbmNsaWNrID0gKCkgPT4gbG9hZFNsaWRlcyhjdXJyZW50UGFnZSArIDEpOwogIH0pLmNhdGNoKGVyciA9PiB7CiAgICBzbGlkZXNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2LTYsdin2KbYrTogIiArIGVyci5tZXNzYWdlICsgIjwvcD4iOwogIH0pOwp9CgovLyDYqtix2YLZitmFINin2K7Yqtio2KfYsdin2KogItin2K7Yqtio2LEg2YbZgdiz2YMiIOKAlCDYo9iy2LHYp9ixINmB2Yog2KfZhNij2LnZhNmJINmB2YLYtwpmdW5jdGlvbiBsb2FkU2VsZlRlc3RzKHBhZ2UgPSAxKSB7CiAgY29uc3Qgc2VsZlRlc3RzR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNHcmlkIik7CiAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9iu2KrYqNin2LHYp9iqIFwi2KfYrtiq2KjYsSDZhtmB2LPZg1wiLi4uPC9wPiI7CgogIGRiLmNvbGxlY3Rpb24oJ3NlbGZUZXN0cycpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqIFwi2KfYrtiq2KjYsSDZhtmB2LPZg1wiINmF2KrYp9it2Kkg2K3Yp9mE2YrYp9mLPC9wPiI7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBhbGxUZXN0cyA9IFtdOwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gYWxsVGVzdHMucHVzaCh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSkpOwoKICAgIGxldCBmaWx0ZXJlZCA9IGFsbFRlc3RzOwogICAgaWYgKHVzZXJSb2xlID09PSAic3R1ZGVudCIgJiYgY3VycmVudFVzZXJEYXRhKSB7CiAgICAgIGZpbHRlcmVkID0gYWxsVGVzdHMuZmlsdGVyKHQgPT4gdC55ZWFyID09PSBjdXJyZW50VXNlckRhdGEueWVhciAmJiB0LnRlcm0gPT09IGN1cnJlbnRVc2VyRGF0YS50ZXJtKTsKICAgIH0KCiAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKGZpbHRlcmVkLmxlbmd0aCAvIElURU1TX1BFUl9QQUdFKSk7CiAgICBjb25zdCBjdXJyZW50UGFnZSA9IE1hdGgubWF4KDEsIE1hdGgubWluKHBhZ2UsIHRvdGFsUGFnZXMpKTsKICAgIGNvbnN0IHN0YXJ0ID0gKGN1cnJlbnRQYWdlIC0gMSkgKiBJVEVNU19QRVJfUEFHRTsKICAgIGNvbnN0IHBhZ2VUZXN0cyA9IGZpbHRlcmVkLnNsaWNlKHN0YXJ0LCBzdGFydCArIElURU1TX1BFUl9QQUdFKTsKCiAgICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICIiOwogICAgcGFnZVRlc3RzLmZvckVhY2godCA9PiBzZWxmVGVzdHNHcmlkLmFwcGVuZENoaWxkKGNyZWF0ZVNlbGZUZXN0Q2FyZCh0LCB0LmlkKSkpOwoKICAgIC8vIHRvcCBwYWdlciBvbmx5CiAgICBsZXQgcGFnZXJUb3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RzUGFnZXJUb3AiKTsKICAgIGlmICghcGFnZXJUb3ApIHsKICAgICAgcGFnZXJUb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgcGFnZXJUb3AuaWQgPSAic2VsZlRlc3RzUGFnZXJUb3AiOwogICAgICBwYWdlclRvcC5zdHlsZSA9ICJkaXNwbGF5OmZsZXg7Z2FwOjEwcHg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7bWFyZ2luOjhweCAwOyI7CiAgICAgIHNlbGZUZXN0c0dyaWQucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUocGFnZXJUb3AsIHNlbGZUZXN0c0dyaWQpOwogICAgfQogICAgcGFnZXJUb3AuaW5uZXJIVE1MID0gYAogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIGlkPSJzZWxmVGVzdHNQcmV2QnRuVG9wIiAke2N1cnJlbnRQYWdlID09PSAxID8gJ2Rpc2FibGVkJyA6ICcnfT7Yp9mE2LPYp9io2YI8L2J1dHRvbj4KICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojMGE3MGZmOyI+2LXZgdit2KkgJHtjdXJyZW50UGFnZX0g2YXZhiAke3RvdGFsUGFnZXN9PC9zcGFuPgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIGlkPSJzZWxmVGVzdHNOZXh0QnRuVG9wIiAke2N1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzID8gJ2Rpc2FibGVkJyA6ICcnfT7Yp9mE2KrYp9mE2Yo8L2J1dHRvbj4KICAgIGA7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RzUHJldkJ0blRvcCIpLm9uY2xpY2sgPSAoKSA9PiBsb2FkU2VsZlRlc3RzKGN1cnJlbnRQYWdlIC0gMSk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RzTmV4dEJ0blRvcCIpLm9uY2xpY2sgPSAoKSA9PiBsb2FkU2VsZlRlc3RzKGN1cnJlbnRQYWdlICsgMSk7CiAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfYrtiq2KjYp9ix2KfYqiBcItin2K7Yqtio2LEg2YbZgdiz2YNcIjogIiArIGVycm9yLm1lc3NhZ2UgKyAnPC9wPic7CiAgfSk7Cn0KCi8vINiq2LHZgtmK2YUg2YTZhNin2K7Yqtio2KfYsdin2KogKFJlY2VudCBFeGFtcykg4oCUINij2LLYsdin2LEg2YHZiiDYp9mE2KPYudmE2Ykg2YHZgti3CmZ1bmN0aW9uIGxvYWRSZWNlbnRFeGFtcyhwYWdlID0gMSkgewogIGNvbnN0IGV4YW1zR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNlbnRFeGFtcyIpOwogIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqi4uLjwvcD4iOwoKICBkYi5jb2xsZWN0aW9uKCJleGFtcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYqtin2K3YqSDYrdin2YTZitin2Ys8L3A+IjsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGFsbEV4YW1zID0gW107CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiBhbGxFeGFtcy5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7CgogICAgLy8g2YHZhNiq2LHYqSDYrdiz2Kgg2K/ZiNixINin2YTZhdiz2KrYrtiv2YUg2YjYs9mG2Kkv2KrYsdmFINin2YTYt9in2YTYqAogICAgbGV0IGZpbHRlcmVkID0gYWxsRXhhbXM7CiAgICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgICAvLyDZhNmE2YXYudmE2YUg2KfYudix2LYg2KfZhNmD2YQgKNij2Ygg2YrZhdmD2YbZgyDYqtiu2LXZiti1INin2YTZgdmE2KrYsdipKQogICAgICBmaWx0ZXJlZCA9IGFsbEV4YW1zOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCFjdXJyZW50VXNlckRhdGEgfHwgIWN1cnJlbnRVc2VyRGF0YS55ZWFyKSB7CiAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8ZGl2IHN0eWxlPSdjb2xvcjojZTY3ZTIyO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEuMXJlbTtwYWRkaW5nOjIwcHg7Jz7Zitix2KzZiSDYqtit2K/ZitivINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqSDZhdmGINin2YTZhdmE2YEg2KfZhNi02K7YtdmKINmE2LnYsdi2INin2YTYp9iu2KrYqNin2LHYp9iqLjwvZGl2PiI7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGZpbHRlcmVkID0gYWxsRXhhbXMuZmlsdGVyKGV4YW0gPT4gZXhhbS55ZWFyID09PSBjdXJyZW50VXNlckRhdGEueWVhciAmJiBleGFtLnRlcm0gPT09IGN1cnJlbnRVc2VyRGF0YS50ZXJtKTsKICAgIH0KCiAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKGZpbHRlcmVkLmxlbmd0aCAvIElURU1TX1BFUl9QQUdFKSk7CiAgICBjb25zdCBjdXJyZW50UGFnZSA9IE1hdGgubWF4KDEsIE1hdGgubWluKHBhZ2UsIHRvdGFsUGFnZXMpKTsKICAgIGNvbnN0IHN0YXJ0ID0gKGN1cnJlbnRQYWdlIC0gMSkgKiBJVEVNU19QRVJfUEFHRTsKICAgIGNvbnN0IHBhZ2VFeGFtcyA9IGZpbHRlcmVkLnNsaWNlKHN0YXJ0LCBzdGFydCArIElURU1TX1BFUl9QQUdFKTsKCiAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIiI7CiAgICBwYWdlRXhhbXMuZm9yRWFjaChlID0+IHsKICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUV4YW1DYXJkKGUsIGUuaWQpOwogICAgICBleGFtc0dyaWQuYXBwZW5kQ2hpbGQoY2FyZCk7CiAgICB9KTsKCiAgICAvLyB0b3AgcGFnZXIgb25seQogICAgbGV0IHBhZ2VyVG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY2VudEV4YW1zUGFnZXJUb3AiKTsKICAgIGlmICghcGFnZXJUb3ApIHsKICAgICAgcGFnZXJUb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgcGFnZXJUb3AuaWQgPSAicmVjZW50RXhhbXNQYWdlclRvcCI7CiAgICAgIHBhZ2VyVG9wLnN0eWxlID0gImRpc3BsYXk6ZmxleDtnYXA6MTBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW46OHB4IDA7IjsKICAgICAgZXhhbXNHcmlkLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHBhZ2VyVG9wLCBleGFtc0dyaWQpOwogICAgfQogICAgcGFnZXJUb3AuaW5uZXJIVE1MID0gYAogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIGlkPSJleGFtc1ByZXZCdG5Ub3AiICR7Y3VycmVudFBhZ2UgPT09IDEgPyAnZGlzYWJsZWQnIDogJyd9Ptin2YTYs9in2KjZgjwvYnV0dG9uPgogICAgICA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6NzAwO2NvbG9yOiMwYTcwZmY7Ij7YtdmB2K3YqSAke2N1cnJlbnRQYWdlfSDZhdmGICR7dG90YWxQYWdlc308L3NwYW4+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9ImV4YW1zTmV4dEJ0blRvcCIgJHtjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyA/ICdkaXNhYmxlZCcgOiAnJ30+2KfZhNiq2KfZhNmKPC9idXR0b24+CiAgICBgOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1zUHJldkJ0blRvcCIpLm9uY2xpY2sgPSAoKSA9PiBsb2FkUmVjZW50RXhhbXMoY3VycmVudFBhZ2UgLSAxKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtc05leHRCdG5Ub3AiKS5vbmNsaWNrID0gKCkgPT4gbG9hZFJlY2VudEV4YW1zKGN1cnJlbnRQYWdlICsgMSk7CiAgfSkuY2F0Y2goZXJyID0+IHsKICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2Ko6ICIgKyBlcnIubWVzc2FnZSArICI8L3A+IjsKICB9KTsKfQoKCgoKKGZ1bmN0aW9uKCl7CiAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RVc0J0bicpOwogIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RVc01vZGFsJyk7CiAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2VDb250YWN0VXNNb2RhbCcpOwoKICBpZiAoYnRuICYmIG1vZGFsKSB7CiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnKTsKICAgIGNsb3NlQnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpOwogICAgLy8g2KXYutmE2KfZgiDYudmG2K8g2KfZhNmG2YLYsSDYrtin2LHYrCDYp9mE2YXYrdiq2YjZiQogICAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4geyBpZiAoZS50YXJnZXQgPT09IG1vZGFsKSBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyB9KTsKICB9Cn0pKCk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2K/ZiNin2YQg2LHZgdi5INmF2YTZgdin2Kog2LnYp9mF2Kkg2KXZhNmJIEdvb2dsZSBEcml2ZSArINix2KjYtyDYp9mE2K3ZgtmI2YQg2LDYp9iqINin2YTYtdmE2KkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBlbmFibGVGaWxlVXBsb2FkT25JbnB1dHMoKSB7CiAgaWYgKHdpbmRvdy5fbGVzc29uRmlsZVVwbG9hZEluaXRpYWxpemVkKSByZXR1cm47CiAgd2luZG93Ll9sZXNzb25GaWxlVXBsb2FkSW5pdGlhbGl6ZWQgPSB0cnVlOwoKICBsZXQgY3VycmVudFRhcmdldElucHV0ID0gbnVsbDsKICBjb25zdCBmaWxlUGlja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICBmaWxlUGlja2VyLnR5cGUgPSAnZmlsZSc7CiAgZmlsZVBpY2tlci5hY2NlcHQgPSAnLnBkZixhcHBsaWNhdGlvbi9wZGYnOwogIGZpbGVQaWNrZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZpbGVQaWNrZXIpOwoKICBhc3luYyBmdW5jdGlvbiBoYW5kbGVGaWxlVXBsb2FkRm9ySW5wdXQoaW5wdXQsIGZpbGUpIHsKICAgIGlmICghaW5wdXQgfHwgIWZpbGUpIHJldHVybjsKICAgIGNvbnN0IG9sZCA9IGlucHV0LnZhbHVlOwogICAgaW5wdXQudmFsdWUgPSAn2KzYp9ix2Yog2KfZhNix2YHYuSDYpdmE2YkgRHJpdmUuLi4nOwogICAgdHJ5IHsKICAgICAgY29uc29sZS5pbmZvKCdoYW5kbGVGaWxlVXBsb2FkRm9ySW5wdXQ6IHN0YXJ0IHVwbG9hZCcsIGZpbGUubmFtZSk7CiAgICAgIGNvbnN0IHVybCA9IGF3YWl0IHVwbG9hZEZpbGVUb0dvb2dsZURyaXZlKGZpbGUpOwogICAgICBpbnB1dC52YWx1ZSA9IHVybDsKICAgICAgc2hvd1RvYXN0KCfYqtmFINix2YHYuSDYp9mE2YXZhNmBINil2YTZiSBEcml2ZScsICdzdWNjZXNzJyk7CiAgICAgIGNvbnNvbGUuaW5mbygnaGFuZGxlRmlsZVVwbG9hZEZvcklucHV0OiB1cGxvYWRlZCwgdXJsPScsIHVybCk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgY29uc29sZS5lcnJvcignaGFuZGxlRmlsZVVwbG9hZEZvcklucHV0IGVycm9yOicsIGVycik7CiAgICAgIGlucHV0LnZhbHVlID0gb2xkOwogICAgICBzaG93VG9hc3QoJ9mB2LTZhCDYsdmB2Lkg2KfZhNmF2YTZgSDYpdmE2YkgRHJpdmU6ICcgKyAoZXJyLm1lc3NhZ2UgfHwgJycpLCAnZXJyb3InKTsKICAgIH0KICB9CgogIC8vIGZpbGVQaWNrZXIgY2hhbmdlIC0+IHVwbG9hZAogIGZpbGVQaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYXN5bmMgKGUpID0+IHsKICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcz8uWzBdOwogICAgaWYgKCFmaWxlIHx8ICFjdXJyZW50VGFyZ2V0SW5wdXQpIHsgZmlsZVBpY2tlci52YWx1ZSA9ICcnOyBjdXJyZW50VGFyZ2V0SW5wdXQgPSBudWxsOyByZXR1cm47IH0KICAgIGF3YWl0IGhhbmRsZUZpbGVVcGxvYWRGb3JJbnB1dChjdXJyZW50VGFyZ2V0SW5wdXQsIGZpbGUpOwogICAgZmlsZVBpY2tlci52YWx1ZSA9ICcnOwogICAgY3VycmVudFRhcmdldElucHV0ID0gbnVsbDsKICB9KTsKCgoKCgoKCgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCiAgIGZ1bmN0aW9uIGF0dGFjaFVwbG9hZEJ1dHRvbihpbnB1dCkgewogICAgaWYgKCFpbnB1dCB8fCBpbnB1dC5fdXBsb2FkQnRuQXR0YWNoZWQpIHJldHVybjsKICAgIGlucHV0Ll91cGxvYWRCdG5BdHRhY2hlZCA9IHRydWU7CgogICAgdHJ5IHsKICAgICAgY29uc3QgcGFyZW50ID0gaW5wdXQucGFyZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5OwoKICAgICAgLy8g2KXYsNinINin2YTYrdmC2YQg2K/Yp9iu2YQg2LXZgSDZhdiu2LXYtSDZhNinINmG2YPYsdixINin2YTYqti62YTZitmBCiAgICAgIGxldCB3cmFwcGVyID0gcGFyZW50OwogICAgICBpZiAoIXBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMgfHwgIXBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2xlc3Nvbi11cGxvYWQtcm93JykpIHsKICAgICAgICB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSAnbGVzc29uLXVwbG9hZC1yb3cnOwogICAgICAgIHdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgICAgICB3cmFwcGVyLnN0eWxlLmdhcCA9ICc4cHgnOwogICAgICAgIHdyYXBwZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInOwogICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUod3JhcHBlciwgaW5wdXQpOwogICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5wdXQpOwogICAgICB9CgogICAgICAvLyDZhNinINiq2YPYsdixINin2YTYstixCiAgICAgIGxldCBidG4gPSB3cmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5sZXNzb24tdXBsb2FkLWJ0bicpOwogICAgICBpZiAoIWJ0bikgewogICAgICAgIGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogICAgICAgIGJ0bi50eXBlID0gJ2J1dHRvbic7CiAgICAgICAgYnRuLmNsYXNzTmFtZSA9ICdsZXNzb24tdXBsb2FkLWJ0biBidG4gYnRuLW91dGxpbmUnOwogICAgICAgIGJ0bi50ZXh0Q29udGVudCA9ICfYsdmB2Lkg2YXZhNmBJzsKICAgICAgICBidG4uc3R5bGUubWluV2lkdGggPSAnOTZweCc7CiAgICAgICAgYnRuLnN0eWxlLmZsZXggPSAnMCAwIGF1dG8nOwogICAgICAgIGJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gJzhweCc7CiAgICAgICAgYnRuLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJzsKICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGJ0bik7CiAgICAgIH0KCiAgICAgIC8vINit2K/YqyDYp9mE2YbZgtixOiDYs9is2YQg2KfZhNiv2K7ZiNmEINij2YjZhNin2Ysg2KvZhSDYp9mB2KrYrSBmaWxlIHBpY2tlcgogICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoZSkgPT4gewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBjdXJyZW50VGFyZ2V0SW5wdXQgPSBpbnB1dDsKICAgICAgICB0cnkgewogICAgICAgICAgLy8g2LfZhNioINiq2YjZg9mGINiq2YHYp9i52YTZiiDYttmF2YYg2YbZgdizINit2K/YqyDYp9mE2YbZgtixICjZhNiq2KzZhtioINit2LjYsSDYp9mE2YbZiNin2YHYsCkKICAgICAgICAgIGF3YWl0IGdvb2dsZURyaXZlU2lnbkluKCk7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdnb29nbGVEcml2ZVNpZ25JbiBmYWlsZWQnLCBlcnIpOwogICAgICAgICAgc2hvd1RvYXN0KCfZgdi02YQg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2KXZhNmJIEdvb2dsZSBEcml2ZTogJyArIChlcnIubWVzc2FnZSB8fCAnJyksICdlcnJvcicpOwogICAgICAgICAgY3VycmVudFRhcmdldElucHV0ID0gbnVsbDsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8g2KjYudivINmG2KzYp9itINin2YTYr9iu2YjZhCDYp9mB2KrYrSDYrdmI2KfYsSDYp9iu2KrZitin2LEg2KfZhNmF2YTZgQogICAgICAgIHRyeSB7CiAgICAgICAgICBmaWxlUGlja2VyLmNsaWNrKCk7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKCdmaWxlUGlja2VyLmNsaWNrIGVycm9yJywgZXJyKTsKICAgICAgICAgIHNob3dUb2FzdCgn2YTYpyDZitmF2YPZhiDZgdiq2K0g2YbYp9mB2LDYqSDYp9iu2KrZitin2LEg2KfZhNmF2YTZgTogJyArIChlcnIubWVzc2FnZSB8fCAnJyksICdlcnJvcicpOwogICAgICAgICAgY3VycmVudFRhcmdldElucHV0ID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ2F0dGFjaFVwbG9hZEJ1dHRvbiBlcnJvcicsIGVycik7CiAgICB9CiAgfQoKICAvLyDZiNi12YQg2KfZhNij2LLYsdin2LEg2YTZhNi52YbYp9i12LEg2KfZhNit2KfZhNmK2KkKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGVzc29uLWRvd25sb2FkJykuZm9yRWFjaChpbnB1dCA9PiBhdHRhY2hVcGxvYWRCdXR0b24oaW5wdXQpKTsKCiAgLy8g2LHYp9mC2KggRE9NINmE2LnZhtin2LXYsSDZhdiz2KrZgtio2YTZitipCiAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRzID0+IHsKICAgIG11dHMuZm9yRWFjaChtID0+IHsKICAgICAgbS5hZGRlZE5vZGVzICYmIG0uYWRkZWROb2Rlcy5mb3JFYWNoKG5vZGUgPT4gewogICAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjsKICAgICAgICBpZiAobm9kZS5tYXRjaGVzICYmIG5vZGUubWF0Y2hlcygnLmxlc3Nvbi1kb3dubG9hZCcpKSBhdHRhY2hVcGxvYWRCdXR0b24obm9kZSk7CiAgICAgICAgbm9kZS5xdWVyeVNlbGVjdG9yQWxsICYmIG5vZGUucXVlcnlTZWxlY3RvckFsbCgnLmxlc3Nvbi1kb3dubG9hZCcpLmZvckVhY2goaSA9PiBhdHRhY2hVcGxvYWRCdXR0b24oaSkpOwogICAgICB9KTsKICAgIH0pOwogIH0pOwogIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CgogIC8vINmE2LXZgiDYrtmB2YrZgSAo2KfYrtiq2YrYp9ix2YopCiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBhc3luYyAoZSkgPT4gewogICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7CiAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LmNsYXNzTGlzdCB8fCAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbGVzc29uLWRvd25sb2FkJykpIHJldHVybjsKICAgIHRyeSB7CiAgICAgIGNvbnN0IGl0ZW1zID0gKGUuY2xpcGJvYXJkRGF0YSB8fCB3aW5kb3cuY2xpcGJvYXJkRGF0YSk/Lml0ZW1zIHx8IFtdOwogICAgICBmb3IgKGxldCBpdCBvZiBpdGVtcykgewogICAgICAgIGlmIChpdC5raW5kID09PSAnZmlsZScpIHsKICAgICAgICAgIGNvbnN0IGZpbGUgPSBpdC5nZXRBc0ZpbGUoKTsKICAgICAgICAgIGlmICghZmlsZSkgY29udGludWU7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICBhd2FpdCBoYW5kbGVGaWxlVXBsb2FkRm9ySW5wdXQodGFyZ2V0LCBmaWxlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7IGNvbnNvbGUuZXJyb3IoJ3Bhc3RlIGhhbmRsZXIgZXJyb3I6JywgZXJyKTsgfQogIH0pOwp9CgoKCgoKPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=='))));</script>
