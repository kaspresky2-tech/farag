<script>document.write(decodeURIComponent(escape(atob('PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImFyIiBkaXI9InJ0bCI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgogICAgPHRpdGxlPtmF2YbYtdmA2KkgINin2YTZgdmK2LLZitin2KEg2KfZhNmE2LDZitmA2YDYsNmHICAgICA8L3RpdGxlPgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2FwaS5qcyI+PC9zY3JpcHQ+CiAgICA8bGluayByZWw9Imljb24iIHR5cGU9ImltYWdlL3BuZyIgaHJlZj0iZmF2aWNvbi5wbmciPgogICAgPGF1ZGlvIGlkPSJzb3VuZC1jb3JyZWN0IiBzcmM9Imh0dHBzOi8vaS50b3A0dG9wLmlvL21fMzY3M3d4eHlrMS5tcDMiPjwvYXVkaW8+CjxhdWRpbyBpZD0ic291bmQtd3JvbmciIHNyYz0iaHR0cHM6Ly9oLnRvcDR0b3AuaW8vbV8zNjczeTdmejYxLm1wMyI+PC9hdWRpbz4KICAgIDwhLS0g2KPYttmBINmH2LDZhyDYp9mE2KPYs9i32LEg2YHZiiA8aGVhZD4gLS0+CiAgICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vZ3NpL2NsaWVudCIgYXN5bmMgZGVmZXI+PC9zY3JpcHQ+CjwhLS0g2YXZg9iq2KjYqSBNYXRoSmF4INmE2LnYsdi2INis2YXZiti5INin2YTYsdmF2YjYsiDZiNin2YTZhdi52KfYr9mE2KfYqiDYp9mE2LHZitin2LbZitipIC0tPgo8c2NyaXB0IHNyYz0iaHR0cHM6Ly9wb2x5ZmlsbC5pby92My9wb2x5ZmlsbC5taW4uanM/ZmVhdHVyZXM9ZXM2Ij48L3NjcmlwdD4KPHNjcmlwdCBpZD0iTWF0aEpheC1zY3JpcHQiIGFzeW5jCiAgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL21hdGhqYXhAMy9lczUvdGV4LW1tbC1jaHRtbC5qcyI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9qc3BkZi8yLjUuMS9qc3BkZi51bWQubWluLmpzIj48L3NjcmlwdD4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2h0bWwyY2FudmFzLzEuNC4xL2h0bWwyY2FudmFzLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9jaGFydC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvUGFwYVBhcnNlLzUuMy4yL3BhcGFwYXJzZS5taW4uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL3hsc3gvMC4xOC41L3hsc3guZnVsbC5taW4uanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9mb250LWF3ZXNvbWUvNi40LjAvY3NzL2FsbC5taW4uY3NzIj4KICAgIDxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbSI+CiAgICA8bGluayByZWw9InByZWNvbm5lY3QiIGhyZWY9Imh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20iIGNyb3Nzb3JpZ2luPgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1DYWlybytQbGF5OndnaHRAMjAwLi4xMDAwJmZhbWlseT1MYWxlemFyJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4gICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9mb250LWF3ZXNvbWUvNC43LjAvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzIj4KICAgIDxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9VGFqYXdhbDp3Z2h0QDQwMDs1MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZm9udC1hd2Vzb21lLzYuNC4wL2Nzcy9hbGwubWluLmNzcyI+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4udGFpbHdpbmRjc3MuY29tIj48L3NjcmlwdD4KICAgIDxzdHlsZT4KICAgICAgOnJvb3QgewogICAgLS1wcmltYXJ5OiAjMGE3MGZmOyAvKiDYo9iy2LHZgiDZgdin2KrYrSAqLwogICAgLS1wcmltYXJ5LWxpZ2h0OiAjMGE3MGZmOyAvKiDYo9iy2LHZgiDYo9mB2KrYrSAqLwogICAgLS1zZWNvbmRhcnk6ICMwYTcwZmY7IC8qINix2YXYp9iv2Yog2YXYstix2YIgKi8KICAgIC0tYWNjZW50OiAjZmZmZmZmOyAvKiDZiNix2K/ZiiDZgdin2KrYrSAqLwogICAgLS1kYXJrOiAjMkMzRTUwOyAvKiDYo9iy2LHZgiDYr9in2YPZhiAqLwogICAgLS1saWdodDogI0Y1RjdGQTsgLyog2K7ZhNmB2YrYqSDZgdin2KrYrdipICovCiAgICAtLXN1Y2Nlc3M6ICMxNGVlODg7IC8qINij2K7YttixINmB2KfYqtitICovCiAgICAtLWRhbmdlcjogI0ZDNUM2NTsgLyog2KPYrdmF2LEg2YHYp9iq2K0gKi8KICAgIC0td2FybmluZzogI0ZGQ0U1NDsgLyog2KPYtdmB2LEg2YHYp9iq2K0gKi8KICAgIC0tZ3JheTogI0FBQjJCRDsgLyog2LHZhdin2K/ZiiDZgdin2KrYrSAqLwogICAgLS10ZXh0OiAjNjU2RDc4OyAvKiDZhNmI2YYg2KfZhNmG2LUg2KfZhNix2KbZitiz2YogKi8KICAgIC0tY2FyZC1iZzogI2ZmZmZmZjsgLyog2K7ZhNmB2YrYqSDYp9mE2KjYt9in2YLYp9iqICovCn0vKiDYo9iy2LHYp9ixINin2YTYqtix2YLZitmFICovCi8qINir2KjZkdiqINi02LHZiti3INin2YTYo9iy2LHYp9ixINmI2KfYrNi52YTZhyDYrNmF2YrZhNin2YsgKi8KI3F1ZXN0aW9uQmFua0FjdGlvbnNCYXIuYWN0aW9ucy1iYXIgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC13cmFwOiB3cmFwOwogIGdhcDogMTBweDsKICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgYm94LXNoYWRvdzogMCAycHggMTBweCAjMGE3MGZmMTE7CiAgcGFkZGluZzogMTRweCAxMHB4OwogIG1hcmdpbi1ib3R0b206IDE4cHg7CiAgcG9zaXRpb246IHN0aWNreTsKICB0b3A6IDExMHB4OyAvKiDYo9iz2YHZhCDYp9mE2YfZitiv2LEgKi8KICB6LWluZGV4OiAxMDsKICBib3JkZXI6IDEuNXB4IHNvbGlkICNlMGU3ZWY7Cn0KLyogT3ZlcnJpZGUgY29udGFjdFVzTW9kYWwgdG8gYmUgc21hbGxlciBhbmQgbW9yZSBjb21wYWN0ICovCiNjb250YWN0VXNNb2RhbCAubW9kYWwtY29udGVudCB7CiAgbWF4LXdpZHRoOiA0MjBweCAhaW1wb3J0YW50OwogIHBhZGRpbmc6IDE0cHggIWltcG9ydGFudDsKICBib3JkZXItcmFkaXVzOiAxMnB4OwogIGJveC1zaGFkb3c6IDAgMTJweCAzMHB4IHJnYmEoMTAsMTEyLDI1NSwwLjEyKTsKfQojY29udGFjdFVzTW9kYWwgLm1vZGFsLXRpdGxlIHsgZm9udC1zaXplOjEuMDVyZW07IG1hcmdpbjowOyB9CiNjb250YWN0VXNNb2RhbCAubW9kYWwtY29udGVudCBwIHsgZm9udC1zaXplOjAuOTZyZW07IGNvbG9yOiMzMzM7IG1hcmdpbjo4cHggMDsgfQojY29udGFjdFVzTW9kYWwgLm1vZGFsLWNvbnRlbnQgYSB7IGZvbnQtd2VpZ2h0OjcwMDsgY29sb3I6IzBhNzBmZjsgfQoKLyogTWFrZSBlbWJlZGRlZCB2aWRlbyBzbWFsbGVyICovCiNjb250YWN0VXNNb2RhbCAubW9kYWwtY29udGVudCA+IGRpdltzdHlsZSo9InBhZGRpbmctYm90dG9tOjU2JSJdIHsKICBwYWRkaW5nLWJvdHRvbTogNTIlOyAvKiBzbGlnaHRseSBzaG9ydGVyICovCn0KI2NvbnRhY3RVc01vZGFsIGlmcmFtZSB7CiAgYm9yZGVyLXJhZGl1czo4cHg7CiAgd2lkdGg6MTAwJTsKICBoZWlnaHQ6MjIwcHg7CiAgbWF4LWhlaWdodDoyNjBweDsKfQoKLyogQ29tcGFjdCBhY3Rpb25zICovCiNjb250YWN0VXNNb2RhbCAubW9kYWwtY29udGVudCAuYnRuIHsgcGFkZGluZzo4cHggMTJweDsgZm9udC1zaXplOjAuOTVyZW07IH0KCi8qIFJlc3BvbnNpdmU6IGV2ZW4gc21hbGxlciBvbiBuYXJyb3cgc2NyZWVucyAqLwpAbWVkaWEgKG1heC13aWR0aDo0ODBweCl7CiAgI2NvbnRhY3RVc01vZGFsIC5tb2RhbC1jb250ZW50IHsgbWF4LXdpZHRoOiAzNDBweCAhaW1wb3J0YW50OyBwYWRkaW5nOjEwcHggIWltcG9ydGFudDsgfQogICNjb250YWN0VXNNb2RhbCBpZnJhbWUgeyBoZWlnaHQ6MTYwcHg7IH0KfQojcXVlc3Rpb25CYW5rQWN0aW9uc0JhciAuYnRuLWRhbmdlciB7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCNmYzVjNjUsI2U3NGMzYyk7CiAgY29sb3I6ICNmZmY7CiAgYm9yZGVyOiBub25lOwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGJveC1zaGFkb3c6IDAgMnB4IDhweCAjZmM1YzY1MTE7CiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjNzLCB0cmFuc2Zvcm0gMC4yczsKICBib3JkZXItcmFkaXVzOiA4cHg7CiAgcGFkZGluZzogMTBweCAxOHB4OwogIGZvbnQtc2l6ZTogMXJlbTsKfQoKI3F1ZXN0aW9uQmFua0FjdGlvbnNCYXIgLmJ0bi1kYW5nZXI6aG92ZXIgewogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywjZTc0YzNjLCNmYzVjNjUpOwogIGNvbG9yOiAjZmZmOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KSBzY2FsZSgxLjA0KTsKfQoucGFnaW5hdGlvbi1jb250YWluZXIgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBnYXA6IDE4cHg7CiAgbWFyZ2luLWJvdHRvbTogMTJweDsKfQoucGFnaW5hdGlvbi1idG4gewogIGJhY2tncm91bmQ6ICMwYTcwZmY7CiAgY29sb3I6ICNmZmY7CiAgYm9yZGVyOiBub25lOwogIGJvcmRlci1yYWRpdXM6IDIycHg7CiAgcGFkZGluZzogN3B4IDIycHg7CiAgZm9udC1zaXplOiAxcmVtOwogIGN1cnNvcjogcG9pbnRlcjsKICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMnM7Cn0KLnBhZ2luYXRpb24tYnRuOmRpc2FibGVkIHsKICBiYWNrZ3JvdW5kOiAjYjJiZWMzOwogIGN1cnNvcjogbm90LWFsbG93ZWQ7Cn0KLnBhZ2luYXRpb24taW5mbyB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgY29sb3I6ICMwYTcwZmY7Cn0KCi5leGFtLWNhcmQgewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiAxNXB4OwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgcGFkZGluZzogMjBweDsKfQoKLmV4YW0tY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBhNzBmZiwgIzE0ZWU4OCk7CiAgICBjb2xvcjogd2hpdGU7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwIDA7Cn0KCi5leGFtLWNhcmQtYm9keSB7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgY29sb3I6ICMyMjI7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBsaW5lLWhlaWdodDogMS42OwogICAgdGV4dC1hbGlnbjoganVzdGlmeTsKfQoKLmV4YW0tY2FyZC1mb290ZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7CiAgICBmb250LXNpemU6IDAuOXJlbTsKICAgIGNvbG9yOiAjODg4OwogICAgcGFkZGluZzogMTVweDsKfQoKLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCi5leGFtLXllYXItYmFkZ2UsIC5zZWxmdGVzdC15ZWFyLWJhZGdlIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAxMHB4OwogIGxlZnQ6IDEwcHg7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBhNzBmZiA3MCUsICMxNGVlODggMTAwJSk7CiAgY29sb3I6ICNmZmY7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgZm9udC1zaXplOiAwLjkycmVtOyAgICAgICAgLyog2K3YrNmFINin2YTYrti3INij2YjYttitINmC2YTZitmE2KfZiyAqLwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICB3aWR0aDogNDJweDsgICAgICAgICAgICAgICAvKiDYr9in2KbYsdipINij2YjYttitINmC2YTZitmE2KfZiyAqLwogIGhlaWdodDogNDJweDsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYm94LXNoYWRvdzogMCAycHggMTBweCAjMGE3MGZmMzM7CiAgei1pbmRleDogMTA7CiAgYm9yZGVyOiAyLjVweCBzb2xpZCAjZmZmOwogIGxldHRlci1zcGFjaW5nOiAwLjdweDsKICBwYWRkaW5nOiAzcHg7ICAgICAgICAgICAgICAvKiDZhdiz2KfYrdipINiv2KfYrtmE2YrYqSDYo9mD2KjYsSDZgtmE2YrZhNin2YsgKi8KICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgbGluZS1oZWlnaHQ6IDEuMTsKICB3b3JkLWJyZWFrOiBicmVhay13b3JkOyAgICAvKiDZitiz2YXYrSDYqNmD2LPYsSDYp9mE2LPYt9ixINil2LDYpyDZg9in2YYg2KfZhNmG2LUg2LfZiNmK2YQgKi8KICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkOwogIHdoaXRlLXNwYWNlOiBub3JtYWw7CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMTVzLCBib3gtc2hhZG93IDAuMTVzOwp9CgoKLmV4YW0tbWV0YS1iYWRnZSB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogcm93OyAvKiDYo9i22YEg2YfYsNinINin2YTYs9i32LEg2KPZiCDYp9is2LnZhNmHIHJvdyAqLwogIGdhcDogMTZweDsKICBwYWRkaW5nOiA0cHggMHB4OwogIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgYm9yZGVyLXJhZGl1czogMCAwIDEycHggMTJweDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgICAvKiDYp9is2LnZhCDYp9mE2LnZhtin2LXYsSDZgdmKINin2YTZhdmG2KrYtdmBINij2YHZgtmK2YvYpyAqLwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7ICAgICAgIC8qINin2KzYudmEINin2YTYudmG2KfYtdixINmB2Yog2KfZhNmF2YbYqti12YEg2LnZhdmI2K/ZitmL2KcgKi8KICBkaXJlY3Rpb246IHJ0bDsKfQoKLmV4YW0tYmFkZ2UtbGFiZWwgewogIGZvbnQtc2l6ZTogMC44NXJlbTsKICBjb2xvcjogIzBmMGYwZjsKICBmb250LXdlaWdodDogNzAwOwogIG1hcmdpbi10b3A6IDBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7IC8qINij2LbZgSDZh9iw2Kcg2KfZhNiz2LfYsSAqLwp9CgoKLyog2YXZiNio2KfZitmEOiDYqti12LrZitixINin2YTYtNin2LHYqSDYo9mD2KvYsSAqLwoKLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwoKLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwoKLyog2KrYsdiq2YrYqCDYo9iy2LHYp9ixINin2YTYp9iu2KrYqNin2LE6INin2YTYs9in2KjZgiDZitmF2YrZhtiMINin2YTYqtin2YTZiiDZitiz2KfYsSAqLwovKiBmaWxlcGF0aDogYzpcVXNlcnNcSXNtYWVsIEZhcmFnXERlc2t0b3BcbXkgZmF0aGVyXGluZGV4Lmh0bWwgKi8KI3Rha2VFeGFtUGFnZSAuZXhhbS1mb290ZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlOyAvKiDZhNij2YYg2KfZhNi12YHYrdipIFJUTCAqLwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGdhcDogMTZweDsKfQojcHJldlF1ZXN0aW9uQnRuIHsKICBvcmRlcjogMjsKfQojbmV4dFF1ZXN0aW9uQnRuIHsKICBvcmRlcjogMTsKfQojc3VibWl0RXhhbUJ0biB7CiAgb3JkZXI6IDM7Cn0KCi5vcHRpb24tbGFiZWwuY29ycmVjdCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Q0ZjhlOCAhaW1wb3J0YW50OwogIGNvbG9yOiAjMDBmMDQ4ICFpbXBvcnRhbnQ7Cn0KLm9wdGlvbi1sYWJlbC53cm9uZyB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZWFlYSAhaW1wb3J0YW50OwogIGNvbG9yOiAjYzgyMzMzICFpbXBvcnRhbnQ7Cn0KLyog2KPYttmBINij2Ygg2LnYr9mEINmH2LDYpyDYp9mE2YPZiNivINmB2YogPHN0eWxlPiDZhNis2LnZhCDYrdin2YjZitipINiz2KTYp9mEINin2YTZiNin2KzYqCDZhdiq2YbYp9iz2YLYqSAxMDAlINmB2Yog2KfZhNmH2YjYp9iq2YEg2YjYqNin2YLZiiDYp9mE2LXZgdit2KkgKi8KLyog2KfYrNi52YQg2K3Yp9mI2YrYqSDYs9ik2KfZhCDYp9mE2YjYp9is2Kgg2KfZhNmF2YbYstmE2Yog2KPYtdi62LEg2YHZiiDYp9mE2YfZiNin2KrZgSDZgdmC2LcgKi8KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwoub3B0aW9uLWxhYmVsIHsKICBmb250LXNpemU6IDEuMjVyZW0gIWltcG9ydGFudDsgLyog2K3YrNmFINin2YTYrti3INij2YPYqNixICovCiAgcGFkZGluZzogMTRweCAxOHB4ICFpbXBvcnRhbnQ7Cn0KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwpAbWVkaWEgKG1heC13aWR0aDogNzAwcHgpIHsKICAjc2VsZlRlc3RRdWVzdGlvbiAub3B0aW9uLWxhYmVsLAogICNzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciAub3B0aW9uLWxhYmVsIHsKICAgIGZvbnQtc2l6ZTogMS4xNXJlbSAhaW1wb3J0YW50OyAvKiDYrdis2YUg2KfZhNiu2Lcg2KPZg9io2LEg2YHZiiDYp9mE2YXZiNio2KfZitmEINij2YrYttin2YsgKi8KICAgIHBhZGRpbmc6IDEycHggMTBweCAhaW1wb3J0YW50OwogIH0KfQovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCi8qINit2KfZiNmK2Kkg2LPYpNin2YQg2KfZhNmI2KfYrNioINin2YTZhdmG2LLZhNmKINij2KvZhtin2KEg2KfZhNit2YQgKi8KI3NlbGZUZXN0UXVlc3Rpb24gLnF1ZXN0aW9uLWNhcmQgewogIHdpZHRoOiAxMDAlOwogIG1heC13aWR0aDogOTAwcHg7CiAgbWFyZ2luOiAwIGF1dG8gMjRweCBhdXRvOwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmOGY5ZmEgODAlLCAjZTNmMGZmIDEwMCUpOwogIGJvcmRlci1yYWRpdXM6IDE4cHg7CiAgYm94LXNoYWRvdzogMCA0cHggMThweCByZ2JhKDEwLDExMiwyNTUsMC4xMCk7CiAgcGFkZGluZzogMzJweCAyMnB4IDIycHggMjJweDsKICBib3JkZXI6IDJweCBkYXNoZWQgIzBhNzBmZjQ0OwogIG1pbi1oZWlnaHQ6IDEyMHB4OwogIHRyYW5zaXRpb246IGJveC1zaGFkb3cgMC4yczsKICBkaXNwbGF5OiBibG9jazsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9Ci8qINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDZgdmKINmG2YfYp9mK2Kkg2YXZhNmBINin2YTZgCBDU1Mg2KPZiCDYr9in2K7ZhCA8c3R5bGU+ICovCiNleGl0U2VsZlRlc3RCdG4gewogIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKfQouZXhhbS1mb290ZXIgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiAxNnB4OwogIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsgLyog2YTYo9mGINin2YTYtdmB2K3YqSBSVEwgKi8KfQojcHJldlNlbGZUZXN0UXVlc3Rpb25CdG4gewogIG9yZGVyOiAyOwogIG1hcmdpbi1sZWZ0OiAwOwp9CiNuZXh0U2VsZlRlc3RRdWVzdGlvbkJ0biB7CiAgb3JkZXI6IDE7CiAgbWFyZ2luLXJpZ2h0OiAwOwp9CiNmaW5pc2hTZWxmVGVzdEJ0biB7CiAgb3JkZXI6IDM7Cn0KLyog2KPYttmBINmH2LDYpyDZgdmKIDxzdHlsZT4gKi8KLnBhZ2luYXRpb24tY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZ2FwOiAxOHB4OwogIG1hcmdpbi1ib3R0b206IDEycHg7Cn0KLnBhZ2luYXRpb24tYnRuIHsKICBiYWNrZ3JvdW5kOiAjMGE3MGZmOwogIGNvbG9yOiAjZmZmOwogIGJvcmRlcjogbm9uZTsKICBib3JkZXItcmFkaXVzOiAyMnB4OwogIHBhZGRpbmc6IDdweCAyMnB4OwogIGZvbnQtc2l6ZTogMXJlbTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzOwp9Ci5wYWdpbmF0aW9uLWJ0bjpkaXNhYmxlZCB7CiAgYmFja2dyb3VuZDogI2IyYmVjMzsKICBjdXJzb3I6IG5vdC1hbGxvd2VkOwp9Ci5wYWdpbmF0aW9uLWluZm8gewogIGZvbnQtd2VpZ2h0OiBib2xkOwogIGNvbG9yOiAjMGE3MGZmOwp9Ci8qINit2KfZiNmK2Kkg2LXZgdit2Kkg2KfZhNmI2KfYrNio2KfYqiDYp9mE2YXZhtiy2YTZitmHICjYpdiv2KfYsdipINin2YTYo9iz2KbZhNipKSAqLwojc2VsZlRlc3RRdWVzdGlvbnNDb250YWluZXIgewogIHdpZHRoOiAxMDAlOwogIG1heC13aWR0aDogOTAwcHg7CiAgbWFyZ2luOiAwIGF1dG8gMjRweCBhdXRvOwogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmOGY5ZmEgODAlLCAjZTNmMGZmIDEwMCUpOwogIGJvcmRlci1yYWRpdXM6IDE2cHg7CiAgYm94LXNoYWRvdzogMCA0cHggMThweCByZ2JhKDEwLDExMiwyNTUsMC4wOCk7CiAgcGFkZGluZzogMjhweCAxOHB4IDEycHggMThweDsKICBib3JkZXI6IDJweCBkYXNoZWQgIzBhNzBmZjQ0OwogIG1pbi1oZWlnaHQ6IDYwcHg7CiAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjJzOwogIGRpc3BsYXk6IGJsb2NrOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KICAvKiAuLi5leGlzdGluZyBzdHlsZXMuLi4gKi8KCiAgLyog2KrYrdiz2YrZhiDYtNmD2YQg2LLYsSDYqtiz2KzZitmEINio2YAgR29vZ2xlINiv2KfYrtmEINmG2YXZiNiw2Kwg2KfZhNiv2K7ZiNmEINmI2KfZhNmH2YrYr9ixICovCiAgI2dvb2dsZVNpZ25JbkJ0bkZvcm0sCiAgI2dvb2dsZVNpZ25JbkJ0biB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgZ2FwOiAxMHB4OwogICAgd2lkdGg6IDEwMCU7CiAgICBtYXgtd2lkdGg6IDQyMHB4OwogICAgcGFkZGluZzogMTBweCAxNHB4OwogICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgIGNvbG9yOiAjMjAyMTI0OwogICAgYm9yZGVyOiAxcHggc29saWQgI2U2ZTZlNjsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBib3gtc2hhZG93OiAwIDRweCAxNHB4IHJnYmEoMjAsIDIwLCAyMCwgMC4wNik7CiAgICBmb250LXdlaWdodDogNzAwOwogICAgZm9udC1zaXplOiAxcmVtOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4xMnMgZWFzZSwgYm94LXNoYWRvdyAuMTJzIGVhc2UsIGJhY2tncm91bmQgLjEycyBlYXNlOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICB9CgogIC8qINij2YrZgtmI2YbYqSDYrNmI2KzZhCDYr9in2K7ZhCDYp9mE2LLYsSAqLwogICNnb29nbGVTaWduSW5CdG5Gb3JtIGltZywKICAjZ29vZ2xlU2lnbkluQnRuIGltZyB7CiAgICB3aWR0aDogMjBweDsKICAgIGhlaWdodDogMjBweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGZpbHRlcjogbm9uZTsKICB9CgogIC8qINmE2YjZhiDZhti1INmI2YXYuNmH2LEg2LnZhtivINin2YTZhdix2YjYsSDZiNin2YTYqtix2YPZitiyICovCiAgI2dvb2dsZVNpZ25JbkJ0bkZvcm06aG92ZXIsCiAgI2dvb2dsZVNpZ25JbkJ0bjpob3ZlciB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTNweCk7CiAgICBib3gtc2hhZG93OiAwIDhweCAyNHB4IHJnYmEoMjAsIDIwLCAyMCwgMC4xMik7CiAgfQogICNnb29nbGVTaWduSW5CdG5Gb3JtOmFjdGl2ZSwKICAjZ29vZ2xlU2lnbkluQnRuOmFjdGl2ZSB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7CiAgICBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoMjAsIDIwLCAyMCwgMC4xMCk7CiAgfQogICNnb29nbGVTaWduSW5CdG5Gb3JtOmZvY3VzLAogICNnb29nbGVTaWduSW5CdG46Zm9jdXMgewogICAgb3V0bGluZTogM3B4IHNvbGlkIHJnYmEoMTAsMTEyLDI1NSwwLjE0KTsKICAgIG91dGxpbmUtb2Zmc2V0OiAycHg7CiAgfQoKICAvKiDZhtmF2Lcg2LXYutmK2LEg2YTZhNmG2LUg2K/Yp9iu2YQg2KfZhNiy2LEg2YTYrNi52YQg2KfZhNiq2LHYqtmK2Kgg2KPYrNmF2YQgKi8KICAjZ29vZ2xlU2lnbkluQnRuRm9ybSAuYnRuLXRleHQsCiAgI2dvb2dsZVNpZ25JbkJ0biAuYnRuLXRleHQgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIGxpbmUtaGVpZ2h0OiAxOwogIH0KCiAgLyog2YbYs9iu2Kkg2K/Yp9mD2YbYqS/Zhdi22KfYr9ipINmE2YTZgCBoaWdoIGNvbnRyYXN0INil2LDYpyDYp9it2KrYp9is2Kog2YTYp9it2YLYp9mLICovCiAgQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykgewogICAgI2dvb2dsZVNpZ25JbkJ0bkZvcm0sCiAgICAjZ29vZ2xlU2lnbkluQnRuIHsKICAgICAgYmFja2dyb3VuZDogIzFlMWYyMjsKICAgICAgY29sb3I6ICNmZmY7CiAgICAgIGJvcmRlci1jb2xvcjogIzJiMmMyZjsKICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuNik7CiAgICB9CiAgfQoKICAvKiDYqtit2LPZitmGINin2YTYudix2LYg2LnZhNmJINin2YTZh9mI2KfYqtmBICovCiAgQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7CiAgICAjZ29vZ2xlU2lnbkluQnRuRm9ybSwKICAgICNnb29nbGVTaWduSW5CdG4gewogICAgICBwYWRkaW5nOiAxMHB4OwogICAgICBmb250LXNpemU6IDAuOThyZW07CiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIH0KICAgICNnb29nbGVTaWduSW5CdG5Gb3JtIGltZywKICAgICNnb29nbGVTaWduSW5CdG4gaW1nIHsgd2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7IH0KICB9CgogIC8qINmG2YfYp9mK2Kkg2KfZhNil2LbYp9mB2KfYqiAqLwovKiDYqtmG2KfYs9mCINmD2KfZhdmEINmB2Yog2KfZhNmH2YjYp9iq2YEgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDcwMHB4KSB7CiAgI3NlbGZUZXN0UXVlc3Rpb24gLnF1ZXN0aW9uLWNhcmQsCiAgI3NlbGZUZXN0UXVlc3Rpb25zQ29udGFpbmVyIHsKICAgIG1heC13aWR0aDogMTAwdncgIWltcG9ydGFudDsKICAgIHdpZHRoOiAxMDB2dyAhaW1wb3J0YW50OwogICAgbWFyZ2luOiAwIDAgMThweCAwICFpbXBvcnRhbnQ7CiAgICBib3JkZXItcmFkaXVzOiAwICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiAxMnB4IDJ2dyAxMHB4IDJ2dyAhaW1wb3J0YW50OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50OwogIH0KICAjc2VsZlRlc3RRdWVzdGlvbiAucXVlc3Rpb24tY2FyZCBoMy5xdWVzdGlvbi10ZXh0IHsKICAgIGZvbnQtc2l6ZTogMS4wOHJlbSAhaW1wb3J0YW50OwogICAgbWFyZ2luLWJvdHRvbTogOHB4OwogIH0KICAjc2VsZlRlc3RRdWVzdGlvbiAub3B0aW9uLWxhYmVsLAogICNzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciAub3B0aW9uLWxhYmVsIHsKICAgIGZvbnQtc2l6ZTogMC45N3JlbSAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMTBweCA4cHggIWltcG9ydGFudDsKICAgIG1hcmdpbi1ib3R0b206IDhweCAhaW1wb3J0YW50OwogIH0KICAjc2VsZlRlc3RRdWVzdGlvbiAucXVlc3Rpb24taW1hZ2UsCiAgI3NlbGZUZXN0UXVlc3Rpb25zQ29udGFpbmVyIC5xdWVzdGlvbi1pbWFnZSB7CiAgICBtYXgtd2lkdGg6IDk4dncgIWltcG9ydGFudDsKICAgIG1heC1oZWlnaHQ6IDE4MHB4ICFpbXBvcnRhbnQ7CiAgICBib3JkZXItcmFkaXVzOiA4cHggIWltcG9ydGFudDsKICB9Cn0KCi8qINil2LLYp9mE2Kkg2KfZhNmB2LHYp9i6INin2YTYrNin2YbYqNmKINmB2Yog2LXZgdit2Kkg2KfZhNmI2KfYrNio2KfYqiDYp9mE2YXZhtiy2YTZitmHICovCkBtZWRpYSAobWF4LXdpZHRoOiA3MDBweCkgewogICNtYW5hZ2VTZWxmVGVzdFBhZ2UgLmV4YW0tZm9ybSwKICAjbWFuYWdlU2VsZlRlc3RQYWdlIC5mb3JtLWdyb3VwLAogICNtYW5hZ2VTZWxmVGVzdFBhZ2UgewogICAgcGFkZGluZy1yaWdodDogMCAhaW1wb3J0YW50OwogICAgcGFkZGluZy1sZWZ0OiAwICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tcmlnaHQ6IDAgIWltcG9ydGFudDsKICAgIG1hcmdpbi1sZWZ0OiAwICFpbXBvcnRhbnQ7CiAgICB3aWR0aDogMTAwdncgIWltcG9ydGFudDsKICAgIG1heC13aWR0aDogMTAwdncgIWltcG9ydGFudDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICB9Cn0KLyog2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmB2YogINij2Ygg2YXZhNmBIENTUyDZhNis2LnZhCDYrdin2YjZitipINiz2KTYp9mEINin2YTZiNin2KzYqCDYqNi52LHYtiDYp9mE2LTYp9i02Kkg2YjZhdiq2YbYp9iz2YLYqSAqLwojc2VsZlRlc3RRdWVzdGlvbiAucXVlc3Rpb24tY2FyZCB7CiAgd2lkdGg6IDEwMCU7CiAgbWF4LXdpZHRoOiA5MDBweDsKICBtYXJnaW46IDAgYXV0byAyNHB4IGF1dG87CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZjlmYSA4MCUsICNlM2YwZmYgMTAwJSk7CiAgYm9yZGVyLXJhZGl1czogMThweDsKICBib3gtc2hhZG93OiAwIDRweCAxOHB4IHJnYmEoMTAsMTEyLDI1NSwwLjEwKTsKICBwYWRkaW5nOiAzMnB4IDIycHggMjJweCAyMnB4OwogIGJvcmRlcjogMnB4IGRhc2hlZCAjMGE3MGZmNDQ7CiAgbWluLWhlaWdodDogMTIwcHg7CiAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjJzOwogIGRpc3BsYXk6IGJsb2NrOwp9CgpAbWVkaWEgKG1heC13aWR0aDogMTAwMHB4KSB7CiAgI3NlbGZUZXN0UXVlc3Rpb24gLnF1ZXN0aW9uLWNhcmQgewogICAgbWF4LXdpZHRoOiA5OHZ3OwogICAgcGFkZGluZzogMThweCA0dncgMTRweCA0dnc7CiAgfQp9CkBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgewogICNzZWxmVGVzdFF1ZXN0aW9uIC5xdWVzdGlvbi1jYXJkIHsKICAgIHBhZGRpbmc6IDEwcHggMnZ3ICFpbXBvcnRhbnQ7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgZm9udC1zaXplOiAxcmVtOwogIH0KfQovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCi8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KI2FkZFF1ZXN0aW9uQmFua01vZGFsIC5tb2RhbC1jb250ZW50IHsKICAgIG1heC13aWR0aDogMzQwcHggIWltcG9ydGFudDsKICAgIHdpZHRoOiA5OHZ3ICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiAxMnB4IDhweCAhaW1wb3J0YW50OwogICAgZm9udC1zaXplOiAwLjk3cmVtICFpbXBvcnRhbnQ7CiAgICBtaW4taGVpZ2h0OiB1bnNldCAhaW1wb3J0YW50OwogICAgbWF4LWhlaWdodDogNDIwcHggIWltcG9ydGFudDsgLyog2KrZgtmE2YrZhCDYp9mE2LfZiNmEINin2YTYo9mC2LXZiSAqLwogICAgb3ZlcmZsb3cteTogYXV0byAhaW1wb3J0YW50Owp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCmJvZHksIGh0bWwgewogIHNjcm9sbGJhci13aWR0aDogYXV0bzsgICAgICAgICAgIC8qIEZpcmVmb3ggKi8KICAtbXMtb3ZlcmZsb3ctc3R5bGU6IGF1dG87ICAgICAgICAvKiBJRSAxMCsgKi8KfQoKQG1lZGlhIChtaW4td2lkdGg6IDkwMXB4KSB7CiAgLnNpZGViYXIgewogICAgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50OwogICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lOyAgICAgICAgLyogRmlyZWZveCAqLwogICAgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lOyAgICAgLyogSUUgMTArICovCiAgfQogIC5zaWRlYmFyOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICBkaXNwbGF5OiBub25lOyAgICAgICAgICAgICAgICAvKiBDaHJvbWUsIFNhZmFyaSAqLwogIH0KfQojdG9nZ2xlU2lkZWJhckJ0biB7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9CgpAbWVkaWEgKG1heC13aWR0aDogOTAwcHgpIHsKICAjdG9nZ2xlU2lkZWJhckJ0biB7CiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7CiAgfQp9CkBtZWRpYSAobWF4LXdpZHRoOiA5MDBweCkgewogICN0b2dnbGVTaWRlYmFyQnRuIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgfQp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KQG1lZGlhIChtYXgtd2lkdGg6IDkwMHB4KSB7CiAgICAjdG9nZ2xlU2lkZWJhckJ0biB7CiAgICAgICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50OwogICAgfQogICAgLnNpZGViYXIgewogICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICB0b3A6IDgwcHg7CiAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgd2lkdGg6IDg1dnc7CiAgICAgICAgbWF4LXdpZHRoOiAzMjBweDsKICAgICAgICBtaW4td2lkdGg6IDE4MHB4OwogICAgICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDgwcHgpOwogICAgICAgIHotaW5kZXg6IDIwMDA7CiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsKICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxNnB4IHJnYmEoMTAsMTEyLDI1NSwwLjA5KTsKICAgICAgICBib3JkZXItcmFkaXVzOiAwIDAgMTBweCAxMHB4OwogICAgICAgIHBhZGRpbmctYm90dG9tOiAzMHB4OwogICAgICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMjAlKTsKICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC40cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpOwogICAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICB9CiAgICAuc2lkZWJhci5zaG93IHsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMjRweCByZ2JhKDAsMCwwLDAuMTIpOwogICAgfQp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KI3RpbWVSZW1haW5pbmcgewogIG1pbi13aWR0aDogNzBweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGZvbnQtc2l6ZTogMS4xNXJlbTsKICBmb250LWZhbWlseTogJ1RhamF3YWwnLCBBcmlhbCwgc2Fucy1zZXJpZjsKICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICBwYWRkaW5nOiA0cHggMDsKICBsZXR0ZXItc3BhY2luZzogMnB4OwogIGZvbnQtdmFyaWFudC1udW1lcmljOiB0YWJ1bGFyLW51bXM7CiAgdHJhbnNpdGlvbjogbm9uZTsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwovKiA9PT09PT09PT09PT09PT09PT0g2KPYs9in2LPZitin2Kog2KfZhNiq2LXZhdmK2YUg2KfZhNmF2KrYrNin2YjYqCA9PT09PT09PT09PT09PT09PT0gKi8KLnNpZGViYXIgewogIG1heC1oZWlnaHQ6IDA7CiAgdHJhbnNpdGlvbjogbWF4LWhlaWdodCAwLjRzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKLnNpZGViYXIuc2hvdyB7CiAgbWF4LWhlaWdodDogNTAwcHg7IC8qINi52K/ZhCDYp9mE2YLZitmF2Kkg2K3Ys9ioINi32YjZhCDYp9mE2YLYp9im2YXYqSAqLwogIGJveC1zaGFkb3c6IDAgOHB4IDI0cHggcmdiYSgwLDAsMCwwLjEyKTsKfQovKiDYp9is2LnZhCDYrdin2YjZitipINiz2KTYp9mEINin2YTZiNin2KzYqCAoI3NlbGZUZXN0UXVlc3Rpb24gLnF1ZXN0aW9uLWNhcmQpINio2LnYsdi2INmD2KjZitixINmI2YXYqtmG2KfYs9mCINmF2Lkg2YPZhCDYp9mE2LTYp9i02KfYqiAqLwojc2VsZlRlc3RRdWVzdGlvbiAucXVlc3Rpb24tY2FyZCB7CiAgd2lkdGg6IDEwMCU7CiAgbWF4LXdpZHRoOiA5MDBweDsKICBtYXJnaW46IDAgYXV0byAyNHB4IGF1dG87CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZjlmYSA4MCUsICNlM2YwZmYgMTAwJSk7CiAgYm9yZGVyLXJhZGl1czogMThweDsKICBib3gtc2hhZG93OiAwIDRweCAxOHB4IHJnYmEoMTAsMTEyLDI1NSwwLjEwKTsKICBwYWRkaW5nOiAzMnB4IDIycHggMjJweCAyMnB4OwogIGJvcmRlcjogMnB4IGRhc2hlZCAjMGE3MGZmNDQ7CiAgbWluLWhlaWdodDogMTIwcHg7CiAgdHJhbnNpdGlvbjogYm94LXNoYWRvdyAwLjJzOwogIGRpc3BsYXk6IGJsb2NrOwp9CgovKiDYqtmG2KfYs9mCINmF2Lkg2KjYp9mC2Yog2KfZhNi12YHYrdipINmB2Yog2KfZhNmH2YjYp9iq2YEgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDEwMDBweCkgewogICNzZWxmVGVzdFF1ZXN0aW9uIC5xdWVzdGlvbi1jYXJkIHsKICAgIG1heC13aWR0aDogOTh2dzsKICAgIHBhZGRpbmc6IDE4cHggNHZ3IDE0cHggNHZ3OwogIH0KfQpAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAjc2VsZlRlc3RRdWVzdGlvbiAucXVlc3Rpb24tY2FyZCB7CiAgICBwYWRkaW5nOiAxMHB4IDJ2dyAhaW1wb3J0YW50OwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIG1hcmdpbjogMCAwIDE4cHggMDsKICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDEwLDExMiwyNTUsMC4wOCk7CiAgfQogICNzZWxmVGVzdFF1ZXN0aW9uIC5xdWVzdGlvbi1jYXJkIGgzLnF1ZXN0aW9uLXRleHQgewogICAgZm9udC1zaXplOiAxLjA1cmVtICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgfQogICNzZWxmVGVzdFF1ZXN0aW9uIC5vcHRpb24tbGFiZWwgewogICAgZm9udC1zaXplOiAwLjk3cmVtICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiAxMHB4IDhweCAhaW1wb3J0YW50OwogICAgbWFyZ2luLWJvdHRvbTogOHB4ICFpbXBvcnRhbnQ7CiAgfQogICNzZWxmVGVzdFF1ZXN0aW9uIC5xdWVzdGlvbi1pbWFnZSB7CiAgICBtYXgtd2lkdGg6IDk4dncgIWltcG9ydGFudDsKICAgIG1heC1oZWlnaHQ6IDE4MHB4ICFpbXBvcnRhbnQ7CiAgICBib3JkZXItcmFkaXVzOiA4cHggIWltcG9ydGFudDsKICB9Cn0KLyog2KfZhNit2KfZiNmK2Kkg2KfZhNix2KbZitiz2YrYqSAqLwouY29udGFpbmVyIHsKICAgIG1heC13aWR0aDogMTIwMHB4OwogICAgbWFyZ2luOiAwIGF1dG87CiAgICBwYWRkaW5nOiAwIDE1cHg7CiAgICB3aWR0aDogMTAwJTsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwpAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAuY29udGFpbmVyLAogIC5jb250ZW50LWFyZWEsCiAgLmV4YW0tY29udGFpbmVyLAogIC5yZXN1bHRzLWNvbnRhaW5lciwKICAucXVlc3Rpb24tY2FyZCwKICAuc2VsZi10ZXN0LWNhcmQgewogICAgd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7CiAgICBtYXgtd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7CiAgICBtaW4td2lkdGg6IDAgIWltcG9ydGFudDsKICAgIG1hcmdpbi1sZWZ0OiAwICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tcmlnaHQ6IDAgIWltcG9ydGFudDsKICAgIGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDsKICAgIHBhZGRpbmctbGVmdDogMCAhaW1wb3J0YW50OwogICAgcGFkZGluZy1yaWdodDogMCAhaW1wb3J0YW50OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50OwogIH0KICAucXVlc3Rpb24tY2FyZCwKICAuc2VsZi10ZXN0LWNhcmQsCiAgLmV4YW0tY29udGFpbmVyLAogIC5yZXN1bHRzLWNvbnRhaW5lciB7CiAgICBwYWRkaW5nOiAxMnB4IDJ2dyAhaW1wb3J0YW50OwogICAgZm9udC1zaXplOiAxcmVtICFpbXBvcnRhbnQ7CiAgfQogIC5xdWVzdGlvbi1jYXJkIGgzLAogIC5xdWVzdGlvbi1jYXJkIC5xdWVzdGlvbi10ZXh0LAogIC5zZWxmLXRlc3QtY2FyZC1oZWFkZXIsCiAgLmV4YW0tdGl0bGUsCiAgLnBhZ2UtdGl0bGUgewogICAgZm9udC1zaXplOiAxLjFyZW0gIWltcG9ydGFudDsKICAgIG1hcmdpbi1ib3R0b206IDhweCAhaW1wb3J0YW50OwogIH0KICAub3B0aW9uLWxhYmVsIHsKICAgIGZvbnQtc2l6ZTogMC45N3JlbSAhaW1wb3J0YW50OwogICAgcGFkZGluZzogMTBweCA4cHggIWltcG9ydGFudDsKICAgIG1hcmdpbi1ib3R0b206IDhweCAhaW1wb3J0YW50OwogIH0KICAucXVlc3Rpb24taW1hZ2UgewogICAgbWF4LXdpZHRoOiA5OHZ3ICFpbXBvcnRhbnQ7CiAgICBtYXgtaGVpZ2h0OiAxODBweCAhaW1wb3J0YW50OwogICAgYm9yZGVyLXJhZGl1czogOHB4ICFpbXBvcnRhbnQ7CiAgfQogIC5leGFtcy1jb250YWluZXIsCiAgLmV4YW1zLWdyaWQsCiAgI3NsaWRlc0dyaWQsCiAgI2NvdXJzZXNDb250YWluZXIgewogICAgd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7CiAgICBtYXgtd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nLWxlZnQ6IDAgIWltcG9ydGFudDsKICAgIHBhZGRpbmctcmlnaHQ6IDAgIWltcG9ydGFudDsKICAgIG1hcmdpbi1sZWZ0OiAwICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tcmlnaHQ6IDAgIWltcG9ydGFudDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICB9Cn0KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCkBtZWRpYSAobWF4LXdpZHRoOiA2MDBweCkgewogIC5xdWVzdGlvbi1jYXJkIHsKICAgIHdpZHRoOiAxMDB2dyAhaW1wb3J0YW50OwogICAgbWF4LXdpZHRoOiAxMDB2dyAhaW1wb3J0YW50OwogICAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7CiAgICBtYXJnaW4tbGVmdDogMCAhaW1wb3J0YW50OwogICAgbWFyZ2luLXJpZ2h0OiAwICFpbXBvcnRhbnQ7CiAgICBib3JkZXItcmFkaXVzOiAwICFpbXBvcnRhbnQ7CiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgxMCwxMTIsMjU1LDAuMDgpOwogICAgcGFkZGluZzogMTBweCAydncgIWltcG9ydGFudDsKICAgIGZvbnQtc2l6ZTogMXJlbSAhaW1wb3J0YW50OwogIH0KICAucXVlc3Rpb24tY2FyZCBoMy5xdWVzdGlvbi10ZXh0IHsKICAgIGZvbnQtc2l6ZTogMS4wNXJlbSAhaW1wb3J0YW50OwogICAgbWFyZ2luLWJvdHRvbTogOHB4OwogIH0KICAub3B0aW9ucy1saXN0IHsKICAgIHBhZGRpbmc6IDA7CiAgICBtYXJnaW46IDA7CiAgfQogIC5vcHRpb24tbGFiZWwgewogICAgZm9udC1zaXplOiAwLjk3cmVtICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiAxMHB4IDhweCAhaW1wb3J0YW50OwogICAgbWFyZ2luLWJvdHRvbTogOHB4OwogIH0KICAucXVlc3Rpb24taW1hZ2UgewogICAgbWF4LXdpZHRoOiA5OHZ3ICFpbXBvcnRhbnQ7CiAgICBtYXgtaGVpZ2h0OiAxODBweCAhaW1wb3J0YW50OwogICAgYm9yZGVyLXJhZGl1czogOHB4ICFpbXBvcnRhbnQ7CiAgfQp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KCi8qINin2YTYtNio2YPYqSDYp9mE2LHYptmK2LPZitipICovCi5kYXNoYm9hcmQgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTsKICAgIGdhcDogMjBweDsKICAgIG1pbi1oZWlnaHQ6IDcwdmg7CiAgICB3aWR0aDogMTAwJTsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwoucXVlc3Rpb24tY2FyZCB7CiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZjlmYSA4MCUsICNlM2YwZmYgMTAwJSk7CiAgYm9yZGVyLXJhZGl1czogMTRweDsKICBib3gtc2hhZG93OiAwIDRweCAxOHB4IHJnYmEoMTAsMTEyLDI1NSwwLjA4KTsKICBwYWRkaW5nOiAxOHB4IDE0cHg7CiAgbWFyZ2luLWJvdHRvbTogMThweDsKICBib3JkZXI6IDEuNXB4IHNvbGlkICNlMGU3ZWY7CiAgY29sb3I6ICMyMjI7CiAgYW5pbWF0aW9uOiBmYWRlSW4gMC43czsKICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnM7CiAgbWF4LXdpZHRoOiA2MDBweDsKICB3aWR0aDogMTAwJTsKICBtYXJnaW4tbGVmdDogYXV0bzsKICBtYXJnaW4tcmlnaHQ6IGF1dG87Cn0KCi5xdWVzdGlvbi1jYXJkIGgzLnF1ZXN0aW9uLXRleHQgewogIGZvbnQtc2l6ZTogMS4xNXJlbTsKICBmb250LXdlaWdodDogYm9sZDsKICBjb2xvcjogIzAwMDAwMDsKICBtYXJnaW4tYm90dG9tOiAxMnB4OwogIGxpbmUtaGVpZ2h0OiAxLjY7Cn0KCi5vcHRpb25zLWxpc3QgewogIHBhZGRpbmc6IDA7CiAgbWFyZ2luOiAwOwp9Cgoub3B0aW9uLWxhYmVsIHsKICBmb250LXNpemU6IDFyZW07CiAgcGFkZGluZzogMTBweCAxMnB4OwogIG1hcmdpbi1ib3R0b206IDhweDsKICBib3JkZXItcmFkaXVzOiA3cHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTdlZjsKICBiYWNrZ3JvdW5kOiAjZmZmOwogIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycywgYm9yZGVyIDAuMnM7Cn0KCi5vcHRpb24tbGFiZWwuc2VsZWN0ZWQgewogIGJhY2tncm91bmQ6ICNlM2YwZmY7CiAgYm9yZGVyLWNvbG9yOiAjMGE3MGZmOwp9CgpAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAucXVlc3Rpb24tY2FyZCB7CiAgICBwYWRkaW5nOiAxMHB4IDZweDsKICAgIG1heC13aWR0aDogOTh2dzsKICAgIGZvbnQtc2l6ZTogMC45N3JlbTsKICB9CiAgLnF1ZXN0aW9uLWNhcmQgaDMucXVlc3Rpb24tdGV4dCB7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBtYXJnaW4tYm90dG9tOiA4cHg7CiAgfQogIC5vcHRpb24tbGFiZWwgewogICAgZm9udC1zaXplOiAwLjk1cmVtOwogICAgcGFkZGluZzogOHB4IDhweDsKICB9CiAgLnF1ZXN0aW9uLWltYWdlIHsKICAgIG1heC1oZWlnaHQ6IDE4MHB4ICFpbXBvcnRhbnQ7CiAgfQp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KLyog2KfZhNmC2KfYptmF2Kkg2KfZhNis2KfZhtio2YrYqSAqLwouc2lkZWJhciB7CiAgICBtaW4td2lkdGg6IDIyMHB4OwogICAgbWF4LXdpZHRoOiAyNjBweDsKICAgIHdpZHRoOiAyNDBweDsKICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgYm94LXNoYWRvdzogMCA0cHggMTZweCByZ2JhKDEwLDExMiwyNTUsMC4wOSk7CiAgICBwYWRkaW5nOiAyMHB4IDEwcHggMzBweCAxMHB4OwogICAgaGVpZ2h0OiBmaXQtY29udGVudDsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHotaW5kZXg6IDEwMDsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOwp9CgovKiDYstixINin2YTZgtin2KbZhdipINin2YTYrNin2YbYqNmK2KkgKi8KI3RvZ2dsZVNpZGViYXJCdG4gewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAyMHB4OwogICAgcmlnaHQ6IDIwcHg7CiAgICB6LWluZGV4OiAyMDAxOwogICAgYmFja2dyb3VuZDogIzBhNzBmZjsKICAgIGNvbG9yOiAjZmZmOwogICAgYm9yZGVyOiBub25lOwogICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgd2lkdGg6IDQ4cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7CgogICAgaGVpZ2h0OiA0OHB4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgZm9udC1zaXplOiAxLjVyZW07CiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgxMCwxMTIsMjU1LDAuMTIpOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzLCBjb2xvciAwLjJzLCB0cmFuc2Zvcm0gMC4yczsKfQojdG9nZ2xlU2lkZWJhckJ0bjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiAjMTRlZTg4OwogICAgY29sb3I6ICMwYTcwZmY7CiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDgpOwp9CgovKiDZhdmG2LfZgtipINin2YTZhdit2KrZiNmJICovCi5jb250ZW50LWFyZWEgewogICAgZmxleDogMSAxIDAlOwogICAgbWluLXdpZHRoOiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLDAsMCwwLjA1KTsKICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9CgovKiDYp9mE2YHZiNiq2LEg2K/Yp9im2YXYp9mLINmB2YjZgiDZg9mEINi02YrYoSAqLwovKiAuLi5leGlzdGluZyBjb2RlLi4uICovCi5mb290ZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiDYo9mIINin2K3YsNmBINin2YTYs9i32LEg2KrZhdin2YXYp9mLICovCiAgICB6LWluZGV4OiAxOyAgICAgICAgIC8qINmC2YTZhCDZgtmK2YXYqSB6LWluZGV4ICovCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGE3MGZmOwogICAgY29sb3I6IHdoaXRlOwogICAgcGFkZGluZzogMjBweCAwOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLXRvcDogMzBweDsKICAgIGJveC1zaGFkb3c6IDAgLTJweCAxMHB4IHJnYmEoMCwwLDAsMC4xKTsKICAgIHdpZHRoOiAxMDAlOwp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KCi8qINij2LbZgSDZh9iw2Kcg2KfZhNiz2LfYsSDZhNmK2LbZhdmGINij2YYg2KfZhNmF2K3YqtmI2Ykg2YTYpyDZitiu2KrZgdmKINiu2YTZgSDYp9mE2YHZiNiq2LEgKi8KbWFpbiwgLmNvbnRhaW5lciB7CiAgICBtYXJnaW4tYm90dG9tOiA4MHB4OyAvKiDYudiv2YQg2KfZhNmC2YrZhdipINit2LPYqCDYp9ix2KrZgdin2Lkg2KfZhNmB2YjYqtixICovCn0KCi8qINin2YTZgtin2KbZhdipINin2YTYrNin2YbYqNmK2Kkg2YTYpyDYqti62LfZiiDYp9mE2YHZiNiq2LEgKi8KQG1lZGlhIChtaW4td2lkdGg6IDkwMHB4KSB7CiAgICAuZGFzaGJvYXJkIHsKICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93LXJldmVyc2U7CiAgICB9CiAgICAuc2lkZWJhciB7CiAgICAgICAgcG9zaXRpb246IHN0aWNreTsKICAgICAgICB0b3A6IDExMHB4OwogICAgICAgIGhlaWdodDogZml0LWNvbnRlbnQ7CiAgICAgICAgbWF4LWhlaWdodDogY2FsYygxMDB2aCAtIDEyMHB4KTsKICAgIH0KfQoKLyog2YXZiNio2KfZitmEINmI2KrYp9io2YTYqjog2KfZhNmC2KfYptmF2Kkg2KfZhNis2KfZhtio2YrYqSDYqti42YfYsSDZgdmI2YIg2KfZhNmF2K3YqtmI2Ykg2YjYqtiu2KrZgdmKINin2YHYqtix2KfYttmK2KfZiyAqLwpAbWVkaWEgKG1heC13aWR0aDogOTAwcHgpIHsKICAgIC5kYXNoYm9hcmQgewogICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgZ2FwOiAwOwogICAgfQogICAgLnNpZGViYXIgewogICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICB0b3A6IDgwcHg7CiAgICAgICAgcmlnaHQ6IDA7CiAgICAgICAgd2lkdGg6IDg1dnc7CiAgICAgICAgbWF4LXdpZHRoOiAzMjBweDsKICAgICAgICBtaW4td2lkdGg6IDE4MHB4OwogICAgICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDgwcHgpOwogICAgICAgIHotaW5kZXg6IDIwMDA7CiAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsKICAgICAgICBib3gtc2hhZG93OiAwIDRweCAxNnB4IHJnYmEoMTAsMTEyLDI1NSwwLjA5KTsKICAgICAgICBib3JkZXItcmFkaXVzOiAwIDAgMTBweCAxMHB4OwogICAgICAgIHBhZGRpbmctYm90dG9tOiAzMHB4OwogICAgICAgICBkaXNwbGF5OiBibG9jazsgLyogQWRkZWQgKi8KICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IC8qIEFkZGVkICovCiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZS1pbi1vdXQ7IC8qIEFkZGVkICovCiAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgIH0KICAgIC5zaWRlYmFyLnNob3cgewogICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyAvKiBBZGRlZCAqLwogICAgfQogICAgLmNvbnRlbnQtYXJlYSB7CiAgICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgICAgICBtYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgfQp9CgovKiDYp9mE2KzYr9in2YjZhCDZhdiq2KzYp9mI2KjYqSAqLwp0YWJsZSwgLmdyYWRlcy10YWJsZSB7CiAgICB3aWR0aDogMTAwJTsKICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMTAsMTEyLDI1NSwwLjA2KTsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICBmb250LXNpemU6IDFyZW07Cn0KdGgsIHRkIHsKICAgIHBhZGRpbmc6IDEycHggMTVweDsKICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlYWVhZWE7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgd29yZC1icmVhazogYnJlYWstd29yZDsKfQp0aCB7CiAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogICAgY29sb3I6ICMwYTcwZmY7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGZvbnQtc2l6ZTogMS4wNXJlbTsKfQp0cjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kOiAjZjVmN2ZhOwp9CkBtZWRpYSAobWF4LXdpZHRoOiAxMjAwMHB4KSB7CiAgICB0YWJsZSwgLmdyYWRlcy10YWJsZSB7CiAgICAgICAgZm9udC1zaXplOiAwLjkzcmVtOwogICAgICAgIG1pbi13aWR0aDogNDgwcHg7CiAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgb3ZlcmZsb3cteDogYXV0bzsKICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIH0KICAgIHRoLCB0ZCB7CiAgICAgICAgcGFkZGluZzogOHB4IDVweDsKICAgIH0KfQpAbWVkaWEgKG1heC13aWR0aDogNTAwcHgpIHsKICAgIHRhYmxlLCAuZ3JhZGVzLXRhYmxlIHsKICAgICAgICBmb250LXNpemU6IDAuODlyZW07CiAgICAgICAgbWluLXdpZHRoOiAzNDBweDsKICAgIH0KICAgIHRoLCB0ZCB7CiAgICAgICAgcGFkZGluZzogN3B4IDNweDsKICAgIH0KfQovKiDYp9is2LnZhCDYp9mE2YLYp9im2YXYqSDYp9mE2KzYp9mG2KjZitipIChzaWRlYmFyKSDZgtin2KjZhNipINmE2YTYqtmF2LHZitixINin2YTYudmF2YjYr9mKINmB2YLYtyAqLwouc2lkZWJhciB7CiAgICBvdmVyZmxvdy15OiBhdXRvICFpbXBvcnRhbnQ7CiAgICBvdmVyZmxvdy14OiBoaWRkZW4gIWltcG9ydGFudDsKICAgIG1heC1oZWlnaHQ6IGNhbGMoMTMwdmggLSAxMjBweCk7IC8qINit2KrZiSDZhNinINiq2LrYt9mKINin2YTZgdmI2KrYsSDYo9mIINin2YTZh9mK2K/YsSAqLwp9CgovKiDYqtit2LPZitmGINi02YPZhCDYtNix2YrYtyDYp9mE2KrZhdix2YrYsSDZhNmE2YAgc2lkZWJhciAqLwouc2lkZWJhcjo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDhweDsKfQouc2lkZWJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIgewogICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQouc2lkZWJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sgewogICAgYmFja2dyb3VuZDogI2Y1ZjdmYTsKfQovKiDYp9mE2KjYt9in2YLYp9iqINmF2KrYrNin2YjYqNipICovCi5leGFtLWNhcmQsIC5zbGlkZS1jYXJkLCAuc2VsZi10ZXN0LWNhcmQsIC5jYXJkIHsKICAgIHdpZHRoOiAxMDAlOwogICAgbWluLXdpZHRoOiAwOwogICAgbWF4LXdpZHRoOiAxMDAlOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0KLmV4YW1zLWdyaWQsICNzbGlkZXNHcmlkLCAjY291cnNlc0NvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBncmlkOwogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzAwcHgsIDFmcikpOwogICAgZ2FwOiAyMHB4Owp9CkBtZWRpYSAobWF4LXdpZHRoOiA5MDBweCkgewogICAgLmV4YW1zLWdyaWQsICNzbGlkZXNHcmlkLCAjY291cnNlc0NvbnRhaW5lciB7CiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7CiAgICAgICAgZ2FwOiAxNXB4OwogICAgfQp9CgovKiDYp9mE2YbZiNin2YHYsCDYp9mE2YXZhtio2KvZgtipINmF2KrYrNin2YjYqNipICovCi5tb2RhbC1jb250ZW50IHsKICAgIHdpZHRoOiA5NXZ3OwogICAgbWF4LXdpZHRoOiA0MDBweDsKICAgIG1pbi13aWR0aDogMDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KQG1lZGlhIChtYXgtd2lkdGg6IDUwMHB4KSB7CiAgICAubW9kYWwtY29udGVudCB7CiAgICAgICAgcGFkZGluZzogMTBweCA1cHg7CiAgICAgICAgZm9udC1zaXplOiAwLjk1cmVtOwogICAgfQp9CgovKiDYqtit2LPZitmG2KfYqiDYudin2YXYqSAqLwpib2R5IHsKICAgIGZvbnQtZmFtaWx5OiAnVGFqYXdhbCcsIEFyaWFsLCBzYW5zLXNlcmlmOwogICAgZm9udC1zaXplOiAxNnB4OwogICAgbGluZS1oZWlnaHQ6IDEuNzsKICAgIGNvbG9yOiAjNTU1OwogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKICAgIGJhY2tncm91bmQ6ICNmNWY3ZmE7CiAgICBtaW4taGVpZ2h0OiAxMDB2aDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLnNsaWRlLWNhcmQtYm9keSB7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzBhNzBmZjsKICAgIGNvbG9yOiAjMzMzOyAvKiDZhNmI2YYg2KfZhNmG2LUgKi8KICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5Owp9CmJvZHkgewogICAgZm9udC1mYW1pbHk6ICdUYWphd2FsJywgc2Fucy1zZXJpZjsKICAgIGZvbnQtc2l6ZTogMTZweDsKICAgIGxpbmUtaGVpZ2h0OiAxLjc7CiAgICBjb2xvcjogIzU1NTsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgCn0KI3NlYXJjaElucHV0IHsKICAgIHdpZHRoOiAxMDAlOwogICAgcGFkZGluZzogMTBweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCiNzZWFyY2hJbnB1dDpmb2N1cyB7CiAgICBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgb3V0bGluZTogbm9uZTsKICAgIGJveC1zaGFkb3c6IDAgMCA1cHggcmdiYSg2NywgOTcsIDIzOCwgMC41KTsKfQouY29udGFpbmVyIHsKICAgIG1heC13aWR0aDogMTIwMHB4OwogICAgbWFyZ2luOiAwIGF1dG87CiAgICBwYWRkaW5nOiAwIDE1cHg7Cn0KCmhlYWRlciwgZm9vdGVyIHsKICAgIHdpZHRoOiAxMDAlOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci8qINiq2LXZhdmK2YUg2KjYt9in2YLYqSDYp9mE2KfYrtiq2KjYp9ixICovCi5leGFtLWNhcmQgewogICAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiDYo9i22YEg2YfYsNinINin2YTYs9i32LEgKi8KCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyAvKiDYrtmE2YHZitipINio2YrYttin2KEgKi8KICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7IC8qINit2YjYp9mBINmF2LPYqtiv2YrYsdipICovCiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgYm94LXNoYWRvdzogMCA2cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMSk7IC8qINi42YQg2K7ZgdmK2YEgKi8KICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7IC8qINiq2KPYq9mK2LEg2LnZhtivINin2YTYqtit2YjZitmFICovCiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7IC8qINmE2YjZhiDYp9mE2K3Yr9mI2K8gKi8KfQoKLmV4YW0tY2FyZDpob3ZlciB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7IC8qINix2YHYuSDYp9mE2KjYt9in2YLYqSDYudmG2K8g2KfZhNiq2K3ZiNmK2YUgKi8KICAgIGJveC1zaGFkb3c6IDAgMTBweCAyNXB4IHJnYmEoMCwgMCwgMCwgMC4xNSk7IC8qINiy2YrYp9iv2Kkg2KfZhNi42YQgKi8KfQoKLmV4YW0tY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2E3MzEwNiwgI2ZmNjM0Nyk7IC8qINiq2K/YsdisINmE2YjZhtmKINio2LHYqtmC2KfZhNmKICovCiAgICBjb2xvcjogd2hpdGU7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKfQoKLmV4YW0tY2FyZC1ib2R5IHsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBjb2xvcjogIzMzMzsgLyog2YTZiNmGINin2YTZhti1ICovCiAgICBmb250LXNpemU6IDFyZW07CiAgICBsaW5lLWhlaWdodDogMS42OwogICAgdGV4dC1hbGlnbjoganVzdGlmeTsKICAgIAp9CgouZXhhbS1jYXJkLW1ldGEgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBwYWRkaW5nOiAxM3B4IDNweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwNjdlZjU7IC8qINiu2YTZgdmK2Kkg2LHZhdin2K/ZitipINmB2KfYqtit2KkgKi8KICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjMDY3ZWY1OwogICAgZm9udC1zaXplOiAwLjlyZW07CiAgICBjb2xvcjogI2ZmZmZmZjsgLyog2YTZiNmGINin2YTZhti1ICovCn0KCi5tZXRhLWl0ZW0gewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBnYXA6IDVweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyOTk0ZmY7IC8qINiu2YTZgdmK2Kkg2K7ZgdmK2YHYqSAqLwogICAgcGFkZGluZzogOHB4IDEycHg7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpOyAvKiDYuNmEINiu2YHZitmBICovCiAgICBmb250LXdlaWdodDogNTAwOwp9CgoubWV0YS1pdGVtIGkgewogICAgY29sb3I6ICNmZjYzNDc7IC8qINmE2YjZhiDYp9mE2KPZitmC2YjZhtin2KogKi8KICAgIGZvbnQtc2l6ZTogMS4xcmVtOwp9CgouZXhhbS1jYXJkLWZvb3RlciB7CiAgICBwYWRkaW5nOiAxNXB4IDIwcHg7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7IC8qINiu2YTZgdmK2Kkg2YHYp9iq2K3YqSAqLwogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7Cn0KCi5leGFtLWNhcmQtZm9vdGVyIC5idG4gewogICAgcGFkZGluZzogMTBweCAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgZm9udC1zaXplOiAwLjlyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5leGFtLWNhcmQtZm9vdGVyIC5idG4tcHJpbWFyeSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY2MzQ3OyAvKiDZhNmI2YYg2KjYsdiq2YLYp9mE2YogKi8KICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKfQouZXhhbXMtY29udGFpbmVyIHsKICAgIG1heC1oZWlnaHQ6IDQwMHB4OyAvKiDYp9ix2KrZgdin2Lkg2KvYp9io2Kog2YTZhNit2KfZiNmK2KkgKi8KICAgIG92ZXJmbG93LXk6IGF1dG87IC8qINiq2YXZg9mK2YYg2KfZhNiq2YXYsdmK2LEg2KfZhNi52YXZiNiv2YogKi8KICAgIGJvcmRlcjogNXB4IGRhc2hlZCAjMjk5NGZmOyAvKiDYpdi22KfZgdipINit2K/ZiNivINin2K7YqtmK2KfYsdmK2KkgKi8KICAgIGJvcmRlci1yYWRpdXM6IDhweDsgLyog2K3ZiNin2YEg2YXYs9iq2K/Zitix2KkgKi8KICAgIHBhZGRpbmc6IDEwcHg7IC8qINmF2LPYp9mB2Kkg2K/Yp9iu2YTZitipICovCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyAvKiDZhNmI2YYg2K7ZhNmB2YrYqSDYrtmB2YrZgSAqLwogICAgYm94LXNoYWRvdzogMCA0cHggNnB4ICNmZmZmZmY7IC8qINi42YQg2K7ZgdmK2YEgKi8KfQoKLmV4YW1zLWdyaWQgewogICAgZGlzcGxheTogZ3JpZDsKICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDMwMHB4LCAxZnIpKTsgLyog2KrYtdmF2YrZhSDYp9mE2LTYqNmD2KkgKi8KICAgIGdhcDogMjBweDsgLyog2YXYs9in2YHYqSDYqNmK2YYg2KfZhNi52YbYp9i12LEgKi8KfQoKLmV4YW1zLWNvbnRhaW5lcjo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDhweDsgLyog2LnYsdi2INi02LHZiti3INin2YTYqtmF2LHZitixICovCn0KCi5leGFtcy1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7IC8qINmE2YjZhiDYtNix2YrYtyDYp9mE2KrZhdix2YrYsSAqLwogICAgYm9yZGVyLXJhZGl1czogNHB4OyAvKiDYrdmI2KfZgSDZhdiz2KrYr9mK2LHYqSAqLwp9CgouZXhhbXMtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxOyAvKiDZhNmI2YYg2K7ZhNmB2YrYqSDYtNix2YrYtyDYp9mE2KrZhdix2YrYsSAqLwp9Ci5leGFtLWNhcmQtZm9vdGVyIC5idG4tcHJpbWFyeTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTU1MzNkOyAvKiDZhNmI2YYg2KjYsdiq2YLYp9mE2Yog2KPYutmF2YIgKi8KICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KCi5leGFtLWNhcmQtZm9vdGVyIC5idG4tb3V0bGluZSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgIGJvcmRlcjogMnB4IHNvbGlkICNmZjYzNDc7IC8qINmE2YjZhiDYqNix2KrZgtin2YTZiiAqLwogICAgY29sb3I6ICNmZjYzNDc7Cn0KCi5leGFtLWNhcmQtZm9vdGVyIC5idG4tb3V0bGluZTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY2MzQ3OwogICAgY29sb3I6IHdoaXRlOwp9Ci5idG4tcHJpbWFyeSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDkzLCAxNTYsIDIzNiwgMC4yKTsKfQoKLmJ0bi1wcmltYXJ5OmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICM0QTg5REM7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICBib3gtc2hhZG93OiAwIDdweCAxNHB4IHJnYmEoOTMsIDE1NiwgMjM2LCAwLjI1KTsKfQoKLmJ0bi1vdXRsaW5lIHsKICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLXByaW1hcnkpOwogICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7Cn0KCi5idG4tb3V0bGluZTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGNvbG9yOiB3aGl0ZTsKfQoKLnNpZGViYXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZyk7CiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7Cn0KCi5zaWRlYmFyLW1lbnUgYTpob3ZlciwgLnNpZGViYXItbWVudSBhLmFjdGl2ZSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkzLCAxNTYsIDIzNiwgMC4xKTsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKfQoKLmNvbnRlbnQtYXJlYSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jYXJkLWJnKTsKICAgIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjA1KTsKfQoKLnBhZ2UtdGl0bGUgewogICAgY29sb3I6IHZhcigtLWRhcmspOwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wNSk7CiAgICBwYWRkaW5nLWJvdHRvbTogMC43NXJlbTsKfQoKLmFsZXJ0LXN1Y2Nlc3MgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg3MiwgMjA3LCAxNzMsIDAuMSk7CiAgICBib3JkZXItY29sb3I6IHZhcigtLXN1Y2Nlc3MpOwogICAgY29sb3I6ICMzN0JDOUI7Cn0KCi5hbGVydC1kYW5nZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTIsIDkyLCAxMDEsIDAuMSk7CiAgICBib3JkZXItY29sb3I6IHZhcigtLWRhbmdlcik7CiAgICBjb2xvcjogI2Y4MjYwNjsKfQpAa2V5ZnJhbWVzIGZhZGVJbiB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQogICAgdG8gewogICAgICAgIG9wYWNpdHk6IDE7CiAgICB9Cn0KCkBrZXlmcmFtZXMgc2xpZGVJbkxlZnQgewogICAgZnJvbSB7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDBweCk7CiAgICAgICAgb3BhY2l0eTogMDsKICAgIH0KICAgIHRvIHsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7CiAgICAgICAgb3BhY2l0eTogMTsKICAgIH0KfQoKQGtleWZyYW1lcyBzbGlkZUluUmlnaHQgewogICAgZnJvbSB7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMHB4KTsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQogICAgdG8gewogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKICAgICAgICBvcGFjaXR5OiAxOwogICAgfQp9Ci8qINiq2K3Ys9mK2YbYp9iqINmE2YTYtNix2KfYptitICovCi5zbGlkZS1jYXJkLWJvZHkgewogICAgcGFkZGluZzogMS4yNXJlbTsKICAgIGNvbG9yOiB2YXIoLS10ZXh0KTsKICAgIGxpbmUtaGVpZ2h0OiAxLjg7Cn0KCi5zbGlkZS1jYXJkLWZvb3RlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI0NSwgMjQ3LCAyNTAsIDAuNyk7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjA1KTsKICAgIGNvbG9yOiB2YXIoLS1ncmF5KTsKfQoKLyog2KrYrdiz2YrZhtin2Kog2YTZhNij2LLYsdin2LEgKi8KLmJ0biB7CiAgICBmb250LXdlaWdodDogNjAwOwogICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4OwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKLyog2KrYrdiz2YrZhtin2Kog2YTZhNis2K/ZiNmEICovCi5ncmFkZXMtdGFibGUgdGggewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNDUsIDI0NywgMjUwLCAwLjcpOwogICAgY29sb3I6IHZhcigtLWRhcmspOwp9CgouZ3JhZGVzLXRhYmxlIHRyOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTsKfQoKLyog2KrYrdiz2YrZhtin2Kog2YTZhNi02LHZiti3INin2YTYrNin2YbYqNmKICovCi5zaWRlYmFyLW1lbnUgYSB7CiAgICBwYWRkaW5nOiAwLjc1cmVtIDFyZW07CiAgICBjb2xvcjogdmFyKC0tdGV4dCk7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBtYXJnaW4tYm90dG9tOiAwLjVyZW07Cn0KCi8qINiq2K3Ys9mK2YbYp9iqINmE2YTZiNmC2Kog2KfZhNmF2KrYqNmC2Yog2YHZiiDYp9mE2KfYrtiq2KjYp9ixICovCiN0aW1lUmVtYWluaW5nIHsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KCi8qINiq2K3Ys9mK2YbYp9iqINmE2YTZhtiq2KfYptisICovCi5yZXN1bHRzLXNjb3JlIHsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIHRleHQtc2hhZG93OiAwIDNweCA2cHggcmdiYSg5MywgMTU2LCAyMzYsIDAuMik7Cn0KCi8qINiq2K3Ys9mK2YbYp9iqINmE2YTYrtmK2KfYsdin2Kog2YHZiiDYp9mE2KfYrtiq2KjYp9ixICovCi5vcHRpb24tbGFiZWw6aG92ZXIgewogICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoOTMsIDE1NiwgMjM2LCAwLjA1KTsKfQoKLm9wdGlvbi1sYWJlbC5zZWxlY3RlZCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkzLCAxNTYsIDIzNiwgMC4xKTsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KCi8qINiq2K3Ys9mK2YbYp9iqINmE2YTYtNi52KfYsSAqLwoubG9nbyB7CmZvbnQtZmFtaWx5OiAiTGFsZXphciIsIHN5c3RlbS11aTsKZm9udC13ZWlnaHQ6IDQwMDsKZm9udC1zdHlsZTogbm9ybWFsOwpmb250LXNpemU6IDEuOHJlbTsgLyog2K3YrNmFINin2YTYrti3ICovCmZvbnQtd2VpZ2h0OiA3MDA7IC8qINmI2LLZhiDYp9mE2K7YtyAqLwpjb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpOyAvKiDZhNmI2YYg2KfZhNmG2LUgKi8KfQoKLmxvZ28gaSB7CiAgICBjb2xvcjogdmFyKC0tYWNjZW50KTsKfQoKLyog2KrYrdiz2YrZhtin2Kog2YTZhNi02YPZhCDYp9mE2LnYp9mFICovCi5jb250YWluZXIgewogICAgbWF4LXdpZHRoOiAxMjAwcHg7CiAgICBwYWRkaW5nOiAwIDIwcHg7Cn0KLm1vZGFsIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB6LWluZGV4OiAxMDAwOwp9CgoubW9kYWwtY29udGVudCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgd2lkdGg6IDkwJTsKICAgIG1heC13aWR0aDogNDAwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKICAgIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQ7Cn0KCi5tb2RhbC10aXRsZSB7CiAgICBmb250LXNpemU6IDEuOHJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY29sb3I6ICNmZjQ0NDQ7CiAgICBtYXJnaW4tYm90dG9tOiAxNXB4Owp9CgoubW9kYWwtbWVzc2FnZSB7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgY29sb3I6ICMzMzM7Cn0KCi5tb2RhbC1mb290ZXIgLmJ0biB7CiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmOwogICAgY29sb3I6IHdoaXRlOwogICAgYm9yZGVyOiBub25lOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7Cn0KCi5tb2RhbC1mb290ZXIgLmJ0bjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NmIzOwp9CgpAa2V5ZnJhbWVzIGZhZGVJbiB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC45KTsKICAgIH0KICAgIHRvIHsKICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICB9Cn0KLyog2KrYrdiz2YrZhtin2Kog2YTZhNmH2YjYp9iq2YEgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgICAuZXhhbXMtZ3JpZCB7CiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7CiAgICAgICAgZ2FwOiAxNXB4OwogICAgfQogICAgCiAgICAuZXhhbS1jYXJkLCAuc2xpZGUtY2FyZCB7CiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIH0KfQoKICAgICAgICBib2R5IHsKICAgIGZvbnQtZmFtaWx5OiAnVGFqYXdhbCcsIHNhbnMtc2VyaWY7CiAgICBmb250LXNpemU6IDE2cHg7CiAgICBsaW5lLWhlaWdodDogMS43OwogICAgY29sb3I6ICM1NTU7Cn0KCmgxLCBoMiwgaDMsIGg0IHsKICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICBjb2xvcjogIzJDM0U1MDsKfQouYnRuLmJ0bi1wcmltYXJ5LmRyb3Bkb3duLXRvZ2dsZSB7IAogICAgY29sb3I6I2ZmZmZmZjsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwYTcwZmY7IC8qIEFkZGVkIGJhY2tncm91bmQgY29sb3IgKi8KfQogICAgCiAgICAgICAgLyogSGVhZGVyICovCiAgICAgICAgaGVhZGVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXNlY29uZGFyeSkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDFyZW0gMDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgei1pbmRleDogMTAwMDsKICAgICAgICB9CgogICAgICAgIC5oZWFkZXItY29udGVudCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICB9CiAgICAgICAgLm5vdGljZSB7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogMjBweDsKICByaWdodDogMjBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTRlZTg4OyAvKiDZhNmI2YYg2KPYrti22LEgKi8KICBjb2xvcjogd2hpdGU7CiAgcGFkZGluZzogMTVweCAyMHB4OwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICBmb250LXNpemU6IDFyZW07CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgei1pbmRleDogMTAwMDsKICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNXMgZWFzZSwgdHJhbnNmb3JtIDAuM3MgZWFzZTsKfQoKLm5vdGljZS5ub3RpY2Utc3VjY2VzcyB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzE0ZWU4ODsgLyog2YTZiNmGINij2K7YttixICovCn0KCi5ub3RpY2Uubm90aWNlLWVycm9yIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmM1YzY1OyAvKiDZhNmI2YYg2KPYrdmF2LEgKi8KfQouYnRuLWRvd25sb2FkIHsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgI2ZmMjYwMCwgI2ZmMjYwMCk7CiAgICBjb2xvcjogI2ZmZiAhaW1wb3J0YW50OwogICAgYm9yZGVyOiBub25lOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgyNTUsIDE1MiwgMCwgMC4wOCk7CiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuM3MsIHRyYW5zZm9ybSAwLjJzOwp9Ci5idG4tZG93bmxvYWQ6aG92ZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjZmY2MzQ3LCAjZmY5ODAwKTsKICAgIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCkgc2NhbGUoMS4wNCk7Cn0KLm5vdGljZTpob3ZlciB7CiAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTsKfQogICAgICAgIC5sb2dvIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAubG9nbyBpIHsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1hY2NlbnQpOwogICAgICAgIH0KCiAgICAgICAgLmF1dGgtYnV0dG9ucyAuYnRuIHsKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLmJ0biB7CiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgcGFkZGluZzogMC42cmVtIDEuNXJlbTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTBweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CgogICAgICAgIC5idG4tcHJpbWFyeSB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CgogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOwogICAgICAgIH0KCiAgICAgICAgLmJ0bi1wcmltYXJ5OmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1saWdodCk7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtM3B4KTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMTJweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7CiAgICAgICAgfQoKICAgICAgICAuYnRuLW91dGxpbmUgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICB9CgogICAgICAgIC5idG4tb3V0bGluZTpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAuYnRuLWRhbmdlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRhbmdlcik7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB9CgogICAgICAgIC5idG4tZGFuZ2VyOmhvdmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2MwMzkyYjsKICAgICAgICB9CgogICAgICAgIC5idG4tc3VjY2VzcyB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN1Y2Nlc3MpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQoKICAgICAgICAvKiBNYWluIENvbnRlbnQgKi8KICAgICAgICBtYWluIHsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDgwcHg7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA0MHB4OwogICAgICAgICAgICBtaW4taGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTIwcHgpOwogICAgICAgIH0KCiAgICAgICAgLyogRGFzaGJvYXJkICovCiAgICAgICAgLmRhc2hib2FyZCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMjUwcHggMWZyOwogICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgfQogICAgICAgIC8qINiq2LXZhdmK2YUg2KfZhNij2LLYsdin2LEg2YHZiiDZgtiz2YUg2KXYr9in2LHYqSDYp9mE2LfZhNin2KggKi8KLnN0dWRlbnRzLXRhYmxlIHRkIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAvKiDYrNi52YQg2KfZhNij2LLYsdin2LEg2KrYrdiqINio2LnYttmH2KcgKi8KICAgIGdhcDogMTBweDsgLyog2YXYs9in2YHYqSDYqNmK2YYg2KfZhNij2LLYsdin2LEgKi8KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7IC8qINmF2K3Yp9iw2KfYqSDYp9mE2KPYstix2KfYsSDZgdmKINin2YTZhdmG2KrYtdmBICovCn0KCi5zdHVkZW50cy10YWJsZSB0ZCBidXR0b24gewogICAgd2lkdGg6IDEwMCU7IC8qINis2LnZhCDYp9mE2KPYstix2KfYsSDYqNi52LHYtiDZg9in2YXZhCAqLwogICAgbWF4LXdpZHRoOiAyMDBweDsgLyog2KrYrdiv2YrYryDYudix2LYg2KPZgti12Ykg2YTZhNij2LLYsdin2LEgKi8KICAgIHBhZGRpbmc6IDEwcHg7IC8qINiq2K3Ys9mK2YYg2KfZhNmF2LPYp9it2Kkg2KfZhNiv2KfYrtmE2YrYqSAqLwogICAgZm9udC1zaXplOiAwLjlyZW07IC8qINit2KzZhSDYp9mE2YbYtSAqLwogICAgYm9yZGVyLXJhZGl1czogNXB4OyAvKiDYrdmI2KfZgSDZhdiz2KrYr9mK2LHYqSAqLwp9CgovKiDYqtit2LPZitmGINin2YTYqti12YXZitmFINi52YTZiSDYp9mE2LTYp9i02KfYqiDYp9mE2LXYutmK2LHYqSAqLwpAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHsKICAgIC5zdHVkZW50cy10YWJsZSB0ZCBidXR0b24gewogICAgICAgIG1heC13aWR0aDogMTAwJTsgLyog2KzYudmEINin2YTYo9iy2LHYp9ixINio2LnYsdi2INmD2KfZhdmEINi52YTZiSDYp9mE2LTYp9i02KfYqiDYp9mE2LXYutmK2LHYqSAqLwogICAgfQp9CiAgICAgICAgLmFsZXJ0IHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpOwp9Ci8qINiq2LXZhdmK2YUg2K3Yp9mI2YrYqSDYp9mE2KXYtNi52KfYsdin2KogKi8KLm5vdGlmaWNhdGlvbi1jb250YWluZXIgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAyMHB4OwogICAgcmlnaHQ6IDIwcHg7CiAgICB6LWluZGV4OiAxMDAwOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBnYXA6IDEwcHg7CiAgICB3aWR0aDogMzAwcHg7Cn0KCi8qINiq2LXZhdmK2YUg2KfZhNil2LTYudin2LEgKi8KLm5vdGlmaWNhdGlvbiB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgcGFkZGluZzogMTVweCAyMHB4OwogICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGFuaW1hdGlvbjogc2xpZGVEb3duIDAuNXMgZWFzZSBmb3J3YXJkczsKICAgIG9wYWNpdHk6IDA7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwcHgpOwp9CgovKiDYo9mE2YjYp9mGINin2YTYpdi02LnYp9ix2KfYqiAqLwoubm90aWZpY2F0aW9uLnN1Y2Nlc3MgewogICAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCB2YXIoLS1zdWNjZXNzKTsKfQoKLm5vdGlmaWNhdGlvbi5lcnJvciB7CiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkIHZhcigtLWRhbmdlcik7Cn0KCi5ub3RpZmljYXRpb24uaW5mbyB7CiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkIHZhcigtLXByaW1hcnkpOwp9CgovKiDZhti1INin2YTYpdi02LnYp9ixICovCi5ub3RpZmljYXRpb24tdGV4dCB7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBjb2xvcjogdmFyKC0tZGFyayk7CiAgICBmbGV4OiAxOwogICAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9Ci8qINin2KzYudmEINi52YXZiNivINin2YTYpdis2LHYp9ih2KfYqiDZgdmKINis2K/ZiNmEINin2YTYt9mE2KfYqCDZitit2KrZiNmKINi52YTZiSDYo9iy2LHYp9ixINmB2Yog2LPYt9ixINmI2KfYrdivINmF2Lkg2KrZhdix2YrYsSDYo9mB2YLZiiDZgdmC2Lcg2YTZhNij2LLYsdin2LEgKi8KI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQgewogICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50OwogICAgZmxleC1kaXJlY3Rpb246IHJvdyAhaW1wb3J0YW50OwogICAgZ2FwOiA4cHg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgb3ZlcmZsb3cteDogYXV0bzsKICAgIG92ZXJmbG93LXk6IHZpc2libGU7CiAgICBtYXgtd2lkdGg6IDEwMHZ3OwogICAgcGFkZGluZy1ib3R0b206IDhweDsKICAgIHNjcm9sbGJhci13aWR0aDogdGhpbjsKICAgIHNjcm9sbGJhci1jb2xvcjogIzBhNzBmZiAjZjVmN2ZhOwp9Ci5pbXBvcnRlZC1xdWVzdGlvbi1kYXJrIHsKICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCByZ2IoMTU2LCAxNTUsIDE1NSkgODAlLCByZ2IoMTE0LCAxMTQsIDExNCkxMDAlKTsKICBib3JkZXItcmFkaXVzOiAxNHB4OwogIGJveC1zaGFkb3c6IDAgNHB4IDE4cHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOwogIHBhZGRpbmc6IDI0cHggMThweCAxOHB4IDE4cHg7CiAgbWFyZ2luLWJvdHRvbTogMjJweDsKICBib3JkZXI6IDJweCBzb2xpZCAjZmZmZmZmMzM7CiAgY29sb3I6ICNmZmY7CiAgYW5pbWF0aW9uOiBmYWRlSW4gMC43czsKICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnM7Cn0KLmltcG9ydGVkLXF1ZXN0aW9uLWRhcms6Zm9jdXMtd2l0aGluLCAuaW1wb3J0ZWQtcXVlc3Rpb24tZGFyazpob3ZlciB7CiAgYm94LXNoYWRvdzogMCA4cHggMzJweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTMpOwogIGJvcmRlci1jb2xvcjogIzE0ZWU4ODsKfQovKiDYqtit2LPZitmGINi02YPZhCDYtNix2YrYtyDYp9mE2KrZhdix2YrYsSDZhNmE2KPYstix2KfYsSAqLwojc3R1ZGVudHNQYWdlIC5ncmFkZXMtdGFibGUgdGQ6bGFzdC1jaGlsZDo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgaGVpZ2h0OiA4cHg7Cn0KI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgIGJhY2tncm91bmQ6ICMwYTcwZmY7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgIGJhY2tncm91bmQ6ICNmNWY3ZmE7Cn0KCi8qINin2YTYo9iy2LHYp9ixINmG2YHYs9mH2KcgKi8KI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQgYnV0dG9uIHsKICAgIG1pbi13aWR0aDogMTIwcHg7CiAgICBtYXgtd2lkdGg6IDE4MHB4OwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIGZvbnQtc2l6ZTogMC45NXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDdweDsKICAgIHBhZGRpbmc6IDEwcHggMTJweDsKICAgIG1hcmdpbi1ib3R0b206IDA7CiAgICBtYXJnaW4tdG9wOiAwOwogICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMTAsMTEyLDI1NSwwLjA0KTsKICAgIGJvcmRlcjogbm9uZTsKICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIDAuMjVzLCBjb2xvciAwLjI1cywgYm94LXNoYWRvdyAwLjI1czsKfQoKLyog2KrZhtin2LPZgiDYp9mE2KPZhNmI2KfZhiDZhdi5INio2YLZitipINin2YTYo9iy2LHYp9ixICovCiNzdHVkZW50c1BhZ2UgLmJ0bi1wcmltYXJ5IHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCMwYTcwZmYsIzE0ZWU4OCk7IGNvbG9yOiAjZmZmOyB9CiNzdHVkZW50c1BhZ2UgLmJ0bi1kYW5nZXIgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsI0ZDNUM2NSwjZTc0YzNjKTsgY29sb3I6ICNmZmY7IH0KI3N0dWRlbnRzUGFnZSAuYnRuLXdhcm5pbmcgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsI0ZGQzEwNywjRkY5ODAwKTsgY29sb3I6ICMzMzM7IH0KI3N0dWRlbnRzUGFnZSAuYnRuLXN1Y2Nlc3MgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIzE0ZWU4OCwjMGE3MGZmKTsgY29sb3I6ICNmZmY7IH0KI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQgYnV0dG9uOmhvdmVyIHsKICAgIGZpbHRlcjogYnJpZ2h0bmVzcygxLjA4KTsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDE2cHggcmdiYSgxMCwxMTIsMjU1LDAuMDkpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpIHNjYWxlKDEuMDMpOwp9CgovKiDYp9iz2KrYrNin2KjYqSDZhNmE2KzZiNin2YQgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDcwMHB4KSB7CiAgICAjc3R1ZGVudHNQYWdlIC5ncmFkZXMtdGFibGUgdGQ6bGFzdC1jaGlsZCB7CiAgICAgICAgbWF4LXdpZHRoOiA5OHZ3OwogICAgfQogICAgI3N0dWRlbnRzUGFnZSAuZ3JhZGVzLXRhYmxlIHRkOmxhc3QtY2hpbGQgYnV0dG9uIHsKICAgICAgICBtaW4td2lkdGg6IDEwMHB4OwogICAgICAgIGZvbnQtc2l6ZTogMC45MnJlbTsKICAgICAgICBwYWRkaW5nOiA5cHggOHB4OwogICAgfQp9Ci8qINiy2LEg2KXYutmE2KfZgiDYp9mE2KXYtNi52KfYsSAqLwoubm90aWZpY2F0aW9uLWNsb3NlIHsKICAgIGJhY2tncm91bmQ6IG5vbmU7CiAgICBib3JkZXI6IG5vbmU7CiAgICBjb2xvcjogdmFyKC0tZ3JheSk7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3MgZWFzZTsKfQoKLm5vdGlmaWNhdGlvbi1jbG9zZTpob3ZlciB7CiAgICBjb2xvcjogdmFyKC0tZGFyayk7Cn0KCi8qINit2LHZg9ipINin2YTYpdi02LnYp9ixICovCkBrZXlmcmFtZXMgc2xpZGVEb3duIHsKICAgIGZyb20gewogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0yMHB4KTsKICAgIH0KICAgIHRvIHsKICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgIH0KfQouYWxlcnQtc3VjY2VzcyB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQ2LCAyMDQsIDExMywgMC4xKTsKICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXN1Y2Nlc3MpOwogICAgY29sb3I6IHZhcigtLXN1Y2Nlc3MpOwp9CgouYWxlcnQtZGFuZ2VyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjMxLCA3NiwgNjAsIDAuMSk7CiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1kYW5nZXIpOwogICAgY29sb3I6IHZhcigtLWRhbmdlcik7Cn0KICAgICAgICAvKiBTaWRlYmFyICovCiAgICAgICAgLnNpZGViYXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7CiAgICAgICAgICAgIGhlaWdodDogZml0LWNvbnRlbnQ7CiAgICAgICAgfQoKICAgICAgICAuc2lkZWJhci1tZW51IHsKICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsKICAgICAgICB9CgogICAgICAgIC5zaWRlYmFyLW1lbnUgbGkgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLnNpZGViYXItbWVudSBhIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgcGFkZGluZzogMTBweCAxNXB4OwogICAgICAgICAgICBjb2xvcjogdmFyKC0tZGFyayk7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgIH0KCiAgICAgICAgLnNpZGViYXItbWVudSBhOmhvdmVyLCAuc2lkZWJhci1tZW51IGEuYWN0aXZlIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2NywgOTcsIDIzOCwgMC4xKTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgIH0KCiAgICAgICAgLnNpZGViYXItbWVudSBhIGkgewogICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDsKICAgICAgICAgICAgd2lkdGg6IDIwcHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICB9CgogICAgICAgIC8qIE1haW4gQ29udGVudCBBcmVhICovCiAgICAgICAgLmNvbnRlbnQtYXJlYSB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjA1KTsKICAgICAgICB9Ci8qINiq2LXZhdmK2YUg2YLYs9mFINin2YTYqti52LHZitmBICovCi5hYm91dC1jb250YWluZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBmNzZmZCwgIzRhODlkYyk7CiAgICBjb2xvcjogd2hpdGU7CiAgICBtYXJnaW4tdG9wOiAzMHB4OwogICAgcGFkZGluZzogNTBweCAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmFib3V0LWNvbnRlbnQgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtd3JhcDogd3JhcDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGdhcDogMzBweDsKICAgIGFuaW1hdGlvbjogZmFkZUluIDEuNXMgZWFzZS1pbi1vdXQ7IC8qINil2LbYp9mB2Kkg2KPZhtmK2YXZiti02YYg2LnZhtivINin2YTYqtit2YXZitmEICovCn0KCi5hYm91dC10ZXh0IHsKICAgIG1heC13aWR0aDogNjAwcHg7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBhbmltYXRpb246IHNsaWRlSW5MZWZ0IDEuNXMgZWFzZS1pbi1vdXQ7IC8qINit2LHZg9ipINmF2YYg2KfZhNmK2LPYp9ixICovCn0KCi5hYm91dC10ZXh0IGgxIHsKICAgIGZvbnQtc2l6ZTogMi41cmVtOwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY29sb3I6ICNmZmY7Cn0KCi5hYm91dC10ZXh0IHAgewogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQoKLmFib3V0LWltYWdlIHsKICAgIGZsZXgtc2hyaW5rOiAwOwogICAgYW5pbWF0aW9uOiBzbGlkZUluUmlnaHQgMS41cyBlYXNlLWluLW91dDsgLyog2K3YsdmD2Kkg2YXZhiDYp9mE2YrZhdmK2YYgKi8KfQovKiDYqtmI2LPZiti3INi52YbYp9mI2YrZhiDYp9mE2KPZgtiz2KfZhSDYp9mE2LHYptmK2LPZitipINmF2Lkg2KfZhNij2YrZgtmI2YbYp9iqICovCi5wYWdlLXRpdGxlIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IC8qINiq2YjYs9mK2Lcg2KPZgdmC2YogKi8KICAgIGdhcDogMTJweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICBtYXJnaW4tdG9wOiAzMHB4OwogICAgZm9udC1zaXplOiAycmVtICFpbXBvcnRhbnQ7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGxldHRlci1zcGFjaW5nOiAxcHg7Cn0KCi5wYWdlLXRpdGxlIGkgewogICAgZm9udC1zaXplOiAyLjFyZW07CiAgICBjb2xvcjogIzI4MjgyODsKICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgbWFyZ2luLXJpZ2h0OiAwOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQoudGVhY2hlci1pbWFnZSB7CiAgICB3aWR0aDogNDM1cHg7CiAgICBoZWlnaHQ6IDQwMHB4OwogICAgYm9yZGVyLXJhZGl1czogMzAlOwogICAgYm9yZGVyOiA1cHggc29saWQgIHRyYW5zcGFyZW50OwogICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMik7CiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlLWluLW91dDsKfQoKLnRlYWNoZXItaW1hZ2U6aG92ZXIgewogICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpOyAvKiDYqtmD2KjZitixINin2YTYtdmI2LHYqSDYudmG2K8g2KfZhNiq2YXYsdmK2LEgKi8KfQoKLmFib3V0LWZvb3RlciB7CiAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgZm9udC1zaXplOiAxLjFyZW07CiAgICBmb250LXN0eWxlOiBpdGFsaWM7CiAgICBjb2xvcjogI2RmZTZlOTsKfQoKLyog2KrYrdiz2YrZhiDYp9mE2KrYtdmF2YrZhSDYudmE2Ykg2KfZhNi02KfYtNin2Kog2KfZhNi12LrZitix2KkgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7CiAgICAuYWJvdXQtY29udGVudCB7CiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIH0KCiAgICAuYWJvdXQtdGV4dCBoMSB7CiAgICAgICAgZm9udC1zaXplOiAycmVtOwogICAgfQoKICAgIC50ZWFjaGVyLWltYWdlIHsKICAgICAgICB3aWR0aDogNDMwcHg7CiAgICAgICAgaGVpZ2h0OiA0MDBweDsKICAgIH0KfQoKLyog2KrYrdiz2YrZhiDYp9mE2KrYtdmF2YrZhSDYudmE2Ykg2KfZhNi02KfYtNin2Kog2KfZhNi12LrZitix2Kkg2KzYr9mL2KcgKi8KQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7CiAgICAuYWJvdXQtdGV4dCB7CiAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgfQoKICAgIC5hYm91dC10ZXh0IGgxIHsKICAgICAgICBmb250LXNpemU6IDEuOHJlbTsKICAgIH0KCiAgICAudGVhY2hlci1pbWFnZSB7CiAgICAgICAgd2lkdGg6IDMzMHB4OwogICAgICAgIGhlaWdodDogMzAwcHg7CiAgICB9CgogICAgLmFib3V0LWNvbnRhaW5lciB7CiAgICAgICAgcGFkZGluZzogMzBweCAxNXB4OwogICAgfQp9CiNwcm9ncmVzc0JhckNvbnRhaW5lciB7CiAgICB3aWR0aDogMTAwJTsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKfQoKI3Byb2dyZXNzQmFyIHsKICAgIGhlaWdodDogMjBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDhhOGY7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjNzIGVhc2UtaW4tb3V0Owp9CgoudG9hc3QtbWVzc2FnZSB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICBib3R0b206IDIwcHg7CiAgICByaWdodDogMjBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMxNGVlODg7IC8qINmE2YjZhiDYo9iu2LbYsSAqLwogICAgY29sb3I6IHdoaXRlOwogICAgcGFkZGluZzogMTVweCAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGdhcDogMTBweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgei1pbmRleDogMTAwMDsKICAgIGFuaW1hdGlvbjogZmFkZUluIDAuNXMgZWFzZSBmb3J3YXJkczsKfQoKLnRvYXN0LW1lc3NhZ2UgaSB7CiAgICBmb250LXNpemU6IDEuNXJlbTsKfQoKQGtleWZyYW1lcyBmYWRlSW4gewogICAgZnJvbSB7CiAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMjBweCk7CiAgICB9CiAgICB0byB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICB9Cn0KCkBrZXlmcmFtZXMgZmFkZU91dCB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgIH0KICAgIHRvIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsKICAgIH0KfQogICAgICAgIC5wYWdlLXRpdGxlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tbGlnaHQpOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIH0KCiAgICAgICAgLnBhZ2UtdGl0bGUgaSB7CiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgfQoKICAgICAgICAvKiBFeGFtcyBHcmlkICovCiAgICAgICAgLmV4YW1zLWdyaWQgewogICAgICAgICAgICBkaXNwbGF5OiBncmlkOwogICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzMDBweCwgMWZyKSk7CiAgICAgICAgICAgIGdhcDogMjBweDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgICB9CiAgICAgICAgLmV4YW0tY2FyZCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Cn0KCi5leGFtLWNhcmQ6aG92ZXIgewogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpOwogICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwp9Ci8qINiq2LXZhdmK2YUg2KfZhNiz2KTYp9mEICovCi5xdWVzdGlvbi1jYXJkIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogIGJvcmRlci1yYWRpdXM6IDhweDsKICBwYWRkaW5nOiAyMHB4OwogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKfQoKLyog2KrYtdmF2YrZhSDYp9mE2YbYtSAqLwoucXVlc3Rpb24tdGV4dCB7CiAgZm9udC1zaXplOiAxLjVyZW07CiAgbWFyZ2luLWJvdHRvbTogMTVweDsKICBmb250LXdlaWdodDogYm9sZDsKICBjb2xvcjogIzMzMzsKfQoKLyog2KrYtdmF2YrZhSDYp9mE2LXZiNix2KkgKi8KLnF1ZXN0aW9uLWltYWdlLWNvbnRhaW5lciB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbjogMjBweCAwOwp9CgoucXVlc3Rpb24taW1hZ2UgewogIG1heC13aWR0aDogMTAwJTsKICBtYXgtaGVpZ2h0OiAzMDBweDsKICBib3JkZXItcmFkaXVzOiAxMHB4OwogIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZTsKfQoKLnF1ZXN0aW9uLWltYWdlOmhvdmVyIHsKICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOwp9CgovKiDYqti12YXZitmFINin2YTYrtmK2KfYsdin2KogKi8KLm9wdGlvbnMtbGlzdCB7CiAgbGlzdC1zdHlsZTogbm9uZTsKICBwYWRkaW5nOiAwOwp9Ci8qIC4uLmV4aXN0aW5nIGNvZGUuLi4gKi8KI2RlbGV0ZUFsbENoYXRCdG4gewogIHdpZHRoOiAxMDAlOwogIG1hcmdpbi10b3A6IDE4cHg7CiAgZm9udC1zaXplOiAxLjFyZW07CiAgcGFkZGluZzogMTJweCAwOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgYm94LXNoYWRvdzogMCAycHggOHB4ICMwYTcwZmYxMTsKfQpAbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHsKICAjZGVsZXRlQWxsQ2hhdEJ0biB7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIHBhZGRpbmc6IDE2cHggMDsKICB9Cn0KLyogLi4uZXhpc3RpbmcgY29kZS4uLiAqLwoub3B0aW9uLWxhYmVsIHsKICBkaXNwbGF5OiBibG9jazsKICBwYWRkaW5nOiAxMnB4IDE1cHg7CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICBib3JkZXItcmFkaXVzOiA1cHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7CiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsKfQoKLm9wdGlvbi1sYWJlbDpob3ZlciB7CiAgYm9yZGVyLWNvbG9yOiAjMGE3MGZmOwogIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTAsIDExMiwgMjU1LCAwLjA1KTsKfQoKLm9wdGlvbi1sYWJlbC5zZWxlY3RlZCB7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMCwgMTEyLCAyNTUsIDAuMSk7CiAgYm9yZGVyLWNvbG9yOiAjMGE3MGZmOwp9Cgoub3B0aW9uLWlucHV0IHsKICBtYXJnaW4tcmlnaHQ6IDEwcHg7Cn0KLmV4YW0tY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouZXhhbS1jYXJkLWJvZHkgewogICAgcGFkZGluZzogMjBweDsKICAgIGNvbG9yOiB2YXIoLS1kYXJrKTsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5Owp9CgouZXhhbS1jYXJkLW1ldGEgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICBmb250LXNpemU6IDAuOXJlbTsKICAgIGNvbG9yOiB2YXIoLS1ncmF5KTsKfQoKLmV4YW0tY2FyZC1mb290ZXIgewogICAgcGFkZGluZzogMTVweDsKICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogICAgZm9udC1zaXplOiAwLjlyZW07CiAgICBjb2xvcjogdmFyKC0tZ3JheSk7Cn0KCi5leGFtLWNhcmQtZm9vdGVyIGJ1dHRvbiB7CiAgICBwYWRkaW5nOiAxMHB4IDE1cHg7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBmb250LXNpemU6IDAuOXJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKLmV4YW0tY2FyZC1mb290ZXIgLmJ0bi1wcmltYXJ5IHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgY29sb3I6IHdoaXRlOwogICAgYm9yZGVyOiBub25lOwp9CgouZXhhbS1jYXJkLWZvb3RlciAuYnRuLXByaW1hcnk6aG92ZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS1saWdodCk7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjIpOwp9CgouZXhhbS1jYXJkLWZvb3RlciAuYnRuLW91dGxpbmUgewogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5KTsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKfQoKLmV4YW0tY2FyZC1mb290ZXIgLmJ0bi1vdXRsaW5lOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgY29sb3I6IHdoaXRlOwp9CiAgICAgICAgLmV4YW0tY2FyZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjA1KTsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsKICAgICAgICB9CgogICAgICAgIC5leGFtLWNhcmQ6aG92ZXIgewogICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMTBweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgICAgICB9CgogICAgICAgIC5leGFtLWNhcmQtaGVhZGVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgIH0KICAgICAgICAjc2VhcmNoU2VsZlRlc3RzSW5wdXQgewogICAgd2lkdGg6IDEwMCU7CiAgICBwYWRkaW5nOiAxMHB4OwogICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZmZmZjsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKI3NlYXJjaFNlbGZUZXN0c0lucHV0OmZvY3VzIHsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICBvdXRsaW5lOiBub25lOwogICAgYm94LXNoYWRvdzogMCAwIDVweCByZ2JhKDY3LCA5NywgMjM4LCAwLjUpOwp9CiAgICAgICAgLmV4YW0tY2FyZC10aXRsZSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA1cHg7CiAgICAgICAgfQoKICAgICAgICAuZXhhbS1jYXJkLWJvZHkgewogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgIH0KCiAgICAgICAgLmV4YW0tY2FyZC1tZXRhIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLWdyYXkpOwogICAgICAgIH0KCiAgICAgICAgLmV4YW0tY2FyZC1mb290ZXIgewogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgIH0KCiAgICAgICAgLyogRXhhbSBGb3JtICovCiAgICAgICAgLmV4YW0tZm9ybSB7CiAgICAgICAgICAgIG1heC13aWR0aDogODAwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgIH0KCiAgICAgICAgLmZvcm0tZ3JvdXAgewogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgIH0KCiAgICAgICAgLmZvcm0tbGFiZWwgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgIH0KCiAgICAgICAgLmZvcm0tY29udHJvbCB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwogICAgICAgIH0KICAgICAgICAubW9kYWwgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHotaW5kZXg6IDEwMDA7Cn0KCi5tb2RhbC1jb250ZW50IHsKICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICB3aWR0aDogOTAlOwogICAgbWF4LXdpZHRoOiA0MDBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwp9CgoubW9kYWwtdGl0bGUgewogICAgZm9udC1zaXplOiAxLjVyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KCi5tb2RhbC1tZXNzYWdlIHsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICBjb2xvcjogdmFyKC0tdGV4dCk7Cn0KCi5tb2RhbC1hY3Rpb25zIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBnYXA6IDEwcHg7Cn0KCi5tb2RhbC1hY3Rpb25zIC5idG4gewogICAgZmxleDogMTsKICAgIHBhZGRpbmc6IDEwcHg7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOwp9Ci51c2VyLWRyb3Bkb3duLW1lbnUgewogICAgYmFja2dyb3VuZDogI2ZjMWIxYjsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNlMGUwZTA7CiAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgYm94LXNoYWRvdzogMCA4cHggMzJweCByZ2JhKDEwLDExMiwyNTUsMC4xMCk7CiAgICBtaW4td2lkdGg6IDE4MHB4OwogICAgcGFkZGluZzogMTBweCAwOwogICAgcmlnaHQ6IDA7CiAgICBsZWZ0OiBhdXRvOwogICAgdG9wOiAxMTAlOwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgYW5pbWF0aW9uOiBmYWRlSW4gMC4zczsKfQoudXNlci1kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZ2FwOiAxMHB4OwogICAgY29sb3I6ICNmZmZmZmY7CiAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgYm9yZGVyOiBub25lOwogICAgd2lkdGg6IDEwMCU7CiAgICBwYWRkaW5nOiAxMnB4IDIycHg7CiAgICBmb250LXNpemU6IDEuMDVyZW07CiAgICBmb250LXdlaWdodDogNTAwOwogICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjJzLCBjb2xvciAwLjJzOwogICAgYm9yZGVyLXJhZGl1czogMDsKICAgIHRleHQtYWxpZ246IHJpZ2h0Owp9Ci51c2VyLWRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW0gaSB7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGNvbG9yOiAjZmZmZmZmOwogICAgbWFyZ2luLWxlZnQ6IDhweDsKfQoudXNlci1kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOmhvdmVyIHsKICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgICBjb2xvcjogI2ZmNjM0NzsKfQoubW9kYWwtYWN0aW9ucyAuYnRuLWRhbmdlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYW5nZXIpOwogICAgY29sb3I6IHdoaXRlOwogICAgYm9yZGVyOiBub25lOwp9CgoubW9kYWwtYWN0aW9ucyAuYnRuLWRhbmdlcjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzAzOTJiOwp9CgoubW9kYWwtYWN0aW9ucyAuYnRuLW91dGxpbmUgewogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5KTsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKfQoKLm1vZGFsLWFjdGlvbnMgLmJ0bi1vdXRsaW5lOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgY29sb3I6IHdoaXRlOwp9CiAgICAgICAgLmZvcm0tY29udHJvbDpmb2N1cyB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDY3LCA5NywgMjM4LCAwLjIpOwogICAgICAgIH0KCiAgICAgICAgdGV4dGFyZWEuZm9ybS1jb250cm9sIHsKICAgICAgICAgICAgbWluLWhlaWdodDogMTIwcHg7CiAgICAgICAgICAgIHJlc2l6ZTogdmVydGljYWw7CiAgICAgICAgfQoKICAgICAgICAucXVlc3Rpb24tY29udGFpbmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgICBib3JkZXI6IDFweCBkYXNoZWQgI2RkZDsKICAgICAgICB9CiAgICAgICAgLnNlbGYtdGVzdC1jYXJkIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIHBhZGRpbmc6IDIwcHg7Cn0KCi5zZWxmLXRlc3QtY2FyZDpob3ZlciB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7CiAgICBib3gtc2hhZG93OiAwIDEwcHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KCi5zZWxmLXRlc3QtY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDAgMDsKfQoKLnNlbGYtdGVzdC1jYXJkLWJvZHkgewogICAgcGFkZGluZzogMTVweDsKICAgIGNvbG9yOiB2YXIoLS1kYXJrKTsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjY7CiAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5Owp9Cgouc2VsZi10ZXN0LWNhcmQtZm9vdGVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBtYXJnaW4tdG9wOiAxNXB4Owp9Cgouc2VsZi10ZXN0LWNhcmQtZm9vdGVyIGJ1dHRvbiB7CiAgICBwYWRkaW5nOiAxMHB4IDE1cHg7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBmb250LXNpemU6IDAuOXJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKLnNlbGYtdGVzdC1jYXJkLWZvb3RlciAuYnRuLXByaW1hcnkgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICBjb2xvcjogd2hpdGU7CiAgICBib3JkZXI6IG5vbmU7Cn0KCi5zZWxmLXRlc3QtY2FyZC1mb290ZXIgLmJ0bi1wcmltYXJ5OmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktbGlnaHQpOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwogICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKfQogICAgICAgIC5vcHRpb24taXRlbSB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAub3B0aW9uLWl0ZW0gaW5wdXRbdHlwZT0icmFkaW8iXSB7CiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLm9wdGlvbi1pdGVtIGlucHV0W3R5cGU9InRleHQiXSB7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDsKICAgICAgICB9Ci8qINiq2K3Ys9mK2YYg2KrYtdmF2YrZhSDYp9mE2KjYt9in2YLYp9iqICovCi5jYXJkIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtYmcpOwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKLmNhcmQ6aG92ZXIgewogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpOwogICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwp9CgouY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouY2FyZC1ib2R5IHsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBjb2xvcjogdmFyKC0tdGV4dCk7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBsaW5lLWhlaWdodDogMS42OwogICAgdGV4dC1hbGlnbjoganVzdGlmeTsKfQoKLmNhcmQtZm9vdGVyIHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgY29sb3I6IHZhcigtLWdyYXkpOwp9Ci8qINiq2LXZhdmK2YUg2KfZhNmG2KfZgdiw2Kkg2KfZhNmF2YbYqNir2YLYqSAqLwoubW9kYWwgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHotaW5kZXg6IDEwMDA7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKLm1vZGFsLWNvbnRlbnQgewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgcGFkZGluZzogMjBweDsKICAgIHdpZHRoOiAxMDAlOwogICAgbWF4LXdpZHRoOiA2MDBweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwogICAgYW5pbWF0aW9uOiBmYWRlSW4gMC4zcyBlYXNlLWluLW91dDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwp9Ci5tb2RhbCB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgei1pbmRleDogMTAwMDsKfQoKLm1vZGFsLWNvbnRlbnQgewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgcGFkZGluZzogMjBweDsKICAgIHdpZHRoOiA5MCU7CiAgICBtYXgtd2lkdGg6IDQwMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMik7CiAgICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2UtaW4tb3V0Owp9CgoubW9kYWwtdGl0bGUgewogICAgZm9udC1zaXplOiAxLjhyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGNvbG9yOiAjZmY0NDQ0OwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQoKLm1vZGFsLW1lc3NhZ2UgewogICAgZm9udC1zaXplOiAxcmVtOwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGNvbG9yOiAjMzMzOwp9CgoubW9kYWwtYWN0aW9ucyAuYnRuIHsKICAgIHBhZGRpbmc6IDEwcHggMjBweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5tb2RhbC1hY3Rpb25zIC5idG4tc3VjY2VzcyB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjhhNzQ1OwogICAgY29sb3I6IHdoaXRlOwogICAgYm9yZGVyOiBub25lOwp9CgoubW9kYWwtYWN0aW9ucyAuYnRuLXN1Y2Nlc3M6aG92ZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogIzIxODgzODsKfQoKLm1vZGFsLWFjdGlvbnMgLmJ0bi1kYW5nZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2RjMzU0NTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKfQoKLm1vZGFsLWFjdGlvbnMgLmJ0bi1kYW5nZXI6aG92ZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2M4MjMzMzsKfQojY291cnNlc0NvbnRhaW5lciB7CiAgICBkaXNwbGF5OiBncmlkOwogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMzAwcHgsIDFmcikpOwogICAgZ2FwOiAyMHB4Owp9CgouZXhhbS1jYXJkIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKfQoKLmV4YW0tY2FyZDpob3ZlciB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7CiAgICBib3gtc2hhZG93OiAwIDEwcHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KCi5leGFtLWNhcmQtaGVhZGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICM0Y2FmNTA7CiAgICBjb2xvcjogd2hpdGU7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmV4YW0tY2FyZC1ib2R5IHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBjb2xvcjogIzMzMzsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGxpbmUtaGVpZ2h0OiAxLjY7Cn0KLyog2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINil2YTZiSDZhdmE2YEg2KfZhNmAIENTUyDYo9mIINiv2KfYrtmEIDxzdHlsZT4g2YHZiiDYsdij2LMg2KfZhNi12YHYrdipICovCgojc3R1ZGVudFByb2dyZXNzQ2hhcnQgewogICAgbWF4LWhlaWdodDogMzIwcHg7CiAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgcGFkZGluZy1sZWZ0OiA1cHg7CiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7CiAgICBiYWNrZ3JvdW5kOiAjZjhmOWZhOwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDEwLDExMiwyNTUsMC4wNik7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgZGlyZWN0aW9uOiBydGw7Cn0KCi8qINiq2K3Ys9mK2YYg2LTZg9mEINi02LHZiti3INin2YTYqtmF2LHZitixICovCiNzdHVkZW50UHJvZ3Jlc3NDaGFydDo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDhweDsKfQojc3R1ZGVudFByb2dyZXNzQ2hhcnQ6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHsKICAgIGJhY2tncm91bmQ6ICMwYTcwZmY7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KI3N0dWRlbnRQcm9ncmVzc0NoYXJ0Ojotd2Via2l0LXNjcm9sbGJhci10cmFjayB7CiAgICBiYWNrZ3JvdW5kOiAjZWFlYWVhOwp9Ci5leGFtLWNhcmQtZm9vdGVyIHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwp9Ci5tb2RhbC1oZWFkZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDsKICAgIHBhZGRpbmctYm90dG9tOiAxMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQouaW1wb3J0ZWQtcXVlc3Rpb24tbGlnaHQgewogIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNjN2M3YzcgODAlLCAjYThhOGE4IDEwMCUpOwogIGJvcmRlci1yYWRpdXM6IDE0cHg7CiAgYm94LXNoYWRvdzogMCA0cHggMThweCByZ2JhKDEwLDExMiwyNTUsMC4wOCk7CiAgcGFkZGluZzogMjRweCAxOHB4IDE4cHggMThweDsKICBtYXJnaW4tYm90dG9tOiAyMnB4OwogIGJvcmRlcjogMnB4IHNvbGlkICNlMGU3ZWY7CiAgY29sb3I6ICMyMjI7CiAgYW5pbWF0aW9uOiBmYWRlSW4gMC43czsKICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnMsIGJvcmRlci1jb2xvciAwLjJzOwp9Ci5pbXBvcnRlZC1xdWVzdGlvbi1saWdodDpmb2N1cy13aXRoaW4sIC5pbXBvcnRlZC1xdWVzdGlvbi1saWdodDpob3ZlciB7CiAgYm94LXNoYWRvdzogMCA4cHggMzJweCByZ2JhKDEwLDExMiwyNTUsMC4xMyk7CiAgYm9yZGVyLWNvbG9yOiAjMGE3MGZmOwp9Ci5vcHRpb24taXRlbS1saWdodCB7CiAgYmFja2dyb3VuZDogI2M1YzVjNTsKICBib3JkZXItcmFkaXVzOiA3cHg7CiAgbWFyZ2luLWJvdHRvbTogN3B4OwogIHBhZGRpbmc6IDdweCAxMHB4OwogIGJvcmRlcjogMXB4IHNvbGlkICNjN2M3Yzc7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9Ci5vcHRpb24taXRlbS1saWdodCBpbnB1dFt0eXBlPSJ0ZXh0Il0gewogIGJhY2tncm91bmQ6ICNmOGZhZmY7CiAgY29sb3I6ICMyMjI7CiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTdlZjsKfQouYWRkLWJ0biwgLnJlbW92ZS1idG4gewogIG1hcmdpbi10b3A6IDEwcHg7Cn0KLm1vZGFsLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICBtYXJnaW46IDA7Cn0KCi5tb2RhbC1jbG9zZSB7CiAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgYm9yZGVyOiBub25lOwogICAgZm9udC1zaXplOiAxLjVyZW07CiAgICBjb2xvcjogI2FhYTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGNvbG9yIDAuM3MgZWFzZTsKfQoKLm1vZGFsLWNsb3NlOmhvdmVyIHsKICAgIGNvbG9yOiB2YXIoLS1kYW5nZXIpOwp9CgoubW9kYWwtYm9keSB7CiAgICBtYXgtaGVpZ2h0OiA0MDBweDsKICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICBwYWRkaW5nOiAxMHB4IDA7Cn0KCi5tb2RhbC1mb290ZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgICBnYXA6IDEwcHg7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2RkZDsKICAgIHBhZGRpbmctdG9wOiAxMHB4OwogICAgbWFyZ2luLXRvcDogMTVweDsKfQojbWFuYWdlU2VsZlRlc3RQYWdlIHsKICAgIHBhZGRpbmc6IDIwcHg7Cn0KCi5xdWVzdGlvbi1jb250YWluZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgYm9yZGVyOiAxcHggZGFzaGVkICNkZGQ7Cn0KCi5vcHRpb24taXRlbSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KCi5vcHRpb24taXRlbSBpbnB1dFt0eXBlPSJyYWRpbyJdIHsKICAgIG1hcmdpbi1sZWZ0OiAxMHB4Owp9Cgoub3B0aW9uLWl0ZW0gaW5wdXRbdHlwZT0idGV4dCJdIHsKICAgIGZsZXg6IDE7CiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7Cn0KLm1vZGFsLWZvb3RlciAuYnRuIHsKICAgIHBhZGRpbmc6IDEwcHggMjBweDsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5tb2RhbC1mb290ZXIgLmJ0bi1kYW5nZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFuZ2VyKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKfQoKLm1vZGFsLWZvb3RlciAuYnRuLWRhbmdlcjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzAzOTJiOwp9CgovKiDYrdix2YPYqSDYudmG2K8g2LjZh9mI2LEg2KfZhNmG2KfZgdiw2KkgKi8KQGtleWZyYW1lcyBmYWRlSW4gewogICAgZnJvbSB7CiAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOSk7CiAgICB9CiAgICB0byB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpOwogICAgfQp9Ci50b2FzdC1jb250YWluZXIgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAyMHB4OwogICAgcmlnaHQ6IDIwcHg7CiAgICB6LWluZGV4OiAxMDAwOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBnYXA6IDEwcHg7CiAgICB3aWR0aDogMzAwcHg7Cn0KCi50b2FzdCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTRlZTg4OyAvKiDZhNmI2YYg2KPYrti22LEgKi8KICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDE1cHggMjBweDsKICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbmltYXRpb246IHNsaWRlRG93biAwLjVzIGVhc2UgZm9yd2FyZHM7CiAgICBvcGFjaXR5OiAwOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0yMHB4KTsKfQoKLnRvYXN0IGkgewogICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgZm9udC1zaXplOiAxLjJyZW07Cn0KCi50b2FzdC1jbG9zZSB7CiAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgYm9yZGVyOiBub25lOwogICAgY29sb3I6IHdoaXRlOwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjNzIGVhc2U7Cn0KCi50b2FzdC1jbG9zZTpob3ZlciB7CiAgICBjb2xvcjogIzBjYmY2YjsKfQoKQGtleWZyYW1lcyBzbGlkZURvd24gewogICAgZnJvbSB7CiAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwcHgpOwogICAgfQogICAgdG8gewogICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwogICAgfQp9CgpAa2V5ZnJhbWVzIGZhZGVPdXQgewogICAgZnJvbSB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICB9CiAgICB0byB7CiAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwcHgpOwogICAgfQp9Ci8qINiq2K3Ys9mK2YYg2KfZhNiq2YXYsdmK2LEg2K/Yp9iu2YQg2KfZhNmG2KfZgdiw2KkgKi8KLm1vZGFsLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyIHsKICAgIHdpZHRoOiA4cHg7Cn0KCi5tb2RhbC1ib2R5Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKLm1vZGFsLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7Cn0KICAgICAgICAuYWRkLWJ0biB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXN1Y2Nlc3MpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLnJlbW92ZS1idG4gewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kYW5nZXIpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgICAgIH0KICAgICAgICAuZm9vdGVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwYTcwZmY7IC8qINmE2YjZhiDYp9mE2K7ZhNmB2YrYqSAqLwogICAgY29sb3I6IHdoaXRlOyAvKiDZhNmI2YYg2KfZhNmG2LUgKi8KICAgIHBhZGRpbmc6IDIwcHggMDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICBib3gtc2hhZG93OiAwIC0ycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7Cn0KCi5mb290ZXIgLmNvbnRhaW5lciB7CiAgICBtYXgtd2lkdGg6IDEyMDBweDsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgcGFkZGluZzogMCAyMHB4Owp9CgouZm9vdGVyIHAgewogICAgbWFyZ2luOiAwOwogICAgZm9udC1zaXplOiAxcmVtOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5mb290ZXIgLnNvY2lhbC1saW5rcyB7CiAgICBsaXN0LXN0eWxlOiBub25lOwogICAgcGFkZGluZzogMDsKICAgIG1hcmdpbjogMTBweCAwIDA7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBnYXA6IDE1cHg7Cn0KLm1vZGFsIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB6LWluZGV4OiAxMDAwOwp9CgoubW9kYWwtY29udGVudCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgd2lkdGg6IDkwJTsKICAgIG1heC13aWR0aDogNDAwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4yKTsKICAgIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQ7Cn0KCi5tb2RhbC10aXRsZSB7CiAgICBmb250LXNpemU6IDEuOHJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY29sb3I6ICNmZjQ0NDQ7CiAgICBtYXJnaW4tYm90dG9tOiAxNXB4Owp9CgoubW9kYWwtbWVzc2FnZSB7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgY29sb3I6ICMzMzM7Cn0KCi5tb2RhbC1jb250ZW50IC5idG4gewogICAgcGFkZGluZzogMTBweCAyMHB4OwogICAgZm9udC1zaXplOiAxcmVtOwogICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlOwp9CgoubW9kYWwtY29udGVudCAuYnRuOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDU2YjM7Cn0KCkBrZXlmcmFtZXMgZmFkZUluIHsKICAgIGZyb20gewogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkpOwogICAgfQogICAgdG8gewogICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTsKICAgIH0KfQouc2VsZi10ZXN0LWNhcmQtZm9vdGVyIGJ1dHRvbiB7CiAgICBtYXJnaW4tbGVmdDogMTBweDsgLyog2YXYs9in2YHYqSDYqNmK2YYg2KfZhNij2LLYsdin2LEgKi8KfQouZm9vdGVyIC5zb2NpYWwtbGlua3MgbGkgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwp9Ci5kcm9wZG93biB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KCi5kcm9wZG93bi1tZW51IHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMTAwJTsKICAgIGxlZnQ6IDA7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGE3MGZmOwogICAgYm9yZGVyOiAxcHggc29saWQgIzBhNzBmZjsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICB6LWluZGV4OiAxMDAwOwogICAgbWluLXdpZHRoOiAxNTBweDsKICAgIHBhZGRpbmc6IDEwcHggMDsKfQoKLmRyb3Bkb3duLWl0ZW0gewogICAgcGFkZGluZzogMTBweCAxNXB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICBib3JkZXI6IG5vbmU7CiAgICB3aWR0aDogMTAwJTsKICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZTsKfQoKLmRyb3Bkb3duLWl0ZW06aG92ZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogIzBhNzBmZjsKfQouZm9vdGVyIC5zb2NpYWwtbGlua3MgYSB7CiAgICBjb2xvcjogcmdiKDAsIDE3MCwgMjU1KTsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgdHJhbnNpdGlvbjogY29sb3IgMC4zcyBlYXNlOwp9CgouZm9vdGVyIC5zb2NpYWwtbGlua3MgYTpob3ZlciB7CiAgICBjb2xvcjogI2ZmNjM0NzsgLyog2YTZiNmGINi52YbYryDYp9mE2KrYrdmI2YrZhSAqLwp9CiAgICAgICAgLyogRXhhbSBUYWtpbmcgKi8KICAgICAgICAuZXhhbS1jb250YWluZXIgewogICAgICAgICAgICBtYXgtd2lkdGg6IDgwMHB4OwogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDMwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjA4KTsKICAgICAgICB9CgogICAgICAgIC5leGFtLWhlYWRlciB7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOwogICAgICAgIH0KCiAgICAgICAgLmV4YW0tdGl0bGUgewogICAgICAgICAgICBmb250LXNpemU6IDEuOHJlbTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLmV4YW0tbWV0YSB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBnYXA6IDIwcHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1ncmF5KTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9Ci8qINiq2LrZitmK2LEg2YTZiNmGINiy2LEg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQgKi8KI2xvZ2luQnRuIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7IC8qINin2YTZhNmI2YYg2KfZhNij2K7YttixICovCiAgICBjb2xvcjogcmdiKDAsIDAsIDApOwogICAgYm9yZGVyOiBub25lOwogICAgcGFkZGluZzogMTBweCAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgZm9udC1zaXplOiAxcmVtOwogICAgY3Vyc29yOiBwb2ludGVyOwp9CiNsb2dpbkJ0bjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyAvKiDZhNmI2YYg2KPYrti22LEg2KPYutmF2YIg2YLZhNmK2YTYp9mLICovCiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KLyog2KXYstin2YTYqSDYqtij2KvZitixIGhvdmVyICovCiNsb2dpbkJ0bjpob3ZlciB7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KICAgICAgICAucXVlc3Rpb24tY2FyZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9CgogICAgICAgIC5xdWVzdGlvbi10ZXh0IHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjJyZW07CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgfQoKICAgICAgICAub3B0aW9ucy1saXN0IHsKICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsKICAgICAgICB9CgogICAgICAgIC5vcHRpb24tbGFiZWwgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNXB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgfQogICAgICAgIC50b2FzdC1tZXNzYWdlIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIGJvdHRvbTogMjBweDsKICAgIHJpZ2h0OiAyMHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzE0ZWU4ODsgLyog2YTZiNmGINij2K7YttixICovCiAgICBjb2xvcjogd2hpdGU7CiAgICBwYWRkaW5nOiAxNXB4IDIwcHg7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZ2FwOiAxMHB4OwogICAgZm9udC1zaXplOiAxcmVtOwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICB6LWluZGV4OiAxMDAwOwogICAgYW5pbWF0aW9uOiBmYWRlSW4gMC41cyBlYXNlIGZvcndhcmRzOwp9CgoudG9hc3QtbWVzc2FnZSBpIHsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwp9CgpAa2V5ZnJhbWVzIGZhZGVJbiB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsKICAgIH0KICAgIHRvIHsKICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgIH0KfQoKQGtleWZyYW1lcyBmYWRlT3V0IHsKICAgIGZyb20gewogICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwogICAgfQogICAgdG8gewogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDIwcHgpOwogICAgfQp9CiAgICAgICAgLm9wdGlvbi1sYWJlbDpob3ZlciB7CiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgfQoKICAgICAgICAub3B0aW9uLWxhYmVsLnNlbGVjdGVkIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2NywgOTcsIDIzOCwgMC4xKTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICB9CgogICAgICAgIC5vcHRpb24taW5wdXQgewogICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDsKICAgICAgICB9CgogICAgICAgIC5leGFtLWZvb3RlciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDsKICAgICAgICAgICAgcGFkZGluZy10b3A6IDIwcHg7CiAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZWVlOwogICAgICAgIH0KICAgICAgICAuZXhhbS1tZXRhIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZ2FwOiAxNXB4OwogICAgZm9udC1zaXplOiAwLjlyZW07CiAgICBjb2xvcjogdmFyKC0tZ3JheSk7CiAgICBtYXJnaW4tdG9wOiAxMHB4Owp9CgoubWV0YS1pdGVtIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZ2FwOiA1cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOwogICAgcGFkZGluZzogOHB4IDEycHg7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpOwogICAgZm9udC13ZWlnaHQ6IDUwMDsKfQoKLm1ldGEtaXRlbSBpIHsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGZvbnQtc2l6ZTogMS4xcmVtOwp9CiAgICAgICAgLyogUmVzdWx0cyAqLwogICAgICAgIC5yZXN1bHRzLWNvbnRhaW5lciB7CiAgICAgICAgICAgIG1heC13aWR0aDogODAwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgcGFkZGluZzogMzBweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMDgpOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAucmVzdWx0cy1zY29yZSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogM3JlbTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBtYXJnaW46IDIwcHggMDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICB9CgogICAgICAgIC5yZXN1bHRzLW1ldGEgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiAzMHB4OwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogICAgICAgIH0KCiAgICAgICAgLnJlc3VsdHMtbWV0YS1pdGVtIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgICAgICAgICAgcGFkZGluZzogMTVweCAyNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgfQoKICAgICAgICAucmVzdWx0cy1tZXRhLXZhbHVlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjVyZW07CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICB9CgogICAgICAgIC5yZXN1bHRzLXF1ZXN0aW9ucyB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgIH0KCiAgICAgICAgLnJlc3VsdC1xdWVzdGlvbiB7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4OwogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsKICAgICAgICB9CgogICAgICAgIC5jb3JyZWN0LWFuc3dlciB7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1zdWNjZXNzKTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICB9CgogICAgICAgIC53cm9uZy1hbnN3ZXIgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tZGFuZ2VyKTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICB9CgogICAgICAgIC8qIEF1dGggRm9ybXMgKi8KICAgICAgICAuYXV0aC1jb250YWluZXIgewogICAgICAgICAgICBtYXgtd2lkdGg6IDUwMHB4OwogICAgICAgICAgICBtYXJnaW46IDUwcHggYXV0bzsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDQwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjA4KTsKICAgICAgICB9CgogICAgICAgIC5hdXRoLXRpdGxlIHsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4OwogICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgfQoKICAgICAgICAuYXV0aC1mb3JtIC5mb3JtLWdyb3VwIHsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjVweDsKICAgICAgICB9CgogICAgICAgIC5hdXRoLWZvb3RlciB7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgICAgICAgY29sb3I6IHZhcigtLWdyYXkpOwogICAgICAgIH0KCiAgICAgICAgLmF1dGgtZm9vdGVyIGEgewogICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICB9Ci8qINij2YbZhdin2Lcg2KzYr9mK2K/YqSDZhNiq2K3Ys9mK2YYg2YjYp9is2YfYqSDYsdmB2Lkg2KfZhNmF2YTZgdin2Kog2YjYudix2LYg2KfZhNi12YjYsSAqLwoucXVlc3Rpb24taW1hZ2UtcHJldmlldyB7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgICBtYXgtaGVpZ2h0OiAyMDBweDsKICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICBkaXNwbGF5OiBub25lOwp9CgouYnVsay11cGxvYWQtaW5zdHJ1Y3Rpb25zIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgbWFyZ2luLXRvcDogMTBweDsKICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjZGRkOwp9Cgojc2VsZlRlc3RQYWdlIHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKI3NlbGZUZXN0Q29udGFpbmVyIHsKICAgIG1hcmdpbi10b3A6IDIwcHg7Cn0KCi5xdWVzdGlvbi1jYXJkIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7Cn0KCi5xdWVzdGlvbi1jYXJkIGgzIHsKICAgIGZvbnQtc2l6ZTogMS41cmVtOwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQoKLm9wdGlvbnMtbGlzdCB7CiAgICBsaXN0LXN0eWxlOiBub25lOwogICAgcGFkZGluZzogMDsKfQoKLm9wdGlvbi1sYWJlbCB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHBhZGRpbmc6IDEycHggMTVweDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOwp9Cgoub3B0aW9uLWxhYmVsOmhvdmVyIHsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KI3doYXRzYXBwQnRuIHsKICBwb3NpdGlvbjogZml4ZWQ7CiAgYm90dG9tOiAzMHB4OwogIGxlZnQ6IDMwcHg7CiAgYmFja2dyb3VuZDogIzI1ZDM2NjsKICBjb2xvcjogI2ZmZjsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgd2lkdGg6IDYwcHg7CiAgaGVpZ2h0OiA2MHB4OwogIGZvbnQtc2l6ZTogMi4ycmVtOwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBib3gtc2hhZG93OiAwIDRweCAxNnB4IHJnYmEoMzcsMjExLDEwMiwwLjE4KTsKICB6LWluZGV4OiAyMDAwOwogIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycywgdHJhbnNmb3JtIDAuMnM7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9CiN3aGF0c2FwcEJ0bjpob3ZlciB7CiAgYmFja2dyb3VuZDogIzEyOGM3ZTsKICB0cmFuc2Zvcm06IHNjYWxlKDEuMDgpOwp9Ci5vcHRpb24tbGFiZWwuc2VsZWN0ZWQgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg2NywgOTcsIDIzOCwgMC4xKTsKICAgIGJvcmRlci1jb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KLmV4cG9ydC1idG4gewogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKfQouZmVlZGJhY2stY29udGFpbmVyIHsKICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGFuaW1hdGlvbjogZmFkZUluIDAuNXMgZWFzZS1pbi1vdXQ7Cn0KCi5mZWVkYmFjay1jb250YWluZXIuc3VjY2VzcyB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDQ2LCAyMDQsIDExMywgMC4xKTsgLyog2KPYrti22LEg2YHYp9iq2K0gKi8KICAgIGNvbG9yOiAjMmVjYzcxOyAvKiDYo9iu2LbYsSAqLwogICAgYm9yZGVyOiAycHggc29saWQgIzJlY2M3MTsKfQoKLmZlZWRiYWNrLWNvbnRhaW5lci5lcnJvciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzMSwgNzYsIDYwLCAwLjEpOyAvKiDYo9it2YXYsSDZgdin2KrYrSAqLwogICAgY29sb3I6ICNlNzRjM2M7IC8qINij2K3ZhdixICovCiAgICBib3JkZXI6IDJweCBzb2xpZCAjZTc0YzNjOwp9CgpAa2V5ZnJhbWVzIGZhZGVJbiB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTBweCk7CiAgICB9CiAgICB0byB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7CiAgICB9Cn0KICAgICAgICAvKiBBbGVydHMgKi8KICAgICAgICAuYWxlcnQgewogICAgICAgICAgICBwYWRkaW5nOiAxNXB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAuYWxlcnQtc3VjY2VzcyB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNzYsIDIwMSwgMjQwLCAwLjEpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zdWNjZXNzKTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXN1Y2Nlc3MpOwogICAgICAgIH0KCiAgICAgICAgLmFsZXJ0LWRhbmdlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjM5LCAzNSwgNjAsIDAuMSk7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWRhbmdlcik7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1kYW5nZXIpOwogICAgICAgIH0KCiAgICAgICAgLmFsZXJ0IGkgewogICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjJyZW07CiAgICAgICAgfQoKICAgICAgICAvKiBMb2FkaW5nICovCiAgICAgICAgLmxvYWRpbmcgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgaGVpZ2h0OiAyMDBweDsKICAgICAgICB9CgogICAgICAgIC5zcGlubmVyIHsKICAgICAgICAgICAgd2lkdGg6IDQwcHg7CiAgICAgICAgICAgIGhlaWdodDogNDBweDsKICAgICAgICAgICAgYm9yZGVyOiA0cHggc29saWQgcmdiYSg2NywgOTcsIDIzOCwgMC4xKTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBib3JkZXItdG9wLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBzcGluIDFzIGxpbmVhciBpbmZpbml0ZTsKICAgICAgICB9CgogICAgICAgIEBrZXlmcmFtZXMgc3BpbiB7CiAgICAgICAgICAgIHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfQogICAgICAgIH0KCiAgICAgICAgLyogU3R1ZGVudCBHcmFkZXMgKi8KICAgICAgICAuZ3JhZGVzLXRhYmxlIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgfQoKICAgICAgICAuZ3JhZGVzLXRhYmxlIHRoLCAuZ3JhZGVzLXRhYmxlIHRkIHsKICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNXB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7CiAgICAgICAgfQoKICAgICAgICAuZ3JhZGVzLXRhYmxlIHRoIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICB9CgogICAgICAgIC5ncmFkZXMtdGFibGUgdHI6aG92ZXIgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZhOwogICAgICAgIH0KCiAgICAgICAgLmdyYWRlLWJhZGdlIHsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgICAgICBwYWRkaW5nOiA0cHggMTBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAwLjg1cmVtOwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgIH0KCiAgICAgICAgLmdyYWRlLWV4Y2VsbGVudCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNzYsIDIwMSwgMjQwLCAwLjEpOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tc3VjY2Vzcyk7CiAgICAgICAgfQoKICAgICAgICAuZ3JhZGUtZ29vZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNjcsIDk3LCAyMzgsIDAuMSk7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICB9CgogICAgICAgIC5ncmFkZS1hdmVyYWdlIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDE1OCwgMCwgMC4xKTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXdhcm5pbmcpOwogICAgICAgIH0KCiAgICAgICAgLmdyYWRlLXBvb3IgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzOSwgMzUsIDYwLCAwLjEpOwogICAgICAgICAgICBjb2xvcjogdmFyKC0tZGFuZ2VyKTsKICAgICAgICB9CgogICAgICAgIC8qIFByb2dyZXNzIENoYXJ0ICovCiAgICAgICAgLnByb2dyZXNzLWNoYXJ0IHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMzAwcHg7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIH0KCiAgICAgICAgLnByb2dyZXNzLWJhciB7CiAgICAgICAgICAgIGhlaWdodDogMjBweDsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZWNlZjsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICB9CgogICAgICAgIC5wcm9ncmVzcy1maWxsIHsKICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHZhcigtLXByaW1hcnkpLCB2YXIoLS1wcmltYXJ5LWxpZ2h0KSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAgIHRyYW5zaXRpb246IHdpZHRoIDAuNXMgZWFzZTsKICAgICAgICB9CgogICAgICAgIC5wcm9ncmVzcy1sYWJlbCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNXB4OwogICAgICAgIH0KCiAgICAgICAgLyogUmVzcG9uc2l2ZSAqLwogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA5OTJweCkgewogICAgICAgICAgICAuZGFzaGJvYXJkIHsKICAgICAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAuc2lkZWJhciB7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHsKICAgICAgICAgICAgLmhlYWRlci1jb250ZW50IHsKICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICAgICAgICBnYXA6IDE1cHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLnNpZGViYXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgcGFkZGluZzogMS41cmVtOwogICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMDMpOwp9Ci5zbGlkZS1jYXJkIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5zbGlkZS1jYXJkOmJlZm9yZSB7CiAgICBjb250ZW50OiAnJzsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICByaWdodDogMDsKICAgIGhlaWdodDogNHB4OwogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCB2YXIoLS1wcmltYXJ5KSwgdmFyKC0tcHJpbWFyeS1saWdodCkpOwp9Ci5mb3JtLWNvbnRyb2wgewogICAgYm9yZGVyOiAxcHggc29saWQgI0U2RTlFRDsKICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5mb3JtLWNvbnRyb2w6Zm9jdXMgewogICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweCByZ2JhKDkzLCAxNTYsIDIzNiwgMC4yKTsKfQovKiDYqtij2KvZitix2KfYqiDYrdix2YPZitipINi52YbYryDYp9mE2KrZhdix2YrYsSAqLwouZXhhbS1jYXJkLCAuc2xpZGUtY2FyZCB7CiAgICBhbmltYXRpb246IGZhZGVJblVwIDAuNnMgZWFzZSBmb3J3YXJkczsKfQoKQGtleWZyYW1lcyBmYWRlSW5VcCB7CiAgICBmcm9tIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsKICAgIH0KICAgIHRvIHsKICAgICAgICBvcGFjaXR5OiAxOwogICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKICAgIH0KfQoKLyog2KrYo9ir2YrYsdin2Kog2LnZhtivINin2YTYqtit2YjZitmFICovCi5idG4gewogICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgY3ViaWMtYmV6aWVyKDAuMjUsIDAuOCwgMC4yNSwgMSk7Cn0KCi8qINiq2KPYq9mK2LHYp9iqINin2YTZhtmC2LEgKi8KLmJ0bjphY3RpdmUgewogICAgdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTsKfQouZm9ybS1sYWJlbCB7CiAgICBmb250LXdlaWdodDogNTAwOwogICAgY29sb3I6IHZhcigtLWRhcmspOwogICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOwp9Ci5zaWRlYmFyLW1lbnUgYSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHBhZGRpbmc6IDAuNzVyZW0gMS4yNXJlbTsKICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5zaWRlYmFyLW1lbnUgYSBpIHsKICAgIG1hcmdpbi1sZWZ0OiAwLjc1cmVtOwogICAgd2lkdGg6IDIwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0gICAgIAogICAgICAgICAgICAuYXV0aC1idXR0b25zIHsKICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAuZXhhbXMtZ3JpZCB7CiAgICAgICAgICAgICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLnJlc3VsdHMtbWV0YSB7CiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgICAgICAgICAgICAgZ2FwOiAxNXB4OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAKLyog2KrYrdiz2YrZhiDYqti12YXZitmFINio2LfYp9mC2KfYqiDYp9mE2LTYsdin2KbYrSAqLwouc2xpZGUtY2FyZCB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgYm94LXNoYWRvdzogMCA0cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Cn0KLyog2KrYtdmF2YrZhSDYp9mE2YbYp9mB2LDYqSDYp9mE2YXZhtio2KvZgtipICovCi5tb2RhbCB7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgei1pbmRleDogMTAwMDsKfQoKLm1vZGFsLWNvbnRlbnQgewogICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwogICAgcGFkZGluZzogMjBweDsKICAgIHdpZHRoOiA5MCU7CiAgICBtYXgtd2lkdGg6IDQwMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KCi5tb2RhbC10aXRsZSB7CiAgICBmb250LXNpemU6IDEuNXJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKfQoKLm1vZGFsLW1lc3NhZ2UgewogICAgZm9udC1zaXplOiAxcmVtOwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgIGNvbG9yOiB2YXIoLS10ZXh0KTsKfQoKLm1vZGFsLWFjdGlvbnMgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIGdhcDogMTBweDsKfQoKLm1vZGFsLWFjdGlvbnMgLmJ0biB7CiAgICBmbGV4OiAxOwogICAgcGFkZGluZzogMTBweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5tb2RhbC1hY3Rpb25zIC5idG4tc3VjY2VzcyB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1zdWNjZXNzKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKfQoKLm1vZGFsLWFjdGlvbnMgLmJ0bi1zdWNjZXNzOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMxMmM4NzQ7Cn0KCi5tb2RhbC1hY3Rpb25zIC5idG4tZGFuZ2VyIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRhbmdlcik7CiAgICBjb2xvcjogd2hpdGU7CiAgICBib3JkZXI6IG5vbmU7Cn0KCi5tb2RhbC1hY3Rpb25zIC5idG4tZGFuZ2VyOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNjMDM5MmI7Cn0KLnNsaWRlLWNhcmQ6aG92ZXIgewogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpOwogICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwp9Cgouc2xpZGUtY2FyZC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tcHJpbWFyeSksIHZhcigtLXByaW1hcnktbGlnaHQpKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBmb250LXNpemU6IDEuMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9Cgouc2xpZGUtY2FyZC1ib2R5IHsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBjb2xvcjogdmFyKC0tZGFyayk7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBsaW5lLWhlaWdodDogMS42OwogICAgdGV4dC1hbGlnbjoganVzdGlmeTsKfQoKLnNsaWRlLWNhcmQtZm9vdGVyIHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsKICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgY29sb3I6IHZhcigtLWdyYXkpOwp9Cgouc2xpZGUtY2FyZC1mb290ZXIgaSB7CiAgICBtYXJnaW4tcmlnaHQ6IDVweDsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKfQoubW9kYWwgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIHotaW5kZXg6IDEwMDA7Cn0KCi5tb2RhbC1jb250ZW50IHsKICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgYm9yZGVyLXJhZGl1czogMTVweDsKICAgIHBhZGRpbmc6IDMwcHg7CiAgICB3aWR0aDogOTAlOwogICAgbWF4LXdpZHRoOiA0MDBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwogICAgYW5pbWF0aW9uOiBmYWRlSW4gMC41cyBlYXNlLWluLW91dDsKfQoKLm1vZGFsLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMnJlbTsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKfQoKLm1vZGFsLW1lc3NhZ2UgewogICAgZm9udC1zaXplOiAxLjJyZW07CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgY29sb3I6IHZhcigtLXRleHQpOwp9CgoucmVzdWx0LWRldGFpbHMgcCB7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBtYXJnaW46IDEwcHggMDsKICAgIGNvbG9yOiB2YXIoLS1kYXJrKTsKfQoKLnJlc3VsdC1kZXRhaWxzIHN0cm9uZyB7CiAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7Cn0KCi5idG4tcHJpbWFyeSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGJvcmRlcjogbm9uZTsKICAgIHBhZGRpbmc6IDEwcHggMjBweDsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7Cn0KCi5idG4tcHJpbWFyeTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWxpZ2h0KTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMik7Cn0KCkBrZXlmcmFtZXMgZmFkZUluIHsKICAgIGZyb20gewogICAgICAgIG9wYWNpdHk6IDA7CiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkpOwogICAgfQogICAgdG8gewogICAgICAgIG9wYWNpdHk6IDE7CiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKTsKICAgIH0KfQovKiDYp9is2LnZhCDZg9mEINi02LHZitit2Kkg2KrYo9iu2LAg2KfYsdiq2YHYp9i52YfYpyDYp9mE2LfYqNmK2LnZiiDZgdmC2LcgKi8KLmV4YW1zLWdyaWQsICNzbGlkZXNHcmlkIHsKICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0Owp9Cgouc2xpZGUtY2FyZCB7CiAgICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDsKfQoKLyog2KfYrNi52YQg2K3Yp9mI2YrYqSDYs9ik2KfZhCDYp9mE2YjYp9is2Kgg2KfZhNmF2YbYstmE2Yog2KPYtdi62LEg2KzYr9in2Ysg2YHZiiDYp9mE2YfZiNin2KrZgSDZiNio2K/ZiNmGINij2Yog2YXYs9in2YHYqSDYrNin2YbYqNmK2KkgKi8KLyog2KfYrdiw2YEg2KPZiCDYudiv2YQg2KPZiiDZg9mI2K8g2LPYp9io2YIg2YXYqti22KfYsdioINmE2YfYsNinINin2YTYudmG2LXYsSAqLwoKQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7CiAgI3NlbGZUZXN0UXVlc3Rpb24gLnF1ZXN0aW9uLWNhcmQgewogICAgd2lkdGg6IDkwdncgIWltcG9ydGFudDsKICAgIG1heC13aWR0aDogOTB2dyAhaW1wb3J0YW50OwogICAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7CiAgICBtYXJnaW46IDAgYXV0byAxMHB4IGF1dG8gIWltcG9ydGFudDsKICAgIHBhZGRpbmc6IDVweCAydncgNXB4IDJ2dyAhaW1wb3J0YW50OwogICAgYm9yZGVyLXJhZGl1czogNnB4ICFpbXBvcnRhbnQ7CiAgICBmb250LXNpemU6IDAuOTFyZW0gIWltcG9ydGFudDsKICAgIGJveC1zaGFkb3c6IDAgMXB4IDRweCByZ2JhKDEwLDExMiwyNTUsMC4wNyk7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7CiAgfQogIC8qINil2LLYp9mE2Kkg2KPZiiDZhdiz2KfZgdipINis2KfZhtio2YrYqSDZhdmGINin2YTYrdin2YjZitin2Kog2KfZhNix2KbZitiz2YrYqSAqLwogIC5jb250YWluZXIsCiAgLmNvbnRlbnQtYXJlYSwKICAuZXhhbS1jb250YWluZXIsCiAgLnJlc3VsdHMtY29udGFpbmVyLAogICNzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciB7CiAgICB3aWR0aDogMTAwdncgIWltcG9ydGFudDsKICAgIG1heC13aWR0aDogMTAwdncgIWltcG9ydGFudDsKICAgIG1pbi13aWR0aDogMCAhaW1wb3J0YW50OwogICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nLWxlZnQ6IDAgIWltcG9ydGFudDsKICAgIHBhZGRpbmctcmlnaHQ6IDAgIWltcG9ydGFudDsKICAgIGJvcmRlci1yYWRpdXM6IDAgIWltcG9ydGFudDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3ggIWltcG9ydGFudDsKICB9CiAgLyog2KXYstin2YTYqSDYo9mKIHBhZGRpbmcg2YXZhiBib2R5INij2YggaHRtbCAqLwogIGJvZHksIGh0bWwgewogICAgcGFkZGluZzogMCAhaW1wb3J0YW50OwogICAgbWFyZ2luOiAwICFpbXBvcnRhbnQ7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94ICFpbXBvcnRhbnQ7CiAgICBvdmVyZmxvdy14OiBoaWRkZW4gIWltcG9ydGFudDsKICB9Cn0KLyog2KfYrNi52YQg2K3Yp9mI2YrYqSDYs9ik2KfZhCDYp9mE2YjYp9is2Kgg2KfZhNmF2YbYstmE2Yog2KPYtdi62LEg2KzYr9in2Ysg2YHZiiDYp9mE2YfZiNin2KrZgSAqLwoKICAgIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgICA8ZGl2IGlkPSJjb25maXJtTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4KICAgICAgICAgICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSI+2KrYo9mD2YrYryDYqtiz2YTZitmFINin2YTYp9iu2KrYqNin2LE8L2gzPgogICAgICAgICAgICA8cCBjbGFzcz0ibW9kYWwtbWVzc2FnZSI+2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2KrYs9mE2YrZhSDYp9mE2KfYrtiq2KjYp9ix2J88L3A+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlybVllcyIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+2YbYudmFPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjb25maXJtTm8iIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPCEtLSBGaXJlYmFzZSBTREsgLS0+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy84LjEwLjAvZmlyZWJhc2UtYXBwLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL3d3dy5nc3RhdGljLmNvbS9maXJlYmFzZWpzLzguMTAuMC9maXJlYmFzZS1hdXRoLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL3d3dy5nc3RhdGljLmNvbS9maXJlYmFzZWpzLzguMTAuMC9maXJlYmFzZS1maXJlc3RvcmUuanMiPjwvc2NyaXB0PgogICAgCiAgICA8aGVhZGVyPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci1jb250ZW50Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxvZ28iPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZ3JhZHVhdGlvbi1jYXAiPjwvaT4KICAgICAgICAgICAgICAgICAgICA8c3Bhbj48c3BhbiBjbGFzcz0idGV4dC1wcmltYXJ5Ij7ZhdmA2YbZgNi12YDYqSAgPC9zcGFuPiAgICAgICDYp9mE2YHZitiy2YrZgNmA2KfYoSDYp9mE2YTYsNmK2YDZgNiw2YcgICA8c3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgCiAgICAgPGRpdiBjbGFzcz0iYXV0aC1idXR0b25zIiBpZD0iYXV0aEJ1dHRvbnMiPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0ibG9naW5CdG4iPtiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEPC9idXR0b24+CiAgICA8YnV0dG9uIGNsYXNzPSIiIGlkPSJyZWdpc3RlckJ0biI+ICA8L2J1dHRvbj4KCiAgICA8IS0tINiy2LEg2KrZiNin2LXZhCDZhdi52YbYpyAtLT4KICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImNvbnRhY3RVc0J0biIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweDsiPgogICAgICA8aSBjbGFzcz0iZmFzIGZhLWhlYWRzZXQiIHN0eWxlPSJtYXJnaW4tbGVmdDo2cHg7Ij48L2k+INiq2YjYp9i12YQg2YXYudmG2KcKICAgIDwvYnV0dG9uPgo8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InVzZXItbWVudSIgaWQ9InVzZXJNZW51IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ1c2VyTmFtZSI+PC9zcGFuPgogICAgICAgICAgIDxkaXYgY2xhc3M9ImRyb3Bkb3duIj4KICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBkcm9wZG93bi10b2dnbGUiIGlkPSJ1c2VyTWVudURyb3Bkb3duIiBvbmNsaWNrPSJ0b2dnbGVEcm9wZG93bigpIj4KICAgICAgICA8c3BhbiBzdHlsZT0ibWFyZ2luLXJpZ2h0OjhweDsiPjwvc3Bhbj4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoZXZyb24tZG93biI+PC9pPgogICAgPC9idXR0b24gPgogICAgPGRpdiBjbGFzcz0iZHJvcGRvd24tbWVudSB1c2VyLWRyb3Bkb3duLW1lbnUiIGlkPSJkcm9wZG93bk1lbnUiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iZHJvcGRvd24taXRlbSIgaWQ9InJlbG9hZEhvbWVCdG4iPgogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24gY2xhc3M9ImRyb3Bkb3duLWl0ZW0iIGlkPSJsb2dvdXRCdG4iPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXNpZ24tb3V0LWFsdCI+PC9pPiDYqtiz2KzZitmEINin2YTYrtix2YjYrAogICAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CjwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9oZWFkZXI+Cjxicj4KICAgIDxtYWluPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+CiAgICAgICAgICAgIDwhLS0gTG9hZGluZyBTY3JlZW4gLS0+CiAgICAgICAgICAgIDxkaXYgaWQ9ImxvYWRpbmdTY3JlZW4iIGNsYXNzPSJsb2FkaW5nIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InNwaW5uZXIiPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDwhLS0gQXV0aCBTY3JlZW5zIC0tPgogICAgICAgICAgICA8ZGl2IGlkPSJhYm91dFNlY3Rpb24iIGNsYXNzPSJhYm91dC1jb250YWluZXIiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYm91dC1jb250ZW50Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYm91dC10ZXh0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGgxPtmF2LHYrdio2KfZiyDYqNmDINmB2Yog2YXZgNmG2YDYtdmA2Kkg2KfZhNmB2YrYstmK2YDZgNin2KEg2KfZhNmE2LDZitmA2YDZgNmA2YDZgNmA2YDZgNmA2YDZgNmA2LDZhyAgICAgPC9oMT4KICAgICAgICAgICAgICAgICAgICAgICAgPHA+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPtivLyDZgdix2Kwg2LHYstmCICAgPC9zdHJvbmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINmF2YYg2KPYqNix2LIg2YXYr9ix2LPZiiDYp9mE2YHZitiy2YrYp9ihINmE2YTYq9in2YbZiNmK2Kkg2KfZhNi52KfZhdipIPCfk5rimqHYjCDYrdmK2Ksg2YrYrNmF2Lkg2KjZitmGINin2YTYrtio2LHYqSDYp9mE2KPZg9in2K/ZitmF2YrYqSDZiNin2YTYtNix2K0g2KfZhNmF2KjYs9i3IPCfp6DinKjYjCDZiNmK2KrZhdmK2LIg2KjZgtiv2LHYqtmHINi52YTZiSDYqtit2YjZitmEINij2LXYudioINin2YTZgtmI2KfZhtmK2YYg2KXZhNmJINij2YHZg9in2LEg2LPZh9mE2Kkg2YjZhdmF2KrYudipIPCfjq/wn5OW2Iwg2YXZhdinINmK2KzYudmE2Ycg2KfYrtiq2YrYp9ix2YvYpyDZhdmB2LbZhNmL2Kcg2YTZg9mEINi32KfZhNioINmK2LPYudmJINmE2YTYqtmB2YjZgiDZiNin2YTYqtmF2YrYsiDwn4+G8J+agC4KICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgINin2YbYttmFINil2YTZitmG2Kcg2KfZhNii2YYg2YjYp9iz2KrZhdiq2Lkg2KjYqtis2LHYqNipINiq2LnZhNmK2YXZitipINmF2YXYqti52Kkg2YjZhdmB2YrYr9ipIQogICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWJvdXQtaW1hZ2UiPgogICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz0iZmFyYWcucG5nIiBhbHQ9Iti12YjYsdipINin2YTYo9iz2KrYp9iwIiBjbGFzcz0idGVhY2hlci1pbWFnZSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFib3V0LWZvb3RlciI+CiAgICAgICAgICAgICAgICAgICAgPHA+2KrYudmE2YUgINio2LfYsdmK2YLYqSDYrNiv2YrYr9ipINmI2YXZhdiq2LnYqSDZhdi5INmF2YbYp9i42LEg2LfYqNmK2LnZitipINmF2YTZh9mF2KkuPC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgIDxkaXYgaWQ9ImF1dGhTY3JlZW5zIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICA8ZGl2IGlkPSJsb2dpbkZvcm0iIGNsYXNzPSJhdXRoLWNvbnRhaW5lciIgc3R5bGU9Im1heC13aWR0aDo0MjBweDttYXJnaW46NTBweCBhdXRvO2JhY2tncm91bmQ6I2VjZWNmNztib3JkZXItcmFkaXVzOjE4cHg7Ym94LXNoYWRvdzowIDRweCAyNHB4ICMwYTcwZmYxMTtwYWRkaW5nOjM4cHggMjhweDsiPgogICAgPGgyIGNsYXNzPSJhdXRoLXRpdGxlIiBzdHlsZT0iY29sb3I6IzBhNzBmZjtmb250LXNpemU6MnJlbTttYXJnaW4tYm90dG9tOjI0cHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXNpZ24taW4tYWx0IiBzdHlsZT0ibWFyZ2luLWxlZnQ6MTBweDtjb2xvcjojMTRlZTg4OyI+PC9pPgogICAgICAgINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmECiAgICA8L2gyPgogICAgPGRpdiBpZD0ibG9naW5FcnJvciIgY2xhc3M9ImFsZXJ0IGFsZXJ0LWRhbmdlciIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZSI+PC9pPgogICAgICAgIDxzcGFuIGlkPSJsb2dpbkVycm9yVGV4dCI+PC9zcGFuPgogICAgPC9kaXY+CiAgICA8Zm9ybSBjbGFzcz0iYXV0aC1mb3JtIiBpZD0ibG9naW5Gb3JtRmllbGRzIj4KICAgICAgICA8IS0tINij2LbZgSDYrdmC2YjZhCDYp9mE2KjYsdmK2K8g2YjZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2YfZhtinINil2LDYpyDZhNmFINiq2YPZhiDZhdmI2KzZiNiv2KkgLS0+CiAgICA8L2Zvcm0+CiAgICA8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjE4cHg7Ij4KICAgICAgICA8YnV0dG9uIGlkPSJnb29nbGVTaWduSW5CdG5Gb3JtIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4iIHN0eWxlPSJiYWNrZ3JvdW5kOiNmZmY7Y29sb3I6IzExMTtib3JkZXI6MS41cHggc29saWQgIzBhNzBmZjt3aWR0aDoxMDAlO3BhZGRpbmc6MTJweCAwO21hcmdpbi10b3A6OHB4O2JvcmRlci1yYWRpdXM6MTBweDtib3gtc2hhZG93OjAgMnB4IDhweCAjMGE3MGZmMTE7Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZToxLjA4cmVtO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtnYXA6MTBweDsiPgogICAgICAgICAgICA8aW1nIHNyYz0iaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy91aS8yLjAuMC9pbWFnZXMvYXV0aC9nb29nbGUuc3ZnIiBzdHlsZT0id2lkdGg6MjJweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7Ij4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImJ0bi10ZXh0Ij7Yqtiz2KzZitmEINio2YAgR29vZ2xlPC9zcGFuPgogICAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJhdXRoLWZvb3RlciIgc3R5bGU9Im1hcmdpbi10b3A6MjJweDt0ZXh0LWFsaWduOmNlbnRlcjsiPgogICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjojODg4OyI+ICAg2LPYrNmEINioICBnb29nbGUgINmKINmF2K3Yqtix2YUg8J+YjTxicj7imqDvuI8gINmE2Ygg2LnYp9mI2LIg2KrYudix2YEg2KfYstin2Yog2KrYs9is2YQg2KfYtti62Lcg2LnZhNmKINiy2LEg2KrZiNin2LXZhCDZhdi52YbYpyDYqNin2YTYp9i52YTZiiAgPC9zcGFuPgogICAgICAgIDxhIGhyZWY9IiMiIGlkPSJzaG93UmVnaXN0ZXIiIHN0eWxlPSJjb2xvcjojMGE3MGZmO2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bWFyZ2luLXJpZ2h0OjhweDsiPiAgPC9hPgogICAgPC9kaXY+CjwvZGl2PgoKCiAgICAgICAgICAgICAgICA8IS0tIFJlZ2lzdGVyIEZvcm0gLS0+CiAgICAgICAgICAgICAgICA8ZGl2IGlkPSJyZWdpc3RlckZvcm0iIGNsYXNzPSJhdXRoLWNvbnRhaW5lciIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9ImF1dGgtdGl0bGUiPtil2YbYtNin2KEg2K3Ys9in2Kgg2KzYr9mK2K88L2gyPgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InJlZ2lzdGVyRXJyb3IiIGNsYXNzPSJhbGVydCBhbGVydC1kYW5nZXIiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtZXhjbGFtYXRpb24tY2lyY2xlIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJyZWdpc3RlckVycm9yVGV4dCI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJhdXRoLWZvcm0iIGlkPSJyZWdpc3RlckZvcm1GaWVsZHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9InJlZ2lzdGVyTmFtZSIgY2xhc3M9ImZvcm0tbGFiZWwiPtin2YTYp9iz2YUg2KfZhNmD2KfZhdmEPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icmVnaXN0ZXJOYW1lIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icmVnaXN0ZXJFbWFpbCIgY2xhc3M9ImZvcm0tbGFiZWwiPtin2YTYqNix2YrYryDYp9mE2KXZhNmD2KrYsdmI2YbZijwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZW1haWwiIGlkPSJyZWdpc3RlckVtYWlsIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icmVnaXN0ZXJQYXNzd29yZCIgY2xhc3M9ImZvcm0tbGFiZWwiPtmD2YTZhdipINin2YTZhdix2YjYsTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJyZWdpc3RlclBhc3N3b3JkIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0icmVnaXN0ZXJDb25maXJtUGFzc3dvcmQiIGNsYXNzPSJmb3JtLWxhYmVsIj7Yqtij2YPZitivINmD2YTZhdipINin2YTZhdix2YjYsTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJyZWdpc3RlckNvbmZpcm1QYXNzd29yZCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2YbZiNi5INin2YTYrdiz2KfYqDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJyZWdpc3RlclJvbGUiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9InN0dWRlbnQiPti32KfZhNioPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7Ij7YpdmG2LTYp9ihINin2YTYrdiz2KfYqDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdXRoLWZvb3RlciI+CiAgICAgICAgICAgICAgICAgICAgICAgINmE2K/ZitmDINit2LPYp9ioINio2KfZhNmB2LnZhNifIDxhIGhyZWY9IiMiIGlkPSJzaG93TG9naW4iPtiz2KzZhCDYp9mE2K/YrtmI2YQ8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8IS0tIE1haW4gQXBwIC0tPgogICAgICAgICAgICA8ZGl2IGlkPSJhcHBDb250ZW50IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGFzaGJvYXJkIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzaWRlYmFyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJzaWRlYmFyLW1lbnUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9IiMiIGNsYXNzPSJhY3RpdmUiIGlkPSJtZW51RGFzaGJvYXJkIj48aSBjbGFzcz0iZmFzIGZhLWhvbWUiPjwvaT4g2KfZhNix2KbZitiz2YrYqSA8L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIjIiBpZD0ibWVudUNyZWF0ZUV4YW0iPjxpIGNsYXNzPSJmYXMgZmEtcGx1cy1jaXJjbGUiPjwvaT4gICDYpdmG2LTYp9ihINin2YXYqtit2KfZhiA8L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iIyIgaWQ9Im1lbnVHcmFkZXMiPjxpIGNsYXNzPSJmYXMgZmEtc3RhciI+PC9pPiDYr9ix2K/YrNin2Kog2KfZhNin2YXYqtit2KfZhtin2Ko8L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIjIiBpZD0ibWVudU1hbmFnZVNlbGZUZXN0IiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjxpIGNsYXNzPSJmYXMgZmEtYnJhaW4iPjwvaT4g2KXYr9in2LHYqSDZiNin2KzYqCA8L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIjIiBpZD0ibWVudVNlbGZUZXN0UmVzdWx0cyI+PGkgY2xhc3M9ImZhcyBmYS1jaGFydC1iYXIiPjwvaT4g2K/Ysdis2KfYqiDYp9mE2YjYp9is2KggPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iIyIgaWQ9Im1lbnVDcmVhdGVTbGlkZSI+PGkgY2xhc3M9ImZhcyBmYS1jaGFsa2JvYXJkLXRlYWNoZXIiPjwvaT4g2KXZhti02KfYoSDZhdmC2LHYsTwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGlkPSJsaVF1ZXN0aW9uQmFuayIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxhIGhyZWY9IiMiIGlkPSJtZW51UXVlc3Rpb25CYW5rIj48aSBjbGFzcz0iZmFzIGZhLWRhdGFiYXNlIj48L2k+INio2YbZgyDYp9mE2KPYs9im2YTYqTwvYT4KPC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBpZD0ibGlTZW5kTm90aWZpY2F0aW9uIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgPGEgaHJlZj0iIyIgaWQ9Im1lbnVTZW5kTm90aWZpY2F0aW9uIj4KICAgIDxpIGNsYXNzPSJmYXMgZmEtYmVsbCI+PC9pPiDYpdix2LPYp9mEINil2LTYudin2LEKICA8L2E+CjwvbGk+CjwhLS0g2KPYttmBINmH2LDYpyDYp9mE2LLYsSDZgdmKINin2YTZgtin2KbZhdipINin2YTYrNin2YbYqNmK2Kkg2YXYuSDYqNmC2YrYqSDYudmG2KfYtdixINin2YTZgCBzaWRlYmFyLW1lbnUgLS0+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9IiMiIGlkPSJtZW51U3R1ZGVudHMiPjxpIGNsYXNzPSJmYXMgZmEtdXNlcnMiPjwvaT4g2KfZhNi32YTYp9ioPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgaWQ9Im1lbnVTdHVkZW50c1N0YXRpc3RpY3NMaSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxhIGhyZWY9IiMiIGlkPSJtZW51U3R1ZGVudHNTdGF0aXN0aWNzIj48aSBjbGFzcz0iZmFzIGZhLWNoYXJ0LWxpbmUiPjwvaT4g2KXYrdi12KfYptmK2KfYqiDYp9mE2LfZhNin2Kg8L2E+CjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iIyIgaWQ9Im1lbnVSZXN1bHRzIj48aSBjbGFzcz0iZmFzIGZhLWNoYXJ0LWJhciI+PC9pPiDYp9mE2YbYqtin2KbYrDwvYT48L2xpPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPSIjIiBpZD0ibWVudVByb2ZpbGUiPjxpIGNsYXNzPSJmYXMgZmEtdXNlciI+PC9pPiDYp9mE2YXZhNmBINin2YTYtNiu2LXZijwvYT48L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9IiMiIGlkPSJtZW51Q2hhdCI+PGkgY2xhc3M9ImZhcyBmYS1jb21tZW50cyI+PC9pPiDYp9mE2YXYrdin2K/Yq9ipPC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic2VsZlRlc3RQYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9InBhZ2UtdGl0bGUiPjxpIGNsYXNzPSJmYXMgZmEtYnJhaW4iPjwvaT4gINin2YTZiNin2KzYqNin2Kog2KfZhNmF2YbYstmE2YrZhyA8L2gyPgoKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic2VsZlRlc3RDb250YWluZXIiIGNsYXNzPSJleGFtLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwcm9ncmVzc0JhckNvbnRhaW5lciIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJwcm9ncmVzc0JhciIgc3R5bGU9IndpZHRoOiAwJTsgaGVpZ2h0OiAyMHB4OyBiYWNrZ3JvdW5kLWNvbG9yOiAjNGNhZjUwOyBib3JkZXItcmFkaXVzOiA1cHg7IHRyYW5zaXRpb246IHdpZHRoIDAuM3M7IHRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6IHdoaXRlOyBsaW5lLWhlaWdodDogMjBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwJQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzZWxmVGVzdFF1ZXN0aW9uIiBjbGFzcz0icXVlc3Rpb24tY2FyZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSDYs9mK2KrZhSDYqtit2YXZitmEINin2YTYs9ik2KfZhCDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImZlZWRiYWNrQ29udGFpbmVyIiBjbGFzcz0iZmVlZGJhY2stY29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2KfZhNiq2LrYsNmK2Kkg2KfZhNix2KfYrNi52Kkg2KrYuNmH2LEg2YfZhtinIC0tPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtLWZvb3RlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0icHJldlNlbGZUZXN0UXVlc3Rpb25CdG4iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+2KfZhNiz2KfYqNmCPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIGlkPSJleGl0U2VsZlRlc3RCdG4iIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij7Yp9mE2K7YsdmI2Kw8L2J1dHRvbj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0ibmV4dFNlbGZUZXN0UXVlc3Rpb25CdG4iPtin2YTYqtin2YTZgNmA2YDZgNmKPC9idXR0b24+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9ImZpbmlzaFNlbGZUZXN0QnRuIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPtil2YbZh9in2KEg2KfZhNin2K7Yqtio2KfYsTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImRlbGV0ZVNlbGZUZXN0TW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9Im1vZGFsLXRpdGxlIj7Yqtij2YPZitivINin2YTYrdiw2YE8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiPtmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINit2LDZgSDZh9iw2Kcg2KfZhNin2K7Yqtio2KfYsdifPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlybURlbGV0ZVNlbGZUZXN0QnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtit2LDZgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImNhbmNlbERlbGV0ZVNlbGZUZXN0QnRuIiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudC1hcmVhIj4KICAgICAgICAgICAgICAgICAgICAgIDwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KPGRpdiBpZD0iY2hhdFBhZ2UiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICA8aDIgY2xhc3M9InBhZ2UtdGl0bGUiPjxpIGNsYXNzPSIiPjwvaT4g2KrYrdmA2K/YqyDZhdi5INin2YTYo9iu2YDYsdmK2YDZgNmGIDwvaDI+CiAgPGRpdiBpZD0iY2hhdE1lc3NhZ2VzIiBzdHlsZT0iYmFja2dyb3VuZDojZjhmOWZhO2JvcmRlci1yYWRpdXM6MTJweDttaW4taGVpZ2h0OjIyMHB4O21heC1oZWlnaHQ6MzUwcHg7b3ZlcmZsb3cteTphdXRvO3BhZGRpbmc6MThweDttYXJnaW4tYm90dG9tOjE1cHg7Ym94LXNoYWRvdzowIDJweCA4cHggIzBhNzBmZjExOyI+PC9kaXY+CiAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDoxMHB4OyI+CiAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImNoYXRJbnB1dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Itin2YPYqtioINix2LPYp9mE2KrZgyDZh9mG2KcuLi4iIHN0eWxlPSJmbGV4OjE7Ij4KICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9InNlbmRDaGF0QnRuIj48aSBjbGFzcz0iZmFzIGZhLXBhcGVyLXBsYW5lIj48L2k+INil2LHYs9in2YQ8L2J1dHRvbj4KICA8L2Rpdj4KICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNmC2LPZhSDYo9iz2YHZhCDYtdmG2K/ZiNmCINil2K/Yrtin2YQg2KfZhNmF2K3Yp9iv2KvYqSDZhdio2KfYtNix2Kkg2YHZiiDZgtiz2YUg2KfZhNmF2K3Yp9iv2KvYqSAoY2hhdFBhZ2UpIC0tPgo8IS0tINin2K3YsNmBINij2Ygg2LnZhNmR2YIg2YfYsNinINin2YTZgtiz2YUg2YXZhiDYtdmB2K3YqSDYp9mE2YXYrdin2K/Yq9ipINmE2KXYstin2YTYqSDYstixINin2YTYqtiz2KzZitmEINin2YTYtdmI2KrZiiDYqNin2YTZg9in2YXZhCAtLT4KPCEtLQo8ZGl2IGlkPSJjaGF0UmVjb3JkQ29udGFpbmVyIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4O2Rpc3BsYXk6ZmxleDtnYXA6MTBweDthbGlnbi1pdGVtczpjZW50ZXI7Ij4KICA8YnV0dG9uIGlkPSJzdGFydFJlY29yZEJ0biIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgdGl0bGU9Itiq2LPYrNmK2YQg2LXZiNiq2YoiPjxpIGNsYXNzPSJmYXMgZmEtbWljcm9waG9uZSI+PC9pPiDYqtiz2KzZitmEPC9idXR0b24+CiAgPGJ1dHRvbiBpZD0ic3RvcFJlY29yZEJ0biIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBzdHlsZT0iZGlzcGxheTpub25lOyIgdGl0bGU9Itil2YrZgtin2YEg2KfZhNiq2LPYrNmK2YQiPjxpIGNsYXNzPSJmYXMgZmEtc3RvcCI+PC9pPiDYpdmK2YLYp9mBPC9idXR0b24+CiAgPGF1ZGlvIGlkPSJyZWNvcmRlZEF1ZGlvUHJldmlldyIgY29udHJvbHMgc3R5bGU9ImRpc3BsYXk6bm9uZTttYXgtd2lkdGg6MjIwcHg7Ij48L2F1ZGlvPgogIDxidXR0b24gaWQ9InNlbmRSZWNvcmRCdG4iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48aSBjbGFzcz0iZmFzIGZhLXBhcGVyLXBsYW5lIj48L2k+INil2LHYs9in2YQg2KfZhNiq2LPYrNmK2YQ8L2J1dHRvbj4KPC9kaXY+Ci0tPgogIDwhLS0g2LLYsSDYrdiw2YEg2YPZhCDYp9mE2YXYrdin2K/Yq9ipINmK2LjZh9ixINmE2YTZhdi52YTZhSDZgdmC2Lcg2YHZiiDYp9mE2KPYs9mB2YQgLS0+CiAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIGlkPSJkZWxldGVBbGxDaGF0QnRuIiBzdHlsZT0iZGlzcGxheTpub25lO3dpZHRoOjEwMCU7bWFyZ2luLXRvcDoxOHB4OyI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDZg9mEINin2YTZhdit2KfYr9ir2KkKICA8L2J1dHRvbj4KPC9kaXY+CjwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KPCEtLSDYtti5INmH2LDYpyDYp9mE2YLYs9mFINmB2Yog2KfZhNmF2YPYp9mGINin2YTZhdmG2KfYs9ioINiv2KfYrtmEIGNvbnRlbnQtYXJlYSDYo9mIINio2LnYryA8ZGl2IGNsYXNzPSJjb250ZW50LWFyZWEiPiAtLT4KPGRpdiBpZD0ic2VsZlRlc3RSZXN1bHRzUGFnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgIDxkaXYgY2xhc3M9InJlc3VsdHMtY29udGFpbmVyIiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMzBweDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBhNzBmZiA2MCUsICMwYTcwZmYgMTAwJSk7IGNvbG9yOiAjZmZmOyBib3JkZXItcmFkaXVzOiAxOHB4OyBib3gtc2hhZG93OiAwIDRweCAyNHB4IHJnYmEoMTAsMTEyLDI1NSwwLjA4KTsgcGFkZGluZzogMzVweCAyNXB4IDI1cHggMjVweDsgdGV4dC1hbGlnbjogY2VudGVyOyI+CiAgICAgICAgPGgyIHN0eWxlPSJmb250LXNpemU6Mi4ycmVtOyBtYXJnaW4tYm90dG9tOiAxMHB4OyBmb250LXdlaWdodDogYm9sZDsiPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoYXJ0LWJhciI+PC9pPiDYr9ix2KzYp9iqINin2YTZiNin2KzYqNin2Kog2KfZhNmF2YbYstmE2YrZhyAgCiAgICAgICAgPC9oMj4KICAgICAgIAogICAgPC9kaXY+CiAgICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNiy2LEg2YHZiNmCINis2K/ZiNmEINiv2LHYrNin2Kog2KfZhNmI2KfYrNioINmB2Yog2YLYs9mFIHNlbGZUZXN0UmVzdWx0c1BhZ2UgLS0+CjxidXR0b24gaWQ9ImRvd25sb2FkU2VsZlRlc3RHcmFkZXNCdG4iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE1cHg7ZGlzcGxheTpub25lOyI+CiAgPGkgY2xhc3M9ImZhcyBmYS1kb3dubG9hZCI+PC9pPiDYqtmG2LLZitmEINin2YTYr9ix2KzYp9iqIFBERiAvINi12YjYsdipCjwvYnV0dG9uPgo8YnI+CiAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgaWQ9ImRlbGV0ZUFsbFNlbGZUZXN0UmVzdWx0c0J0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7Ij4KICAgIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINis2YXZiti5INin2YTZhtiq2KfYptisCjwvYnV0dG9uPgogICAgPGRpdiBzdHlsZT0iYmFja2dyb3VuZDogI2ZmZjsgYm9yZGVyLXJhZGl1czogMTJweDsgYm94LXNoYWRvdzogMCAycHggMTBweCByZ2JhKDEwLDExMiwyNTUsMC4wNyk7IHBhZGRpbmc6IDIwcHg7Ij4KICAgICAgICA8dGFibGUgY2xhc3M9ImdyYWRlcy10YWJsZSIgc3R5bGU9Im1hcmdpbi1ib3R0b206MDsiPgogICAgICAgICAgICA8dGhlYWQ+CiAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgPHRoPtin2LPZhSDYp9mE2LfYp9mE2Kg8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aD7YudmG2YjYp9mGINin2YTYp9iu2KrYqNin2LE8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2K/Ysdis2Kkg2KfZhNmF2K3YtdmE2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2YbYs9io2Kkg2KfZhNmF2KbZiNmK2Kk8L3RoPgogICAgICAgICAgICAgICAgICAgIDx0aD7Yp9mE2KrYp9ix2YrYrjwvdGg+CiAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICA8L3RoZWFkPgogICAgICAgICAgICA8dGJvZHkgaWQ9InNlbGZUZXN0UmVzdWx0c1RhYmxlIj4KICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2KrYrdmF2YrZhCDYp9mE2YbYqtin2KbYrCDZh9mG2KcgLS0+CiAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgPC90YWJsZT4KICAgIDwvZGl2Pgo8L2Rpdj4KCgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIERhc2hib2FyZCAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGFzaGJvYXJkUGFnZSI+Cjxicj48YnI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS1jbGlwYm9hcmQtbGlzdCI+PC9pPiDYp9mE2KfYrtiq2KjYp9ix2KfYqjwvaDM+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhhbXMtY29udGFpbmVyIj4KCgogICAgPGRpdiBjbGFzcz0iZXhhbXMtZ3JpZCIgaWQ9InJlY2VudEV4YW1zIj4KICAgICAgICA8IS0tINiz2YrYqtmFINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2Kog2YfZhtinIC0tPgogICAgPC9kaXY+CiAgICAKPC9kaXY+ICAgICAgICAgICAgICAgICAKPGJyPjxicj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzZWxmVGVzdHNEYXNoYm9hcmQiIHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPSJwYWdlLXRpdGxlIj48aSBjbGFzcz0iZmFzIGZhLWJyYWluIj48L2k+ICDYp9mE2YjYp9is2KjYp9iqINin2YTZhdmG2LLZhNmK2Yc8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtcy1jb250YWluZXIiPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4gPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtcy1ncmlkIiBpZD0ic2VsZlRlc3RzR3JpZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2KrYrdmF2YrZhCDYp9iu2KrYqNin2LHYp9iqICLYp9iu2KrYqNixINmG2YHYs9mDIiDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzbGlkZXNDb250YWluZXIiIHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyIgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7IiBzdHlsZT0ibWFyZ2luLXRvcDogMzBweDsiIHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyI+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS1jaGFsa2JvYXJkLXRlYWNoZXIiPjwvaT4g2KfZhNmF2YLYsdix2KfYqjwvaDM+CiAgICA8cD4gICA8L3A+IAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtcy1jb250YWluZXIiPgoKIDxkaXYgY2xhc3M9ImV4YW1zLWdyaWQiIGlkPSJzbGlkZXNHcmlkIj4KICAgICAgICA8IS0tINin2YTYtNix2KfYptitINiz2YrYqtmFINiq2K3ZhdmK2YTZh9inINmH2YbYpyAtLT4KICAgIDwvZGl2Pgo8L2Rpdj4KPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0ZWFjaGVyRGFzaGJvYXJkIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0icGFnZS10aXRsZSIgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7Ij48aSBjbGFzcz0iZmFzIGZhLWNoYXJ0LWxpbmUiPjwvaT4g2KXYrdi12KfYptmK2KfYqiDYp9mE2LfZhNin2Kg8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LLYsSDYqtmB2KfYtdmK2YQg2KfZhNi32YTYp9ioINit2LPYqCDYp9mE2YXYs9iq2YjZiSAo2YTZhNmF2LnZhNmFINmB2YLYtykgLS0+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByZ3Jlc2hhcnQiIGlkPSJzdHVkZW50c1Byb2dyZXNzQ2hhcnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFByb2dyZXNzIGNoYXJ0IHdpbGwgYmUgbG9hZGVkIGhlcmUgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InN0dWRlbnRzU3RhdGlzdGljc1BhZ2UiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICA8aDIgY2xhc3M9InBhZ2UtdGl0bGUiPjxpIGNsYXNzPSJmYXMgZmEtY2hhcnQtbGluZSI+PC9pPiDYpdit2LXYp9im2YrYp9iqINin2YTYt9mE2KfYqDwvaDI+CiAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTozMHB4OyI+CiAgICA8Y2FudmFzIGlkPSJleGFtQXZlcmFnZUNoYXJ0IiBoZWlnaHQ9IjEyMCI+PC9jYW52YXM+CiAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjE4cHg7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMGE3MGZmOyI+2YXYqtmI2LPYtyDYr9ix2KzYp9iqINin2YTYt9mE2KfYqCDZgdmKINmD2YQg2KfZhdiq2K3Yp9mGPC9kaXY+CiAgPC9kaXY+CiAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTozMHB4OyI+CiAgICA8Y2FudmFzIGlkPSJzdHVkZW50R2VuZXJhbENoYXJ0IiBoZWlnaHQ9IjEyMCI+PC9jYW52YXM+CiAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjE4cHg7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMTRlZTg4OyI+2KfZhNmF2LPYqtmI2Ykg2KfZhNi52KfZhSDZhNmD2YQg2LfYp9mE2Kg8L2Rpdj4KICA8L2Rpdj4KICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjMwcHg7Ij4KICAgIDxjYW52YXMgaWQ9InN0dWRlbnRzQ29tcGFyZUNoYXJ0IiBoZWlnaHQ9IjEyMCI+PC9jYW52YXM+CiAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjE4cHg7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMGE3MGZmOyI+2YXZgtin2LHZhtipINmF2LPYqtmI2YrYp9iqINin2YTYt9mE2KfYqCDYqNio2LnYttmH2YUg2KfZhNio2LnYtjwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KPGRpdiBpZD0icXVlc3Rpb25CYW5rUGFnZSIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxoMiBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS1kYXRhYmFzZSI+PC9pPiDYqNmG2YMg2KfZhNij2LPYptmE2Kk8L2gyPgogIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MThweDsiPgogICAgPGxhYmVsIGZvcj0icXVlc3Rpb25CYW5rQ2F0ZWdvcnkiIGNsYXNzPSJmb3JtLWxhYmVsIj7Yp9mE2YHYptipPC9sYWJlbD4KCiAgICA8c2VsZWN0IGlkPSJxdWVzdGlvbkJhbmtDYXRlZ29yeSIgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9Im1heC13aWR0aDozMDBweDtkaXNwbGF5OmlubGluZS1ibG9jazsiPjwvc2VsZWN0PgogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIGlkPSJhZGRDYXRlZ29yeUJ0biIgc3R5bGU9Im1hcmdpbi1yaWdodDoxMHB4OyI+CiAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINmB2KbYqSDYrNiv2YrYr9ipCiAgICA8L2J1dHRvbj4KCiAgICA8YnI+PGJyPgogICAgPCEtLSDYp9is2YXYuSDZg9mEINij2LLYsdin2LEg2KfZhNit2LDZgSDZgdmKINit2KfZiNmK2Kkg2YjYp9it2K/YqSDZiNir2KjYqtmH2KcgLS0+CgogICAgPCEtLSDYtti5INin2YTYo9iy2LHYp9ixINin2YTYqtin2YTZitipINio2LnYryDZgtin2KbZhdipINin2YTZgdim2KfYqiDZgdmKINmC2LPZhSDYqNmG2YMg2KfZhNij2LPYptmE2KkgKNio2LnYryA8c2VsZWN0IGlkPSJxdWVzdGlvbkJhbmtDYXRlZ29yeSIgLi4uPikg2YjZgtio2YQg2KPZiCDYqNi52K8g2KPYstix2KfYsSDZhtiz2K4v2YbZgtmEINin2YTYo9iz2KbZhNipINit2LPYqCDYsdi62KjYqtmDIC0tPgoKPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMTJweDsgZGlzcGxheTogZmxleDsgZ2FwOiAxMHB4OyI+CiAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXdhcm5pbmciIGlkPSJlZGl0Q2F0ZWdvcnlCdG4iPgogICAgPGkgY2xhc3M9ImZhcyBmYS1lZGl0Ij48L2k+INiq2LnYr9mK2YQg2KfYs9mFINin2YTZgdim2KkKICA8L2J1dHRvbj4KICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9Im1vdmVDYXRlZ29yeUJ0biI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXJhbmRvbSI+PC9pPiDZhtmC2YQg2KfZhNmB2KbYqSDYpdmE2Ykg2YHYptipINij2K7YsdmJCiAgPC9idXR0b24+CjwvZGl2PgogICAgIAogICAgCiAgICA8IS0tIC4uLmV4aXN0aW5nIGNvZGUuLi4gLS0+CjwhLS0g2LbYuSDYp9mE2KPYstix2KfYsSDYp9mE2KrYp9mE2YrYqSDZhdio2KfYtNix2Kkg2KjYudivINmC2KfYptmF2Kkg2KfZhNmB2KbYp9iqINmB2Yog2YLYs9mFINio2YbZgyDYp9mE2KPYs9im2YTYqSAo2KjYudivIDxzZWxlY3QgaWQ9InF1ZXN0aW9uQmFua0NhdGVnb3J5IiAuLi4+KSAtLT4KCjxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206IDEycHg7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsiPgogIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iY29weVF1ZXN0aW9uc0J0biI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLWNvcHkiPjwvaT4g2YbYs9iuINij2LPYptmE2Kkg2KXZhNmJINmB2KbYqSDYo9iu2LHZiQogIDwvYnV0dG9uPgogIDxicj48YnI+CiAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXdhcm5pbmciIGlkPSJtb3ZlUXVlc3Rpb25zQnRuIj4KICAgIDxpIGNsYXNzPSJmYXMgZmEtZXhjaGFuZ2UtYWx0Ij48L2k+INmG2YLZhCDYo9iz2KbZhNipINil2YTZiSDZgdim2Kkg2KPYrtix2YkKICA8L2J1dHRvbj4KPC9kaXY+CjwhLS0g2LbYuSDZh9iw2Kcg2KfZhNiy2LEg2KjYudivINmC2KfYptmF2Kkg2KfZhNmB2KbYp9iqINij2Ygg2YXYuSDYo9iy2LHYp9ixINio2YbZgyDYp9mE2KPYs9im2YTYqSDZgdmKINmC2LPZhSDYqNmG2YMg2KfZhNij2LPYptmE2KkgLS0+Cgo8IS0tIC4uLmV4aXN0aW5nIGNvZGUuLi4gLS0+CiAgICA8IS0tINij2LbZgSDZh9iw2Kcg2K/Yp9iu2YQg2YbYp9mB2LDYqSDYpdi22KfZgdipINin2YTZgdim2KkgLS0+CjwhLS0g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmB2Yog2KPZiiDZhdmD2KfZhiDYr9in2K7ZhCA8Ym9keT4gKNmK2YHYttmEINio2LnYryDZgtiz2YUg2KjZhtmDINin2YTYo9iz2KbZhNipINmF2KjYp9i02LHYqSkgLS0+CjxkaXYgaWQ9ImFkZENhdGVnb3J5TW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSI+2KXYttin2YHYqSDZgdim2Kkg2KzYr9mK2K/YqTwvaDM+CiAgICA8Zm9ybSBpZD0iYWRkQ2F0ZWdvcnlGb3JtIj4KICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPtin2LPZhSDYp9mE2YHYptipPC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImNhdGVnb3J5TmFtZUlucHV0IiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbD7Yp9mE2YHYptipINin2YTYsdim2YrYs9mK2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgPHNlbGVjdCBpZD0icGFyZW50Q2F0ZWdvcnlTZWxlY3QiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7YqNiv2YjZhiDZgdim2Kkg2LHYptmK2LPZitipPC9vcHRpb24+CiAgICAgICAgICA8IS0tINiz2YrYqtmFINiq2K3ZhdmK2YQg2KfZhNmB2KbYp9iqINin2YTYsdim2YrYs9mK2Kkg2YfZhtinIC0tPgogICAgICAgIDwvc2VsZWN0PgogICAgICA8L2Rpdj4KICAgICAgPCEtLSDYo9i22YEg2YfYsNinINin2YTYudmG2LXYsSDZgdmKINin2YTZhdmD2KfZhiDYp9mE2LDZiiDYqtix2YrYryDYudix2LYg2LTYrNix2Kkg2KfZhNmB2KbYp9iqINmB2YrZhyAo2YXYq9mE2KfZiyDYqtit2Kog2YLYp9im2YXYqSDYp9iu2KrZitin2LEg2KfZhNmB2KbYqSkgLS0+CiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIj7Ypdi22KfZgdipPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgaWQ9ImNhbmNlbEFkZENhdGVnb3J5QnRuIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgPC9mb3JtPgogIDwvZGl2Pgo8L2Rpdj4KICAgIDwhLS0g2KPYttmBINmH2LDYpyDYp9mE2LLYsSDYqtit2Kog2YLYp9im2YXYqSDYp9iu2KrZitin2LEg2KfZhNmB2KbYqSDZgdmKINio2YbZgyDYp9mE2KPYs9im2YTYqSAtLT4KPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgaWQ9ImRlbGV0ZUFsbFF1ZXN0aW9uc0luQ2F0ZWdvcnlCdG4iIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE1cHg7ZGlzcGxheTpibG9jazsiPgogIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINis2YXZiti5INij2LPYptmE2Kkg2KfZhNmB2KbYqSDYp9mE2YXYrdiv2K/YqQo8L2J1dHRvbj4KICA8L2Rpdj4KICA8YnI+PGJyPgogIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImFkZFF1ZXN0aW9uQmFua0J0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTVweDsiPgogICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2LPYpNin2YQg2KzYr9mK2K8KICA8L2J1dHRvbj4KICAKICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDYr9in2K7ZhCDZgtiz2YUg2KjZhtmDINin2YTYo9iz2KbZhNipICjYr9in2K7ZhCA8ZGl2IGlkPSJxdWVzdGlvbkJhbmtQYWdlIj4g2YHZiNmCINij2Ygg2KrYrdiqINiy2LEg2KXYttin2YHYqSDYs9ik2KfZhCDYrNiv2YrYrykgLS0+CjxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYnVsa1VwbG9hZFF1ZXN0aW9uQmFua0J0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTVweDsiPgogICAgPGkgY2xhc3M9ImZhcyBmYS11cGxvYWQiPjwvaT4g2LHZgdi5INij2LPYptmE2Kkg2KjZhtmDINin2YTYo9iz2KbZhNipIChDU1YvRXhjZWwpCiAgPC9idXR0b24+CiAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMnB4OyBkaXNwbGF5OmZsZXg7IGdhcDoxMHB4OyBhbGlnbi1pdGVtczpjZW50ZXI7Ij4KICA8YnV0dG9uIGlkPSJleHBvcnRDYXRlZ29yeUV4Y2VsQnRuIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7Ij4KICAgIDxpIGNsYXNzPSJmYXMgZmEtZmlsZS1leHBvcnQiPjwvaT4g2KrYtdiv2YrYsSDYp9mE2YHYptipIEV4Y2VsCiAgPC9idXR0b24+CiAgPGJ1dHRvbiBpZD0iaW1wb3J0Q2F0ZWdvcnlFeGNlbEJ0biIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrOyI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLWZpbGUtaW1wb3J0Ij48L2k+INin2LPYqtmK2LHYp9ivIEV4Y2VsINil2YTZiSDZh9iw2Ycg2KfZhNmB2KbYqQogIDwvYnV0dG9uPgogIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0icXVlc3Rpb25CYW5rQ2F0ZWdvcnlJbXBvcnRJbnB1dCIgYWNjZXB0PSIuY3N2LC54bHN4LC54bHMiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KPC9kaXY+CiAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJidWxrVXBsb2FkUXVlc3Rpb25CYW5rSW5wdXQiIGFjY2VwdD0iLmNzdiwueGxzeCwueGxzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogIDxzbWFsbCBjbGFzcz0idGV4dC1tdXRlZCI+2YrZhdmD2YbZgyDYsdmB2Lkg2YXZhNmBINmK2K3YqtmI2Yog2LnZhNmJINis2YXZiti5INin2YTYo9iz2KbZhNipINiv2YHYudipINmI2KfYrdiv2Kk8L3NtYWxsPgo8L2Rpdj4KICA8ZGl2IGlkPSJxdWVzdGlvbkJhbmtDb250YWluZXIiPjwvZGl2Pgo8L2Rpdj4KPGRpdiBpZD0iYWRkUXVlc3Rpb25CYW5rTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSI+2KXYttin2YHYqSDYs9ik2KfZhCDZhNio2YbZgyDYp9mE2KPYs9im2YTYqTwvaDM+CiAgICA8Zm9ybSBpZD0iYWRkUXVlc3Rpb25CYW5rRm9ybSI+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbD7Zhti1INin2YTYs9ik2KfZhDwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJxdWVzdGlvbkJhbmtUZXh0IiByZXF1aXJlZD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgaWQ9ImNhdGVnb3JpZXNUcmVlQ29udGFpbmVyIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPtin2YTYrtmK2KfYsdin2Ko8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0ib3B0aW9uMSIgcGxhY2Vob2xkZXI9Itin2YTYrtmK2KfYsSAxIiByZXF1aXJlZD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgaWQ9Im9wdGlvbjIiIHBsYWNlaG9sZGVyPSLYp9mE2K7Zitin2LEgMiIgcmVxdWlyZWQ+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJvcHRpb24zIiBwbGFjZWhvbGRlcj0i2KfZhNiu2YrYp9ixIDMiPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0ib3B0aW9uNCIgcGxhY2Vob2xkZXI9Itin2YTYrtmK2KfYsSA0Ij4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbD7YsdmC2YUg2KfZhNil2KzYp9io2Kkg2KfZhNi12K3Zitit2KkgKDEtNCk8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJjb3JyZWN0T3B0aW9uIiBtaW49IjEiIG1heD0iNCIgcmVxdWlyZWQ+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWw+2LHYp9io2Lcg2LXZiNix2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgcXVlc3Rpb24taW1hZ2UtdXJsIiBpZD0icXVlc3Rpb25CYW5rSW1hZ2VVcmwiPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPtin2YTZgdim2Kk8L2xhYmVsPgogICAgICAgIDxzZWxlY3QgaWQ9InF1ZXN0aW9uQmFua0NhdGVnb3J5QWRkIiBjbGFzcz0iZm9ybS1jb250cm9sIj48L3NlbGVjdD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIj7YrdmB2Lg8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBpZD0iY2FuY2VsQWRkUXVlc3Rpb25CYW5rQnRuIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgPC9mb3JtPgogIDwvZGl2Pgo8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBFeGFtcyBMaXN0IC0tPgogICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ibWFuYWdlU2VsZlRlc3RQYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJwYWdlLXRpdGxlIj48aSBjbGFzcz0iZmFzIGZhLWJyYWluIj48L2k+ICAg2KfYr9in2LHYqSDYp9mE2YjYp9is2KjYp9iqINin2YTZhdmG2LLZhNmK2Yc8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic2VsZlRlc3RDcmVhdGlvblN1Y2Nlc3MiIGNsYXNzPSJhbGVydCBhbGVydC1zdWNjZXNzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hlY2stY2lyY2xlIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+2KrZhSDYpdmG2LTYp9ihINin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSE8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIGlkPSJzZWxmVGVzdEZvcm0iIGNsYXNzPSJleGFtLWZvcm0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJzZWxmVGVzdFRpdGxlIiBjbGFzcz0iZm9ybS1sYWJlbCI+2LnZhtmI2KfZhiDYp9mE2KfYrtiq2KjYp9ixPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzZWxmVGVzdFRpdGxlIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIDEuINij2LbZgSDYrdmC2YQg2KfYrtiq2YrYp9ixINin2YTZhdix2K3ZhNipINin2YTYr9ix2KfYs9mK2Kkg2YHZiiDZhtmF2YjYsNisINil2YbYtNin2KEg2KfZhNin2YXYqtit2KfZhiAtLT4KPCEtLSDYr9in2K7ZhCA8Zm9ybSBpZD0iZXhhbUZvcm0iIGNsYXNzPSJleGFtLWZvcm0iPiDYqNi52K8g2KPZiCDZgtio2YQg2KPZiiDYrdmC2YQg2YXZhtin2LPYqCAtLT4KCgo8IS0tIDIuINij2LbZgSDYrdmC2YQg2KfYrtiq2YrYp9ixINin2YTZhdix2K3ZhNipINin2YTYr9ix2KfYs9mK2Kkg2YHZiiDZhtmF2YjYsNisINil2YbYtNin2KEg2KfZhNmI2KfYrNioINin2YTZhdmG2LLZhNmKIC0tPgo8IS0tINiv2KfYrtmEIDxmb3JtIGlkPSJzZWxmVGVzdEZvcm0iIGNsYXNzPSJleGFtLWZvcm0iPiDYqNi52K8g2KPZiCDZgtio2YQg2KPZiiDYrdmC2YQg2YXZhtin2LPYqCAtLT4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgPGxhYmVsIGZvcj0ic2VsZlRlc3RZZWFyIiBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqTwvbGFiZWw+CiAgPHNlbGVjdCBpZD0ic2VsZlRlc3RZZWFyIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqTwvb3B0aW9uPgogICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNij2YjZhNmJINir2KfZhtmI2YoiPtin2YTYo9mI2YTZiSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKIj7Yp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mE2KvYqSDYq9in2YbZiNmKIj7Yp9mE2KvYp9mE2KvYqSDYq9in2YbZiNmKPC9vcHRpb24+CiAgPC9zZWxlY3Q+CjwvZGl2Pgo8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICA8bGFiZWwgZm9yPSJzZWxmVGVzdFRlcm0iIGNsYXNzPSJmb3JtLWxhYmVsIj7Yp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9sYWJlbD4KICA8c2VsZWN0IGlkPSJzZWxmVGVzdFRlcm0iIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHJlcXVpcmVkPgogICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9vcHRpb24+CiAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KPZiNmEIj7Yqtix2YUg2KPZiNmEPC9vcHRpb24+CiAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mG2YoiPtiq2LHZhSDYq9in2YbZijwvb3B0aW9uPgogIDwvc2VsZWN0Pgo8L2Rpdj4KCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJzZWxmVGVzdERlc2NyaXB0aW9uIiBjbGFzcz0iZm9ybS1sYWJlbCI+2YjYtdmBINin2YTYp9iu2KrYqNin2LE8L2xhYmVsPgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJzZWxmVGVzdERlc2NyaXB0aW9uIiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2YjYtdmB2YvYpyDZhNmE2KfYrtiq2KjYp9ixIj48L3RleHRhcmVhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciIgc3R5bGU9IgogICAgd2lkdGg6IDEwMCU7CiAgICBtYXgtd2lkdGg6IDkwMHB4OwogICAgbWFyZ2luOiAwIGF1dG8gMjRweCBhdXRvOwogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZjlmYSA4MCUsICNlM2YwZmYgMTAwJSk7CiAgICBib3JkZXItcmFkaXVzOiAxNnB4OwogICAgYm94LXNoYWRvdzogMCA0cHggMThweCByZ2JhKDEwLDExMiwyNTUsMC4wOCk7CiAgICBwYWRkaW5nOiAyOHB4IDE4cHggMTJweCAxOHB4OwogICAgYm9yZGVyOiAycHggZGFzaGVkICMwYTcwZmY0NDsKICAgIG1pbi1oZWlnaHQ6IDYwcHg7CiAgICB0cmFuc2l0aW9uOiBib3gtc2hhZG93IDAuMnM7CiAgICBkaXNwbGF5OiBibG9jazsKIj4KICAgIDwhLS0g2LPZitiq2YUg2KXYttin2YHYqSDYp9mE2KPYs9im2YTYqSDZh9mG2KcgLS0+CjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYWRkU2VsZlRlc3RRdWVzdGlvbkJ0biI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINiz2KTYp9mECiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+Cjxicj48YnI+CjwhLS0g2KPYttmBINmH2LDYpyDYp9mE2LLYsSDYr9in2K7ZhCA8Zm9ybSBpZD0ic2VsZlRlc3RGb3JtIiAuLi4+INmB2Yog2YLYs9mFINil2K/Yp9ix2Kkg2KfZhNmI2KfYrNioIC0tPgo8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9ImltcG9ydEZyb21RdWVzdGlvbkJhbmtTZWxmVGVzdEJ0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTVweDsiPgogIDxpIGNsYXNzPSJmYXMgZmEtZGF0YWJhc2UiPjwvaT4g2KfYs9iq2YrYsdin2K8g2YXZhiDYqNmG2YMg2KfZhNij2LPYptmE2KkKPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPjxicj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJidWxrVXBsb2FkU2VsZlRlc3RCdG4iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS11cGxvYWQiPjwvaT4g2LHZgdi5INij2LPYptmE2KkgIiDYp9mE2YjYp9is2KgiIChDU1YvRXhjZWwpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImJ1bGtVcGxvYWRTZWxmVGVzdElucHV0IiBhY2NlcHQ9Ii5jc3YsLnhsc3gsLnhscyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJ0ZXh0LW11dGVkIj7ZitmF2YPZhtmDINix2YHYuSDZhdmE2YEg2YrYrdiq2YjZiiDYudmE2Ykg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2K/Zgdi52Kkg2YjYp9it2K/YqTwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIHN0eWxlPSJ3aWR0aDogMTAwJTsgcGFkZGluZzogMTJweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1zYXZlIj48L2k+INit2YHYuCDYp9mE2KfYrtiq2KjYp9ixCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+IDxicj4gPGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2KPYstix2KfYsSDYp9mE2KrYrdiv2YrYryDYp9mE2LPYsdmK2Lkg2K3Ys9ioINin2YTYsdmC2YUg2YHZiiDYp9mE2KfYs9mFIC0tPgo8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjEwcHg7ZGlzcGxheTpmbGV4O2dhcDo4cHg7Ij4KICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgb25jbGljaz0ic2VsZWN0U3R1ZGVudHNCeU51bWJlcignYWxsb3dlZFNlbGZUZXN0U3R1ZGVudHMnLCAnMScpIj4gIDE8L2J1dHRvbj4KICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgb25jbGljaz0ic2VsZWN0U3R1ZGVudHNCeU51bWJlcignYWxsb3dlZFNlbGZUZXN0U3R1ZGVudHMnLCAnMicpIj4gICAyPC9idXR0b24+CiAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIG9uY2xpY2s9InNlbGVjdFN0dWRlbnRzQnlOdW1iZXIoJ2FsbG93ZWRTZWxmVGVzdFN0dWRlbnRzJywgJzMnKSI+ICAzPC9idXR0b24+CjwvZGl2PgogICAgPGxhYmVsIGZvcj0iYWxsb3dlZFNlbGZUZXN0U3R1ZGVudHMiIGNsYXNzPSJmb3JtLWxhYmVsIj7Yp9mE2LfZhNin2Kgg2KfZhNmF2LPZhdmI2K0g2YTZh9mFINio2LHYpNmK2Kkg2KfZhNin2K7Yqtio2KfYsTwvbGFiZWw+CiAgICA8c2VsZWN0IGlkPSJhbGxvd2VkU2VsZlRlc3RTdHVkZW50cyIgY2xhc3M9ImZvcm0tY29udHJvbCIgbXVsdGlwbGU+CiAgICAgICAgPCEtLSDYs9mK2KrZhSDYqtit2YXZitmEINmC2KfYptmF2Kkg2KfZhNi32YTYp9ioINmH2YbYpyAtLT4KICAgIDwvc2VsZWN0PgogICAgPHNtYWxsIGNsYXNzPSJ0ZXh0LW11dGVkIj7Yp9iq2LHZgyDZh9iw2Kcg2KfZhNit2YLZhCDZgdin2LHYutmL2Kcg2KXYsNinINmD2YbYqiDYqtix2YrYryDYo9mGINmK2YPZiNmGINin2YTYp9iu2KrYqNin2LEg2YXYqtin2K3Zi9inINmE2KzZhdmK2Lkg2KfZhNi32YTYp9ioLjwvc21hbGw+CjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIENyZWF0ZSBFeGFtIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjcmVhdGVFeGFtUGFnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS1wbHVzLWNpcmNsZSI+PC9pPiDYpdmG2LTYp9ihINin2K7Yqtio2KfYsSDYrNiv2YrYrzwvaDI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJleGFtQ3JlYXRpb25TdWNjZXNzIiBjbGFzcz0iYWxlcnQgYWxlcnQtc3VjY2VzcyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoZWNrLWNpcmNsZSI+PC9pPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPtiq2YUg2KXZhti02KfYoSDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD0iZXhhbUZvcm0iIGNsYXNzPSJleGFtLWZvcm0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJleGFtVGl0bGUiIGNsYXNzPSJmb3JtLWxhYmVsIj7YudmG2YjYp9mGINin2YTYp9iu2KrYqNin2LE8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImV4YW1UaXRsZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImV4YW1EZXNjcmlwdGlvbiIgY2xhc3M9ImZvcm0tbGFiZWwiPtmI2LXZgSDYp9mE2KfYrtiq2KjYp9ixPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJleGFtRGVzY3JpcHRpb24iIGNsYXNzPSJmb3JtLWNvbnRyb2wiPjwvdGV4dGFyZWE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgPGxhYmVsIGZvcj0iZXhhbVllYXIiIGNsYXNzPSJmb3JtLWxhYmVsIj7Yp9mE2YXYsdit2YTYqSDYp9mE2K/Ysdin2LPZitipPC9sYWJlbD4KICA8c2VsZWN0IGlkPSJleGFtWWVhciIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+CiAgICA8b3B0aW9uIHZhbHVlPSIiPtin2K7YqtixINin2YTZhdix2K3ZhNipINin2YTYr9ix2KfYs9mK2Kk8L29wdGlvbj4KICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YTZiSDYq9in2YbZiNmKIj7Yp9mE2KPZiNmE2Ykg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogIDwvc2VsZWN0Pgo8L2Rpdj4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgPGxhYmVsIGZvcj0iZXhhbVRlcm0iIGNsYXNzPSJmb3JtLWxhYmVsIj7Yp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9sYWJlbD4KICA8c2VsZWN0IGlkPSJleGFtVGVybSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcmVxdWlyZWQ+CiAgICA8b3B0aW9uIHZhbHVlPSIiPtin2K7YqtixINin2YTYqtix2YUg2KfZhNiv2LHYp9iz2Yo8L29wdGlvbj4KICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YQiPtiq2LHZhSDYo9mI2YQ8L29wdGlvbj4KICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YbZiiI+2KrYsdmFINir2KfZhtmKPC9vcHRpb24+CiAgPC9zZWxlY3Q+CjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJleGFtRHVyYXRpb24iIGNsYXNzPSJmb3JtLWxhYmVsIj7Zhdiv2Kkg2KfZhNin2K7Yqtio2KfYsSAo2K/Zgtin2KbZgik8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0iZXhhbUR1cmF0aW9uIiBjbGFzcz0iZm9ybS1jb250cm9sIiBtaW49IjEiIHZhbHVlPSIzMCIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJleGFtVG90YWxNYXJrcyIgY2xhc3M9ImZvcm0tbGFiZWwiPtin2YTYr9ix2KzYqSDYp9mE2YPZhNmK2Kkg2YTZhNin2K7Yqtio2KfYsTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJleGFtVG90YWxNYXJrcyIgY2xhc3M9ImZvcm0tY29udHJvbCIgbWluPSIxIiB2YWx1ZT0iMTAwIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tINij2LbZgSDZh9iw2Ycg2KfZhNit2YLZiNmEINiv2KfYrtmEIDxmb3JtIGlkPSJleGFtRm9ybSIgY2xhc3M9ImV4YW0tZm9ybSI+INmC2KjZhCDYo9mIINio2LnYryDZhdiv2Kkg2KfZhNin2K7Yqtio2KfYsSAtLT4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICA8bGFiZWwgZm9yPSJleGFtU3RhcnRUaW1lIiBjbGFzcz0iZm9ybS1sYWJlbCI+2YjZgtiqINio2K/Yp9mK2Kkg2KfZhNin2K7Yqtio2KfYsSAo2KrZiNmC2YrYqiDYudin2YTZhdmKIFVUQyk8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9ImRhdGV0aW1lLWxvY2FsIiBpZD0iZXhhbVN0YXJ0VGltZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgPgo8L2Rpdj4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICA8bGFiZWwgZm9yPSJleGFtRW5kVGltZSIgY2xhc3M9ImZvcm0tbGFiZWwiPtmI2YLYqiDZhtmH2KfZitipINin2YTYp9iu2KrYqNin2LEgKNiq2YjZgtmK2Kog2LnYp9mE2YXZiiBVVEMpPC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSJkYXRldGltZS1sb2NhbCIgaWQ9ImV4YW1FbmRUaW1lIiBjbGFzcz0iZm9ybS1jb250cm9sIiA+CjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InF1ZXN0aW9uc0NvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gUXVlc3Rpb25zIHdpbGwgYmUgYWRkZWQgaGVyZSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImFkZFF1ZXN0aW9uQnRuIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2LPYpNin2YQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0iaW1wb3J0RnJvbVF1ZXN0aW9uQmFua0J0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTVweDsiPgogIDxpIGNsYXNzPSJmYXMgZmEtZGF0YWJhc2UiPjwvaT4g2KfYs9iq2YrYsdin2K8g2YXZhiDYqNmG2YMg2KfZhNij2LPYptmE2KkKPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxicj4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImJ1bGtVcGxvYWRCdG4iPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdXBsb2FkIj48L2k+INix2YHYuSDYp9mF2KrYrdin2YYg2YPYp9mF2YQgKENTVi9FeGNlbCkKICAgIDwvYnV0dG9uPgogICAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJidWxrVXBsb2FkSW5wdXQiIGFjY2VwdD0iLmNzdiwueGxzeCwueGxzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgPHNtYWxsIGNsYXNzPSJ0ZXh0LW11dGVkIj7ZitmF2YPZhtmDINix2YHYuSDZhdmE2YEg2YrYrdiq2YjZiiDYudmE2Ykg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2K/Zgdi52Kkg2YjYp9it2K/YqTwvc21hbGw+CjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIHN0eWxlPSJtYXJnaW4tdG9wOiAzMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc2F2ZSI+PC9pPiDYrdmB2Lgg2KfZhNin2K7Yqtio2KfYsQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMHB4O2Rpc3BsYXk6ZmxleDtnYXA6OHB4OyI+CiAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIG9uY2xpY2s9InNlbGVjdFN0dWRlbnRzQnlOdW1iZXIoJ2FsbG93ZWRTdHVkZW50cycsICcxJykiPiAgMTwvYnV0dG9uPgogIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBvbmNsaWNrPSJzZWxlY3RTdHVkZW50c0J5TnVtYmVyKCdhbGxvd2VkU3R1ZGVudHMnLCAnMicpIj4gIDI8L2J1dHRvbj4KICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgb25jbGljaz0ic2VsZWN0U3R1ZGVudHNCeU51bWJlcignYWxsb3dlZFN0dWRlbnRzJywgJzMnKSI+ICAgIDM8L2J1dHRvbj4KPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iYWxsb3dlZFN0dWRlbnRzIiBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNi32YTYp9ioINin2YTZhdiz2YXZiNitINmE2YfZhSDYqNix2KTZitipINin2YTYp9iu2KrYqNin2LE8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImFsbG93ZWRTdHVkZW50cyIgY2xhc3M9ImZvcm0tY29udHJvbCIgbXVsdGlwbGU+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2KrYrdmF2YrZhCDZgtin2KbZhdipINin2YTYt9mE2KfYqCDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPSJ0ZXh0LW11dGVkIj7Yp9iq2LHZgyDZh9iw2Kcg2KfZhNit2YLZhCDZgdin2LHYutmL2Kcg2KXYsNinINmD2YbYqiDYqtix2YrYryDYo9mGINmK2YPZiNmGINin2YTYp9iu2KrYqNin2LEg2YXYqtin2K3Zi9inINmE2KzZhdmK2Lkg2KfZhNi32YTYp9ioLjwvc21hbGw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJkZWxldGVFeGFtTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiPtiq2KPZg9mK2K8g2KfZhNit2LDZgTwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiPtmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINit2LDZgSDZh9iw2Kcg2KfZhNin2K7Yqtio2KfYsdifPC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjb25maXJtRGVsZXRlQnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtit2LDZgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjYW5jZWxEZWxldGVCdG4iIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZGVsZXRlU2xpZGVNb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSI+2KrYo9mD2YrYryDYp9mE2K3YsNmBPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibW9kYWwtbWVzc2FnZSI+2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2K3YsNmBINmH2LDYpyDYp9mE2YXZgtix2LHYnzwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1hY3Rpb25zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlybURlbGV0ZVNsaWRlQnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtit2LDZgTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjYW5jZWxEZWxldGVTbGlkZUJ0biIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0b2FzdE1lc3NhZ2UiIGNsYXNzPSJ0b2FzdC1tZXNzYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1jaGVjay1jaXJjbGUiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ0b2FzdFRleHQiPtiq2YUg2K3YsNmBINin2YTZhdmC2LHYsSDYqNmG2KzYp9itITwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImltcG9ydFF1ZXN0aW9uc01vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjcwMHB4OyI+CiAgICA8aDMgY2xhc3M9Im1vZGFsLXRpdGxlIj7Yp9iz2KrZitix2KfYryDYo9iz2KbZhNipINmF2YYg2KjZhtmDINin2YTYo9iz2KbZhNipPC9oMz4KICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTVweDsiPgogICAgICA8bGFiZWw+2KfYrtiq2LEg2KfZhNmB2KbYqTo8L2xhYmVsPgogICAgICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDYo9i52YTZiSDYrNiv2YjZhCDYp9mE2KPYs9im2YTYqSDZgdmKINmG2KfZgdiw2Kkg2KfZhNin2LPYqtmK2LHYp9ivICjZgtio2YQgPHRhYmxlIC4uLj4pIC0tPgo8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjEwcHg7Ij4KICA8bGFiZWw+CiAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzZWxlY3RBbGxJbXBvcnRRdWVzdGlvbnMiPgogICAg2KrYrdiv2YrYryDYp9mE2YPZhAogIDwvbGFiZWw+CjwvZGl2PgogICAgICA8c2VsZWN0IGlkPSJpbXBvcnRCYW5rQ2F0ZWdvcnkiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHN0eWxlPSJtYXgtd2lkdGg6MzAwcHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7Ij48L3NlbGVjdD4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0iaW1wb3J0UXVlc3Rpb25zTGlzdCIgc3R5bGU9Im1heC1oZWlnaHQ6MzUwcHg7b3ZlcmZsb3cteTphdXRvO21hcmdpbi1ib3R0b206MTVweDsiPjwvZGl2PgogICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9ImFkZFNlbGVjdGVkUXVlc3Rpb25zQnRuIj7Ypdi22KfZgdipINmE2YTYo9iz2KbZhNipINin2YTZhdiu2KrYp9ix2Kk8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnRRdWVzdGlvbnNNb2RhbCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnIj7YpdmE2LrYp9ihPC9idXR0b24+CiAgICA8L2Rpdj4KICA8L2Rpdj4KPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gQ3JlYXRlIFNsaWRlIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJjcmVhdGVTbGlkZVBhZ2UiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9InBhZ2UtdGl0bGUiPjxpIGNsYXNzPSJmYXMgZmEtY2hhbGtib2FyZC10ZWFjaGVyIj48L2k+INil2YbYtNin2KEg2YXZgtix2LEg2KzYr9mK2K88L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0ic2xpZGVDcmVhdGlvblN1Y2Nlc3MiIGNsYXNzPSJhbGVydCBhbGVydC1zdWNjZXNzIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2hlY2stY2lyY2xlIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+2KrZhSDYpdmG2LTYp9ihINmF2YLYsdixINio2YbYrNin2K0hPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD0ic2xpZGVGb3JtIiBjbGFzcz0iZXhhbS1mb3JtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICA8bGFiZWwgZm9yPSJzbGlkZUltYWdlVXJsIiBjbGFzcz0iZm9ybS1sYWJlbCI+2LHYp9io2Lcg2LXZiNix2Kkg2KfZhNmF2YLYsdixICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzbGlkZUltYWdlVXJsIiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2LHYp9io2Lcg2KfZhNi12YjYsdipICjYp9iu2KrZitin2LHZiikiPgo8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ic2xpZGVUaXRsZSIgY2xhc3M9ImZvcm0tbGFiZWwiPti52YbZiNin2YYg2KfZhNmF2YLYsdixPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzbGlkZVRpdGxlIiBjbGFzcz0iZm9ybS1jb250cm9sIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtin2YTZgdi12YjZhDwvbGFiZWw+CiAgPGRpdiBpZD0iY2hhcHRlcnNDb250YWluZXIiPjwvZGl2PgogIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYWRkQ2hhcHRlckJ0biIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsiPgogICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2YHYtdmECiAgPC9idXR0b24+CjwvZGl2PgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgc3R5bGU9Im1hcmdpbi10b3A6IDMwcHg7Ij4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBzdHlsZT0id2lkdGg6IDEwMCU7IHBhZGRpbmc6IDEycHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc2F2ZSI+PC9pPiDYrdmB2Lgg2KfZhNmF2YLYsdixCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZ3JhZGVzTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiPtiv2LHYrNin2Kog2KfZhNi32KfZhNioPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibW9kYWwtY2xvc2UiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFkZXNNb2RhbCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnIj4mdGltZXM7PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSIgaWQ9ImdyYWRlc01vZGFsQ29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2KrYrdmF2YrZhCDYp9mE2K/Ysdis2KfYqiDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZm9vdGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiIG9uY2xpY2s9ImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFkZXNNb2RhbCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnIj7Ypdi62YTYp9mCPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gVGFrZSBFeGFtIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJ0YWtlRXhhbVBhZ2UiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhhbS1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3M9ImV4YW0tdGl0bGUiIGlkPSJleGFtVmlld1RpdGxlIj7YudmG2YjYp9mGINin2YTYp9iu2KrYqNin2LE8L2gxPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtLW1ldGEiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PGkgY2xhc3M9ImZhcyBmYS1jbG9jayI+PC9pPiDYp9mE2YjZgtiqINin2YTZhdiq2KjZgtmKOiA8c3BhbiBpZD0idGltZVJlbWFpbmluZyI+MzA6MDA8L3NwYW4+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PGkgY2xhc3M9ImZhcyBmYS1xdWVzdGlvbi1jaXJjbGUiPjwvaT4g2KfZhNij2LPYptmE2Kk6IDxzcGFuIGlkPSJxdWVzdGlvbkNvdW50Ij4wPC9zcGFuPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjxpIGNsYXNzPSJmYXMgZmEtc3RhciI+PC9pPiDYp9mE2K/Ysdis2Kkg2KfZhNmD2YTZitipOiA8c3BhbiBpZD0idG90YWxNYXJrcyI+MTAwPC9zcGFuPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImV4YW1RdWVzdGlvbnNDb250YWluZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEV4YW0gcXVlc3Rpb25zIHdpbGwgYmUgbG9hZGVkIGhlcmUgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhhbS1mb290ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJwcmV2UXVlc3Rpb25CdG4iIGRpc2FibGVkPtin2YTYs9in2KjZgjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJuZXh0UXVlc3Rpb25CdG4iPtin2YTYqtin2YTZijwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIGlkPSJzdWJtaXRFeGFtQnRuIj7Yqtiz2YTZitmFINin2YTYp9iu2KrYqNin2LE8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iY291cnNlc1BhZ2UiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9InBhZ2UtdGl0bGUiPjxpIGNsYXNzPSJmYXMgZmEtYm9vayI+PC9pPiDYp9mE2YXZgtix2LHYp9iqINin2YTYr9ix2KfYs9mK2Kk8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iY291cnNlc0NvbnRhaW5lciIgY2xhc3M9ImV4YW1zLWdyaWQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0g2LPZitiq2YUg2KrYrdmF2YrZhCDYp9mE2YXZgtix2LHYp9iqINmH2YbYpyAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYWRkQ291cnNlQnRuIiBzdHlsZT0ibWFyZ2luLXRvcDogMjBweDsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINmF2YLYsdixINiv2LHYp9iz2YoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImNvdXJzZURldGFpbHNQYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJwYWdlLXRpdGxlIj48aSBjbGFzcz0iZmFzIGZhLWluZm8tY2lyY2xlIj48L2k+INiq2YHYp9i12YrZhCDYp9mE2YXZgtix2LE8L2gyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iY291cnNlQ29udGVudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSDYs9mK2KrZhSDYqtit2YXZitmEINmF2K3YqtmI2Ykg2KfZhNmF2YLYsdixINmH2YbYpyAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYmFja1RvQ291cnNlc0J0biIgc3R5bGU9Im1hcmdpbi10b3A6IDIwcHg7Ij7Yp9mE2LnZiNiv2Kkg2KXZhNmJINin2YTZhdmC2LHYsdin2Ko8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gRXhhbSBSZXN1bHRzIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJyZXN1bHRzUGFnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJlc3VsdHMtY29udGFpbmVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDI+2YbYqtmK2KzYqSDYp9mE2KfYrtiq2KjYp9ixPC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLXNjb3JlIiBpZD0iZmluYWxTY29yZSI+MCU8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLW1ldGEiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLW1ldGEtaXRlbSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLW1ldGEtdmFsdWUiIGlkPSJjb3JyZWN0QW5zd2VycyI+MDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj7Ypdis2KfYqNin2Kog2LXYrdmK2K3YqTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVzdWx0cy1tZXRhLWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVzdWx0cy1tZXRhLXZhbHVlIiBpZD0id3JvbmdBbnN3ZXJzIj4wPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2Ptil2KzYp9io2KfYqiDYrtin2LfYptipPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLW1ldGEtaXRlbSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLW1ldGEtdmFsdWUiIGlkPSJ0aW1lVGFrZW4iPjA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+2K/ZgtmK2YLYqTwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVzdWx0cy1tZXRhLWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icmVzdWx0cy1tZXRhLXZhbHVlIiBpZD0ib2J0YWluZWRNYXJrcyI+MDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj7Yp9mE2K/Ysdis2Kkg2KfZhNmF2K3YtdmE2Kk8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYmFja1RvRXhhbXNCdG4iPtin2YTYudmI2K/YqSDYpdmE2Ykg2KfZhNin2K7Yqtio2KfYsdin2Ko8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHRzLXF1ZXN0aW9ucyIgaWQ9InJlc3VsdHNEZXRhaWxzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBSZXN1bHRzIGRldGFpbHMgd2lsbCBiZSBsb2FkZWQgaGVyZSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0idG9hc3RDb250YWluZXIiIGNsYXNzPSJ0b2FzdC1jb250YWluZXIiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEdyYWRlcyBQYWdlIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJncmFkZXNQYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJwYWdlLXRpdGxlIj48aSBjbGFzcz0iZmFzIGZhLXN0YXIiPjwvaT4g2LPYrNmEINin2YTYr9ix2KzYp9iqPC9oMj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tINiy2LEg2K3YsNmBINin2YTZhtiq2KfYptisIC0tPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tINij2LbZgSDYp9mE2KPYstix2KfYsSDZgdmKINmC2LPZhSDYs9is2YQg2KfZhNiv2LHYrNin2KogKGdyYWRlc1BhZ2Up2Iwg2KrYrdiqINi52YbZiNin2YYg2KfZhNi12YHYrdipINmF2KjYp9i02LHYqSAtLT4KPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbTogMThweDsiPgogIDwhLS0g2KPYttmBINmH2LDYpyDYp9mE2LLYsSDZgdmI2YIg2KzYr9mI2YQg2KfZhNiv2LHYrNin2Kog2YHZiiDZgtiz2YUg2LPYrNmEINin2YTYr9ix2KzYp9iqIChncmFkZXNQYWdlKSAtLT4KPGJ1dHRvbiBpZD0iZG93bmxvYWRFeGFtR3JhZGVzQnRuIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxNXB4O2Rpc3BsYXk6bm9uZTsiPgogIDxpIGNsYXNzPSJmYXMgZmEtZG93bmxvYWQiPjwvaT4g2KrZhtiy2YrZhCDYp9mE2K/Ysdis2KfYqiBQREYgLyDYtdmI2LHYqQo8L2J1dHRvbj4KICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgaWQ9ImRlbGV0ZUV4YW1HcmFkZXNCdG4iIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrOyI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYr9ix2KzYp9iqINin2K7Yqtio2KfYsSDZhdit2K/YrwogIDwvYnV0dG9uPgogIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBpZD0iZGVsZXRlQWxsU3R1ZGVudEdyYWRlc0J0biIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrOyI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYrNmF2YrYuSDYr9ix2KzYp9iqINin2YTYt9in2YTYqAogIDwvYnV0dG9uPgogIAo8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InN0dWRlbnRHcmFkZXNWaWV3Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+2K/Ysdis2KfYqtmKINmB2Yog2KfZhNin2K7Yqtio2KfYsdin2Ko8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz0iZ3JhZGVzLXRhYmxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoZWFkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD7Yp9iz2YUg2KfZhNin2K7Yqtio2KfYsTwvdGg+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPtin2YTYqtin2LHZitiuPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNiv2LHYrNipINin2YTZhdit2LXZhNipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNmG2LPYqNipINin2YTZhdim2YjZitipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+2KfZhNit2KfZhNipPC90aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGhlYWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keSBpZD0ic3R1ZGVudEdyYWRlc1RhYmxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gU3R1ZGVudCBncmFkZXMgd2lsbCBiZSBsb2FkZWQgaGVyZSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2dyZXNzLWNoYXJ0IiBpZD0ic3R1ZGVudFByb2dyZXNzQ2hhcnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFByb2dyZXNzIGNoYXJ0IHdpbGwgYmUgbG9hZGVkIGhlcmUgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0idGVhY2hlckdyYWRlc1ZpZXciIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPtiv2LHYrNin2Kog2KfZhNi32YTYp9ioPC9oMz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZ3JhZGVFeGFtRmlsdGVyIiBjbGFzcz0iZm9ybS1sYWJlbCI+2KrYtdmB2YrYqSDYrdiz2Kgg2KfZhNin2K7Yqtio2KfYsTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImdyYWRlRXhhbUZpbHRlciIgY2xhc3M9ImZvcm0tY29udHJvbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtis2YXZiti5INin2YTYp9iu2KrYqNin2LHYp9iqPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIEV4YW0gb3B0aW9ucyB3aWxsIGJlIGxvYWRlZCBoZXJlIC0tPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9ImdyYWRlcy10YWJsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KPHRoZWFkPgogIDx0cj4KICAgIDx0aD7Yp9iz2YUg2KfZhNi32KfZhNioPC90aD4KICAgIDx0aD7Yp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2Yo8L3RoPgogICAgPHRoPti52K/YryDYp9mE2KfYrtiq2KjYp9ix2KfYqjwvdGg+CiAgICA8dGg+2YXYqtmI2LPYtyDYp9mE2K/Ysdis2KfYqjwvdGg+CiAgICA8dGg+2KfZhNit2KfZhNipPC90aD4KICAgIDx0aD7Yp9mE2KXYrNix2KfYodin2Ko8L3RoPgogIDwvdHI+CjwvdGhlYWQ+CjwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keSBpZD0iYWxsR3JhZGVzVGFibGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBBbGwgZ3JhZGVzIHdpbGwgYmUgbG9hZGVkIGhlcmUgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD0iZmVlZGJhY2tDb250YWluZXIiIGNsYXNzPSJmZWVkYmFjay1jb250YWluZXIiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tINiz2YrYqtmFINi52LHYtiDYp9mE2KrZgtmK2YrZhSDZh9mG2KcgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFN0dWRlbnRzIFBhZ2UgLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InN0dWRlbnRzUGFnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS11c2VycyI+PC9pPiDYpdiv2KfYsdipINin2YTYt9mE2KfYqDwvaDI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgaWQ9ImRpc2FibGVBbGxTdHVkZW50c0J0biIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDYqti52LfZitmEINin2YTZg9mECiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBpZD0iZW5hYmxlQWxsU3R1ZGVudHNCdG4iIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg2KrZgdi52YrZhCDYp9mE2YPZhAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi13YXJuaW5nIiBpZD0ibG9ja0FsbFN0dWRlbnRzQnRuIj4KICAgIDxpIGNsYXNzPSJmYXMgZmEtbG9jayI+PC9pPiDZgtmB2YQg2KfZhNmD2YQKICA8L2J1dHRvbj4KICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIGlkPSJ1bmxvY2tBbGxTdHVkZW50c0J0biI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXVubG9jayI+PC9pPiDYpdmE2LrYp9ihINmC2YHZhCDYp9mE2YPZhAogIDwvYnV0dG9uPgogIDxicj48YnI+CiAgICAgPCEtLSDYp9iz2KrYrtiv2YUg2YfYsNinINin2YTZg9mI2K8g2KjYr9mE2KfZiyDZhdmGINin2YTZg9mI2K8g2KfZhNiz2KfYqNmCINmB2Yog2YbZgdizINin2YTZhdmD2KfZhiAtLT4KPGRpdiBpZD0ic3R1ZGVudHNDb3VudEJveCIgc3R5bGU9IgogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBnYXA6IDhweDsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzBhNzBmZiA4MCUsICMwYTcwZmYgMTAwJSk7CiAgICBjb2xvcjogI2ZmZjsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgxMCwxMTIsMjU1LDAuMTApOwogICAgcGFkZGluZzogOHB4IDE2cHg7CiAgICBmb250LXNpemU6IDFyZW07CiAgICBmb250LXdlaWdodDogNjAwOwogICAgbWFyZ2luLWJvdHRvbTogMTJweDsKICAgIHdpZHRoOiBmaXQtY29udGVudDsKICAgIG1pbi13aWR0aDogMTIwcHg7CiI+CiAgICA8aSBjbGFzcz0iZmFzIGZhLXVzZXItZ3JhZHVhdGUiIHN0eWxlPSJmb250LXNpemU6MS4zcmVtO2NvbG9yOiNmZmY7YmFja2dyb3VuZDojMGE3MGZmO3BhZGRpbmc6NnB4IDhweDtib3JkZXItcmFkaXVzOjUwJTtib3gtc2hhZG93OjAgMXB4IDRweCAjMGE3MGZmMjI7Ij48L2k+CiAgICA8c3Bhbj7Yudiv2K8g2KfZhNi32YTYp9ioOiA8c3BhbiBpZD0ic3R1ZGVudHNDb3VudCIgc3R5bGU9ImZvbnQtc2l6ZToxLjJyZW07Y29sb3I6I2ZmZjtmb250LXdlaWdodDo5MDA7Ij4wPC9zcGFuPjwvc3Bhbj4KPC9kaXY+CiAgPGJyPjxicj4KICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNmD2YjYryDYo9i52YTZiSDYrNiv2YjZhCDYp9mE2LfZhNin2Kgg2YXYqNin2LTYsdipINmB2Yog2YLYs9mFINil2K/Yp9ix2Kkg2KfZhNi32YTYp9ioIC0tPgo8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOiAxOHB4OyI+CiAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJzZWFyY2hTdHVkZW50c0lucHV0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0i2KfYqNit2Ksg2LnZhiDYt9in2YTYqCDYqNin2YTYp9iz2YUuLi4iPgo8L2Rpdj4KPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9ImdyYWRlcy10YWJsZSI+CiAgCjwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KPHRoZWFkPgogIDx0cj4KICAgIDx0aD7Yp9iz2YUg2KfZhNi32KfZhNioPC90aD4KICAgIDx0aD7Yp9mE2KjYsdmK2K8g2KfZhNil2YTZg9iq2LHZiNmG2Yo8L3RoPgogICAgPHRoPti52K/YryDYp9mE2KfYrtiq2KjYp9ix2KfYqjwvdGg+CiAgICA8dGg+2YXYqtmI2LPYtyDYp9mE2K/Ysdis2KfYqjwvdGg+CiAgICA8dGg+2KfZhNit2KfZhNipPC90aD4KICAgIDx0aD7Yp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2Kk8L3RoPgogICAgPHRoPtin2YTYqtix2YUg2KfZhNiv2LHYp9iz2Yo8L3RoPiA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNiz2LfYsSAtLT4KICAgIDx0aD7Yp9mE2KXYrNix2KfYodin2Ko8L3RoPgogIDwvdHI+CjwvdGhlYWQ+CjwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHkgaWQ9InN0dWRlbnRzVGFibGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFN0dWRlbnRzIGxpc3Qgd2lsbCBiZSBsb2FkZWQgaGVyZSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIFVzZXIgUHJvZmlsZSAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSAuLi5leGlzdGluZyBjb2RlLi4uIC0tPgo8ZGl2IGlkPSJwcm9maWxlUGFnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgIDxoMiBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS11c2VyIj48L2k+INin2YTZhdmE2YEg2KfZhNi02K7YtdmKPC9oMj4KICAgIDxkaXYgY2xhc3M9ImV4YW0tZm9ybSI+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNin2LPZhSDYp9mE2YPYp9mF2YQ8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9maWxlTmFtZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgZGlzYWJsZWQ+CiAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIGlkPSJzYXZlUHJvZmlsZU5hbWVCdG4iIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHg7ZGlzcGxheTpub25lOyI+2K3Zgdi4INin2YTYp9iz2YU8L2J1dHRvbj4KPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNio2LHZitivINin2YTYpdmE2YPYqtix2YjZhtmKPC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiBpZD0icHJvZmlsZUVtYWlsIiBjbGFzcz0iZm9ybS1jb250cm9sIiBkaXNhYmxlZD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7ZhtmI2Lkg2KfZhNit2LPYp9ioPC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9maWxlUm9sZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgZGlzYWJsZWQ+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPCEtLSDYo9i22YEg2YfYsNinINin2YTZgtiz2YUg2YfZhtinIC0tPgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiIGlkPSJwcm9maWxlWWVhckdyb3VwIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipPC9sYWJlbD4KICAgICAgICAgICAgPHNlbGVjdCBpZD0icHJvZmlsZVllYXIiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2Kk8L29wdGlvbj4KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YTZiSDYq9in2YbZiNmKIj7Yp9mE2KPZiNmE2Ykg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBpZD0ic2F2ZVByb2ZpbGVZZWFyQnRuIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4OyI+2K3Zgdi4INin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqTwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCIgaWQ9InByb2ZpbGVUZXJtR3JvdXAiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZijwvbGFiZWw+CiAgICA8c2VsZWN0IGlkPSJwcm9maWxlVGVybSIgY2xhc3M9ImZvcm0tY29udHJvbCI+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNij2YjZhCI+2KrYsdmFINij2YjZhDwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YbZiiI+2KrYsdmFINir2KfZhtmKPC9vcHRpb24+CiAgICA8L3NlbGVjdD4KICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9InNhdmVQcm9maWxlVGVybUJ0biIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsiPtit2YHYuCDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKPC9idXR0b24+CjwvZGl2Pgo8IS0tIC4uLmV4aXN0aW5nIGNvZGUuLi4gLS0+CiAgICAgICAgPCEtLSAuLi5leGlzdGluZyBjb2RlLi4uIC0tPgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPti52K/YryDYp9mE2KfYrtiq2KjYp9ix2KfYqiDYp9mE2KrZiiDYo9mG2LTYo9iq2YfYpzwvbGFiZWw+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icHJvZmlsZUV4YW1zQ3JlYXRlZCIgY2xhc3M9ImZvcm0tY29udHJvbCIgZGlzYWJsZWQ+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2LnYr9ivINin2YTYp9iu2KrYqNin2LHYp9iqINin2YTYqtmKINij2KzYsdmK2KrZh9inPC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJwcm9maWxlRXhhbXNUYWtlbiIgY2xhc3M9ImZvcm0tY29udHJvbCIgZGlzYWJsZWQ+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KPC9kaXY+CjwhLS0gLi4uZXhpc3RpbmcgY29kZS4uLiAtLT4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAKICAgIDwvbWFpbj4KICAgIDxmb290ZXIgY2xhc3M9ImZvb3RlciI+CiAgICAgICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4KICAgICAgICAgICAgPGZvb3RlciBjbGFzcz0iZm9vdGVyIj4KICAgICAgICAgICAgICAgICAgICA8cD5NYWRlIHdpdGgg4p2k77iPIGJ5IDxzdHJvbmc+IGRyLUlzbWFpbCBGYXJhZzwvc3Ryb25nPjwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+IDxzdHJvbmc+LS0tLS0tLS0tLS0tLS0tLS0tPC9zdHJvbmc+PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPiA8c3Ryb25nPnBsYXRmb3JtIHY5LjUgIGVkaXRpb24gMTwvc3Ryb25nPjwvcD4KCiA8dWwgY2xhc3M9InNvY2lhbC1saW5rcyI+CjxsaT48YSBocmVmPSJodHRwczovL3d3dy5mYWNlYm9vay5jb20iIHRhcmdldD0iX2JsYW5rIj48aSBjbGFzcz0iZmFiIGZhLWZhY2Vib29rIj48L2k+PC9hPjwvbGk+CjxsaT48YSBocmVmPSJodHRwczovL3d3dy50d2l0dGVyLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPjxpIGNsYXNzPSJmYWIgZmEtdHdpdHRlciI+PC9pPjwvYT48L2xpPgo8bGk+PGEgaHJlZj0iaHR0cHM6Ly93d3cubGlua2VkaW4uY29tIiB0YXJnZXQ9Il9ibGFuayI+PGkgY2xhc3M9ImZhYiBmYS1saW5rZWRpbiI+PC9pPjwvYT48L2xpPgo8bGk+PGEgaHJlZj0iaHR0cHM6Ly93d3cuZ2l0aHViLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPjxpIGNsYXNzPSJmYWIgZmEtZ2l0aHViIj48L2k+PC9hPjwvbGk+CjwvdWw+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9mb290ZXI+ICAgICAgICAgICAKICAgICAgICA8L2Rpdj4KICAgIDwvZm9vdGVyPgogICAgCgoKIAogICAgPGRpdiBpZD0ic2VsZlRlc3RSZXN1bHRNb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICA8aDIgY2xhc3M9Im1vZGFsLXRpdGxlIj7wn46JINiq2YfYp9mG2YrZhtinITwvaDI+CiAgICAgICAgICAgIDxwIGNsYXNzPSJtb2RhbC1tZXNzYWdlIj7ZhNmC2K8g2KPZg9mF2YTYqiDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hPC9wPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZXN1bHQtZGV0YWlscyI+CiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPtmG2KrZitis2KrZgzo8L3N0cm9uZz4gPHNwYW4gaWQ9InNlbGZUZXN0UmVzdWx0U2NvcmUiPjAlPC9zcGFuPjwvcD4KICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+2LnYr9ivINin2YTYpdis2KfYqNin2Kog2KfZhNi12K3Zitit2Kk6PC9zdHJvbmc+IDxzcGFuIGlkPSJzZWxmVGVzdENvcnJlY3RBbnN3ZXJzIj4wPC9zcGFuPjwvcD4KICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+2LnYr9ivINin2YTYpdis2KfYqNin2Kog2KfZhNiu2KfYt9im2Kk6PC9zdHJvbmc+IDxzcGFuIGlkPSJzZWxmVGVzdFdyb25nQW5zd2VycyI+MDwvc3Bhbj48L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJjbG9zZVNlbGZUZXN0UmVzdWx0TW9kYWwiPtil2LrZhNin2YI8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0idG9hc3RNZXNzYWdlIiBjbGFzcz0idG9hc3QtbWVzc2FnZSIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoZWNrLWNpcmNsZSI+PC9pPgogICAgICAgIDxzcGFuIGlkPSJ0b2FzdFRleHQiPtiq2YUg2K3YsNmBINin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSE8L3NwYW4+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGlkPSJzZWxmVGVzdFJlc3VsdHNQYWdlIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPgogICAgICAgIDxoMiBjbGFzcz0icGFnZS10aXRsZSI+PGkgY2xhc3M9ImZhcyBmYS1jaGFydC1iYXIiPjwvaT4g2YbYqtin2KbYrCDYp9iu2KrYqNixINmG2YHYs9mDPC9oMj4KICAgICAgICA8dGFibGUgY2xhc3M9ImdyYWRlcy10YWJsZSI+CiAgICAgICAgICAgIDx0aGVhZD4KICAgICA8dHI+CiAgICAgICAgPHRoPtin2LPZhSDYp9mE2LfYp9mE2Kg8L3RoPgogICAgICAgIDx0aD7YudmG2YjYp9mGINin2YTYp9iu2KrYqNin2LE8L3RoPgogICAgICAgIDx0aD7Yp9mE2K/Ysdis2Kkg2KfZhNmF2K3YtdmE2Kk8L3RoPgogICAgICAgIDx0aD7Yp9mE2YbYs9io2Kkg2KfZhNmF2KbZiNmK2Kk8L3RoPgogICAgICAgIDx0aD7Yp9mE2KrYp9ix2YrYrjwvdGg+CiAgICAgPC90cj4KICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgPHRib2R5IGlkPSJzZWxmVGVzdFJlc3VsdHNUYWJsZSI+CiAgICAgICAgICAgICAgICA8IS0tINiz2YrYqtmFINiq2K3ZhdmK2YQg2KfZhNmG2KrYp9im2Kwg2YfZhtinIC0tPgogICAgICAgICAgICA8L3Rib2R5PgogICAgICAgIDwvdGFibGU+CiAgICA8L2Rpdj4KIDwhLS0g2KfYs9iq2KjYr9mEINin2YTZg9mI2K8g2KfZhNiq2KfZhNmKINmB2Yog2YXZhNmB2YMgLS0+CjxkaXYgaWQ9ImFjY291bnREaXNhYmxlZE1vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjQyMHB4O3RleHQtYWxpZ246Y2VudGVyOyI+CiAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxOHB4OyI+CiAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdXNlci1zbGFzaCIgc3R5bGU9ImZvbnQtc2l6ZTozcmVtO2NvbG9yOiNGQzVDNjU7Ij48L2k+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGgyIGNsYXNzPSJtb2RhbC10aXRsZSIgc3R5bGU9ImNvbG9yOiNGQzVDNjU7Ij7wn5qrINit2LPYp9ioINmF2LnYt9mEPC9oMj4KICAgICAgICA8cCBjbGFzcz0ibW9kYWwtbWVzc2FnZSIgc3R5bGU9ImZvbnQtc2l6ZToxLjE1cmVtO2NvbG9yOiMzMzM7bWFyZ2luLWJvdHRvbToxOHB4OyI+CiAgICAgICAgICAgINi52LDYsdmL2KfYjCDYqtmFINiq2LnYt9mK2YQg2K3Ys9in2KjZgy4g2YrYsdis2Ykg2KfZhNiq2YjYp9i12YQg2YXYuSDYp9mE2KXYr9in2LHYqSDZhNmE2K3YtdmI2YQg2LnZhNmJINin2YTZhdiy2YrYryDZhdmGINin2YTYqtmB2KfYtdmK2YQuPGJyPgogICAgICAgICAgICDYpdiw2Kcg2YPYp9mGINmE2K/ZitmDINij2Yog2KfYs9iq2YHYs9in2LEg2KPZiCDYqtix2LrYqCDZgdmKINin2YTYqtmI2KfYtdmEINmF2Lkg2KfZhNil2K/Yp9ix2KnYjCDYp9i22LrYtyDYp9mE2LLYsSDYqNin2YTYo9iz2YHZhC4KICAgICAgICA8L3A+CiAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93YS5tZS8yMDEwNjA5MTEwOTMiIHRhcmdldD0iX2JsYW5rIiBpZD0id2hhdHNhcHBDb250YWN0QnRuIgogICAgICAgICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kOiMyNWQzNjY7Y29sb3I6I2ZmZjtmb250LXNpemU6MS4ycmVtO3BhZGRpbmc6MTJweCAzMnB4O2JvcmRlci1yYWRpdXM6OHB4O3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtd2VpZ2h0OmJvbGQ7bWFyZ2luLWJvdHRvbToxMHB4OyI+CiAgICAgICAgICAgIDxpIGNsYXNzPSJmYWIgZmEtd2hhdHNhcHAiIHN0eWxlPSJtYXJnaW4tbGVmdDo4cHg7Zm9udC1zaXplOjEuNXJlbTsiPjwvaT4g2KrZiNin2LXZhCDZhdi5INin2YTYpdiv2KfYsdipINi52KjYsSDZiNin2KrYs9in2KgKICAgICAgICA8L2E+CiAgICAgICAgPGJyPgogICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iY2xvc2VBY2NvdW50RGlzYWJsZWRNb2RhbCgpIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4OyI+2KXYutmE2KfZgjwvYnV0dG9uPgogICAgPC9kaXY+CjwvZGl2PgogICAgPGRpdiBpZD0idW5hbnN3ZXJlZFF1ZXN0aW9uc01vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+CiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgPGgyIGNsYXNzPSJtb2RhbC10aXRsZSI+4pqg77iPINiq2YbYqNmK2Yc8L2gyPgogICAgICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiIGlkPSJ1bmFuc3dlcmVkUXVlc3Rpb25zTWVzc2FnZSI+PC9wPgogICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29udGludWVTdWJtaXRCdG4iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPtiq2LPZhNmK2YU8L2J1dHRvbj4KICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjYW5jZWxTdWJtaXRCdG4iIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogIDwvZGl2PgogIDxkaXYgaWQ9Imxlc3Nvbk1vZGFsIiBjbGFzcz0ibW9kYWwiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4KICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjcwMHB4OyI+CiAgICA8ZGl2IGlkPSJsZXNzb25Nb2RhbEJvZHkiIHN0eWxlPSJtYXJnaW4tdG9wOjE1cHg7Ij48L2Rpdj4KICA8L2Rpdj4KPC9kaXY+CjwhLS0g2KPYttmBINit2YLZhCDYpdiv2K7Yp9mEINix2KfYqNi3INin2YTYtdmI2Kog2YHZiiDZhtin2YHYsNipINin2YTYpdi02LnYp9ixIC0tPgo8ZGl2IGlkPSJub3RpZmljYXRpb25Nb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICA8aDIgY2xhc3M9Im1vZGFsLXRpdGxlIj7Ypdix2LPYp9mEINil2LTYudin2LEg2YTZhNi32YTYp9ioPC9oMj4KICAgIDx0ZXh0YXJlYSBpZD0ibm90aWZpY2F0aW9uTWVzc2FnZSIgY2xhc3M9ImZvcm0tY29udHJvbCIgcm93cz0iNCIgcGxhY2Vob2xkZXI9Itin2YPYqtioINix2LPYp9mE2KrZgyDZh9mG2KcuLi4iIHN0eWxlPSJtYXJnaW4tYm90dG9tOjE1cHg7Ij48L3RleHRhcmVhPgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJub3RpZmljYXRpb25BdWRpb1VybCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Itix2KfYqNi3INmF2YTZgSDYtdmI2KrZiiAo2KfYrtiq2YrYp9ix2YopIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxNXB4OyI+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1hY3Rpb25zIj4KICAgICAgPGJ1dHRvbiBpZD0ic2VuZE5vdGlmaWNhdGlvbkJ0biIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+2KXYsdiz2KfZhDwvYnV0dG9uPgogICAgICA8YnV0dG9uIGlkPSJjYW5jZWxOb3RpZmljYXRpb25CdG4iIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+CjwvZGl2Pgo8YnV0dG9uIGlkPSJ0b2dnbGVTaWRlYmFyQnRuIiBzdHlsZT0icG9zaXRpb246Zml4ZWQ7dG9wOjEwMHB4O3JpZ2h0OjI1cHg7ei1pbmRleDoyMDAxO2JhY2tncm91bmQ6IzBhNzBmZjtjb2xvcjojZmZmO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6NTAlO3dpZHRoOjQ4cHg7aGVpZ2h0OjQ4cHg7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2ZvbnQtc2l6ZToxLjVyZW07Ym94LXNoYWRvdzowIDJweCA4cHggcmdiYSgxMCwxMTIsMjU1LDAuMTIpO2N1cnNvcjpwb2ludGVyOyI+CiAgPGkgY2xhc3M9ImZhcyBmYS1iYXJzIj48L2k+CjwvYnV0dG9uPgo8IS0tINmG2KfZgdiw2Kkg2KrYrdiv2YrYryDYp9mE2LXZhNin2K3Zitin2Kog2YTZhNi32KfZhNioIC0tPgo8ZGl2IGlkPSJzdHVkZW50UGVybWlzc2lvbnNNb2RhbCIgY2xhc3M9Im1vZGFsIiBzdHlsZT0iZGlzcGxheTpub25lOyI+CiAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDo1MDBweDsiPgogICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSIgaWQ9InN0dWRlbnRQZXJtaXNzaW9uc1RpdGxlIj7Yqtit2K/ZitivINin2YTYtdmE2KfYrdmK2KfYqjwvaDM+CiAgICA8ZGl2IGlkPSJzdHVkZW50UGVybWlzc2lvbnNCb2R5IiBzdHlsZT0ibWFyZ2luOjE4cHggMDsiPjwvZGl2PgogICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgaWQ9InNhdmVTdHVkZW50UGVybWlzc2lvbnNCdG4iPtit2YHYuDwvYnV0dG9uPgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0dWRlbnRQZXJtaXNzaW9uc01vZGFsJykuc3R5bGUuZGlzcGxheT0nbm9uZSciPtil2LrZhNin2YI8L2J1dHRvbj4KICAgIDwvZGl2PgogIDwvZGl2Pgo8L2Rpdj4KPGRpdiBpZD0iY29udGFjdFVzTW9kYWwiIGNsYXNzPSJtb2RhbCIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgogIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6NzIwcHg7dGV4dC1hbGlnbjpyaWdodDsiPgogICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW4tYm90dG9tOjhweDsiPgogICAgICA8aDMgY2xhc3M9Im1vZGFsLXRpdGxlIiBzdHlsZT0ibWFyZ2luOjA7Ij7YqtmI2KfYtdmEINmF2LnZhtinPC9oMz4KICAgICAgPGJ1dHRvbiBpZD0iY2xvc2VDb250YWN0VXNNb2RhbCIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgc3R5bGU9InBhZGRpbmc6NnB4IDEwcHg7Ij7Ypdi62YTYp9mCPC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxwIHN0eWxlPSJjb2xvcjojMzMzO21hcmdpbi1ib3R0b206MTJweDsiPgogICAgPC9wPgogICAgPHAgc3R5bGU9ImZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tYm90dG9tOjZweDsiPtix2YLZhSDYp9mE2KrZiNin2LXZhCAvINmI2KfYqtiz2KfYqDo8L3A+CiAgICA8cCBzdHlsZT0ibWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MTJweDsiPjxhIGhyZWY9Imh0dHBzOi8vd2EubWUvMjAxMDY0MTc0MjcwIiB0YXJnZXQ9Il9ibGFuayIgc3R5bGU9ImNvbG9yOiMwYTcwZmY7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ij4rMjAgMTAgNjQxIDc0MiA3MDwvYT48L3A+CgogICAgPHAgc3R5bGU9ImZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tYm90dG9tOjZweDsiPtmB2YrYr9mK2Yg6INmD2YrZgdmK2Kkg2KfZhNiq2LPYrNmK2YQ8L3A+CiAgICA8ZGl2IHN0eWxlPSJ3aWR0aDoxMDAlO2hlaWdodDowO3BhZGRpbmctYm90dG9tOjU2JTtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW4tYm90dG9tOjEycHg7Ij4KICAgICAgPGlmcmFtZSBpZD0iY29udGFjdFVzVmlkZW8iIHNyYz0iaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvWU9VUl9WSURFT19JRCIgdGl0bGU9Iti02LHYrSDYp9mE2KrYs9is2YrZhCIgZnJhbWVib3JkZXI9IjAiIGFsbG93PSJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlIiBhbGxvd2Z1bGxzY3JlZW4KICAgICAgICBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Ym9yZGVyLXJhZGl1czo4cHg7Ij48L2lmcmFtZT4KICAgIDwvZGl2PgoKICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246bGVmdDttYXJnaW4tdG9wOjhweDsiPgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIGlkPSJjb250YWN0VXNXaGF0c0FwcEJ0biIgb25jbGljaz0id2luZG93Lm9wZW4oJ2h0dHBzOi8vd2EubWUvMjAxMDY0MTc0MjcwJywnX2JsYW5rJykiPtix2KfYs9mE2YbYpyDYp9mE2KLZhjwvYnV0dG9uPgogICAgPC9kaXY+CiAgPC9kaXY+CjwvZGl2PgoKPCEtLSDZhtin2YHYsNipINmF2YbYqNir2YLYqSDZhNix2LPYp9mE2Kkg2LnYr9mFINin2YTYs9mF2KfYrSDYqNin2YTYr9iu2YjZhCAtLT4KPGRpdiBpZD0iYWNjZXNzRGVuaWVkTW9kYWwiIHN0eWxlPSJkaXNwbGF5Om5vbmU7IHBvc2l0aW9uOmZpeGVkOyB0b3A6MDsgbGVmdDowOyB3aWR0aDoxMDB2dzsgaGVpZ2h0OjEwMHZoOyBiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC40KTsgei1pbmRleDo5OTk5OyBhbGlnbi1pdGVtczpjZW50ZXI7IGp1c3RpZnktY29udGVudDpjZW50ZXI7Ij4KICA8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiNmZmY7IHBhZGRpbmc6MzBweCAyMHB4OyBib3JkZXItcmFkaXVzOjEwcHg7IG1heC13aWR0aDo5MHZ3OyB3aWR0aDozNTBweDsgdGV4dC1hbGlnbjpjZW50ZXI7IGJveC1zaGFkb3c6MCAycHggMTBweCAjMDAwMjsiPgogICAgPGgzIHN0eWxlPSJjb2xvcjojYzAwOyBtYXJnaW4tYm90dG9tOjE1cHg7Ij7Yudiw2LHZi9in2Iwg2YTYpyDZitmF2YPZhtmDINin2YTZiNi12YjZhCDYp9mE2YrZhyA8L2gzPgogICAgPHAgc3R5bGU9Im1hcmdpbi1ib3R0b206MjBweDsgY29sb3I6IzQ0NDsiPgogICAgICDZh9iw2KcgINmF2KrYp9itINmB2YLYtyDZhNmE2KPYudi22KfYoSDYp9mE2YXYtNiq2LHZg9mK2YYuPGJyPgogICAgICDYpdiw2Kcg2LHYutio2Kog2KjYp9mE2KfZhti22YXYp9mFINij2Ygg2YTYr9mK2YMg2KPZiiDYp9iz2KrZgdiz2KfYsdiMINmK2LPYudiv2YbYpyDYqtmI2KfYtdmE2YMg2YXYudmG2KchCiAgICA8L3A+CiAgICA8YSBocmVmPSJodHRwczovL3dhLm1lLysyMDEwNjQxNzQyNzAiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7IGJhY2tncm91bmQ6IzI1ZDM2NjsgY29sb3I6I2ZmZjsgcGFkZGluZzoxMHB4IDI1cHg7IGJvcmRlci1yYWRpdXM6NXB4OyBmb250LXNpemU6MTZweDsgdGV4dC1kZWNvcmF0aW9uOm5vbmU7IG1hcmdpbi1ib3R0b206MTBweDsgdHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDAuMnM7Ij4KICAgICAg2KrZiNin2LXZhCDZhdi52YbYpyDYudio2LEg2KfZhNmI2KfYqtiz2KfYqAogICAgPC9hPgogICAgPGJyPgogICAgPGJ1dHRvbiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjZXNzRGVuaWVkTW9kYWwnKS5zdHlsZS5kaXNwbGF5PSdub25lJyIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsgYmFja2dyb3VuZDojZWVlOyBib3JkZXI6bm9uZTsgcGFkZGluZzo4cHggMThweDsgYm9yZGVyLXJhZGl1czo1cHg7IGN1cnNvcjpwb2ludGVyOyI+CiAgICAgINil2LrZhNin2YIKICAgIDwvYnV0dG9uPgogICAgPHAgc3R5bGU9Im1hcmdpbi10b3A6MTVweDsgZm9udC1zaXplOjEzcHg7IGNvbG9yOiM4ODg7Ij4KICAgICAg2YbYs9i52K8g2KjYrtiv2YXYqtmDINmI2YbYqtmF2YbZiSDZhNmDINiq2KzYsdio2Kkg2KrYudmE2YrZhdmK2Kkg2YXZhdiq2LnYqSEKICAgIDwvcD4KICA8L2Rpdj4KPC9kaXY+CjxzY3JpcHQ+CgoKCgoKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KY29uc3QgR09PR0xFX0NMSUVOVF9JRCA9ICcxMjE2MzU1Mzk2MDMtZTZqY2ExOXB0aWtqM2p1bG1jaDhpZnJ2MjNnNmtkaDQuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nOwpjb25zdCBHT09HTEVfU0NPUEVTID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZHJpdmUuZmlsZSc7CgpmdW5jdGlvbiBpbml0R29vZ2xlRHJpdmVQaWNrZXIoKSB7CiAgZ2FwaS5sb2FkKCdjbGllbnQ6YXV0aDInLCAoKSA9PiB7CiAgICBnYXBpLmNsaWVudC5pbml0KHsKICAgICAgY2xpZW50SWQ6IEdPT0dMRV9DTElFTlRfSUQsCiAgICAgIHNjb3BlOiBHT09HTEVfU0NPUEVTCiAgICB9KTsKICB9KTsKfQoKLy8g2K/Yp9mE2Kkg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2YTYrNmI2KzZhAovLyAuLi5leGlzdGluZyBjb2RlLi4uCmxldCBnb29nbGVBY2Nlc3NUb2tlbiA9IG51bGw7CgovLyDYr9in2YTYqSDYqtiz2KzZitmEINin2YTYr9iu2YjZhCDYp9mE2KzYr9mK2K/YqQpmdW5jdGlvbiBnb29nbGVEcml2ZVNpZ25JbigpIHsKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgaWYgKGdvb2dsZUFjY2Vzc1Rva2VuKSB7CiAgICAgIGNvbnNvbGUubG9nKCdnb29nbGVEcml2ZVNpZ25JbjogdXNpbmcgY2FjaGVkIHRva2VuJyk7CiAgICAgIHJldHVybiByZXNvbHZlKGdvb2dsZUFjY2Vzc1Rva2VuKTsKICAgIH0KICAgIGlmICghKHdpbmRvdy5nb29nbGUgJiYgZ29vZ2xlLmFjY291bnRzICYmIGdvb2dsZS5hY2NvdW50cy5vYXV0aDIgJiYgdHlwZW9mIGdvb2dsZS5hY2NvdW50cy5vYXV0aDIuaW5pdFRva2VuQ2xpZW50ID09PSAnZnVuY3Rpb24nKSkgewogICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcignR29vZ2xlIElkZW50aXR5IGxpYnJhcnkgbm90IGxvYWRlZCcpKTsKICAgIH0KICAgIHRyeSB7CiAgICAgIGNvbnN0IGNsaWVudCA9IGdvb2dsZS5hY2NvdW50cy5vYXV0aDIuaW5pdFRva2VuQ2xpZW50KHsKICAgICAgICBjbGllbnRfaWQ6IEdPT0dMRV9DTElFTlRfSUQsCiAgICAgICAgc2NvcGU6IEdPT0dMRV9TQ09QRVMsCiAgICAgICAgY2FsbGJhY2s6ICh0b2tlblJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBpZiAodG9rZW5SZXNwb25zZSAmJiB0b2tlblJlc3BvbnNlLmFjY2Vzc190b2tlbikgewogICAgICAgICAgICBnb29nbGVBY2Nlc3NUb2tlbiA9IHRva2VuUmVzcG9uc2UuYWNjZXNzX3Rva2VuOwogICAgICAgICAgICBjb25zb2xlLmxvZygnZ29vZ2xlRHJpdmVTaWduSW46IGdvdCBhY2Nlc3MgdG9rZW4nKTsKICAgICAgICAgICAgcmVzb2x2ZShnb29nbGVBY2Nlc3NUb2tlbik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdnb29nbGVEcml2ZVNpZ25JbjogdG9rZW5SZXNwb25zZSBtaXNzaW5nIGFjY2Vzc190b2tlbicsIHRva2VuUmVzcG9uc2UpOwogICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gb2J0YWluIGFjY2VzcyB0b2tlbicpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICAvLyByZXF1ZXN0IGludGVyYWN0aXZlIHRva2VuICh3aWxsIHNob3cgY29uc2VudCBpZiBuZWVkZWQpCiAgICAgIGNsaWVudC5yZXF1ZXN0QWNjZXNzVG9rZW4oeyBwcm9tcHQ6ICcnIH0pOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ2dvb2dsZURyaXZlU2lnbkluIGVycm9yJywgZXJyKTsKICAgICAgcmVqZWN0KGVycik7CiAgICB9CiAgfSk7Cn0KCmFzeW5jIGZ1bmN0aW9uIHVwbG9hZEltYWdlVG9Hb29nbGVEcml2ZShmaWxlKSB7CiAgY29uc3QgYWNjZXNzVG9rZW4gPSBhd2FpdCBnb29nbGVEcml2ZVNpZ25JbigpOwogIGNvbnN0IG1ldGFkYXRhID0gewogICAgbmFtZTogZmlsZS5uYW1lLAogICAgbWltZVR5cGU6IGZpbGUudHlwZQogIH07CiAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogIGZvcm0uYXBwZW5kKCdtZXRhZGF0YScsIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShtZXRhZGF0YSldLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7CiAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsKCiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vdXBsb2FkL2RyaXZlL3YzL2ZpbGVzP3VwbG9hZFR5cGU9bXVsdGlwYXJ0JmZpZWxkcz1pZCcsIHsKICAgIG1ldGhvZDogJ1BPU1QnLAogICAgaGVhZGVyczogbmV3IEhlYWRlcnMoeyAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIGFjY2Vzc1Rva2VuIH0pLAogICAgYm9keTogZm9ybQogIH0pOwoKICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgLy8g2KzYudmEINin2YTZhdmE2YEgIti52KfZhSIKICBhd2FpdCBmZXRjaChgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vZHJpdmUvdjMvZmlsZXMvJHtyZXN1bHQuaWR9L3Blcm1pc3Npb25zYCwgewogICAgbWV0aG9kOiAnUE9TVCcsCiAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh7CiAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgYWNjZXNzVG9rZW4sCiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgIH0pLAogICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyByb2xlOiAncmVhZGVyJywgdHlwZTogJ2FueW9uZScgfSkKICB9KTsKCiAvLyAuLi5leGlzdGluZyBjb2RlLi4uCnJldHVybiBgaHR0cHM6Ly9saDMuZ29vZ2xlLmNvbS91LzAvZC8ke3Jlc3VsdC5pZH1gOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCn0KCi8vINmF2LPYqtmF2LkgcGFzdGUg2LnZhNmJINis2YXZiti5INit2YLZiNmEINix2KfYqNi3INin2YTYtdmI2LHYqQpmdW5jdGlvbiBlbmFibGVJbWFnZVBhc3RlT25VcmxGaWVsZHMoKSB7CiAgZnVuY3Rpb24gaGFuZGxlUGFzdGUoZSkgewogICAgY29uc3QgaXRlbXMgPSAoZS5jbGlwYm9hcmREYXRhIHx8IHdpbmRvdy5jbGlwYm9hcmREYXRhKS5pdGVtczsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGl0ZW1zW2ldLnR5cGUuaW5kZXhPZigiaW1hZ2UiKSAhPT0gLTEpIHsKICAgICAgICBjb25zdCBmaWxlID0gaXRlbXNbaV0uZ2V0QXNGaWxlKCk7CiAgICAgICAgaWYgKGZpbGUpIHsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHRoaXMudmFsdWUgPSAi2KzYp9ix2Yog2LHZgdi5INin2YTYtdmI2LHYqSDYpdmE2YkgR29vZ2xlIERyaXZlLi4uIjsKICAgICAgICAgIHVwbG9hZEltYWdlVG9Hb29nbGVEcml2ZShmaWxlKS50aGVuKHVybCA9PiB7CiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB1cmw7CiAgICAgICAgICAgIHNob3dUb2FzdCgi2KrZhSDYsdmB2Lkg2KfZhNi12YjYsdipINio2YbYrNin2K0hIiwgInN1Y2Nlc3MiKTsKICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIHRoaXMudmFsdWUgPSAiIjsKICAgICAgICAgICAgc2hvd1RvYXN0KCLYrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2LHZgdi5INin2YTYtdmI2LHYqTogIiArIGVyci5tZXNzYWdlLCAiZXJyb3IiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucXVlc3Rpb24taW1hZ2UtdXJsLCAjcXVlc3Rpb25CYW5rSW1hZ2VVcmwiKS5mb3JFYWNoKGlucHV0ID0+IHsKICAgIGlucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBhc3RlIiwgaGFuZGxlUGFzdGUpOwogICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigicGFzdGUiLCBoYW5kbGVQYXN0ZSk7CiAgfSk7Cn0KCi8vINiq2YfZitim2KkgR29vZ2xlIEFQSSDYudmG2K8g2KrYrdmF2YrZhCDYp9mE2LXZgdit2KkKd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7CiAgZ2FwaS5sb2FkKCdjbGllbnQ6YXV0aDInLCBpbml0R29vZ2xlRHJpdmVQaWNrZXIpOwogIGVuYWJsZUltYWdlUGFzdGVPblVybEZpZWxkcygpOwp9KTsKY29uc3QgZmlyZWJhc2VDb25maWcgPSB7CiAgYXBpS2V5OiAiQUl6YVN5Q09qeDB4aENPcmdkREI5aVpNLURJVWlPVGtmWWxhcUhZIiwKICBhdXRoRG9tYWluOiAiZHJmYXJhZy0yOTdlMy5maXJlYmFzZWFwcC5jb20iLAogIHByb2plY3RJZDogImRyZmFyYWctMjk3ZTMiLAogIHN0b3JhZ2VCdWNrZXQ6ICJkcmZhcmFnLTI5N2UzLmZpcmViYXNlc3RvcmFnZS5hcHAiLAogIG1lc3NhZ2luZ1NlbmRlcklkOiAiNTkxOTM4MTg2MzI1IiwKICBhcHBJZDogIjE6NTkxOTM4MTg2MzI1OndlYjo3YzJhMzBiM2I0NDYxMTA0ODRiOGRjIiwKICBtZWFzdXJlbWVudElkOiAiRy01QldNR01YVlIyIgp9OwpmaXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTsKY29uc3QgYXV0aCA9IGZpcmViYXNlLmF1dGgoKTsKY29uc3QgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTsKCmNvbnN0IGxvYWRpbmdTY3JlZW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hZGluZ1NjcmVlbiIpOwoKY29uc3QgYXV0aFNjcmVlbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXV0aFNjcmVlbnMiKTsKY29uc3QgYXBwQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhcHBDb250ZW50Iik7CmNvbnN0IGxvZ2luRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2dpbkZvcm0iKTsKY29uc3QgcmVnaXN0ZXJGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlZ2lzdGVyRm9ybSIpOwpjb25zdCBsb2dpbkJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2dpbkJ0biIpOwpjb25zdCByZWdpc3RlckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWdpc3RlckJ0biIpOwpjb25zdCBzaG93TG9naW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2hvd0xvZ2luIik7CmNvbnN0IHNob3dSZWdpc3RlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG93UmVnaXN0ZXInKTsKY29uc3QgYXV0aEJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXV0aEJ1dHRvbnMiKTsKY29uc3QgdXNlck1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidXNlck1lbnUiKTsKY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidXNlck5hbWUiKTsKY29uc3QgbG9nb3V0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZ291dEJ0biIpOwpjb25zdCBkYXNoYm9hcmRQYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRhc2hib2FyZFBhZ2UiKTsKY29uc3QgZXhhbXNQYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1zUGFnZScpOwpjb25zdCBjcmVhdGVFeGFtUGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjcmVhdGVFeGFtUGFnZSIpOwpjb25zdCBjcmVhdGVTbGlkZVBhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3JlYXRlU2xpZGVQYWdlIik7CmNvbnN0IHRha2VFeGFtUGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YWtlRXhhbVBhZ2UiKTsKY29uc3QgcmVzdWx0c1BhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0c1BhZ2UnKTsKY29uc3QgZ3JhZGVzUGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJncmFkZXNQYWdlIik7CmNvbnN0IHN0dWRlbnRzUGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50c1BhZ2UiKTsKY29uc3QgcHJvZmlsZVBhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZVBhZ2UnKTsKY29uc3QgbWVudURhc2hib2FyZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51RGFzaGJvYXJkIik7Cgpjb25zdCBtZW51Q3JlYXRlRXhhbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51Q3JlYXRlRXhhbSIpOwpjb25zdCBtZW51Q3JlYXRlU2xpZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudUNyZWF0ZVNsaWRlIik7CmNvbnN0IG1lbnVSZXN1bHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVSZXN1bHRzIik7CmNvbnN0IG1lbnVHcmFkZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVudUdyYWRlcycpOwpjb25zdCBtZW51U3R1ZGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVN0dWRlbnRzIik7CmNvbnN0IG1lbnVQcm9maWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVQcm9maWxlIik7CmxldCBjdXJyZW50VXNlciA9IG51bGw7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KbGV0IG5vdGlmaWNhdGlvblNob3duVGhpc1Nlc3Npb24gPSBmYWxzZTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpsZXQgY3VycmVudFVzZXJEYXRhID0gbnVsbDsKbGV0IGN1cnJlbnRFeGFtID0gbnVsbDsKbGV0IGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gMHgwOwpsZXQgdXNlckFuc3dlcnMgPSB7fTsKbGV0IHRpbWVySW50ZXJ2YWwgPSBudWxsOwpsZXQgdGltZUxlZnQgPSAweDA7CmxldCB1c2VyUm9sZSA9ICJzdHVkZW50IjsKbGV0IGVkaXRpbmdTbGlkZUlkID0gbnVsbDsgLy8g2YXYqti62YrYsSDYudin2YTZhdmKINmE2YTYqtit2YPZhSDZgdmKINmI2LbYuSDYp9mE2KrYudiv2YrZhApmdW5jdGlvbiBpbml0QXBwKCkgewogIGF1dGgub25BdXRoU3RhdGVDaGFuZ2VkKGFzeW5jIF8weDI4NWU1MCA9PiB7CiAgICBpZiAoXzB4Mjg1ZTUwKSB7CiAgICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKF8weDI4NWU1MC51aWQpLm9uU25hcHNob3QoXzB4NGFkMmZiID0+IHsKICAgICAgICBpZiAoXzB4NGFkMmZiLmV4aXN0cyAmJiBfMHg0YWQyZmIuZGF0YSgpLmRpc2FibGVkKSB7CiAgICAgICAgICBfMHgzMmI1NGQoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBjb25zdCBfMHgyYzRjMTggPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhfMHgyODVlNTAudWlkKS5nZXQoKTsKICAgICAgaWYgKF8weDJjNGMxOC5leGlzdHMgJiYgXzB4MmM0YzE4LmRhdGEoKS5kaXNhYmxlZCkgewogICAgICAgIF8weDMyYjU0ZCgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBjdXJyZW50VXNlciA9IF8weDI4NWU1MDsKICAgICAgY3VycmVudFVzZXJEYXRhID0gXzB4MmM0YzE4LmRhdGEoKTsKICAgICAgdXNlclJvbGUgPSBjdXJyZW50VXNlckRhdGEucm9sZSB8fCAnc3R1ZGVudCc7CiAgICAgIHNldHVwQXV0aGVudGljYXRlZFVJKCk7CiAgICAgIGxvYWREYXNoYm9hcmQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGN1cnJlbnRVc2VyID0gbnVsbDsKICAgICAgY3VycmVudFVzZXJEYXRhID0gbnVsbDsKICAgICAgc2V0dXBVbmF1dGhlbnRpY2F0ZWRVSSgpOwogICAgfQogICAgbG9hZGluZ1NjcmVlbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIH0pOwoKICBmdW5jdGlvbiBfMHgzMmI1NGQoKSB7CiAgICBjb25zdCBfMHgyOGFiMDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWNjb3VudERpc2FibGVkTW9kYWwiKTsKICAgIF8weDI4YWIwMS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIGF1dGguc2lnbk91dCgpOwogICAgfSwgMHhiYjgpOwogIH0KfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZVByb2ZpbGVUZXJtQnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogIGNvbnN0IHRlcm1TZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZVRlcm0iKTsKICBpZiAodGVybVNlbGVjdC5kaXNhYmxlZCkgcmV0dXJuOwogIGNvbnN0IHRlcm0gPSB0ZXJtU2VsZWN0LnZhbHVlOwogIGlmICghdGVybSkgewogICAgc2hvd1RvYXN0KCLZitix2KzZiSDYp9iu2KrZitin2LEg2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZii4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2MoY3VycmVudFVzZXIudWlkKS5zZXQoeyB0ZXJtIH0sIHsgbWVyZ2U6IHRydWUgfSkudGhlbigoKSA9PiB7CiAgICBzaG93VG9hc3QoItiq2YUg2K3Zgdi4INin2YTYqtix2YUg2KfZhNiv2LHYp9iz2YohIiwgInN1Y2Nlc3MiKTsKICAgIHRlcm1TZWxlY3QuZGlzYWJsZWQgPSB0cnVlOwogICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7CiAgICB0aGlzLnRleHRDb250ZW50ID0gItiq2YUg2KfZhNit2YHYuCI7CiAgfSk7Cn07Ci8vINin2LPYqtiv2LnZkCDYp9mE2K/Yp9mE2KrZitmGINio2LnYryDYqtit2YXZitmEINin2YTYtNix2KfYptitINmB2YogbG9hZERhc2hib2FyZApmdW5jdGlvbiBsb2FkRGFzaGJvYXJkKCkgewogIHNob3dQYWdlKGRhc2hib2FyZFBhZ2UpOwogIGxvYWRTbGlkZXMoKTsKICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgbG9hZFN0dWRlbnRzUHJvZ3Jlc3MoKTsKICAgIHJlbmRlclRlYWNoZXJGaWx0ZXJCYXJzKCk7CiAgICBzZXR1cFRlYWNoZXJGaWx0ZXJFdmVudHMoKTsKICAgIC8vINmE2Kcg2KrYrdmF2YQg2KfZhNin2K7Yqtio2KfYsdin2Kog2KPZiCDYp9mE2YjYp9is2KjYp9iqINil2YTYpyDYqNi52K8g2KfZhNmB2YTYqtix2KkKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNlbnRFeGFtcyIpLmlubmVySFRNTCA9ICI8cD7Yp9iu2KrYsSDYp9mE2LPZhtipINmI2KfZhNiq2LHZhSDZhNi52LHYtiDYp9mE2KfYrtiq2KjYp9ix2KfYqi48L3A+IjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNHcmlkIikuaW5uZXJIVE1MID0gIjxwPtin2K7YqtixINin2YTYs9mG2Kkg2YjYp9mE2KrYsdmFINmE2LnYsdi2INin2YTZiNin2KzYqNin2Kog2KfZhNmF2YbYstmE2YrYqS48L3A+IjsKICB9IGVsc2UgewogICAgbG9hZFJlY2VudEV4YW1zKCk7CiAgICBsb2FkU2VsZlRlc3RzKCk7CiAgICBsb2FkU3R1ZGVudFByb2dyZXNzKCk7CiAgfQp9CmZ1bmN0aW9uIGRlbGV0ZVNlbGZUZXN0KF8weDFkZjkxMykgewogIGRiLmNvbGxlY3Rpb24oInNlbGZUZXN0cyIpLmRvYyhfMHgxZGY5MTMpWyJkZWxldGUiXSgpLnRoZW4oKCkgPT4gewogICAgc2hvd1RvYXN0KCLYqtmFINit2LDZgSDYp9mE2KfYrtiq2KjYp9ixINio2YbYrNin2K0hIiwgInN1Y2Nlc3MiKTsKICAgIGxvYWRTZWxmVGVzdHMoKTsKICB9KVsiY2F0Y2giXShfMHg1ZWE0NTcgPT4gewogICAgc2hvd1RvYXN0KCLYrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2K3YsNmBINin2YTYp9iu2KrYqNin2LE6ICIgKyBfMHg1ZWE0NTcubWVzc2FnZSwgImVycm9yIik7CiAgfSk7Cn0KZnVuY3Rpb24gc2hvd1RvYXN0KF8weDIyN2I2YywgXzB4MzFmOWVlID0gInN1Y2Nlc3MiKSB7CiAgY29uc3QgXzB4ZjBkNWZhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvYXN0Q29udGFpbmVyIik7CiAgY29uc3QgXzB4MTE5M2IyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgXzB4MTE5M2IyLmNsYXNzTmFtZSA9ICJ0b2FzdCAiICsgXzB4MzFmOWVlOwogIF8weDExOTNiMi5pbm5lckhUTUwgPSAiXG4gICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWNoZWNrLWNpcmNsZVwiPjwvaT5cbiAgICAgICAgPHNwYW4+IiArIF8weDIyN2I2YyArICI8L3NwYW4+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJ0b2FzdC1jbG9zZVwiPiZ0aW1lczs8L2J1dHRvbj5cbiAgICAiOwogIF8weGYwZDVmYS5hcHBlbmRDaGlsZChfMHgxMTkzYjIpOwogIHNldFRpbWVvdXQoKCkgPT4gewogICAgXzB4MTE5M2IyLnN0eWxlLmFuaW1hdGlvbiA9ICJmYWRlT3V0IDAuNXMgZWFzZSBmb3J3YXJkcyI7CiAgICBzZXRUaW1lb3V0KCgpID0+IF8weDExOTNiMi5yZW1vdmUoKSwgMHgxZjQpOwogIH0sIDB4YmI4KTsKICBfMHgxMTkzYjIucXVlcnlTZWxlY3RvcigiLnRvYXN0LWNsb3NlIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICBfMHgxMTkzYjIuc3R5bGUuYW5pbWF0aW9uID0gImZhZGVPdXQgMC41cyBlYXNlIGZvcndhcmRzIjsKICAgIHNldFRpbWVvdXQoKCkgPT4gXzB4MTE5M2IyLnJlbW92ZSgpLCAweDFmNCk7CiAgfSk7Cn0KLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINio2LnYryDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqINmB2YogbG9hZFJlY2VudEV4YW1zINij2Ygg2KjYudivINiq2LnYsdmK2YEgcmVjZW50RXhhbXMg2YHZiiDYp9mE2LXZgdit2Kkg2KfZhNix2KbZitiz2YrYqQoKLy8gMS4g2KPYttmBINit2YLZhCDYp9mE2KjYrdirINmB2YogSFRNTCDYo9i52YTZiSDZgtin2KbZhdipINin2YTYp9iu2KrYqNin2LHYp9iqICjYtti52Ycg2YHZiNmCIDxkaXYgY2xhc3M9ImV4YW1zLWNvbnRhaW5lciI+INin2YTYrtin2LXYqSDYqNin2YTYp9iu2KrYqNin2LHYp9iqKQpjb25zdCBleGFtc1NlYXJjaEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpleGFtc1NlYXJjaEJveC5pbm5lckhUTUwgPSBgCiAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InNlYXJjaEV4YW1zSW5wdXQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHBsYWNlaG9sZGVyPSLYp9io2K3YqyDYudmGINin2K7Yqtio2KfYsS4uLiIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7Ij4KYDsKY29uc3QgZXhhbXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcmVjZW50RXhhbXMiKS5wYXJlbnRFbGVtZW50OwpleGFtc0NvbnRhaW5lci5pbnNlcnRCZWZvcmUoZXhhbXNTZWFyY2hCb3gsIGV4YW1zQ29udGFpbmVyLmZpcnN0Q2hpbGQpOwoKLy8gMi4g2K/Yp9mE2Kkg2KfZhNio2K3YqyDZgdmKINin2YTYp9iu2KrYqNin2LHYp9iqCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hFeGFtc0lucHV0IikuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCBxdWVyeSA9IHRoaXMudmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7CiAgICBjb25zdCBleGFtc0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXMiKTsKICAgIGNvbnN0IGV4YW1DYXJkcyA9IGV4YW1zR3JpZC5xdWVyeVNlbGVjdG9yQWxsKCIuZXhhbS1jYXJkIik7CiAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgIGV4YW1DYXJkcy5mb3JFYWNoKGNhcmQgPT4gewogICAgICAgIGNvbnN0IHRpdGxlID0gY2FyZC5xdWVyeVNlbGVjdG9yKCIuZXhhbS1jYXJkLWhlYWRlciIpPy50ZXh0Q29udGVudD8udG9Mb3dlckNhc2UoKSB8fCAiIjsKICAgICAgICBjb25zdCBkZXNjID0gY2FyZC5xdWVyeVNlbGVjdG9yKCIuZXhhbS1jYXJkLWJvZHkiKT8udGV4dENvbnRlbnQ/LnRvTG93ZXJDYXNlKCkgfHwgIiI7CiAgICAgICAgaWYgKHRpdGxlLmluY2x1ZGVzKHF1ZXJ5KSB8fCBkZXNjLmluY2x1ZGVzKHF1ZXJ5KSkgewogICAgICAgICAgICBjYXJkLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0KICAgIH0pOwogICAgaWYgKCFmb3VuZCAmJiBxdWVyeS5sZW5ndGggPiAwKSB7CiAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYt9in2KjZgtipINmE2KjYrdir2YMuPC9wPiI7CiAgICB9IGVsc2UgaWYgKHF1ZXJ5Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIC8vINil2LnYp9iv2Kkg2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqiDYpdiw2Kcg2KrZhSDZhdiz2K0g2KfZhNio2K3YqwogICAgICAgIGxvYWRSZWNlbnRFeGFtcygpOwogICAgfQp9KTsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4gewogICAgICAgIGNvbnN0IHRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGVTaWRlYmFyQnRuJyk7CiAgICAgICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaWRlYmFyJyk7IC8vIEVuc3VyZSB0aGlzIHNlbGVjdG9yIGNvcnJlY3RseSB0YXJnZXRzIHlvdXIgc2lkZWJhciBlbGVtZW50CgogICAgICAgIGlmICh0b2dnbGVCdG4gJiYgc2lkZWJhcikgewogICAgICAgICAgICB0b2dnbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgICAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKCF0b2dnbGVCdG4pIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NpZGViYXIgdG9nZ2xlIGJ1dHRvbiAjdG9nZ2xlU2lkZWJhckJ0biBub3QgZm91bmQuJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFzaWRlYmFyKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTaWRlYmFyIGVsZW1lbnQgLnNpZGViYXIgbm90IGZvdW5kLicpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LbYuSDZh9iw2Kcg2KfZhNmD2YjYryDZgdmKINmG2YfYp9mK2Kkg2YXZhNmBIDxzY3JpcHQ+INij2Ygg2KjYudivINiq2LnYsdmK2YEgc2V0dXBBdXRoZW50aWNhdGVkVUkg2YXYqNin2LTYsdipCgovLyAxLiDYr9in2YTYqSDYqtis2LnZhCDYtdmB2K3YqSDYp9mE2LfYp9mE2Kgg2KrYuNmH2LEg2LHYs9in2YTYqSDYpdis2KjYp9ix2YrYqSDYudmG2K8g2LfZhNioINin2YTZhdi52YTZhSDYqtit2K/ZitirINin2YTYtdmB2K3YqSAo2KrYrdiv2YrYqyDYqtmE2YLYp9im2Yog2YTZhNmD2YQpCmZ1bmN0aW9uIGZvcmNlU3R1ZGVudEF1dG9SZWxvYWQoKSB7CiAgLy8g2KfZhtiq2LjYsSDYrdiq2Ykg2YrYqtmFINiq2LnYsdmK2YEgY3VycmVudFVzZXIg2YggdXNlclJvbGUKICBpZiAodHlwZW9mIHVzZXJSb2xlID09PSAidW5kZWZpbmVkIiB8fCB0eXBlb2YgY3VycmVudFVzZXIgPT09ICJ1bmRlZmluZWQiIHx8ICFjdXJyZW50VXNlcikgewogICAgc2V0VGltZW91dChmb3JjZVN0dWRlbnRBdXRvUmVsb2FkLCA4MDApOyAvLyDYo9i52K8g2KfZhNmF2K3Yp9mI2YTYqSDYqNi52K8g2YLZhNmK2YQKICAgIHJldHVybjsKICB9CiAgaWYgKHVzZXJSb2xlID09PSAic3R1ZGVudCIgJiYgY3VycmVudFVzZXIpIHsKICAgIGRiLmNvbGxlY3Rpb24oInN0dWRlbnRSZWxvYWRzIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkKICAgICAgLm9uU25hcHNob3QoZG9jID0+IHsKICAgICAgICBpZiAoZG9jLmV4aXN0cyAmJiBkb2MuZGF0YSgpLnJlbG9hZCkgewogICAgICAgICAgLy8g2KPYuNmH2LEg2LHYs9in2YTYqSAi2YrYsdis2Ykg2KrYrdiv2YrYqyDYp9mE2LXZgdit2KkiINmI2YTYpyDZitmF2YPZhiDYpdi62YTYp9mC2YfYpyDYpdmE2Kcg2KjYudivINi52YXZhCDYsdmK2YHYsdi0CiAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JjZVJlZnJlc2hNb2RhbEFsbCIpKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIG1vZGFsLmlkID0gImZvcmNlUmVmcmVzaE1vZGFsQWxsIjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwogICAgICAgICAgICBtb2RhbC5zdHlsZS50b3AgPSAiMCI7CiAgICAgICAgICAgIG1vZGFsLnN0eWxlLmxlZnQgPSAiMCI7CiAgICAgICAgICAgIG1vZGFsLnN0eWxlLndpZHRoID0gIjEwMHZ3IjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuaGVpZ2h0ID0gIjEwMHZoIjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuYmFja2dyb3VuZCA9ICJyZ2JhKDAsMCwwLDAuNDUpIjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAiY2VudGVyIjsKICAgICAgICAgICAgbW9kYWwuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgICAgICAgICBtb2RhbC5zdHlsZS56SW5kZXggPSAiOTk5OTkiOwogICAgICAgICAgICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZjhmYWZjIDcwJSwgI2UzZjBmZiAxMDAlKTsKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIycHg7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAzOHB4IDMycHggMjhweCAzMnB4OwogICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMzJweCByZ2JhKDEwLDExMiwyNTUsMC4xNSk7CiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDM3MHB4OwogICAgICAgICAgICAgICAgd2lkdGg6IDk2dnc7CiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgICAgICBhbmltYXRpb246IGZhZGVJbiAwLjVzOwogICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBydGw7CiAgICAgICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjMGE3MGZmMWE7CiAgICAgICAgICAgICAgIj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW4tYm90dG9tOjEwcHg7Ij4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6IzBhNzBmZjFhO2JvcmRlci1yYWRpdXM6NTAlO3BhZGRpbmc6MThweDsiPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc3luYy1hbHQiIHN0eWxlPSJmb250LXNpemU6Mi43cmVtO2NvbG9yOiMwYTcwZmY7Ij48L2k+CiAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGgyIHN0eWxlPSJmb250LXNpemU6MS41cmVtO2NvbG9yOiMwYTcwZmY7bWFyZ2luLWJvdHRvbToxNHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7bGV0dGVyLXNwYWNpbmc6MXB4OyI+2YrYsdis2Ykg2KrYrdiv2YrYqyDYp9mE2LXZgdit2Kk8L2gyPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjEuMTVyZW07Y29sb3I6IzIyMjttYXJnaW4tYm90dG9tOjIycHg7bGluZS1oZWlnaHQ6Mjt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7dGV4dC1hbGlnbjpjZW50ZXI7Ij4KICAgICAgICAgICAgICAgICAg2KrZhSDYpdix2LPYp9mEINij2YXYsSDYqtit2K/ZitirINin2YTYtdmB2K3YqSDZhdmGINin2YTYpdiv2KfYsdipLjxicj4KICAgICAgICAgICAgICAgICAg2YrYrNioINi52YTZitmDIDxiIHN0eWxlPSJjb2xvcjojMTRlZTg4OyI+2KrYrdiv2YrYqyDYp9mE2LXZgdit2KkgKFJlbG9hZCk8L2I+INmE2YXYqtin2KjYudipINin2LPYqtiu2K/Yp9mFINin2YTZhdmG2LXYqS48YnI+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9ImZvcmNlUmVsb2FkQnRuQWxsIiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBzdHlsZT0icGFkZGluZzoxMnB4IDM4cHg7Zm9udC1zaXplOjEuMTVyZW07Ym9yZGVyLXJhZGl1czo4cHg7bWFyZ2luLXRvcDoxMHB4O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDkwZGVnLCMwYTcwZmYsIzE0ZWU4OCk7Ym9yZGVyOm5vbmU7Ij4KICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1zeW5jLWFsdCIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweDsiPjwvaT4g2KrYrdiv2YrYqyDYp9mE2LXZgdit2Kkg2KfZhNii2YYKICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcmNlUmVsb2FkQnRuQWxsIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIC8vINio2LnYryDYudmF2YQg2LHZitmB2LHYtNiMINin2YXYs9itIHJlbG9hZCDZhdmGINmC2KfYudiv2Kkg2KfZhNio2YrYp9mG2KfYqiDZhNmH2LDYpyDYp9mE2LfYp9mE2KgKICAgICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJzdHVkZW50UmVsb2FkcyIpLmRvYyhjdXJyZW50VXNlci51aWQpLnNldCh7IHJlbG9hZDogZmFsc2UgfSk7CiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgfQp9CmZvcmNlU3R1ZGVudEF1dG9SZWxvYWQoKTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCgpmdW5jdGlvbiBmaW5pc2hTZWxmVGVzdCgpIHsKICAgIGxldCBjb3JyZWN0QW5zd2VycyA9IDA7CiAgICBjdXJyZW50RXhhbS5xdWVzdGlvbnMuZm9yRWFjaCgocXVlc3Rpb24sIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKHVzZXJBbnN3ZXJzW2luZGV4XSA9PT0gcXVlc3Rpb24uY29ycmVjdEFuc3dlcikgewogICAgICAgICAgICBjb3JyZWN0QW5zd2VycysrOwogICAgICAgIH0KICAgIH0pOwoKICAgIGNvbnN0IHRvdGFsUXVlc3Rpb25zID0gY3VycmVudEV4YW0ucXVlc3Rpb25zLmxlbmd0aDsKICAgIGNvbnN0IHNjb3JlUGVyY2VudGFnZSA9IE1hdGgucm91bmQoKGNvcnJlY3RBbnN3ZXJzIC8gdG90YWxRdWVzdGlvbnMpICogMTAwKTsKICAgIGNvbnN0IHdyb25nQW5zd2VycyA9IHRvdGFsUXVlc3Rpb25zIC0gY29ycmVjdEFuc3dlcnM7CgogICAgLy8g2K3Zgdi4INin2YTZhtiq2YrYrNipINmB2Yog2YLYp9i52K/YqSDYp9mE2KjZitin2YbYp9iqIChzZWxmVGVzdFJlc3VsdHMpCiAgICBkYi5jb2xsZWN0aW9uKCJzZWxmVGVzdFJlc3VsdHMiKS5hZGQoewogICAgICAgIHVzZXJJZDogY3VycmVudFVzZXIudWlkLAogICAgICAgIHVzZXJOYW1lOiBjdXJyZW50VXNlckRhdGE/LlsibmFtZSJdIHx8IGN1cnJlbnRVc2VyLmVtYWlsLAogICAgICAgIHNlbGZUZXN0SWQ6IGN1cnJlbnRFeGFtLmlkLAogICAgICAgIHNlbGZUZXN0VGl0bGU6IGN1cnJlbnRFeGFtLnRpdGxlLAogICAgICAgIHNjb3JlUGVyY2VudGFnZTogc2NvcmVQZXJjZW50YWdlLAogICAgICAgIGNvcnJlY3RBbnN3ZXJzOiBjb3JyZWN0QW5zd2VycywKICAgICAgICB3cm9uZ0Fuc3dlcnM6IHdyb25nQW5zd2VycywKICAgICAgICBhbnN3ZXJzOiB1c2VyQW5zd2VycywKICAgICAgICBzdWJtaXR0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCksCiAgICB9KTsKCiAgICAvLyDYqtit2K/ZitirINin2YTZhtiq2YrYrNipINmB2Yog2KfZhNmG2KfZgdiw2Kkg2KfZhNmF2YbYqNir2YLYqQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGZUZXN0UmVzdWx0U2NvcmUnKS50ZXh0Q29udGVudCA9IHNjb3JlUGVyY2VudGFnZSArICclJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdENvcnJlY3RBbnN3ZXJzIikudGV4dENvbnRlbnQgPSBjb3JyZWN0QW5zd2VyczsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFdyb25nQW5zd2VycyIpLnRleHRDb250ZW50ID0gd3JvbmdBbnN3ZXJzOwoKICAgIC8vINi52LHYtiDYp9mE2YbYp9mB2LDYqSDYp9mE2YXZhtio2KvZgtipCiAgICBjb25zdCByZXN1bHRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxmVGVzdFJlc3VsdE1vZGFsJyk7CiAgICByZXN1bHRNb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwoKICAgIC8vINil2LnYp9iv2Kkg2KrYudmK2YrZhiDYp9mE2KfYrtiq2KjYp9ixCiAgICBjdXJyZW50RXhhbSA9IG51bGw7CiAgICBjdXJyZW50UXVlc3Rpb25JbmRleCA9IDA7CiAgICB1c2VyQW5zd2VycyA9IHt9OwoKICAgIC8vINil2LrZhNin2YIg2KfZhNmG2KfZgdiw2Kkg2LnZhtivINin2YTZhtmC2LEg2LnZhNmJINiy2LEg2KfZhNil2LrZhNin2YIKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZVNlbGZUZXN0UmVzdWx0TW9kYWwnKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxmVGVzdFJlc3VsdE1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAvLyDZitmF2YPZhtmDINmH2YbYpyDYpdi52KfYr9ipINin2YTZhdiz2KrYrtiv2YUg2YTZgtiz2YUgItin2K7Yqtio2LEg2YbZgdiz2YMiINij2Ygg2KPZiiDYtdmB2K3YqSDYo9iu2LHZiSDYpdiw2Kcg2KPYsdiv2KoKICAgICAgICAvLyDZhdir2KfZhDogc2hvd1BhZ2UoZGFzaGJvYXJkUGFnZSk7CiAgICB9Owp9CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaW5pc2hTZWxmVGVzdEJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZmluaXNoU2VsZlRlc3QpOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnVsa1VwbG9hZFNlbGZUZXN0QnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1bGtVcGxvYWRTZWxmVGVzdElucHV0JykuY2xpY2soKTsKfSk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWxrVXBsb2FkU2VsZlRlc3RJbnB1dCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIF8weDFhYTgwYSA9PiB7CiAgY29uc3QgXzB4MWY1NzllID0gXzB4MWFhODBhLnRhcmdldC5maWxlc1sweDBdOwogIGlmICghXzB4MWY1NzllKSB7CiAgICByZXR1cm47CiAgfQogIGNvbnN0IF8weDNlOTI2NCA9IF8weDFmNTc5ZS5uYW1lLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTsKICBpZiAoXzB4M2U5MjY0ID09PSAiY3N2IikgewogICAgUGFwYS5wYXJzZShfMHgxZjU3OWUsIHsKICAgICAgJ2hlYWRlcic6IHRydWUsCiAgICAgICdjb21wbGV0ZSc6IGZ1bmN0aW9uIChfMHgzY2MzODkpIHsKICAgICAgICBwcm9jZXNzU2VsZlRlc3RRdWVzdGlvbnMoXzB4M2NjMzg5LmRhdGEpOwogICAgICB9LAogICAgICAnZXJyb3InOiBmdW5jdGlvbiAoXzB4MjAwMDc0KSB7CiAgICAgICAgYWxlcnQoItit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDZgtix2KfYodipINin2YTZhdmE2YE6ICIgKyBfMHgyMDAwNzQubWVzc2FnZSk7CiAgICAgIH0KICAgIH0pOwogIH0gZWxzZSB7CiAgICBpZiAoWyJ4bHN4IiwgInhscyJdLmluY2x1ZGVzKF8weDNlOTI2NCkpIHsKICAgICAgY29uc3QgXzB4M2VhNjE0ID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgXzB4M2VhNjE0Lm9ubG9hZCA9IGZ1bmN0aW9uIChfMHg0MmJmNGEpIHsKICAgICAgICBjb25zdCBfMHg0Y2Q2MjcgPSBuZXcgVWludDhBcnJheShfMHg0MmJmNGEudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgY29uc3QgXzB4NTU4YjM4ID0gWExTWC5yZWFkKF8weDRjZDYyNywgewogICAgICAgICAgJ3R5cGUnOiAnYXJyYXknCiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgXzB4M2Y0NzQyID0gXzB4NTU4YjM4LlNoZWV0TmFtZXNbMHgwXTsKICAgICAgICBjb25zdCBfMHgyYjI4ZTIgPSBfMHg1NThiMzguU2hlZXRzW18weDNmNDc0Ml07CiAgICAgICAgY29uc3QgXzB4MWRhZjQ0ID0gWExTWC51dGlscy5zaGVldF90b19qc29uKF8weDJiMjhlMik7CiAgICAgICAgcHJvY2Vzc1NlbGZUZXN0UXVlc3Rpb25zKF8weDFkYWY0NCk7CiAgICAgIH07CiAgICAgIF8weDNlYTYxNC5yZWFkQXNBcnJheUJ1ZmZlcihfMHgxZjU3OWUpOwogICAgfSBlbHNlIHsKICAgICAgYWxlcnQoItmK2LHYrNmJINix2YHYuSDZhdmE2YEg2KjYtdmK2LrYqSBDU1Yg2KPZiCBFeGNlbCDZgdmC2LcuIik7CiAgICB9CiAgfQp9KTsKLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINio2LnYryDYqtit2YXZitmEINin2YTYtdmB2K3YqSDYp9mE2LHYptmK2LPZitipINij2Ygg2KjYudivINiv2KfZhNipIGxvYWREYXNoYm9hcmQg2YXYqNin2LTYsdipCi8vINiv2KfZhNipINmE2KXYuNmH2KfYsSDYtNix2YrYtyDYp9mE2YHZhNiq2LHYqSDZgdmKINi12YHYrdipINin2YTYp9iu2KrYqNin2LHYp9iqINmE2YTYt9in2YTYqCDZiNin2YTZhdi52YTZhQpmdW5jdGlvbiByZW5kZXJFeGFtc1BhZ2VGaWx0ZXJCYXIoKSB7CiAgY29uc3QgZXhhbXNUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNleGFtc1BhZ2UgaDIucGFnZS10aXRsZSBpLmZhLWNsaXBib2FyZC1saXN0Iik/LnBhcmVudEVsZW1lbnQ7CiAgaWYgKGV4YW1zVGl0bGUgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtc1BhZ2VGaWx0ZXJCYXIiKSkgewogICAgY29uc3QgZmlsdGVyQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBmaWx0ZXJCYXIuaWQgPSAiZXhhbXNQYWdlRmlsdGVyQmFyIjsKICAgIGZpbHRlckJhci5zdHlsZSA9ICJtYXJnaW4tYm90dG9tOjE4cHg7ZGlzcGxheTpmbGV4O2dhcDoxMHB4O2ZsZXgtd3JhcDp3cmFwO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyI7CiAgICBmaWx0ZXJCYXIuaW5uZXJIVE1MID0gYAogICAgICA8c2VsZWN0IGlkPSJleGFtc1BhZ2VGaWx0ZXJZZWFyIiBjbGFzcz0iZm9ybS1jb250cm9sIiBzdHlsZT0ibWF4LXdpZHRoOjE2MHB4OyI+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2Kk8L29wdGlvbj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KPZiNmE2Ykg2KvYp9mG2YjZiiI+2KfZhNij2YjZhNmJINir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKIj7Yp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICA8L3NlbGVjdD4KICAgICAgPHNlbGVjdCBpZD0iZXhhbXNQYWdlRmlsdGVyVGVybSIgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9Im1heC13aWR0aDoxMjBweDsiPgogICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZijwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YQiPtiq2LHZhSDYo9mI2YQ8L29wdGlvbj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mG2YoiPtiq2LHZhSDYq9in2YbZijwvb3B0aW9uPgogICAgICA8L3NlbGVjdD4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYXBwbHlFeGFtc1BhZ2VGaWx0ZXJCdG4iPtmB2YTYqtix2Kkg2KfZhNin2K7Yqtio2KfYsdin2Ko8L2J1dHRvbj4KICAgIGA7CiAgICBleGFtc1RpdGxlLmluc2VydEFkamFjZW50RWxlbWVudCgiYWZ0ZXJlbmQiLCBmaWx0ZXJCYXIpOwogIH0KfQpmdW5jdGlvbiBzZXR1cEV4YW1zUGFnZUZpbHRlckV2ZW50cygpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYXBwbHlFeGFtc1BhZ2VGaWx0ZXJCdG4iKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCB5ZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1zUGFnZUZpbHRlclllYXIiKS52YWx1ZTsKICAgIGNvbnN0IHRlcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbXNQYWdlRmlsdGVyVGVybSIpLnZhbHVlOwogICAgY29uc3QgZXhhbXNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFsbEV4YW1zIik7CiAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2KouLi48L3A+IjsKICAgIGRiLmNvbGxlY3Rpb24oImV4YW1zIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiIjsKICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgIGNvbnN0IGV4YW0gPSBkb2MuZGF0YSgpOwogICAgICAgIGlmICgKICAgICAgICAgICgheWVhciB8fCBleGFtLnllYXIgPT09IHllYXIpICYmCiAgICAgICAgICAoIXRlcm0gfHwgZXhhbS50ZXJtID09PSB0ZXJtKQogICAgICAgICkgewogICAgICAgICAgZXhhbXNHcmlkLmFwcGVuZENoaWxkKGNyZWF0ZUV4YW1DYXJkKGV4YW0sIGRvYy5pZCkpOwogICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmICghZm91bmQpIHsKICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdi32KfYqNmC2Kkg2YTZhNmB2YTYqtix2KkuPC9wPiI7CiAgICAgIH0KICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqjogIiArIGVycm9yLm1lc3NhZ2UgKyAiPC9wPiI7CiAgICB9KTsKICB9KTsKfQoKLy8g2KfYs9iq2K/YudmQINin2YTYr9in2YTYqtmK2YYg2LnZhtivINmB2KrYrSDYtdmB2K3YqSDYp9mE2KfYrtiq2KjYp9ix2KfYqgoKZnVuY3Rpb24gcmVuZGVyVGVhY2hlckZpbHRlckJhcnMoKSB7CiAgaWYgKHVzZXJSb2xlICE9PSAidGVhY2hlciIpIHJldHVybjsKCiAgLy8g2YHZhNiq2LEg2KfZhNin2K7Yqtio2KfYsdin2KoKICBjb25zdCBleGFtc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Rhc2hib2FyZFBhZ2UgaDMucGFnZS10aXRsZSBpLmZhLWNsaXBib2FyZC1saXN0Iik/LnBhcmVudEVsZW1lbnQ7CiAgaWYgKGV4YW1zVGl0bGUgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZWFjaGVyRXhhbUZpbHRlckJhciIpKSB7CiAgICBjb25zdCBleGFtRmlsdGVyQmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBleGFtRmlsdGVyQmFyLmlkID0gInRlYWNoZXJFeGFtRmlsdGVyQmFyIjsKICAgIGV4YW1GaWx0ZXJCYXIuc3R5bGUgPSAibWFyZ2luLWJvdHRvbToxOHB4O2Rpc3BsYXk6ZmxleDtnYXA6MTBweDtmbGV4LXdyYXA6d3JhcDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjsiOwogICAgZXhhbUZpbHRlckJhci5pbm5lckhUTUwgPSBgCiAgICAgIDxzZWxlY3QgaWQ9ImZpbHRlckV4YW1ZZWFyIiBjbGFzcz0iZm9ybS1jb250cm9sIiBzdHlsZT0ibWF4LXdpZHRoOjE2MHB4OyI+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2Kk8L29wdGlvbj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KPZiNmE2Ykg2KvYp9mG2YjZiiI+2KfZhNij2YjZhNmJINir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKIj7Yp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICA8L3NlbGVjdD4KICAgICAgPHNlbGVjdCBpZD0iZmlsdGVyRXhhbVRlcm0iIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHN0eWxlPSJtYXgtd2lkdGg6MTIwcHg7Ij4KICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtin2K7YqtixINin2YTYqtix2YUg2KfZhNiv2LHYp9iz2Yo8L29wdGlvbj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KPZiNmEIj7Yqtix2YUg2KPZiNmEPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmKIj7Yqtix2YUg2KvYp9mG2Yo8L29wdGlvbj4KICAgICAgPC9zZWxlY3Q+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgaWQ9ImFwcGx5RXhhbUZpbHRlckJ0biI+2YHZhNiq2LHYqSDYp9mE2KfYrtiq2KjYp9ix2KfYqjwvYnV0dG9uPgogICAgYDsKICAgIGV4YW1zVGl0bGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCJhZnRlcmVuZCIsIGV4YW1GaWx0ZXJCYXIpOwogIH0KCiAgLy8g2YHZhNiq2LEg2KfZhNmI2KfYrNio2KfYqgogIGNvbnN0IHNlbGZUZXN0c1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Rhc2hib2FyZFBhZ2UgI3NlbGZUZXN0c0Rhc2hib2FyZCBoMy5wYWdlLXRpdGxlIGkuZmEtYnJhaW4iKT8ucGFyZW50RWxlbWVudDsKICBpZiAoc2VsZlRlc3RzVGl0bGUgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZWFjaGVyU2VsZlRlc3RGaWx0ZXJCYXIiKSkgewogICAgY29uc3Qgc2VsZlRlc3RGaWx0ZXJCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHNlbGZUZXN0RmlsdGVyQmFyLmlkID0gInRlYWNoZXJTZWxmVGVzdEZpbHRlckJhciI7CiAgICBzZWxmVGVzdEZpbHRlckJhci5zdHlsZSA9ICJtYXJnaW4tYm90dG9tOjE4cHg7ZGlzcGxheTpmbGV4O2dhcDoxMHB4O2ZsZXgtd3JhcDp3cmFwO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOyI7CiAgICBzZWxmVGVzdEZpbHRlckJhci5pbm5lckhUTUwgPSBgCiAgICAgIDxzZWxlY3QgaWQ9ImZpbHRlclNlbGZUZXN0WWVhciIgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9Im1heC13aWR0aDoxNjBweDsiPgogICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNij2YjZhNmJINir2KfZhtmI2YoiPtin2YTYo9mI2YTZiSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YTYq9ipINir2KfZhtmI2YoiPtin2YTYq9in2YTYq9ipINir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgPC9zZWxlY3Q+CiAgICAgIDxzZWxlY3QgaWQ9ImZpbHRlclNlbGZUZXN0VGVybSIgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9Im1heC13aWR0aDoxMjBweDsiPgogICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KfYrtiq2LEg2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZijwvb3B0aW9uPgogICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YQiPtiq2LHZhSDYo9mI2YQ8L29wdGlvbj4KICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mG2YoiPtiq2LHZhSDYq9in2YbZijwvb3B0aW9uPgogICAgICA8L3NlbGVjdD4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBpZD0iYXBwbHlTZWxmVGVzdEZpbHRlckJ0biI+2YHZhNiq2LHYqSDYp9mE2YjYp9is2KjYp9iqPC9idXR0b24+CiAgICBgOwogICAgc2VsZlRlc3RzVGl0bGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCJhZnRlcmVuZCIsIHNlbGZUZXN0RmlsdGVyQmFyKTsKICB9Cn0KLy8gMi4g2LnZhtivINin2YTYtti62Lcg2LnZhNmJINiy2LEg2KfZhNmB2YTYqtix2KnYjCDYo9i42YfYsSDZgdmC2Lcg2KfZhNi02LHYp9im2K0g2KfZhNmF2LfYp9io2YLYqSAo2YjZhNinINiq2LjZh9ixINij2Yog2LTYsdmK2K3YqSDZgtio2YQg2KfZhNmB2YTYqtix2KkpCmZ1bmN0aW9uIHNldHVwVGVhY2hlckZpbHRlckV2ZW50cygpIHsKICBpZiAodXNlclJvbGUgIT09ICJ0ZWFjaGVyIikgcmV0dXJuOwoKICAvLyDZgdmE2KrYsdipINin2YTYp9iu2KrYqNin2LHYp9iqCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcGx5RXhhbUZpbHRlckJ0biIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgIGNvbnN0IHllYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRXhhbVllYXIiKS52YWx1ZTsKICAgIGNvbnN0IHRlcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRXhhbVRlcm0iKS52YWx1ZTsKICAgIGNvbnN0IGV4YW1zR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNlbnRFeGFtcyIpOwogICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqLi4uPC9wPiI7CiAgICBkYi5jb2xsZWN0aW9uKCJleGFtcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIiI7CiAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICBjb25zdCBleGFtID0gZG9jLmRhdGEoKTsKICAgICAgICBpZiAoCiAgICAgICAgICAoIXllYXIgfHwgZXhhbS55ZWFyID09PSB5ZWFyKSAmJgogICAgICAgICAgKCF0ZXJtIHx8IGV4YW0udGVybSA9PT0gdGVybSkKICAgICAgICApIHsKICAgICAgICAgIGV4YW1zR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVFeGFtQ2FyZChleGFtLCBkb2MuaWQpKTsKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYt9in2KjZgtipINmE2YTZgdmE2KrYsdipLjwvcD4iOwogICAgICB9CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2Ko6ICIgKyBlcnJvci5tZXNzYWdlICsgIjwvcD4iOwogICAgfSk7CiAgfSk7CgogIC8vINmB2YTYqtix2Kkg2KfZhNmI2KfYrNio2KfYqiDYp9mE2YXZhtiy2YTZitipCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcGx5U2VsZlRlc3RGaWx0ZXJCdG4iKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCB5ZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlclNlbGZUZXN0WWVhciIpLnZhbHVlOwogICAgY29uc3QgdGVybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJTZWxmVGVzdFRlcm0iKS52YWx1ZTsKICAgIGNvbnN0IHNlbGZUZXN0c0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RzR3JpZCIpOwogICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2YjYp9is2KjYp9iqLi4uPC9wPiI7CiAgICBkYi5jb2xsZWN0aW9uKCJzZWxmVGVzdHMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiIjsKICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgIGNvbnN0IHNlbGZUZXN0ID0gZG9jLmRhdGEoKTsKICAgICAgICBpZiAoCiAgICAgICAgICAoIXllYXIgfHwgc2VsZlRlc3QueWVhciA9PT0geWVhcikgJiYKICAgICAgICAgICghdGVybSB8fCBzZWxmVGVzdC50ZXJtID09PSB0ZXJtKQogICAgICAgICkgewogICAgICAgICAgc2VsZlRlc3RzR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVTZWxmVGVzdENhcmQoc2VsZlRlc3QsIGRvYy5pZCkpOwogICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGlmICghZm91bmQpIHsKICAgICAgICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINmI2KfYrNio2KfYqiDZhdi32KfYqNmC2Kkg2YTZhNmB2YTYqtix2KkuPC9wPiI7CiAgICAgIH0KICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNmI2KfYrNio2KfYqjogIiArIGVycm9yLm1lc3NhZ2UgKyAiPC9wPiI7CiAgICB9KTsKICB9KTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIGxvYWRSZWNlbnRFeGFtc0ZvclRlYWNoZXJGaWx0ZXJlZCh5ZWFyID0gIiIsIHRlcm0gPSAiIiwgcGFnZSA9IDEpIHsKICBjb25zdCBleGFtc0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXMiKTsKICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2KouLi48L3A+IjsKCiAgZGIuY29sbGVjdGlvbigiZXhhbXMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2KrYp9it2Kkg2K3Yp9mE2YrYp9mLPC9wPiI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNlbnRFeGFtc1BhZ2VyVG9wIik/LnJlbW92ZSgpOwogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgYWxsRXhhbXMgPSBbXTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IGFsbEV4YW1zLnB1c2goeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTsKCiAgICBjb25zdCBmaWx0ZXJlZCA9IGFsbEV4YW1zLmZpbHRlcihleGFtID0+IHsKICAgICAgcmV0dXJuICgheWVhciB8fCBleGFtLnllYXIgPT09IHllYXIpICYmICghdGVybSB8fCBleGFtLnRlcm0gPT09IHRlcm0pOwogICAgfSk7CgogICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA9PT0gMCkgewogICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdi32KfYqNmC2Kkg2YTZhNmB2YTYqtix2KkuPC9wPiI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNlbnRFeGFtc1BhZ2VyVG9wIik/LnJlbW92ZSgpOwogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGgubWF4KDEsIE1hdGguY2VpbChmaWx0ZXJlZC5sZW5ndGggLyBJVEVNU19QRVJfUEFHRSkpOwogICAgY29uc3QgY3VycmVudFBhZ2UgPSBNYXRoLm1heCgxLCBNYXRoLm1pbihwYWdlLCB0b3RhbFBhZ2VzKSk7CiAgICBjb25zdCBzdGFydCA9IChjdXJyZW50UGFnZSAtIDEpICogSVRFTVNfUEVSX1BBR0U7CiAgICBjb25zdCBwYWdlRXhhbXMgPSBmaWx0ZXJlZC5zbGljZShzdGFydCwgc3RhcnQgKyBJVEVNU19QRVJfUEFHRSk7CgogICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICIiOwogICAgcGFnZUV4YW1zLmZvckVhY2goZSA9PiBleGFtc0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlRXhhbUNhcmQoZSwgZS5pZCkpKTsKCiAgICAvLyB0b3AgcGFnZXIgKHRlYWNoZXIpCiAgICBsZXQgcGFnZXJUb3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXNQYWdlclRvcCIpOwogICAgaWYgKCFwYWdlclRvcCkgewogICAgICBwYWdlclRvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBwYWdlclRvcC5pZCA9ICJyZWNlbnRFeGFtc1BhZ2VyVG9wIjsKICAgICAgcGFnZXJUb3Auc3R5bGUgPSAiZGlzcGxheTpmbGV4O2dhcDoxMHB4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbjo4cHggMDsiOwogICAgICBleGFtc0dyaWQucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUocGFnZXJUb3AsIGV4YW1zR3JpZCk7CiAgICB9CiAgICBwYWdlclRvcC5pbm5lckhUTUwgPSBgCiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9ImV4YW1zUHJldkJ0blRvcCIgJHtjdXJyZW50UGFnZSA9PT0gMSA/ICdkaXNhYmxlZCcgOiAnJ30+2KfZhNiz2KfYqNmCPC9idXR0b24+CiAgICAgIDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDo3MDA7Y29sb3I6IzBhNzBmZjsiPti12YHYrdipICR7Y3VycmVudFBhZ2V9INmF2YYgJHt0b3RhbFBhZ2VzfTwvc3Bhbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0iZXhhbXNOZXh0QnRuVG9wIiAke2N1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzID8gJ2Rpc2FibGVkJyA6ICcnfT7Yp9mE2KrYp9mE2Yo8L2J1dHRvbj4KICAgIGA7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbXNQcmV2QnRuVG9wIikub25jbGljayA9ICgpID0+IGxvYWRSZWNlbnRFeGFtc0ZvclRlYWNoZXJGaWx0ZXJlZCh5ZWFyLCB0ZXJtLCBjdXJyZW50UGFnZSAtIDEpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1zTmV4dEJ0blRvcCIpLm9uY2xpY2sgPSAoKSA9PiBsb2FkUmVjZW50RXhhbXNGb3JUZWFjaGVyRmlsdGVyZWQoeWVhciwgdGVybSwgY3VycmVudFBhZ2UgKyAxKTsKICB9KS5jYXRjaChlcnIgPT4gewogICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqjogIiArIGVyci5tZXNzYWdlICsgIjwvcD4iOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY2VudEV4YW1zUGFnZXJUb3AiKT8ucmVtb3ZlKCk7CiAgfSk7Cn0KCmZ1bmN0aW9uIGxvYWRTZWxmVGVzdHNGb3JUZWFjaGVyRmlsdGVyZWQoeWVhciA9ICIiLCB0ZXJtID0gIiIsIHBhZ2UgPSAxKSB7CiAgY29uc3Qgc2VsZlRlc3RzR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNHcmlkIik7CiAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2YjYp9is2KjYp9iqLi4uPC9wPiI7CgogIGRiLmNvbGxlY3Rpb24oJ3NlbGZUZXN0cycpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDZiNin2KzYqNin2Kog2YXYqtin2K3YqSDYrdin2YTZitin2Ys8L3A+IjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c1BhZ2VyVG9wIik/LnJlbW92ZSgpOwogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgYWxsVGVzdHMgPSBbXTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IGFsbFRlc3RzLnB1c2goeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTsKCiAgICBjb25zdCBmaWx0ZXJlZCA9IGFsbFRlc3RzLmZpbHRlcih0ZXN0ID0+IHsKICAgICAgcmV0dXJuICgheWVhciB8fCB0ZXN0LnllYXIgPT09IHllYXIpICYmICghdGVybSB8fCB0ZXN0LnRlcm0gPT09IHRlcm0pOwogICAgfSk7CgogICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA9PT0gMCkgewogICAgICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINmI2KfYrNio2KfYqiDZhdi32KfYqNmC2Kkg2YTZhNmB2YTYqtix2KkuPC9wPiI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNQYWdlclRvcCIpPy5yZW1vdmUoKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoZmlsdGVyZWQubGVuZ3RoIC8gSVRFTVNfUEVSX1BBR0UpKTsKICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gTWF0aC5tYXgoMSwgTWF0aC5taW4ocGFnZSwgdG90YWxQYWdlcykpOwogICAgY29uc3Qgc3RhcnQgPSAoY3VycmVudFBhZ2UgLSAxKSAqIElURU1TX1BFUl9QQUdFOwogICAgY29uc3QgcGFnZVRlc3RzID0gZmlsdGVyZWQuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgSVRFTVNfUEVSX1BBR0UpOwoKICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIiI7CiAgICBwYWdlVGVzdHMuZm9yRWFjaCh0ID0+IHNlbGZUZXN0c0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlU2VsZlRlc3RDYXJkKHQsIHQuaWQpKSk7CgogICAgLy8gdG9wIHBhZ2VyICh0ZWFjaGVyKQogICAgbGV0IHBhZ2VyVG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c1BhZ2VyVG9wIik7CiAgICBpZiAoIXBhZ2VyVG9wKSB7CiAgICAgIHBhZ2VyVG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHBhZ2VyVG9wLmlkID0gInNlbGZUZXN0c1BhZ2VyVG9wIjsKICAgICAgcGFnZXJUb3Auc3R5bGUgPSAiZGlzcGxheTpmbGV4O2dhcDoxMHB4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbjo4cHggMDsiOwogICAgICBzZWxmVGVzdHNHcmlkLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHBhZ2VyVG9wLCBzZWxmVGVzdHNHcmlkKTsKICAgIH0KICAgIHBhZ2VyVG9wLmlubmVySFRNTCA9IGAKICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0ic2VsZlRlc3RzUHJldkJ0blRvcCIgJHtjdXJyZW50UGFnZSA9PT0gMSA/ICdkaXNhYmxlZCcgOiAnJ30+2KfZhNiz2KfYqNmCPC9idXR0b24+CiAgICAgIDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDo3MDA7Y29sb3I6IzBhNzBmZjsiPti12YHYrdipICR7Y3VycmVudFBhZ2V9INmF2YYgJHt0b3RhbFBhZ2VzfTwvc3Bhbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0ic2VsZlRlc3RzTmV4dEJ0blRvcCIgJHtjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyA/ICdkaXNhYmxlZCcgOiAnJ30+2KfZhNiq2KfZhNmKPC9idXR0b24+CiAgICBgOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c1ByZXZCdG5Ub3AiKS5vbmNsaWNrID0gKCkgPT4gbG9hZFNlbGZUZXN0c0ZvclRlYWNoZXJGaWx0ZXJlZCh5ZWFyLCB0ZXJtLCBjdXJyZW50UGFnZSAtIDEpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c05leHRCdG5Ub3AiKS5vbmNsaWNrID0gKCkgPT4gbG9hZFNlbGZUZXN0c0ZvclRlYWNoZXJGaWx0ZXJlZCh5ZWFyLCB0ZXJtLCBjdXJyZW50UGFnZSArIDEpOwogIH0pLmNhdGNoKGVyciA9PiB7CiAgICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2YjYp9is2KjYp9iqOiAiICsgZXJyLm1lc3NhZ2UgKyAiPC9wPiI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RzUGFnZXJUb3AiKT8ucmVtb3ZlKCk7CiAgfSk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBzZXR1cFRlYWNoZXJGaWx0ZXJFdmVudHMoKSB7CiAgaWYgKHVzZXJSb2xlICE9PSAidGVhY2hlciIpIHJldHVybjsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcGx5RXhhbUZpbHRlckJ0biIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgIGNvbnN0IHllYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRXhhbVllYXIiKS52YWx1ZTsKICAgIGNvbnN0IHRlcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsdGVyRXhhbVRlcm0iKS52YWx1ZTsKICAgIGxvYWRSZWNlbnRFeGFtc0ZvclRlYWNoZXJGaWx0ZXJlZCh5ZWFyLCB0ZXJtKTsKICB9KTsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcGx5U2VsZlRlc3RGaWx0ZXJCdG4iKT8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCB5ZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZpbHRlclNlbGZUZXN0WWVhciIpLnZhbHVlOwogICAgY29uc3QgdGVybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaWx0ZXJTZWxmVGVzdFRlcm0iKS52YWx1ZTsKICAgIGxvYWRTZWxmVGVzdHNGb3JUZWFjaGVyRmlsdGVyZWQoeWVhciwgdGVybSk7CiAgfSk7Cn0KCi8vIDMuINi52YbYryDYqtit2YXZitmEINin2YTYtdmB2K3YqSDYp9mE2LHYptmK2LPZitipINmE2YTZhdi52YTZhdiMINmE2Kcg2KrYuNmH2LEg2KPZiiDYtNix2YrYrdipINil2YTYpyDYqNi52K8g2KfZhNmB2YTYqtix2KkKZnVuY3Rpb24gaGlkZUFsbENhcmRzRm9yVGVhY2hlcigpIHsKICBpZiAodXNlclJvbGUgIT09ICJ0ZWFjaGVyIikgcmV0dXJuOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNlbnRFeGFtcyIpPy5xdWVyeVNlbGVjdG9yQWxsKCIuZXhhbS1jYXJkIikuZm9yRWFjaChjYXJkID0+IGNhcmQuc3R5bGUuZGlzcGxheSA9ICJub25lIik7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c0dyaWQiKT8ucXVlcnlTZWxlY3RvckFsbCgiLnNlbGYtdGVzdC1jYXJkIikuZm9yRWFjaChjYXJkID0+IGNhcmQuc3R5bGUuZGlzcGxheSA9ICJub25lIik7Cn0KCi8vINin2LPYqtiv2LnZkCDYp9mE2K/Yp9mE2Kkg2KjYudivINiq2K3ZhdmK2YQg2KfZhNi12YHYrdipINin2YTYsdim2YrYs9mK2Kkg2YTZhNmF2LnZhNmFCi8vINmF2KvYp9mEOiDZgdmKINmG2YfYp9mK2KkgbG9hZERhc2hib2FyZCgpCmZ1bmN0aW9uIGxvYWRTZWxmVGVzdFJlc3VsdHMoKSB7CiAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFJlc3VsdHNUYWJsZSIpOwogICAgdGFibGUuaW5uZXJIVE1MID0gIjx0cj48dGQgY29sc3Bhbj0nNSc+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2YbYqtin2KbYrC4uLjwvdGQ+PC90cj4iOwogICAgbGV0IHF1ZXJ5ID0gZGIuY29sbGVjdGlvbigic2VsZlRlc3RSZXN1bHRzIikub3JkZXJCeSgic3VibWl0dGVkQXQiLCAiZGVzYyIpOwogICAgaWYgKHVzZXJSb2xlICE9PSAidGVhY2hlciIpIHsKICAgICAgICBxdWVyeSA9IHF1ZXJ5LndoZXJlKCJ1c2VySWQiLCAiPT0iLCBjdXJyZW50VXNlci51aWQpOwogICAgfQogICAgcXVlcnkuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICAgICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgICAgICAgIHRhYmxlLmlubmVySFRNTCA9ICI8dHI+PHRkIGNvbHNwYW49JzUnPtmE2Kcg2KrZiNis2K8g2YbYqtin2KbYrCDYqNi52K88L3RkPjwvdHI+IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0YWJsZS5pbm5lckhUTUwgPSAiIjsKICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSByZXN1bHQuc3VibWl0dGVkQXQ/LnRvRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCkgfHwgIiI7CiAgICAgICAgICAgIHRhYmxlLmlubmVySFRNTCArPSBgCiAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgPHRkPiR7cmVzdWx0LnVzZXJOYW1lIHx8ICIifTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkPiR7cmVzdWx0LnNlbGZUZXN0VGl0bGUgfHwgIiJ9PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQ+JHtyZXN1bHQuY29ycmVjdEFuc3dlcnMgKyAiIC8gIiArIChyZXN1bHQuY29ycmVjdEFuc3dlcnMgKyByZXN1bHQud3JvbmdBbnN3ZXJzKX08L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZD4ke3Jlc3VsdC5zY29yZVBlcmNlbnRhZ2V9JTwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkPiR7ZGF0ZX08L3RkPgogICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgYDsKICAgICAgICB9KTsKICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICB0YWJsZS5pbm5lckhUTUwgPSBgPHRyPjx0ZCBjb2xzcGFuPSc1Jz7Yrdiv2Ksg2K7Yt9ijOiAke2Vycm9yLm1lc3NhZ2V9PC90ZD48L3RyPmA7CiAgICB9KTsKfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVNlbGZUZXN0UmVzdWx0cyIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGUgPT4gewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgc2V0QWN0aXZlTWVudUl0ZW0oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTZWxmVGVzdFJlc3VsdHMiKSk7CiAgICBzaG93UGFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RSZXN1bHRzUGFnZSIpKTsKICAgIGxvYWRTZWxmVGVzdFJlc3VsdHMoKTsKfSk7CmZ1bmN0aW9uIGxvYWRBbGxFeGFtcygpIHsKICBjb25zdCBleGFtc0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWxsRXhhbXMiKTsKICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2KouLi48L3A+IjsKICBkYi5jb2xsZWN0aW9uKCJleGFtcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYqtin2K3YqSDYrdin2YTZitin2Ys8L3A+IjsKICAgICAgcmV0dXJuOwogICAgfQogICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICcnOwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCBleGFtID0gZG9jLmRhdGEoKTsKICAgICAgLy8g4pyFINin2YTZhdi52YTZhSDZitix2Ykg2YPZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqtiMINin2YTYt9in2YTYqCDZitix2Ykg2YHZgti3INin2YTZhdiz2YXZiNitINmE2YcKICAgICAgaWYgKAogICAgICAgIHVzZXJSb2xlID09PSAidGVhY2hlciIgfHwKICAgICAgICAhZXhhbS5hbGxvd2VkU3R1ZGVudHMgfHwKICAgICAgICBleGFtLmFsbG93ZWRTdHVkZW50cy5sZW5ndGggPT09IDAgfHwKICAgICAgICAoY3VycmVudFVzZXIgJiYgZXhhbS5hbGxvd2VkU3R1ZGVudHMuaW5jbHVkZXMoY3VycmVudFVzZXIudWlkKSkKICAgICAgKSB7CiAgICAgICAgZXhhbXNHcmlkLmFwcGVuZENoaWxkKGNyZWF0ZUV4YW1DYXJkKGV4YW0sIGRvYy5pZCkpOwogICAgICB9CiAgICB9KTsKICAgIC8vINil2LDYpyDZhNmFINmK2LjZh9ixINij2Yog2KfYrtiq2KjYp9ixCiAgICBpZiAoIWV4YW1zR3JpZC5oYXNDaGlsZE5vZGVzKCkpIHsKICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYqtin2K3YqSDZhNmDINit2KfZhNmK2KfZiy48L3A+IjsKICAgIH0KICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqOiAiICsgZXJyb3IubWVzc2FnZSArICI8L3A+IjsKICB9KTsKfQpmdW5jdGlvbiBwcm9jZXNzU2VsZlRlc3RRdWVzdGlvbnMoXzB4MzMxMjAyKSB7CiAgY29uc3QgXzB4M2MwN2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGZUZXN0UXVlc3Rpb25zQ29udGFpbmVyJyk7CiAgXzB4M2MwN2RlLmlubmVySFRNTCA9ICcnOwogIF8weDMzMTIwMi5mb3JFYWNoKChfMHgxNzgwMjIsIF8weDMxZTcyYykgPT4gewogICAgY29uc3QgXzB4YTg4YzgyID0gRGF0ZS5ub3coKSArIF8weDMxZTcyYzsKICAgIGNvbnN0IF8weDFiODQyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgXzB4MWI4NDJkLmNsYXNzTmFtZSA9ICJxdWVzdGlvbi1jb250YWluZXIiOwogICAgXzB4MWI4NDJkLmlkID0gJ3F1ZXN0aW9uLScgKyBfMHhhODhjODI7CiAgICBfMHgxYjg0MmQuaW5uZXJIVE1MID0gYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2YbYtSDYp9mE2LPYpNin2YQ8L2xhYmVsPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgcXVlc3Rpb24tdGV4dCIgdmFsdWU9IiR7XzB4MTc4MDIyLtin2YTYs9ik2KfZhCB8fCAnJ30iIHJlcXVpcmVkPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtix2KfYqNi3INin2YTYtdmI2LHYqSAo2KfYrtiq2YrYp9ix2YopPC9sYWJlbD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLWltYWdlLXVybCIgdmFsdWU9IiR7XzB4MTc4MDIyWyfYsdin2KjYtyDYp9mE2LXZiNix2KknXSB8fCAnJ30iIHBsYWNlaG9sZGVyPSLYo9iv2K7ZhCDYsdin2KjYtyDYp9mE2LXZiNix2KkgKNin2K7YqtmK2KfYsdmKKSI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2K7Zitin2LHYp9iqINin2YTYpdis2KfYqNipPC9sYWJlbD4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9Im9wdGlvbnMtJHtfMHhhODhjODJ9Ij4KICAgICAgICAgICAgICAgICAgICAke1sxLCAyLCAzLCA0XS5tYXAoXzB4NDczMThkID0+IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJjb3JyZWN0LSR7XzB4YTg4YzgyfSIgdmFsdWU9IiR7XzB4NDczMThkIC0gMX0iICR7XzB4MTc4MDIyWyLYp9mE2KXYrNin2KjYqSDYp9mE2LXYrdmK2K3YqSJdID09IF8weDQ3MzE4ZCA/ICJjaGVja2VkIiA6ICcnfSByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIG9wdGlvbi10ZXh0IiB2YWx1ZT0iJHtfMHgxNzgwMjJbItin2YTYrtmK2KfYsSAiICsgXzB4NDczMThkXSB8fCAnJ30iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICBgKS5qb2luKCcnKX0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICBgOwogICAgXzB4M2MwN2RlLmFwcGVuZENoaWxkKF8weDFiODQyZCk7CiAgfSk7CiAgYWxlcnQoItiq2YUg2KrYrdmF2YrZhCDYp9mE2KPYs9im2YTYqSDYqNmG2KzYp9itISIpOwp9Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmV4dFNlbGZUZXN0UXVlc3Rpb25CdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICBpZiAoY3VycmVudFF1ZXN0aW9uSW5kZXggPCBjdXJyZW50RXhhbS5xdWVzdGlvbnMubGVuZ3RoIC0gMHgxKSB7CiAgICBjdXJyZW50UXVlc3Rpb25JbmRleCsrOwogICAgbG9hZFNlbGZUZXN0UXVlc3Rpb24oY3VycmVudFF1ZXN0aW9uSW5kZXgpOwogIH0KfSk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gc2hvd0xlc3NvblZpZGVvTW9kYWwodXJsKSB7CiAgICBsZXQgZW1iZWQgPSAiIjsKICAgIC8vINiv2LnZhSBHb29nbGUgRHJpdmUg2YHZitiv2YrZiAogaWYgKHVybC5pbmNsdWRlcygiZHJpdmUuZ29vZ2xlLmNvbS9maWxlL2QvIikpIHsKICAgIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKC9cL2ZpbGVcL2RcLyhbXi9dKykvKTsKICAgIGNvbnN0IGZpbGVJZCA9IG1hdGNoID8gbWF0Y2hbMV0gOiAiIjsKICAgIGNvbnN0IHByZXZpZXdVcmwgPSBmaWxlSWQgPyBgaHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8ke2ZpbGVJZH0vcHJldmlld2AgOiB1cmw7CiAgICBlbWJlZCA9IGAKICAgICAgPGRpdiBzdHlsZT0icG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtoZWlnaHQ6NDAwcHg7Ij4KICAgICAgICA8aWZyYW1lIHNyYz0iJHtwcmV2aWV3VXJsfSIgc3R5bGU9IndpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Ym9yZGVyLXJhZGl1czoxMnB4O2JvcmRlcjoycHggc29saWQgIzBhNzBmZjsiIGZyYW1lYm9yZGVyPSIwIiBhbGxvd2Z1bGxzY3JlZW4gYWxsb3c9ImF1dG9wbGF5Ij48L2lmcmFtZT4KICAgICAgICA8ZGl2IHN0eWxlPSIKICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlOwogICAgICAgICAgdG9wOjA7IHJpZ2h0OjA7CiAgICAgICAgICB3aWR0aDo2MHB4OyBoZWlnaHQ6NjBweDsKICAgICAgICAgIHotaW5kZXg6MTA7CiAgICAgICAgICBiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsMC4wMSk7CiAgICAgICAgICBjdXJzb3I6bm90LWFsbG93ZWQ7CiAgICAgICAgIj48L2Rpdj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiMwYTcwZmY7Zm9udC1zaXplOjFyZW07bWFyZ2luLXRvcDoxMHB4OyI+CiAgICAgICAg2YrZhdmD2YbZgyDZhdi02KfZh9iv2Kkg2KfZhNmB2YrYr9mK2Ygg2YXZhiBHb29nbGUgRHJpdmUg2K/Yp9iu2YQg2YfYsNinINin2YTYpdi32KfYsS4KICAgICAgPC9kaXY+CiAgICBgOwp9CgogICAgLy8g2K/YudmFINmK2YjYqtmK2YjYqCAo2KrYttmF2YrZhiBpZnJhbWUg2KrZhNmC2KfYptmKKQogICAgZWxzZSBpZiAodXJsLmluY2x1ZGVzKCJ5b3V0dWJlLmNvbSIpIHx8IHVybC5pbmNsdWRlcygieW91dHUuYmUiKSkgewogICAgICAgIGxldCB2aWRlb0lkID0gIiI7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpOwogICAgICAgICAgICBpZiAodXJsT2JqLmhvc3RuYW1lLmluY2x1ZGVzKCJ5b3V0dWJlLmNvbSIpKSB7CiAgICAgICAgICAgICAgICB2aWRlb0lkID0gdXJsT2JqLnNlYXJjaFBhcmFtcy5nZXQoInYiKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh1cmxPYmouaG9zdG5hbWUuaW5jbHVkZXMoInlvdXR1LmJlIikpIHsKICAgICAgICAgICAgICAgIHZpZGVvSWQgPSB1cmxPYmoucGF0aG5hbWUuc2xpY2UoMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgIGlmICh2aWRlb0lkKSB7CiAgICAgICAgICAgIGVtYmVkID0gYAogICAgICAgICAgICAgICAgPGlmcmFtZSBzcmM9Imh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7dmlkZW9JZH0iIHN0eWxlPSJ3aWR0aDoxMDAlO2hlaWdodDozNTBweDtib3JkZXItcmFkaXVzOjEycHg7Ym9yZGVyOjJweCBzb2xpZCAjMGE3MGZmOyIgZnJhbWVib3JkZXI9IjAiIGFsbG93ZnVsbHNjcmVlbiBhbGxvdz0iYXV0b3BsYXkiPjwvaWZyYW1lPgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0iY29sb3I6IzBhNzBmZjtmb250LXNpemU6MXJlbTttYXJnaW4tdG9wOjEwcHg7Ij4KICAgICAgICAgICAgICAgICAgICDZitmF2YPZhtmDINmF2LTYp9mH2K/YqSDYp9mE2YHZitiv2YrZiCDZhdmGIFlvdVR1YmUg2K/Yp9iu2YQg2YfYsNinINin2YTYpdi32KfYsS4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vINil2LDYpyDZhNmFINmK2KrZhSDYp9iz2KrYrtix2KfYrCBJRCDYp9iz2KrYrtiv2YUg2YXYtNi62YQg2KfZhNmB2YrYr9mK2Ygg2KfZhNi52KfYr9mKCiAgICAgICAgICAgIGVtYmVkID0gYAogICAgICAgICAgICAgICAgPHZpZGVvIGNvbnRyb2xzIHN0eWxlPSJ3aWR0aDoxMDAlO21heC13aWR0aDoxMDB2dzttYXgtaGVpZ2h0OjM1MHB4O3BvaW50ZXItZXZlbnRzOmF1dG87dXNlci1zZWxlY3Q6bm9uZTtib3JkZXItcmFkaXVzOjEycHg7YmFja2dyb3VuZDojMDAwOyIKICAgICAgICAgICAgICAgICAgICBvbmNvbnRleHRtZW51PSJyZXR1cm4gZmFsc2UiCiAgICAgICAgICAgICAgICAgICAgY29udHJvbHNMaXN0PSJub2Rvd25sb2FkIG5vcmVtb3RlcGxheWJhY2sgbm9mdWxsc2NyZWVuIgogICAgICAgICAgICAgICAgICAgIGRpc2FibGVQaWN0dXJlSW5QaWN0dXJlCiAgICAgICAgICAgICAgICAgICAgcGxheXNpbmxpbmUKICAgICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz0iJHt1cmx9Ij4KICAgICAgICAgICAgICAgICAgICDZhdiq2LXZgdit2YMg2YTYpyDZitiv2LnZhSDYqti02LrZitmEINmH2LDYpyDYp9mE2YHZitiv2YrZiC4KICAgICAgICAgICAgICAgIDwvdmlkZW8+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjojZDAwO2ZvbnQtc2l6ZTowLjk1cmVtO21hcmdpbi10b3A6MTBweDsiPgogICAgICAgICAgICAgICAgICAgINmE2Kcg2YrZhdmD2YbZgyDYqtmG2LLZitmEINin2YTZgdmK2K/ZitmIINij2Ygg2K3Zgdi42Ycg2YXZhiDZh9mG2KcuCiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKICAgICAgICB9CiAgICB9CiAgICAvLyDYr9i52YUg2YHZitiv2YrZiNmH2KfYqiDZhdio2KfYtNix2KkgKG1wNC93ZWJtL29nZy9tb3YvbTN1OC9ibG9iKQogICAgZWxzZSBpZiAoCiAgICAgICAgdXJsLm1hdGNoKC9cLihtcDR8d2VibXxvZ2d8bW92fG0zdTgpKFw/fCQpL2kpIHx8CiAgICAgICAgdXJsLnN0YXJ0c1dpdGgoImJsb2I6IikKICAgICkgewogICAgICAgIGVtYmVkID0gYAogICAgICAgICAgICA8dmlkZW8gY29udHJvbHMgc3R5bGU9IndpZHRoOjEwMCU7bWF4LXdpZHRoOjEwMHZ3O21heC1oZWlnaHQ6MzUwcHg7cG9pbnRlci1ldmVudHM6YXV0bzt1c2VyLXNlbGVjdDpub25lO2JvcmRlci1yYWRpdXM6MTJweDtiYWNrZ3JvdW5kOiMwMDA7IgogICAgICAgICAgICAgICAgb25jb250ZXh0bWVudT0icmV0dXJuIGZhbHNlIgogICAgICAgICAgICAgICAgY29udHJvbHNMaXN0PSJub2Rvd25sb2FkIG5vcmVtb3RlcGxheWJhY2sgbm9mdWxsc2NyZWVuIgogICAgICAgICAgICAgICAgZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUKICAgICAgICAgICAgICAgIHBsYXlzaW5saW5lCiAgICAgICAgICAgID4KICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPSIke3VybH0iPgogICAgICAgICAgICAgICAg2YXYqti12YHYrdmDINmE2Kcg2YrYr9i52YUg2KrYtNi62YrZhCDZh9iw2Kcg2KfZhNmB2YrYr9mK2YguCiAgICAgICAgICAgIDwvdmlkZW8+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9ImNvbG9yOiNkMDA7Zm9udC1zaXplOjAuOTVyZW07bWFyZ2luLXRvcDoxMHB4OyI+CiAgICAgICAgICAgICAgICDZhNinINmK2YXZg9mG2YMg2KrZhtiy2YrZhCDYp9mE2YHZitiv2YrZiCDYo9mIINit2YHYuNmHINmF2YYg2YfZhtinLgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICBgOwogICAgfQogICAgLy8g2KPZiiDYsdin2KjYtyDYtdmB2K3YqTog2KfYudix2LYg2KfZhNi12YHYrdipINmG2YHYs9mH2Kcg2K/Yp9iu2YQgaWZyYW1lCiAgICBlbHNlIHsKICAgICAgICBlbWJlZCA9IGAKICAgICAgICAgICAgPGlmcmFtZSBzcmM9IiR7dXJsfSIgc3R5bGU9IndpZHRoOjEwMCU7aGVpZ2h0OjQwMHB4O2JvcmRlci1yYWRpdXM6MTJweDtib3JkZXI6MnB4IHNvbGlkICMwYTcwZmY7IiBmcmFtZWJvcmRlcj0iMCIgYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJjb2xvcjojMGE3MGZmO2ZvbnQtc2l6ZToxcmVtO21hcmdpbi10b3A6MTBweDsiPgogICAgICAgICAgICAgICAg2YrZhdmD2YbZgyDYqti12YHYrSDYp9mE2LXZgdit2Kkg2KPZiCDYp9mE2YHZitiv2YrZiCDYr9in2K7ZhCDZh9iw2Kcg2KfZhNil2LfYp9ixLgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICBgOwogICAgfQogICAgCiAgICBzaG93TGVzc29uTW9kYWwoZW1iZWQpOwoKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxlc3Nvbk1vZGFsIik7CiAgICAgICAgaWYgKG1vZGFsKSB7CiAgICAgICAgICAgIG1vZGFsLm9uY29udGV4dG1lbnUgPSAoKSA9PiBmYWxzZTsKICAgICAgICAgICAgbW9kYWwub25jb3B5ID0gKCkgPT4gZmFsc2U7CiAgICAgICAgICAgIG1vZGFsLm9uY3V0ID0gKCkgPT4gZmFsc2U7CiAgICAgICAgICAgIG1vZGFsLm9ucGFzdGUgPSAoKSA9PiBmYWxzZTsKICAgICAgICAgICAgbW9kYWwub25zZWxlY3RzdGFydCA9ICgpID0+IGZhbHNlOwogICAgICAgIH0KICAgIH0sIDEwMCk7Cn0KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgpmdW5jdGlvbiBzaG93TGVzc29uRmlsZU1vZGFsKHVybCkgewogICAgc2hvd0xlc3Nvbk1vZGFsKGA8aWZyYW1lIHNyYz0iJHt1cmx9IiBzdHlsZT0id2lkdGg6MTAwJTtoZWlnaHQ6NDAwcHg7IiBmcmFtZWJvcmRlcj0iMCI+PC9pZnJhbWU+YCk7Cn0Kc2V0VGltZW91dCgoKSA9PiB7CiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGVzc29uTW9kYWwiKTsKICBpZiAobW9kYWwpIHsKICAgIG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoImlmcmFtZSwgdmlkZW8iKS5mb3JFYWNoKGVsID0+IHsKICAgICAgZWwub25jb250ZXh0bWVudSA9ICgpID0+IGZhbHNlOwogICAgfSk7CiAgfQp9LCAxMDApOwpmdW5jdGlvbiBzaG93TGVzc29uTW9kYWwoY29udGVudCkgewogICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGVzc29uTW9kYWwiKTsKICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGVzc29uTW9kYWxCb2R5Iik7CiAgICBib2R5LmlubmVySFRNTCA9IGNvbnRlbnQ7CgogICAgLy8g2LLYsSDYpdi62YTYp9mCINij2K3ZhdixINmI2KzZhdmK2YQKbGV0IGNsb3NlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsb3NlTGVzc29uTW9kYWxCdG4iKTsKaWYgKCFjbG9zZUJ0bikgewogICAgY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgIGNsb3NlQnRuLmlkID0gImNsb3NlTGVzc29uTW9kYWxCdG4iOwogICAgY2xvc2VCdG4uaW5uZXJIVE1MID0gJzxpIGNsYXNzPSJmYXMgZmEtdGltZXMiPjwvaT4g2KXYutmE2KfZgic7CiAgICBjbG9zZUJ0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1kYW5nZXIiOwogICAgY2xvc2VCdG4uc3R5bGUuY3NzVGV4dCA9ICJwb3NpdGlvbjo7dG9wOjE4cHg7bGVmdDoxOHB4O2ZvbnQtc2l6ZToxLjFyZW07cGFkZGluZzo4cHggMjJweDt6LWluZGV4OjEwOyI7CiAgICBjbG9zZUJ0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgYm9keS5pbm5lckhUTUwgPSAiIjsKICAgIH07CiAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCIubW9kYWwtY29udGVudCIpLnByZXBlbmQoY2xvc2VCdG4pOwp9IGVsc2UgewogICAgY2xvc2VCdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwp9CgogICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gc3RhcnRTZWxmVGVzdChzZWxmVGVzdCwgc2VsZlRlc3RJZCkgewogICAgLy8g2KfZhNiq2K3Zg9mFINmB2Yog2KfZhNiv2K7ZiNmEINi52KjYsSBhbGxvd2VkU3R1ZGVudHMg2KPZiCBhbGxvd2VkU2VsZlRlc3RzINij2Ygg2YXZhti02KYg2KfZhNmI2KfYrNioINmB2YLYtwogICAgbGV0IGlzQWxsb3dlZCA9IGZhbHNlOwogICAgY29uc3QgaXNPd25lciA9IGN1cnJlbnRVc2VyICYmIHNlbGZUZXN0LnVzZXJJZCA9PT0gY3VycmVudFVzZXIudWlkOwoKICAgIGlmIChBcnJheS5pc0FycmF5KHNlbGZUZXN0LmFsbG93ZWRTdHVkZW50cykgJiYgc2VsZlRlc3QuYWxsb3dlZFN0dWRlbnRzLmxlbmd0aCA+IDApIHsKICAgICAgICBpc0FsbG93ZWQgPSAoY3VycmVudFVzZXIgJiYgc2VsZlRlc3QuYWxsb3dlZFN0dWRlbnRzLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnVpZCkpIHx8IGlzT3duZXI7CiAgICB9IGVsc2UgewogICAgICAgIC8vINil2LDYpyDZhNmFINmK2KrZhSDYqtit2K/ZitivIGFsbG93ZWRTdHVkZW50cyDYo9mIINmD2KfZhtiqINmB2KfYsdi62Kk6CiAgICAgICAgLy8g2KfZhNiz2YXYp9itINmB2YLYtyDZhNmF2YYg2YTYr9mK2Ycg2KfZhNmI2KfYrNioINmB2YogYWxsb3dlZFNlbGZUZXN0cyDYo9mIINmF2YbYtNimINin2YTZiNin2KzYqAogICAgICAgIGlzQWxsb3dlZCA9IChjdXJyZW50VXNlckRhdGE/LmFsbG93ZWRTZWxmVGVzdHMgJiYgY3VycmVudFVzZXJEYXRhLmFsbG93ZWRTZWxmVGVzdHMuaW5jbHVkZXMoc2VsZlRlc3RJZCkpIHx8IGlzT3duZXI7CiAgICB9CgogICAgaWYgKCFpc0FsbG93ZWQpIHsKICAgIHNob3dBY2Nlc3NEZW5pZWRNb2RhbCgpOwogICAgcmV0dXJuOwp9CgogICAgY3VycmVudEV4YW0gPSB7IC4uLnNlbGZUZXN0LCBpZDogc2VsZlRlc3RJZCB9OwogICAgY3VycmVudFF1ZXN0aW9uSW5kZXggPSAwOwogICAgdXNlckFuc3dlcnMgPSB7fTsKICAgIHNob3dQYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFBhZ2UiKSk7CiAgICBsb2FkU2VsZlRlc3RRdWVzdGlvbihjdXJyZW50UXVlc3Rpb25JbmRleCk7Cn0KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KXYrtmB2KfYoSDZgtiz2YUg2K/Ysdis2KfYqiDYp9iu2KrYqNixINmG2YHYs9mDINmF2YYg2KfZhNmC2KfYptmF2Kkg2KfZhNis2KfZhtio2YrYqSDZiNmF2YYg2KfZhNi12YHYrdipINmE2YTYt9in2YTYqAovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYp9is2LnZhCDYp9iz2YUg2KfZhNi32KfZhNioINmB2Yog2KfZhNmH2YrYr9ixINmK2LjZh9ixINio2LTZg9mEINin2K3Yqtix2KfZgdmKINmF2Lkg2KPZitmC2YjZhtipINmI2LXZitin2LrYqSDZhNi32YrZgdipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydEZyb21RdWVzdGlvbkJhbmtTZWxmVGVzdEJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICB3aW5kb3cuX2ltcG9ydFRhcmdldENvbnRhaW5lcklkID0gInNlbGZUZXN0UXVlc3Rpb25zQ29udGFpbmVyIjsKICBsb2FkUXVlc3Rpb25CYW5rQ2F0ZWdvcmllc1RyZWUoIiIsICJpbXBvcnRCYW5rQ2F0ZWdvcnkiKTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1wb3J0UXVlc3Rpb25zTW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIGxvYWRJbXBvcnRRdWVzdGlvbnNMaXN0KCk7Cn07CgpmdW5jdGlvbiBzZXR1cEF1dGhlbnRpY2F0ZWRVSSgpIHsKICBhdXRoU2NyZWVucy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIGFwcENvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgYXV0aEJ1dHRvbnMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB1c2VyTWVudS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgLy8g2KfYs9mFINin2YTZhdiz2KrYrtiv2YUg2KjYtNmD2YQg2KfYrdiq2LHYp9mB2YoKICBsZXQgZGlzcGxheU5hbWUgPSBjdXJyZW50VXNlckRhdGE/LlsibmFtZSJdIHx8IGN1cnJlbnRVc2VyLmVtYWlsOwogIHVzZXJOYW1lLmlubmVySFRNTCA9IGA8aSBjbGFzcz0iZmFzIGZhLXVzZXItZ3JhZHVhdGUiIHN0eWxlPSJjb2xvcjojZmZmZmZmO21hcmdpbi1sZWZ0OjdweDsiPjwvaT4g2YXYsdit2KjYp9mL2IwgPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6I2ZmZmZmZjsiPiR7ZGlzcGxheU5hbWV9PC9zcGFuPmA7CgogIC8vINil2LjZh9in2LEg2KPZiCDYpdiu2YHYp9ihINi52YbYp9i12LEg2KfZhNmC2KfYptmF2Kkg2K3Ys9ioINin2YTYr9mI2LEKICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgbWVudUNyZWF0ZUV4YW0uc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICBtZW51Q3JlYXRlU2xpZGUuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICBtZW51U3R1ZGVudHMuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICBtZW51TWFuYWdlU2VsZlRlc3Quc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVhY2hlckRhc2hib2FyZCIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlYWNoZXJHcmFkZXNWaWV3Iikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudEdyYWRlc1ZpZXciKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTZWxmVGVzdFJlc3VsdHMiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFJlc3VsdHNQYWdlIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIC8vINil2LjZh9in2LEg2LLYsSDYqNmG2YMg2KfZhNij2LPYptmE2Kkg2YTZhNmF2LnZhNmFINmB2YLYtwogICAgY29uc3QgbGlRdWVzdGlvbkJhbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGlRdWVzdGlvbkJhbmsiKTsKICAgIGlmIChsaVF1ZXN0aW9uQmFuaykgbGlRdWVzdGlvbkJhbmsuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAvLyDYpdi42YfYp9ixINiy2LEg2KXYrdi12KfYptmK2KfYqiDYp9mE2LfZhNin2Kgg2YTZhNmF2LnZhNmFINmB2YLYtwogICAgY29uc3QgbWVudVN0dWRlbnRzU3RhdGlzdGljc0xpID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTdHVkZW50c1N0YXRpc3RpY3NMaSIpOwogICAgaWYgKG1lbnVTdHVkZW50c1N0YXRpc3RpY3NMaSkgbWVudVN0dWRlbnRzU3RhdGlzdGljc0xpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogIH0gZWxzZSB7CiAgICBtZW51Q3JlYXRlRXhhbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgbWVudUNyZWF0ZVNsaWRlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBtZW51U3R1ZGVudHMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIG1lbnVNYW5hZ2VTZWxmVGVzdC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlYWNoZXJEYXNoYm9hcmQiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlYWNoZXJHcmFkZXNWaWV3Iikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50R3JhZGVzVmlldyIpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTZWxmVGVzdFJlc3VsdHMiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0UmVzdWx0c1BhZ2UiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudUNoYXQiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCiAgICAvLyDYpdiu2YHYp9ihINiy2LEg2KjZhtmDINin2YTYo9iz2KbZhNipINmE2YTYt9in2YTYqAogICAgY29uc3QgbGlRdWVzdGlvbkJhbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGlRdWVzdGlvbkJhbmsiKTsKICAgIGlmIChsaVF1ZXN0aW9uQmFuaykgbGlRdWVzdGlvbkJhbmsuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIC8vINil2K7Zgdin2KEg2LLYsSDYpdit2LXYp9im2YrYp9iqINin2YTYt9mE2KfYqCDZhNmE2LfYp9mE2KgKICAgIGNvbnN0IG1lbnVTdHVkZW50c1N0YXRpc3RpY3NMaSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51U3R1ZGVudHNTdGF0aXN0aWNzTGkiKTsKICAgIGlmIChtZW51U3R1ZGVudHNTdGF0aXN0aWNzTGkpIG1lbnVTdHVkZW50c1N0YXRpc3RpY3NMaS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0KCiAgLy8g2KrYrdiv2YrYqyBsYXN0QWN0aXZlINi52YbYryDYp9mE2K/YrtmI2YQg2YXYqNin2LTYsdipCiAgaWYgKGN1cnJlbnRVc2VyICYmIHVzZXJSb2xlID09PSAic3R1ZGVudCIpIHsKICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkudXBkYXRlKHsKICAgICAgbGFzdEFjdGl2ZTogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgIH0pOwoKICAgIC8vINiq2K3Yr9mK2Ksg2YPZhCDYr9mC2YrZgtipINij2KvZhtin2KEg2KfZhNiq2LXZgditCiAgICBpZiAod2luZG93Ll9sYXN0QWN0aXZlSW50ZXJ2YWwpIGNsZWFySW50ZXJ2YWwod2luZG93Ll9sYXN0QWN0aXZlSW50ZXJ2YWwpOwogICAgd2luZG93Ll9sYXN0QWN0aXZlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkudXBkYXRlKHsKICAgICAgICBsYXN0QWN0aXZlOiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogICAgICB9KTsKICAgIH0sIDYwMDAwKTsKCiAgICAvLyDYudmG2K8g2KXYutmE2KfZgiDYp9mE2LXZgdit2Kkg2KPZiCDYp9mE2KrYqNmI2YrYqAogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImJlZm9yZXVubG9hZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2MoY3VycmVudFVzZXIudWlkKS51cGRhdGUoewogICAgICAgIGxhc3RBY3RpdmU6IG5ldyBEYXRlKDIwMDAsIDAsIDEpCiAgICAgIH0pOwogICAgICBjbGVhckludGVydmFsKHdpbmRvdy5fbGFzdEFjdGl2ZUludGVydmFsKTsKICAgIH0pOwogIH0KCiAgaWYgKHVzZXJSb2xlID09PSAidGVhY2hlciIpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51U3R1ZGVudHNTdGF0aXN0aWNzTGkiKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICB9IGVsc2UgewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVTdHVkZW50c1N0YXRpc3RpY3NMaSIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfQogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVEYXNoYm9hcmQpOwogIHNob3dOb3RpZmljYXRpb25NZW51Rm9yVGVhY2hlcigpOwogIGxpc3RlbkZvclN0dWRlbnROb3RpZmljYXRpb25zKCk7CiAgbGlzdGVuRm9yQWNjb3VudERlbGV0ZSgpOwogIGxpc3RlbkZvclN0dWRlbnRMb2NrKCk7Cn0KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2K/Yp9mE2Kkg2KXYuNmH2KfYsSDYstixICLYpdix2LPYp9mEINil2LTYudin2LEiINmE2YTZhdi52YTZhSDZgdmC2LcKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCm1lbnVNYW5hZ2VTZWxmVGVzdC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIF8weDI5MDE4YiA9PiB7CiAgXzB4MjkwMThiLnByZXZlbnREZWZhdWx0KCk7CiAgc2V0QWN0aXZlTWVudUl0ZW0obWVudU1hbmFnZVNlbGZUZXN0KTsKICBzaG93UGFnZShtYW5hZ2VTZWxmVGVzdFBhZ2UpOwp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKZnVuY3Rpb24gc2hvd0F1dGhGb3JtKGZvcm1UeXBlKSB7CiAgY29uc3QgYWJvdXRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fib3V0U2VjdGlvbicpOwogIGlmIChmb3JtVHlwZSA9PT0gImxvZ2luIikgewogICAgbG9naW5Gb3JtLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgcmVnaXN0ZXJGb3JtLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBpZiAoYWJvdXRTZWN0aW9uKSBhYm91dFNlY3Rpb24uc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgfSBlbHNlIHsKICAgIGxvZ2luRm9ybS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgcmVnaXN0ZXJGb3JtLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgaWYgKGFib3V0U2VjdGlvbikgYWJvdXRTZWN0aW9uLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfQp9CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINin2KzYudmEINiy2LEgItin2YTYsdim2YrYs9mK2KkiINmB2Yog2KfZhNmC2KfYptmF2Kkg2KfZhNmF2YbYs9iv2YTYqSDZhNinINmK2LnZhdmEIHJlbG9hZCDYqNmEINmK2K3ZiNmEINmE2YTYsdim2YrYs9mK2Kkg2YHZgti3CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWxvYWRIb21lQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihlKSB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVEYXNoYm9hcmQpOwogIHNob3dQYWdlKGRhc2hib2FyZFBhZ2UpOwogIGxvYWREYXNoYm9hcmQoKTsgLy8g2KXYsNinINmD2YbYqiDYqtix2YrYryDYqtit2K/ZitirINio2YrYp9mG2KfYqiDYp9mE2LHYptmK2LPZitipINmB2YLYtwp9KTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gc2hvd1BhZ2UocGFnZUVsZW1lbnQpIHsKICAgIGNvbnN0IGFsbFBhZ2VzID0gWwogICAgICAgIGRhc2hib2FyZFBhZ2UsIGV4YW1zUGFnZSwgY3JlYXRlRXhhbVBhZ2UsIGNyZWF0ZVNsaWRlUGFnZSwgdGFrZUV4YW1QYWdlLAogICAgICAgIHJlc3VsdHNQYWdlLCBncmFkZXNQYWdlLCBzdHVkZW50c1BhZ2UsIHByb2ZpbGVQYWdlLCBtYW5hZ2VTZWxmVGVzdFBhZ2UsIHNlbGZUZXN0UGFnZSwKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RSZXN1bHRzUGFnZSIpLAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtQYWdlIiksCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnRzU3RhdGlzdGljc1BhZ2UiKSwKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVhY2hlckRhc2hib2FyZCIpLAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0UGFnZSIpIC8vINij2LbZgSDZh9iw2Kcg2KfZhNiz2LfYsSDZh9mG2KcKICAgIF07CiAgICBhbGxQYWdlcy5mb3JFYWNoKHAgPT4gcCAmJiAocC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiKSk7CiAgICBwYWdlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgIGlmICh0YWtlRXhhbVBhZ2UgJiYgdGFrZUV4YW1QYWdlLnN0eWxlLmRpc3BsYXkgPT09ICJibG9jayIgJiYgcGFnZUVsZW1lbnQgIT09IHRha2VFeGFtUGFnZSkgewogICAgICAgIGlmICh0aW1lckludGVydmFsKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXJJbnRlcnZhbCk7CiAgICAgICAgICAgIHRpbWVySW50ZXJ2YWwgPSBudWxsOwogICAgICAgIH0KICAgIH0KICAgIC8vINil2LDYpyDYp9mG2KrZgtmE2Kog2YXZhiDYtdmB2K3YqSDYr9ix2KzYp9iqINin2K7Yqtio2LEg2YbZgdiz2YMg2KXZhNmJINi12YHYrdipINij2K7YsdmJ2Iwg2KPYrtmB2ZAg2LXZgdit2Kkg2KfZhNiv2LHYrNin2KoKICAgIGlmICgKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RSZXN1bHRzUGFnZSIpICYmCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0UmVzdWx0c1BhZ2UiKS5zdHlsZS5kaXNwbGF5ID09PSAiYmxvY2siICYmCiAgICAgICAgcGFnZUVsZW1lbnQgIT09IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFJlc3VsdHNQYWdlIikKICAgICkgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFJlc3VsdHNQYWdlIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KCiAgICAvLyDYpdiw2Kcg2KfZhtiq2YLZhNiqINmF2YYgc2VsZlRlc3RQYWdlINil2YTZiSDYtdmB2K3YqSDYo9iu2LHZidiMINij2LnYryDYqti52YrZitmGINio2YrYp9mG2KfYqiDYp9iu2KrYqNixINmG2YHYs9mDCiAgICBpZiAoc2VsZlRlc3RQYWdlICYmIHNlbGZUZXN0UGFnZS5zdHlsZS5kaXNwbGF5ID09PSAiYmxvY2siICYmIHBhZ2VFbGVtZW50ICE9PSBzZWxmVGVzdFBhZ2UpIHsKICAgICAgICBzZWxmVGVzdFBhZ2Uuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBjdXJyZW50RXhhbSA9IG51bGw7CiAgICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXggPSAwOwogICAgICAgIHVzZXJBbnN3ZXJzID0ge307CiAgICAgICAgY29uc3Qgc2VsZlRlc3RSZXN1bHRNb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFJlc3VsdE1vZGFsIik7CiAgICAgICAgaWYgKHNlbGZUZXN0UmVzdWx0TW9kYWwpIHNlbGZUZXN0UmVzdWx0TW9kYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KCiAgICAvLyDYpdiw2Kcg2KfZhtiq2YLZhNiqINmF2YYg2KjZhtmDINin2YTYo9iz2KbZhNipINil2YTZiSDYtdmB2K3YqSDYo9iu2LHZidiMINij2K7ZgdmQINio2YbZgyDYp9mE2KPYs9im2YTYqQogICAgaWYgKAogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtQYWdlIikgJiYKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rUGFnZSIpLnN0eWxlLmRpc3BsYXkgPT09ICJibG9jayIgJiYKICAgICAgICBwYWdlRWxlbWVudCAhPT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua1BhZ2UiKQogICAgKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua1BhZ2UiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfQoKICAgIHBhZ2VFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwp9CmZ1bmN0aW9uIHNldHVwVW5hdXRoZW50aWNhdGVkVUkoKSB7CiAgYXV0aFNjcmVlbnMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgYXBwQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIGF1dGhCdXR0b25zLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIHVzZXJNZW51LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgc2hvd0F1dGhGb3JtKCJsb2dpbiIpOwp9CmZ1bmN0aW9uIHNob3dBdXRoRm9ybShfMHg1OGFhMzEpIHsKICBpZiAoXzB4NThhYTMxID09PSAibG9naW4iKSB7CiAgICBsb2dpbkZvcm0uc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICByZWdpc3RlckZvcm0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9IGVsc2UgewogICAgbG9naW5Gb3JtLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICByZWdpc3RlckZvcm0uc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgfQp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINin2KzYudmEINiy2LEg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2YTYpyDZiti52YXZhCByZWxvYWQg2KjZhCDZiti42YfYsSDZhtmF2YjYsNisINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEINmB2YLYtwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5CdG4nKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKICBlLnByZXZlbnREZWZhdWx0KCk7IC8vINmF2YbYuSDYpdi52KfYr9ipINiq2K3ZhdmK2YQg2KfZhNi12YHYrdipCiAgc2hvd0F1dGhGb3JtKCdsb2dpbicpOwogIC8vINiq2YXYsdmK2LEg2KfZhNi12YHYrdipINil2YTZiSDZhtmF2YjYsNisINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEINil2LDYpyDYo9ix2K/YqjoKICBjb25zdCBsb2dpbkZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5Gb3JtJyk7CiAgaWYgKGxvZ2luRm9ybSkgewogICAgbG9naW5Gb3JtLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICJzbW9vdGgiLCBibG9jazogImNlbnRlciIgfSk7CiAgfQp9KTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2LnYr9mEINiv2KfZhNipIGxvYWRTdHVkZW50c0ZvckV4YW0g2YTZiti42YfYsSDYrdiz2KfYqCDYp9mE2YXYudmE2YUg2KPZiti22KfZiyDZgdmKINmC2KfYptmF2Kkg2KfZhNi32YTYp9ioINin2YTZhdiz2YXZiNitINmE2YfZhQpmdW5jdGlvbiBsb2FkU3R1ZGVudHNGb3JFeGFtKCkgewogIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGxvd2VkU3R1ZGVudHMiKTsKICBzZWxlY3QuaW5uZXJIVE1MID0gIjxvcHRpb24gdmFsdWU9XCJcIj7YrNin2LHZiiDYqtit2YXZitmEINin2YTYt9mE2KfYqC4uLjwvb3B0aW9uPiI7CiAgLy8g2KzZhNioINis2YXZiti5INin2YTYt9mE2KfYqCDZiNin2YTZhdi52YTZhdmK2YYKICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLndoZXJlKCJyb2xlIiwgImluIiwgWyJzdHVkZW50IiwgInRlYWNoZXIiXSkuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICBzZWxlY3QuaW5uZXJIVE1MID0gJyc7CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNvbnN0IHVzZXIgPSBkb2MuZGF0YSgpOwogICAgICBzZWxlY3QuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPSIke2RvYy5pZH0iPiR7dXNlci5uYW1lfSAoJHt1c2VyLmVtYWlsfSkke3VzZXIucm9sZSA9PT0gInRlYWNoZXIiID8gIiAtINmF2LnZhNmFIiA6ICIifTwvb3B0aW9uPmA7CiAgICB9KTsKICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICBzZWxlY3QuaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9IiI+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNi32YTYp9ioOiAke2Vycm9yLm1lc3NhZ2V9PC9vcHRpb24+YDsKICB9KTsKfQptZW51Q3JlYXRlRXhhbS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIF8weDNmYzZkMSA9PiB7CiAgXzB4M2ZjNmQxLnByZXZlbnREZWZhdWx0KCk7CiAgaWYgKHVzZXJSb2xlICE9PSAidGVhY2hlciIpIHsKICAgIGFsZXJ0KCLYudiw2LHZi9in2Iwg2YHZgti3INin2YTZhdi52YTZhSDZitmF2YPZhtmHINil2YbYtNin2KEg2KfZhNin2K7Yqtio2KfYsdin2KouIik7CiAgICByZXR1cm47CiAgfQogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVDcmVhdGVFeGFtKTsKICBzaG93UGFnZShjcmVhdGVFeGFtUGFnZSk7Cn0pOwoKZnVuY3Rpb24gZGVsZXRlU2xpZGUoXzB4YmE1MDAzKSB7CiAgZGIuY29sbGVjdGlvbigic2xpZGVzIikuZG9jKF8weGJhNTAwMylbImRlbGV0ZSJdKCkudGhlbigoKSA9PiB7CiAgICBzaG93VG9hc3QoItiq2YUg2K3YsNmBINin2YTYtNix2YrYrdipINio2YbYrNin2K0hIik7CiAgICBsb2FkU2xpZGVzKCk7CiAgfSlbImNhdGNoIl0oXzB4NDMzY2RiID0+IHsKICAgIHNob3dUb2FzdCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINit2LDZgSDYp9mE2LTYsdmK2K3YqTogIiArIF8weDQzM2NkYi5tZXNzYWdlLCAiZXJyb3IiKTsKICB9KTsKfQpmdW5jdGlvbiBzaG93QWNjb3VudERpc2FibGVkTW9kYWwoKSB7CiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudERpc2FibGVkTW9kYWwnKTsKICBtb2RhbC5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjQyMHB4O3RleHQtYWxpZ246Y2VudGVyOyI+CiAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MThweDsiPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdXNlci1zbGFzaCIgc3R5bGU9ImZvbnQtc2l6ZTozcmVtO2NvbG9yOiNGQzVDNjU7Ij48L2k+CiAgICAgIDwvZGl2PgogICAgICA8aDIgY2xhc3M9Im1vZGFsLXRpdGxlIiBzdHlsZT0iY29sb3I6I0ZDNUM2NTsiPvCfmqsg2K3Ys9in2Kgg2YXYudi32YQ8L2gyPgogICAgICA8cCBjbGFzcz0ibW9kYWwtbWVzc2FnZSIgc3R5bGU9ImZvbnQtc2l6ZToxLjE1cmVtO2NvbG9yOiMzMzM7bWFyZ2luLWJvdHRvbToxOHB4OyI+CiAgICAgICAg2LnYsNix2YvYp9iMINiq2YUg2KrYudi32YrZhCDYrdiz2KfYqNmDLiDZitix2KzZiSDYp9mE2KrZiNin2LXZhCDZhdi5INin2YTYpdiv2KfYsdipINmE2YTYrdi12YjZhCDYudmE2Ykg2KfZhNmF2LLZitivINmF2YYg2KfZhNiq2YHYp9i12YrZhC48YnI+CiAgICAgICAg2KXYsNinINmD2KfZhiDZhNiv2YrZgyDYo9mKINin2LPYqtmB2LPYp9ixINij2Ygg2KrYsdi62Kgg2YHZiiDYp9mE2KrZiNin2LXZhCDZhdi5INin2YTYpdiv2KfYsdip2Iwg2KfYtti62Lcg2KfZhNiy2LEg2KjYp9mE2KPYs9mB2YQuCiAgICAgIDwvcD4KICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93YS5tZS8yMDEwNjA5MTEwOTMiIHRhcmdldD0iX2JsYW5rIiBpZD0id2hhdHNhcHBDb250YWN0QnRuIgogICAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZDojMjVkMzY2O2NvbG9yOiNmZmY7Zm9udC1zaXplOjEuMnJlbTtwYWRkaW5nOjEycHggMzJweDtib3JkZXItcmFkaXVzOjhweDt0ZXh0LWRlY29yYXRpb246bm9uZTtmb250LXdlaWdodDpib2xkO21hcmdpbi1ib3R0b206MTBweDsiPgogICAgICAgIDxpIGNsYXNzPSJmYWIgZmEtd2hhdHNhcHAiIHN0eWxlPSJtYXJnaW4tbGVmdDo4cHg7Zm9udC1zaXplOjEuNXJlbTsiPjwvaT4g2KrZiNin2LXZhCDZhdi5INin2YTYpdiv2KfYsdipINi52KjYsSDZiNin2KrYs9in2KgKICAgICAgPC9hPgogICAgICA8YnI+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSIgb25jbGljaz0iY2xvc2VBY2NvdW50RGlzYWJsZWRNb2RhbCgpIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4OyI+2KXYutmE2KfZgjwvYnV0dG9uPgogICAgPC9kaXY+CiAgYDsKICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogIHNldFRpbWVvdXQoKCkgPT4gewogICAgYXV0aC5zaWduT3V0KCk7CiAgfSwgMzAwMCk7Cn0KZnVuY3Rpb24gY2xvc2VBY2NvdW50RGlzYWJsZWRNb2RhbCgpIHsKICBjb25zdCBfMHgxZDA0OTIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWNjb3VudERpc2FibGVkTW9kYWwiKTsKICBfMHgxZDA0OTIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKfQpmdW5jdGlvbiBzaG93VG9hc3QoXzB4NDRjNDA1LCBfMHgxZDRhYjcgPSAic3VjY2VzcyIpIHsKICBjb25zdCBfMHgzY2JjMzggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9hc3RNZXNzYWdlIik7CiAgY29uc3QgXzB4MmJiMDc2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRvYXN0VGV4dCIpOwogIF8weDJiYjA3Ni50ZXh0Q29udGVudCA9IF8weDQ0YzQwNTsKICBfMHgzY2JjMzguc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXzB4MWQ0YWI3ID09PSAnc3VjY2VzcycgPyAiIzE0ZWU4OCIgOiAiI0ZDNUM2NSI7CiAgXzB4M2NiYzM4LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7CiAgc2V0VGltZW91dCgoKSA9PiB7CiAgICBfMHgzY2JjMzguc3R5bGUuYW5pbWF0aW9uID0gImZhZGVPdXQgMC41cyBlYXNlIGZvcndhcmRzIjsKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICBfMHgzY2JjMzguc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgXzB4M2NiYzM4LnN0eWxlLmFuaW1hdGlvbiA9ICJmYWRlSW4gMC41cyBlYXNlIGZvcndhcmRzIjsKICAgIH0sIDB4MWY0KTsKICB9LCAweGJiOCk7Cn0KLy8g2LnZhtivINiq2K3ZhdmK2YQg2YLYp9im2YXYqSDYp9mE2KfYrtiq2KjYp9ix2KfYqiAobG9hZFJlY2VudEV4YW1zINmIIGxvYWRBbGxFeGFtcykg2YrYrNioINij2YYg2YrYuNmH2LEg2YHZgti3INmE2YTYt9mE2KfYqCDYp9mE2YXYs9mF2YjYrSDZhNmH2YUKZnVuY3Rpb24gbG9hZFJlY2VudEV4YW1zKCkgewogICAgY29uc3QgZXhhbXNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY2VudEV4YW1zIik7CiAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2KouLi48L3A+IjsKCiAgICAvLyDYqtit2YLZgiDZhdmGINit2KfZhNipINin2YTYt9in2YTYqCDYo9mI2YTYp9mLCiAgICBpZiAodXNlclJvbGUgPT09ICJzdHVkZW50IikgewogICAgICAgIC8vINiq2K3ZgtmCINmF2YYg2KrYudi32YrZhCDYp9mE2K3Ys9in2KgKICAgICAgICBpZiAoY3VycmVudFVzZXJEYXRhICYmIGN1cnJlbnRVc2VyRGF0YS5kaXNhYmxlZCkgewogICAgICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxkaXYgc3R5bGU9J2NvbG9yOiNjMDM5MmI7Zm9udC13ZWlnaHQ6Ym9sZDtmb250LXNpemU6MS4ycmVtO3BhZGRpbmc6MjBweDsnPtiq2YUg2KrYudi32YrZhCDYrdiz2KfYqNmDINmF2YYg2YLYqNmEINin2YTZhdi52YTZhS4g2YrYsdis2Ykg2KfZhNiq2YjYp9i12YQg2YXYuSDYp9mE2YXYudmE2YUg2YTYpdi52KfYr9ipINin2YTYqtmB2LnZitmELjwvZGl2PiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8g2KrYrdmC2YIg2YXZhiDYqtit2K/ZitivINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqQogICAgICAgIGlmICghY3VycmVudFVzZXJEYXRhIHx8ICFjdXJyZW50VXNlckRhdGEueWVhcikgewogICAgICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxkaXYgc3R5bGU9J2NvbG9yOiNlNjdlMjI7Zm9udC13ZWlnaHQ6Ym9sZDtmb250LXNpemU6MS4xcmVtO3BhZGRpbmc6MjBweDsnPtmK2LHYrNmJINiq2K3Yr9mK2K8g2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipINmF2YYgPGEgaHJlZj0nIycgaWQ9J2dvVG9Qcm9maWxlTGluaycgc3R5bGU9J2NvbG9yOiMwYTcwZmY7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTsnPtin2YTZhdmE2YEg2KfZhNi02K7YtdmKPC9hPiDYo9mI2YTYp9mLINmE2LnYsdi2INin2YTYp9iu2KrYqNin2LHYp9iqINin2YTZhdmG2KfYs9io2Kkg2YTZgy48L2Rpdj4iOwogICAgICAgICAgICAvLyDYsdio2Lcg2LLYsSDYp9mE2KfZhtiq2YLYp9mEINmE2YTZhdmE2YEg2KfZhNi02K7YtdmKCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnb1RvUHJvZmlsZUxpbmsiKTsKICAgICAgICAgICAgICAgIGlmIChsaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgbGluay5vbmNsaWNrID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVQcm9maWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1BhZ2UocHJvZmlsZVBhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICBsb2FkUHJvZmlsZSgpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgZGIuY29sbGVjdGlvbigiZXhhbXMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmxpbWl0KDkwMCkuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICAgICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2KrYp9it2Kkg2K3Yp9mE2YrYp9mLPC9wPiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICcnOwogICAgICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICAgICAgY29uc3QgZXhhbSA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgIGNvbnN0IGlzT3duZXIgPSBjdXJyZW50VXNlciAmJiBleGFtLnVzZXJJZCA9PT0gY3VycmVudFVzZXIudWlkOwoKICAgICAgICAgICAgLy8g2KfZhNmF2LnZhNmFINmK2LHZiSDZg9mEINi02YrYoQogICAgICAgICAgICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgICAgICAgICAgICAgZXhhbXNHcmlkLmFwcGVuZENoaWxkKGNyZWF0ZUV4YW1DYXJkKGV4YW0sIGRvYy5pZCkpOwogICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYp9mE2LfYp9mE2Kg6INiq2K3ZgtmCINmF2YYg2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipCiAgIGlmICgKICAgICAgICAgICAgICAgIGV4YW0ueWVhciA9PT0gY3VycmVudFVzZXJEYXRhLnllYXIgJiYKICAgICAgICAgICAgICAgIGV4YW0udGVybSA9PT0gY3VycmVudFVzZXJEYXRhLnRlcm0KICAgICAgICAgICAgKSB7ICAgICAgICAgICAgICAgIC8vINiq2K3ZgtmCINmF2YYg2KfZhNi32YTYp9ioINin2YTZhdiz2YXZiNitINmE2YfZhQogICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICFleGFtLmFsbG93ZWRTdHVkZW50cyB8fAogICAgICAgICAgICAgICAgICAgIGV4YW0uYWxsb3dlZFN0dWRlbnRzLmxlbmd0aCA9PT0gMCB8fAogICAgICAgICAgICAgICAgICAgIChjdXJyZW50VXNlciAmJiBleGFtLmFsbG93ZWRTdHVkZW50cy5pbmNsdWRlcyhjdXJyZW50VXNlci51aWQpKSB8fAogICAgICAgICAgICAgICAgICAgIGlzT3duZXIKICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgIGV4YW1zR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVFeGFtQ2FyZChleGFtLCBkb2MuaWQpKTsKICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoIWZvdW5kKSB7CiAgICAgICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2KrYp9it2Kkg2YTZgyDYrdin2YTZitin2YsuPC9wPiI7CiAgICAgICAgfQogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2Ko6ICIgKyBlcnJvci5tZXNzYWdlICsgIjwvcD4iOwogICAgfSk7Cn0KZnVuY3Rpb24gbG9hZEFsbEV4YW1zKCkgewogICAgY29uc3QgZXhhbXNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFsbEV4YW1zIik7CiAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2KouLi48L3A+IjsKICAgIGRiLmNvbGxlY3Rpb24oImV4YW1zIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYqtin2K3YqSDYrdin2YTZitin2Ys8L3A+IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICBjb25zdCBleGFtID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgLy8g2KrYrdmC2YIg2YXZhiDYp9mE2YXYsdit2YTYqSDYp9mE2K/Ysdin2LPZitipCiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHVzZXJSb2xlID09PSAidGVhY2hlciIgfHwKICAgICAgICAgICAgICAgICFleGFtLnllYXIgfHwKICAgICAgICAgICAgICAgIChjdXJyZW50VXNlckRhdGEgJiYgZXhhbS55ZWFyID09PSBjdXJyZW50VXNlckRhdGEueWVhcikKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgIWV4YW0uYWxsb3dlZFN0dWRlbnRzIHx8CiAgICAgICAgICAgICAgICAgICAgZXhhbS5hbGxvd2VkU3R1ZGVudHMubGVuZ3RoID09PSAwIHx8CiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRVc2VyICYmIGV4YW0uYWxsb3dlZFN0dWRlbnRzLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnVpZCkpCiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICBleGFtc0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlRXhhbUNhcmQoZXhhbSwgZG9jLmlkKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoIWV4YW1zR3JpZC5oYXNDaGlsZE5vZGVzKCkpIHsKICAgICAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYqtin2K3YqSDZhNmDINit2KfZhNmK2KfZiy48L3A+IjsKICAgICAgICB9CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqjogIiArIGVycm9yLm1lc3NhZ2UgKyAiPC9wPiI7CiAgICB9KTsKfQoKZnVuY3Rpb24gc2hvd0V4YW1UaW1lTm90aWNlKG1lc3NhZ2UsIHR5cGUgPSAiZXJyb3IiKSB7CiAgICAvLyDYpdiw2Kcg2YPYp9mG2Kog2KfZhNix2LPYp9mE2Kkg2YXZiNis2YjYr9ipINmF2LPYqNmC2KfZi9iMINin2K3YsNmB2YfYpwogICAgY29uc3Qgb2xkTm90aWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1UaW1lTm90aWNlIik7CiAgICBpZiAob2xkTm90aWNlKSBvbGROb3RpY2UucmVtb3ZlKCk7CgogICAgY29uc3Qgbm90aWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBub3RpY2UuaWQgPSAiZXhhbVRpbWVOb3RpY2UiOwogICAgbm90aWNlLmNsYXNzTmFtZSA9IGBub3RpY2Ugbm90aWNlLSR7dHlwZX1gOwogICAgbm90aWNlLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICAgIG5vdGljZS5zdHlsZS50b3AgPSAiMzBweCI7CiAgICBub3RpY2Uuc3R5bGUucmlnaHQgPSAiMzBweCI7CiAgICBub3RpY2Uuc3R5bGUuekluZGV4ID0gIjIwMDAiOwogICAgbm90aWNlLnN0eWxlLmJhY2tncm91bmQgPSB0eXBlID09PSAiZXJyb3IiID8gIiNGQzVDNjUiIDogIiMxNGVlODgiOwogICAgbm90aWNlLnN0eWxlLmNvbG9yID0gIiNmZmYiOwogICAgbm90aWNlLnN0eWxlLnBhZGRpbmcgPSAiMThweCAzMHB4IjsKICAgIG5vdGljZS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiMTBweCI7CiAgICBub3RpY2Uuc3R5bGUuZm9udFNpemUgPSAiMS4ycmVtIjsKICAgIG5vdGljZS5zdHlsZS5mb250V2VpZ2h0ID0gImJvbGQiOwogICAgbm90aWNlLnN0eWxlLmJveFNoYWRvdyA9ICIwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4xMikiOwogICAgbm90aWNlLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICBub3RpY2Uuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgbm90aWNlLnN0eWxlLmdhcCA9ICIxMnB4IjsKICAgIG5vdGljZS5pbm5lckhUTUwgPSBgCiAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSIgc3R5bGU9ImZvbnQtc2l6ZToxLjVyZW07Ij48L2k+CiAgICAgICAgPHNwYW4+JHttZXNzYWdlfTwvc3Bhbj4KICAgICAgICA8YnV0dG9uIHN0eWxlPSJiYWNrZ3JvdW5kOm5vbmU7Ym9yZGVyOm5vbmU7Y29sb3I6I2ZmZjtmb250LXNpemU6MS41cmVtO2N1cnNvcjpwb2ludGVyO21hcmdpbi1yaWdodDoxMHB4OyIgb25jbGljaz0idGhpcy5wYXJlbnRFbGVtZW50LnJlbW92ZSgpIj4mdGltZXM7PC9idXR0b24+CiAgICBgOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub3RpY2UpOwoKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGlmIChub3RpY2UucGFyZW50RWxlbWVudCkgbm90aWNlLnJlbW92ZSgpOwogICAgfSwgNDAwMCk7Cn0KCmZ1bmN0aW9uIHNldEFjdGl2ZU1lbnVJdGVtKF8weDFhNzEzMykgewogIGNvbnN0IF8weDdiOTAyZCA9IFttZW51RGFzaGJvYXJkLCBtZW51Q3JlYXRlRXhhbSwgbWVudUNyZWF0ZVNsaWRlLCBtZW51UmVzdWx0cywgbWVudUdyYWRlcywgbWVudVN0dWRlbnRzLCBtZW51UHJvZmlsZV07CiAgXzB4N2I5MDJkLmZvckVhY2goXzB4NTJiODY3ID0+IHsKICAgIF8weDUyYjg2Ny5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTsKICB9KTsKICBfMHgxYTcxMzMuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIik7Cn0KZnVuY3Rpb24gc2hvd0F1dGhGb3JtKF8weDczOTMzYSkgewogIGNvbnN0IF8weDU5Njk1NyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhYm91dFNlY3Rpb24nKTsKICBpZiAoXzB4NzM5MzNhID09PSAibG9naW4iKSB7CiAgICBsb2dpbkZvcm0uc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICByZWdpc3RlckZvcm0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIF8weDU5Njk1Ny5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICB9IGVsc2UgewogICAgbG9naW5Gb3JtLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICByZWdpc3RlckZvcm0uc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICBfMHg1OTY5NTcuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9Cn0KZnVuY3Rpb24gY29uZmlybURlbGV0ZUV4YW0oXzB4YjA3MTI5KSB7CiAgY29uc3QgXzB4NTBjYjg0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZUV4YW1Nb2RhbCcpOwogIF8weDUwY2I4NC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIGNvbnN0IF8weDEzZjVlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtRGVsZXRlQnRuJyk7CiAgY29uc3QgXzB4MmY1MTYwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbERlbGV0ZUJ0biIpOwogIF8weDEzZjVlZC5yZXBsYWNlV2l0aChfMHgxM2Y1ZWQuY2xvbmVOb2RlKHRydWUpKTsKICBfMHgyZjUxNjAucmVwbGFjZVdpdGgoXzB4MmY1MTYwLmNsb25lTm9kZSh0cnVlKSk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1EZWxldGVCdG4nKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIF8weDUwY2I4NC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZGVsZXRlRXhhbShfMHhiMDcxMjkpOwogIH0pOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW5jZWxEZWxldGVCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIF8weDUwY2I4NC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0pOwp9CmZ1bmN0aW9uIGRlbGV0ZUV4YW0oZXhhbUlkKSB7CiAgZGIuY29sbGVjdGlvbignZXhhbXMnKS5kb2MoZXhhbUlkKS5kZWxldGUoKS50aGVuKCgpID0+IHsKICAgIHNob3dOb3RpY2UoItiq2YUg2K3YsNmBINin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogICAgLy8g2KfYrdiw2YEg2KfZhNio2LfYp9mC2Kkg2YXZhiDYp9mE2LXZgdit2Kkg2YHZiNix2YvYpyDYudio2LEg2KfZhNio2K3YqyDYudmGINin2YTYqNi32KfZgtipINin2YTYqtmKINiq2K3YqtmI2Yog2LnZhNmJINiy2LEg2KfZhNit2LDZgSDZhNmH2LDYpyDYp9mE2KfZhdiq2K3Yp9mGCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZXhhbS1jYXJkJykuZm9yRWFjaChjYXJkID0+IHsKICAgICAgLy8g2KfYqNit2Ksg2LnZhiDYstixINin2YTYrdiw2YEg2K/Yp9iu2YQg2KfZhNio2LfYp9mC2KkKICAgICAgY29uc3QgZGVsQnRuID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuZXhhbS1jYXJkLWZvb3RlciAuYnRuLWRhbmdlcicpOwogICAgICBpZiAoZGVsQnRuICYmIGRlbEJ0bi5vbmNsaWNrID09IG51bGwpIHsKICAgICAgICAvLyDYpdiw2Kcg2YPYp9mGINin2YTYstixINmF2LHYqNmI2Lcg2KjZgCBhZGRFdmVudExpc3RlbmVy2Iwg2YbYqNit2Ksg2LnZhiDYrtin2LXZitipIGV4YW1JZCDZgdmKIENsb3N1cmVzCiAgICAgICAgLy8g2YTYsNmE2YMg2YbYs9iq2K7Yr9mFIGRhdGEtZXhhbWlkCiAgICAgICAgaWYgKGRlbEJ0bi5kYXRhc2V0ICYmIGRlbEJ0bi5kYXRhc2V0LmV4YW1pZCA9PSBleGFtSWQpIHsKICAgICAgICAgIGNhcmQucmVtb3ZlKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGRlbEJ0biAmJiBkZWxCdG4uZ2V0QXR0cmlidXRlKCdkYXRhLWV4YW1pZCcpID09IGV4YW1JZCkgewogICAgICAgIGNhcmQucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0pOwogICAgLy8g2KPZiCDYpdiw2Kcg2YPZhtiqINiq2YbYtNimINin2YTYstixINmH2YPYsNinOgogICAgLy8gZGVsQnRuLmRhdGFzZXQuZXhhbWlkID0gZXhhbUlkOwogICAgLy8g2YHZiiDYr9in2YTYqSBjcmVhdGVFeGFtQ2FyZCDYo9i22YE6CiAgICAvLyBkZWxCdG4uZGF0YXNldC5leGFtaWQgPSBleGFtSWQ7CiAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgc2hvd05vdGljZSgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINit2LDZgSDYp9mE2KfYrtiq2KjYp9ixOiAiICsgZXJyb3IubWVzc2FnZSwgImVycm9yIik7CiAgfSk7Cn0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5leHRTZWxmVGVzdFF1ZXN0aW9uQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgaWYgKHNlbGZUZXN0Q3VycmVudEluZGV4IDwgc2VsZlRlc3RRdWVzdGlvbnMubGVuZ3RoIC0gMHgxKSB7CiAgICBzZWxmVGVzdEN1cnJlbnRJbmRleCsrOwogICAgbG9hZFNlbGZUZXN0UXVlc3Rpb24oc2VsZlRlc3RDdXJyZW50SW5kZXgpOwogIH0KfSk7CmZ1bmN0aW9uIHNob3dOb3RpY2UobWVzc2FnZSwgdHlwZSA9ICJzdWNjZXNzIikgewogIGNvbnN0IG5vdGljZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIG5vdGljZUNvbnRhaW5lci5jbGFzc05hbWUgPSBgbm90aWNlIG5vdGljZS0ke3R5cGV9YDsKICBub3RpY2VDb250YWluZXIudGV4dENvbnRlbnQgPSBtZXNzYWdlOwoKICAvLyDYpdi22KfZgdipINin2YTYpdi02LnYp9ixINil2YTZiSDYp9mE2LXZgdit2KkKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vdGljZUNvbnRhaW5lcik7CgogIC8vINil2LLYp9mE2Kkg2KfZhNil2LTYudin2LEg2KjYudivIDMg2KvZiNin2YbZjQogIHNldFRpbWVvdXQoKCkgPT4gewogICAgbm90aWNlQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAiMCI7CiAgICBzZXRUaW1lb3V0KCgpID0+IG5vdGljZUNvbnRhaW5lci5yZW1vdmUoKSwgNTAwKTsKICB9LCAzMDAwKTsKfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmluaXNoU2VsZlRlc3RCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZpbmlzaFNlbGZUZXN0KTsKCgpmdW5jdGlvbiBsb2FkUmVjZW50RXhhbXMoKSB7CiAgICBjb25zdCBleGFtc0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXMiKTsKICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPHA+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqi4uLjwvcD4iOwoKICAgIC8vINiq2K3ZgtmCINmF2YYg2K3Yp9mE2Kkg2KfZhNi32KfZhNioINij2YjZhNin2YsKICAgIGlmICh1c2VyUm9sZSA9PT0gInN0dWRlbnQiKSB7CiAgICAgICAgLy8g2KrYrdmC2YIg2YXZhiDYqti52LfZitmEINin2YTYrdiz2KfYqAogICAgICAgIGlmIChjdXJyZW50VXNlckRhdGEgJiYgY3VycmVudFVzZXJEYXRhLmRpc2FibGVkKSB7CiAgICAgICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPGRpdiBzdHlsZT0nY29sb3I6I2MwMzkyYjtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxLjJyZW07cGFkZGluZzoyMHB4Oyc+2KrZhSDYqti52LfZitmEINit2LPYp9io2YMg2YXZhiDZgtio2YQg2KfZhNmF2LnZhNmFLiDZitix2KzZiSDYp9mE2KrZiNin2LXZhCDZhdi5INin2YTZhdi52YTZhSDZhNil2LnYp9iv2Kkg2KfZhNiq2YHYudmK2YQuPC9kaXY+IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLyDYqtit2YLZgiDZhdmGINiq2K3Yr9mK2K8g2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipCiAgICAgICAgaWYgKCFjdXJyZW50VXNlckRhdGEgfHwgIWN1cnJlbnRVc2VyRGF0YS55ZWFyKSB7CiAgICAgICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiPGRpdiBzdHlsZT0nY29sb3I6I2U2N2UyMjtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxLjFyZW07cGFkZGluZzoyMHB4Oyc+2YrYsdis2Ykg2KfZhNiq2KPZg9ivINmF2YYg2KfZhiDYp9iz2YXZgyDYq9mE2KfYq9mKINi12K3ZititINmI2KrYrdiv2YrYryDYp9mE2LPZhtmHINin2YTYr9ix2KfYs9mK2Ycg2YjYp9mE2KrYsdmFINin2YTYrtin2LUg2KjZgyDZhdmGIDxhIGhyZWY9JyMnIGlkPSdnb1RvUHJvZmlsZUxpbmsnIHN0eWxlPSdjb2xvcjojMGE3MGZmO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7Jz7Yp9mE2YXZhNmBINin2YTYtNiu2LXZijwvYT4g2KPZiNmE2KfZiyDZhNi52LHYtiDYp9mE2KfYrtiq2KjYp9ix2KfYqiDYp9mE2YXZhtin2LPYqNipINmE2YMuPC9kaXY+IjsKICAgICAgICAgICAgLy8g2LHYqNi3INiy2LEg2KfZhNin2YbYqtmC2KfZhCDZhNmE2YXZhNmBINin2YTYtNiu2LXZigogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ29Ub1Byb2ZpbGVMaW5rIik7CiAgICAgICAgICAgICAgICBpZiAobGluaykgewogICAgICAgICAgICAgICAgICAgIGxpbmsub25jbGljayA9IGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVNZW51SXRlbShtZW51UHJvZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dQYWdlKHByb2ZpbGVQYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgbG9hZFByb2ZpbGUoKTsKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgIGRiLmNvbGxlY3Rpb24oImV4YW1zIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5saW1pdCg5MDApLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdiq2KfYrdipINit2KfZhNmK2KfZizwvcD4iOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAnJzsKICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgIGNvbnN0IGV4YW0gPSBkb2MuZGF0YSgpOwogICAgICAgICAgICBjb25zdCBpc093bmVyID0gY3VycmVudFVzZXIgJiYgZXhhbS51c2VySWQgPT09IGN1cnJlbnRVc2VyLnVpZDsKCiAgICAgICAgICAgIC8vINin2YTZhdi52YTZhSDZitix2Ykg2YPZhCDYtNmK2KEKICAgICAgICAgICAgaWYgKHVzZXJSb2xlID09PSAidGVhY2hlciIpIHsKICAgICAgICAgICAgICAgIGV4YW1zR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVFeGFtQ2FyZChleGFtLCBkb2MuaWQpKTsKICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDYp9mE2LfYp9mE2Kg6INiq2K3ZgtmCINmF2YYg2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipCiAgIC8vINin2YTYt9in2YTYqDog2KrYrdmC2YIg2YXZhiDYp9mE2LPZhtipINmI2KfZhNiq2LHZhQogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBleGFtLnllYXIgPT09IGN1cnJlbnRVc2VyRGF0YS55ZWFyICYmCiAgICAgICAgICAgICAgICBleGFtLnRlcm0gPT09IGN1cnJlbnRVc2VyRGF0YS50ZXJtCiAgICAgICAgICAgICkgeyAgICAgICAgICAgICAgICAvLyDYqtit2YLZgiDZhdmGINin2YTYt9mE2KfYqCDYp9mE2YXYs9mF2YjYrSDZhNmH2YUKICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAhZXhhbS5hbGxvd2VkU3R1ZGVudHMgfHwKICAgICAgICAgICAgICAgICAgICBleGFtLmFsbG93ZWRTdHVkZW50cy5sZW5ndGggPT09IDAgfHwKICAgICAgICAgICAgICAgICAgICAoY3VycmVudFVzZXIgJiYgZXhhbS5hbGxvd2VkU3R1ZGVudHMuaW5jbHVkZXMoY3VycmVudFVzZXIudWlkKSkgfHwKICAgICAgICAgICAgICAgICAgICBpc093bmVyCiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICBleGFtc0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlRXhhbUNhcmQoZXhhbSwgZG9jLmlkKSk7CiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgaWYgKCFmb3VuZCkgewogICAgICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdiq2KfYrdipINmE2YMg2K3Yp9mE2YrYp9mLLjwvcD4iOwogICAgICAgIH0KICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqOiAiICsgZXJyb3IubWVzc2FnZSArICI8L3A+IjsKICAgIH0pOwogICAgCn0KZnVuY3Rpb24gbG9hZEFsbEV4YW1zKCkgewogICAgY29uc3QgZXhhbXNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFsbEV4YW1zIik7CiAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNin2K7Yqtio2KfYsdin2KouLi48L3A+IjsKICAgIGRiLmNvbGxlY3Rpb24oImV4YW1zIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYqtin2K3YqSDYrdin2YTZitin2Ys8L3A+IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICBjb25zdCBleGFtID0gZG9jLmRhdGEoKTsKICAgICAgICAgICAgLy8g2KrYrdmC2YIg2YXZhiDYp9mE2YXYsdit2YTYqSDYp9mE2K/Ysdin2LPZitipCiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHVzZXJSb2xlID09PSAidGVhY2hlciIgfHwKICAgICAgICAgICAgICAgICFleGFtLnllYXIgfHwKICAgICAgICAgICAgICAgIChjdXJyZW50VXNlckRhdGEgJiYgZXhhbS55ZWFyID09PSBjdXJyZW50VXNlckRhdGEueWVhcikKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgIWV4YW0uYWxsb3dlZFN0dWRlbnRzIHx8CiAgICAgICAgICAgICAgICAgICAgZXhhbS5hbGxvd2VkU3R1ZGVudHMubGVuZ3RoID09PSAwIHx8CiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRVc2VyICYmIGV4YW0uYWxsb3dlZFN0dWRlbnRzLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnVpZCkpCiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICBleGFtc0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlRXhhbUNhcmQoZXhhbSwgZG9jLmlkKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBpZiAoIWV4YW1zR3JpZC5oYXNDaGlsZE5vZGVzKCkpIHsKICAgICAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYqtin2K3YqSDZhNmDINit2KfZhNmK2KfZiy48L3A+IjsKICAgICAgICB9CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqjogIiArIGVycm9yLm1lc3NhZ2UgKyAiPC9wPiI7CiAgICB9KTsKfQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVsa1VwbG9hZEJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidWxrVXBsb2FkSW5wdXQiKS5jbGljaygpOwp9KTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1bGtVcGxvYWRJbnB1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7CiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICBpZiAoIWZpbGUpIHJldHVybjsKCiAgICBjb25zdCBmaWxlRXh0ZW5zaW9uID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTsKCiAgICBpZiAoZmlsZUV4dGVuc2lvbiA9PT0gJ2NzdicpIHsKICAgICAgICAvLyDZhdi52KfZhNis2Kkg2YXZhNmBIENTVgogICAgICAgIFBhcGEucGFyc2UoZmlsZSwgewogICAgICAgICAgICBoZWFkZXI6IHRydWUsCiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAocmVzdWx0cykgewogICAgICAgICAgICAgICAgcHJvY2Vzc1F1ZXN0aW9ucyhyZXN1bHRzLmRhdGEpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBhbGVydChg2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINmC2LHYp9ih2Kkg2KfZhNmF2YTZgTogJHtlcnJvci5tZXNzYWdlfWApOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKFsneGxzeCcsICd4bHMnXS5pbmNsdWRlcyhmaWxlRXh0ZW5zaW9uKSkgewogICAgICAgIC8vINmF2LnYp9mE2KzYqSDZhdmE2YEgRXhjZWwKICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZS50YXJnZXQucmVzdWx0KTsKICAgICAgICAgICAgY29uc3Qgd29ya2Jvb2sgPSBYTFNYLnJlYWQoZGF0YSwgeyB0eXBlOiAnYXJyYXknIH0pOwogICAgICAgICAgICBjb25zdCBzaGVldE5hbWUgPSB3b3JrYm9vay5TaGVldE5hbWVzWzBdOwogICAgICAgICAgICBjb25zdCBzaGVldCA9IHdvcmtib29rLlNoZWV0c1tzaGVldE5hbWVdOwogICAgICAgICAgICBjb25zdCBqc29uRGF0YSA9IFhMU1gudXRpbHMuc2hlZXRfdG9fanNvbihzaGVldCk7CiAgICAgICAgICAgIHByb2Nlc3NRdWVzdGlvbnMoanNvbkRhdGEpOwogICAgICAgIH07CiAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpOwogICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgn2YrYsdis2Ykg2LHZgdi5INmF2YTZgSDYqNi12YrYutipIENTViDYo9mIIEV4Y2VsINmB2YLYty4nKTsKICAgIH0KfSk7CmZ1bmN0aW9uIGxvYWRDb3Vyc2VzKCkgewogICAgY29uc3QgY291cnNlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3Vyc2VzQ29udGFpbmVyIik7CiAgICBjb3Vyc2VzQ29udGFpbmVyLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTZhdmC2LHYsdin2KouLi48L3A+IjsKICAgIGRiLmNvbGxlY3Rpb24oImNvdXJzZXMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgICAgICAgICBjb3Vyc2VzQ29udGFpbmVyLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINmF2YLYsdix2KfYqiDZhdiq2KfYrdipINit2KfZhNmK2KfZizwvcD4iOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvdXJzZXNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICBjb25zdCBjb3Vyc2UgPSBkb2MuZGF0YSgpOwogICAgICAgICAgICBjb25zdCBjb3Vyc2VDYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIGNvdXJzZUNhcmQuY2xhc3NOYW1lID0gImV4YW0tY2FyZCI7CiAgICAgICAgICAgIGNvdXJzZUNhcmQuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZXhhbS1jYXJkLWhlYWRlciI+JHtjb3Vyc2UudGl0bGV9PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtLWNhcmQtYm9keSI+CiAgICAgICAgICAgICAgICAgICAgPHA+JHtjb3Vyc2UuZGVzY3JpcHRpb259PC9wPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJleGFtLWNhcmQtZm9vdGVyIj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXByaW1hcnkiIG9uY2xpY2s9InZpZXdDb3Vyc2UoJyR7ZG9jLmlkfScpIj7Yudix2LY8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgOwogICAgICAgICAgICBjb3Vyc2VzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvdXJzZUNhcmQpOwogICAgICAgIH0pOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvdXJzZXNDb250YWluZXIuaW5uZXJIVE1MID0gYDxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTZhdmC2LHYsdin2Ko6ICR7ZXJyb3IubWVzc2FnZX08L3A+YDsKICAgIH0pOwp9CmZ1bmN0aW9uIHZpZXdDb3Vyc2UoY291cnNlSWQpIHsKICAgIGNvbnN0IGNvdXJzZURldGFpbHNQYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvdXJzZURldGFpbHNQYWdlIik7CiAgICBjb25zdCBjb3Vyc2VDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvdXJzZUNvbnRlbnQiKTsKICAgIGNvdXJzZUNvbnRlbnQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KrZgdin2LXZitmEINin2YTZhdmC2LHYsS4uLjwvcD4iOwogICAgZGIuY29sbGVjdGlvbigiY291cnNlcyIpLmRvYyhjb3Vyc2VJZCkuZ2V0KCkudGhlbihkb2MgPT4gewogICAgICAgIGlmICghZG9jLmV4aXN0cykgewogICAgICAgICAgICBjb3Vyc2VDb250ZW50LmlubmVySFRNTCA9ICI8cD7ZhNmFINmK2KrZhSDYp9mE2LnYq9mI2LEg2LnZhNmJINin2YTZhdmC2LHYsS48L3A+IjsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCBjb3Vyc2UgPSBkb2MuZGF0YSgpOwogICAgICAgIGNvdXJzZUNvbnRlbnQuaW5uZXJIVE1MID0gYAogICAgICAgICAgICA8aDM+JHtjb3Vyc2UudGl0bGV9PC9oMz4KICAgICAgICAgICAgPHA+JHtjb3Vyc2UuZGVzY3JpcHRpb259PC9wPgogICAgICAgICAgICA8aDQ+2KfZhNmB2YrYr9mK2YjZh9in2Ko6PC9oND4KICAgICAgICAgICAgPHVsPgogICAgICAgICAgICAgICAgJHtjb3Vyc2UudmlkZW9zLm1hcCh2aWRlbyA9PiBgPGxpPjxhIGhyZWY9IiR7dmlkZW8udXJsfSIgdGFyZ2V0PSJfYmxhbmsiPiR7dmlkZW8udGl0bGV9PC9hPjwvbGk+YCkuam9pbignJyl9CiAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDxoND7Yp9mE2KfYrtiq2KjYp9ix2KfYqjo8L2g0PgogICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICAke2NvdXJzZS5leGFtcy5tYXAoZXhhbSA9PiBgPGxpPiR7ZXhhbS50aXRsZX08L2xpPmApLmpvaW4oJycpfQogICAgICAgICAgICA8L3VsPgogICAgICAgICAgICA8aDQ+2KfYrtiq2KjYsSDZhtmB2LPZgzo8L2g0PgogICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICAke2NvdXJzZS5zZWxmVGVzdHMubWFwKHRlc3QgPT4gYDxsaT4ke3Rlc3QudGl0bGV9PC9saT5gKS5qb2luKCcnKX0KICAgICAgICAgICAgPC91bD4KICAgICAgICBgOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvdXJzZUNvbnRlbnQuaW5uZXJIVE1MID0gYDxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINiq2YHYp9i12YrZhCDYp9mE2YXZgtix2LE6ICR7ZXJyb3IubWVzc2FnZX08L3A+YDsKICAgIH0pOwogICAgc2hvd1BhZ2UoY291cnNlRGV0YWlsc1BhZ2UpOwp9CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRDb3Vyc2VCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIGNvbnN0IHRpdGxlID0gcHJvbXB0KCLYo9iv2K7ZhCDYudmG2YjYp9mGINin2YTZhdmC2LHYsToiKTsKICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gcHJvbXB0KCLYo9iv2K7ZhCDZiNi12YEg2KfZhNmF2YLYsdixOiIpOwogICAgaWYgKCF0aXRsZSB8fCAhZGVzY3JpcHRpb24pIHsKICAgICAgICBhbGVydCgi2YrYsdis2Ykg2KXYr9iu2KfZhCDYrNmF2YrYuSDYp9mE2KjZitin2YbYp9iqLiIpOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGRiLmNvbGxlY3Rpb24oImNvdXJzZXMiKS5hZGQoewogICAgICAgIHRpdGxlLAogICAgICAgIGRlc2NyaXB0aW9uLAogICAgICAgIHZpZGVvczogW10sCiAgICAgICAgZXhhbXM6IFtdLAogICAgICAgIHNlbGZUZXN0czogW10sCiAgICAgICAgY3JlYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgYWxlcnQoItiq2YUg2KXYttin2YHYqSDYp9mE2YXZgtix2LEg2KjZhtis2KfYrSEiKTsKICAgICAgICBsb2FkQ291cnNlcygpOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGFsZXJ0KCLYrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KXYttin2YHYqSDYp9mE2YXZgtix2LE6ICIgKyBlcnJvci5tZXNzYWdlKTsKICAgIH0pOwp9KTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJhY2tUb0NvdXJzZXNCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIHNob3dQYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3Vyc2VzUGFnZSIpKTsKfSk7CmZ1bmN0aW9uIGNvbmZpcm1EZWxldGVTZWxmVGVzdChfMHgxZTFmMWQpIHsKICBjb25zdCBfMHg1YmFlMTcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlU2VsZlRlc3RNb2RhbCcpOwogIF8weDViYWUxNy5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIGNvbnN0IF8weDVhZjlmOCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maXJtRGVsZXRlU2VsZlRlc3RCdG4iKTsKICBjb25zdCBfMHg1ODgwNzEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FuY2VsRGVsZXRlU2VsZlRlc3RCdG4iKTsKICBfMHg1YWY5ZjgucmVwbGFjZVdpdGgoXzB4NWFmOWY4LmNsb25lTm9kZSh0cnVlKSk7CiAgXzB4NTg4MDcxLnJlcGxhY2VXaXRoKF8weDU4ODA3MS5jbG9uZU5vZGUodHJ1ZSkpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maXJtRGVsZXRlU2VsZlRlc3RCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIF8weDViYWUxNy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZGVsZXRlU2VsZlRlc3QoXzB4MWUxZjFkKTsKICB9KTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsRGVsZXRlU2VsZlRlc3RCdG4nKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIF8weDViYWUxNy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0pOwp9CmZ1bmN0aW9uIHRvZ2dsZURyb3Bkb3duKCkgewogIGNvbnN0IF8weDJhNjU5NyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkcm9wZG93bk1lbnUiKTsKICBfMHgyYTY1OTcuc3R5bGUuZGlzcGxheSA9IF8weDJhNjU5Ny5zdHlsZS5kaXNwbGF5ID09PSAnYmxvY2snID8gIm5vbmUiIDogImJsb2NrIjsKfQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIF8weDQ1YjM0OSA9PiB7CiAgY29uc3QgXzB4MTMwNjNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVzZXJNZW51RHJvcGRvd24iKTsKICBjb25zdCBfMHgyOWNiM2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHJvcGRvd25NZW51Jyk7CiAgaWYgKCFfMHgxMzA2M2UuY29udGFpbnMoXzB4NDViMzQ5LnRhcmdldCkpIHsKICAgIF8weDI5Y2IzZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIH0KfSk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXRFeGFtQnRuJykuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgY29uc3QgXzB4M2JhZGMzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbmZpcm1Nb2RhbCIpOwogIF8weDNiYWRjMy5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIGNvbnN0IF8weDQyZGJlMCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtWWVzJyk7CiAgY29uc3QgXzB4MjY1ZDdmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1ObycpOwogIF8weDQyZGJlMC5yZXBsYWNlV2l0aChfMHg0MmRiZTAuY2xvbmVOb2RlKHRydWUpKTsKICBfMHgyNjVkN2YucmVwbGFjZVdpdGgoXzB4MjY1ZDdmLmNsb25lTm9kZSh0cnVlKSk7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbmZpcm1ZZXMiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIF8weDNiYWRjMy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgc3VibWl0RXhhbSgpOwogIH0pOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtTm8nKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIF8weDNiYWRjMy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0pOwp9KTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gcHJvY2Vzc1F1ZXN0aW9ucyhkYXRhKSB7CiAgICBjb25zdCBxdWVzdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25zQ29udGFpbmVyIik7CiAgICBxdWVzdGlvbnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7IC8vINiq2YHYsdmK2Log2KfZhNit2KfZiNmK2Kkg2YLYqNmEINil2LbYp9mB2Kkg2KfZhNij2LPYptmE2KkKCiAgICBkYXRhLmZvckVhY2goKHJvdywgaW5kZXgpID0+IHsKICAgICAgICBjb25zdCBxdWVzdGlvbklkID0gYHF1ZXN0aW9uLSR7RGF0ZS5ub3coKX0tJHtpbmRleH1gOwogICAgICAgIGNvbnN0IHF1ZXN0aW9uVGV4dCA9IHJvd1sn2KfZhNiz2KTYp9mEJ10/LnRyaW0oKSB8fCAiIjsKICAgICAgICAvLyDYr9i52YUg2KPZhiDYp9mE2KXYrNin2KjYqSDYp9mE2LXYrdmK2K3YqSDZgtivINiq2YPZiNmGIDEg2KPZiCAyINij2YggMyDYo9mIIDQgKNmI2YTZitiz2Kog2LXZgdix2YrYqSkKICAgICAgICBsZXQgY29ycmVjdEFuc3dlciA9IHBhcnNlSW50KHJvd1sn2KfZhNil2KzYp9io2Kkg2KfZhNi12K3Zitit2KknXSk7CiAgICAgICAgaWYgKCFpc05hTihjb3JyZWN0QW5zd2VyKSAmJiBjb3JyZWN0QW5zd2VyID4gMCkgY29ycmVjdEFuc3dlciA9IGNvcnJlY3RBbnN3ZXIgLSAxOwogICAgICAgIGVsc2UgY29ycmVjdEFuc3dlciA9IDA7CiAgICAgICAgY29uc3QgaW1hZ2VVcmwgPSByb3dbJ9ix2KfYqNi3INin2YTYtdmI2LHYqSddPy50cmltKCkgfHwgIiI7CiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdOwoKICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHsKICAgICAgICAgICAgY29uc3Qgb3B0aW9uVGV4dCA9IHJvd1tg2KfZhNiu2YrYp9ixICR7aX1gXT8udHJpbSgpOwogICAgICAgICAgICBpZiAob3B0aW9uVGV4dCkgewogICAgICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHsgdGV4dDogb3B0aW9uVGV4dCB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g2KXZhti02KfYoSDYudmG2LXYsSDYp9mE2LPYpNin2YQKICAgICAgICBjb25zdCBxdWVzdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBxdWVzdGlvbkVsZW1lbnQuY2xhc3NOYW1lID0gInF1ZXN0aW9uLWNvbnRhaW5lciBpbXBvcnRlZC1xdWVzdGlvbi1saWdodCI7CiAgICAgICAgcXVlc3Rpb25FbGVtZW50LmlkID0gcXVlc3Rpb25JZDsKCiAgICAgICAgcXVlc3Rpb25FbGVtZW50LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtmG2LUg2KfZhNiz2KTYp9mEPC9sYWJlbD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLXRleHQiIHZhbHVlPSIke3F1ZXN0aW9uVGV4dH0iIHJlcXVpcmVkPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtix2KfYqNi3INin2YTYtdmI2LHYqSAo2KfYrtiq2YrYp9ix2YopPC9sYWJlbD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLWltYWdlLXVybCIgdmFsdWU9IiR7aW1hZ2VVcmx9IiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2LHYp9io2Lcg2KfZhNi12YjYsdipIj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7YrtmK2KfYsdin2Kog2KfZhNil2KzYp9io2Kk8L2xhYmVsPgogICAgICAgICAgICAgICAgPGRpdiBpZD0ib3B0aW9ucy0ke3F1ZXN0aW9uSWR9Ij4KICAgICAgICAgICAgICAgICAgICAke29wdGlvbnMubWFwKChvcHRpb24sIG9wdGlvbkluZGV4KSA9PiBgCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pdGVtIG9wdGlvbi1pdGVtLWxpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke3F1ZXN0aW9uSWR9IiB2YWx1ZT0iJHtvcHRpb25JbmRleH0iICR7Y29ycmVjdEFuc3dlciA9PT0gb3B0aW9uSW5kZXggPyAiY2hlY2tlZCIgOiAiIn0gcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgdmFsdWU9IiR7b3B0aW9uLnRleHR9IiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtIiBvbmNsaWNrPSJyZW1vdmVPcHRpb24odGhpcykiIHN0eWxlPSJtYXJnaW4tcmlnaHQ6OHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGApLmpvaW4oJycpfQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImFkZC1idG4iIG9uY2xpY2s9ImFkZE9wdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4g2KXYttin2YHYqSDYrtmK2KfYsQogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InJlbW92ZS1idG4iIG9uY2xpY2s9InJlbW92ZVF1ZXN0aW9uKCcke3F1ZXN0aW9uSWR9JykiPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINin2YTYs9ik2KfZhAogICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIGA7CgogICAgICAgIHF1ZXN0aW9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChxdWVzdGlvbkVsZW1lbnQpOwogICAgfSk7CgogICAgYWxlcnQoJ9iq2YUg2KrYrdmF2YrZhCDYp9mE2KPYs9im2YTYqSDYqNmG2KzYp9itIScpOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KXYuNmH2KfYsSDYstixINin2YTYqtmG2LLZitmEINmE2YTZhdi52YTZhSDZgdmC2LcKZnVuY3Rpb24gdG9nZ2xlR3JhZGVzRG93bmxvYWRCdXR0b25zKCkgewogIGNvbnN0IGV4YW1CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG93bmxvYWRFeGFtR3JhZGVzQnRuIik7CiAgY29uc3Qgc2VsZlRlc3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG93bmxvYWRTZWxmVGVzdEdyYWRlc0J0biIpOwogIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICBpZiAoZXhhbUJ0bikgZXhhbUJ0bi5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICBpZiAoc2VsZlRlc3RCdG4pIHNlbGZUZXN0QnRuLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKICB9IGVsc2UgewogICAgaWYgKGV4YW1CdG4pIGV4YW1CdG4uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGlmIChzZWxmVGVzdEJ0bikgc2VsZlRlc3RCdG4uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9Cn0KCi8vINin2LPYqtiv2LnZkCDZh9iw2Ycg2KfZhNiv2KfZhNipINi52YbYryDZgdiq2K0g2LXZgdit2Kkg2KfZhNiv2LHYrNin2Kog2YjYtdmB2K3YqSDYp9mE2YjYp9is2KgKbWVudUdyYWRlcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAvLyAuLi5leGlzdGluZyBjb2RlLi4uCiAgdG9nZ2xlR3JhZGVzRG93bmxvYWRCdXR0b25zKCk7Cn0pOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVNlbGZUZXN0UmVzdWx0cyIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAvLyAuLi5leGlzdGluZyBjb2RlLi4uCiAgdG9nZ2xlR3JhZGVzRG93bmxvYWRCdXR0b25zKCk7Cn0pOwoKLy8g2K/Yp9mE2Kkg2KrYtdiv2YrYsSDYp9mE2KzYr9mI2YQgUERGINij2Ygg2LXZiNix2KkKZnVuY3Rpb24gZXhwb3J0VGFibGVBc1BERk9ySW1hZ2UodGFibGVJZCwgZmlsZU5hbWUpIHsKICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYmxlSWQpOwogIGlmICghdGFibGUpIHJldHVybjsKICBodG1sMmNhbnZhcyh0YWJsZSkudGhlbihjYW52YXMgPT4gewogICAgLy8g2K3Zgdi4INmD2LXZiNix2KkKICAgIGNvbnN0IGltZ0RhdGEgPSBjYW52YXMudG9EYXRhVVJMKCJpbWFnZS9qcGVnIiwgMS4wKTsKCiAgICAvLyDYrdmB2Lgg2YPZgCBQREYKICAgIGNvbnN0IHBkZiA9IG5ldyB3aW5kb3cuanNwZGYuanNQREYoewogICAgICBvcmllbnRhdGlvbjogImxhbmRzY2FwZSIsCiAgICAgIHVuaXQ6ICJwdCIsCiAgICAgIGZvcm1hdDogImE0IgogICAgfSk7CiAgICBjb25zdCBwYWdlV2lkdGggPSBwZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0V2lkdGgoKTsKICAgIGNvbnN0IHBhZ2VIZWlnaHQgPSBwZGYuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCk7CiAgICBjb25zdCBpbWdXaWR0aCA9IHBhZ2VXaWR0aCAtIDQwOwogICAgY29uc3QgaW1nSGVpZ2h0ID0gY2FudmFzLmhlaWdodCAqIGltZ1dpZHRoIC8gY2FudmFzLndpZHRoOwogICAgcGRmLmFkZEltYWdlKGltZ0RhdGEsICdKUEVHJywgMjAsIDIwLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KTsKICAgIHBkZi5zYXZlKGZpbGVOYW1lICsgIi5wZGYiKTsKCiAgICAvLyDYqtmG2LLZitmEINin2YTYtdmI2LHYqSDYo9mK2LbYp9mLICjYp9iu2KrZitin2LHZiikKICAgIC8vIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAvLyBsaW5rLmhyZWYgPSBpbWdEYXRhOwogICAgLy8gbGluay5kb3dubG9hZCA9IGZpbGVOYW1lICsgIi5qcGciOwogICAgLy8gbGluay5jbGljaygpOwogIH0pOwp9CgovLyDYsdio2Lcg2KfZhNij2LLYsdin2LEKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvd25sb2FkRXhhbUdyYWRlc0J0biIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogIGV4cG9ydFRhYmxlQXNQREZPckltYWdlKCJhbGxHcmFkZXNUYWJsZSIsICLYr9ix2KzYp9iqX9in2YTYp9mF2KrYrdin2YbYp9iqIik7Cn0pOwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG93bmxvYWRTZWxmVGVzdEdyYWRlc0J0biIpPy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogIGV4cG9ydFRhYmxlQXNQREZPckltYWdlKCJzZWxmVGVzdFJlc3VsdHNUYWJsZSIsICLYr9ix2KzYp9iqX9in2YTZiNin2KzYqNin2KoiKTsKfSk7CgoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBjcmVhdGVFeGFtQ2FyZChleGFtLCBleGFtSWQpIHsKICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgY2FyZC5jbGFzc05hbWUgPSAiZXhhbS1jYXJkIjsKY2FyZC5zZXRBdHRyaWJ1dGUoImRhdGEteWVhciIsIGV4YW0ueWVhciB8fCAiIik7CmNhcmQuc2V0QXR0cmlidXRlKCJkYXRhLXRlcm0iLCBleGFtLnRlcm0gfHwgIiIpOwogIC8vINi02KfYsdipINin2YTYqtix2YUg2KfZhNiv2LHYp9iz2YogKGJhZGdlKQogIGxldCB0ZXJtU2hvcnQgPSAiIjsKICBpZiAoZXhhbS50ZXJtKSB7CiAgICBpZiAoZXhhbS50ZXJtLmluY2x1ZGVzKCLYp9mE2KPZiNmEIikpIHRlcm1TaG9ydCA9ICIxINiq2LHZhSI7CiAgICBlbHNlIGlmIChleGFtLnRlcm0uaW5jbHVkZXMoItin2YTYq9in2YbZiiIpKSB0ZXJtU2hvcnQgPSAiMiDYqtix2YUiOwogICAgZWxzZSB0ZXJtU2hvcnQgPSBleGFtLnRlcm07CiAgfQogIC8vINi02KfYsdipINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqSAoYmFkZ2UpCiAgbGV0IHllYXJTaG9ydCA9ICIiOwogIGlmIChleGFtLnllYXIpIHsKICAgIGlmIChleGFtLnllYXIuaW5jbHVkZXMoItin2YTYo9mI2YTZiSIpKSB5ZWFyU2hvcnQgPSAiMSDYqyI7CiAgICBlbHNlIGlmIChleGFtLnllYXIuaW5jbHVkZXMoItin2YTYq9in2YbZitipIikpIHllYXJTaG9ydCA9ICIyINirIjsKICAgIGVsc2UgaWYgKGV4YW0ueWVhci5pbmNsdWRlcygi2KfZhNir2KfZhNir2KkiKSkgeWVhclNob3J0ID0gIjMg2KsiOwogICAgZWxzZSB5ZWFyU2hvcnQgPSBleGFtLnllYXI7CiAgfQoKICAvLyDYtNin2LHYp9iqINin2YTYqNmK2KfZhtin2KogKNi52K/YryDYp9mE2KPYs9im2YTYqdiMINin2YTYr9ix2KzYp9iq2Iwg2KfZhNmI2YLYqtiMINin2YTYs9mG2KnYjCDYp9mE2KrYsdmFKQogIGNvbnN0IG1ldGFCYWRnZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBtZXRhQmFkZ2VzLmNsYXNzTmFtZSA9ICJleGFtLW1ldGEtYmFkZ2UiOwoKICAvLyDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2KkKICBpZiAoeWVhclNob3J0KSB7CiAgICBjb25zdCB5ZWFyQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHllYXJCYWRnZS5jbGFzc05hbWUgPSAiZXhhbS15ZWFyLWJhZGdlIjsKICAgIHllYXJCYWRnZS50aXRsZSA9ICLYp9mE2YXYsdit2YTYqSDYp9mE2K/Ysdin2LPZitipIjsKICAgIHllYXJCYWRnZS50ZXh0Q29udGVudCA9IHllYXJTaG9ydDsKICAgIG1ldGFCYWRnZXMuYXBwZW5kQ2hpbGQoeWVhckJhZGdlKTsKICB9CiAgLy8g2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZigogIGlmICh0ZXJtU2hvcnQpIHsKICAgIGNvbnN0IHRlcm1CYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgdGVybUJhZGdlLmNsYXNzTmFtZSA9ICJleGFtLXllYXItYmFkZ2UiOwogICAgdGVybUJhZGdlLnRpdGxlID0gItin2YTYqtix2YUg2KfZhNiv2LHYp9iz2YoiOwogICAgdGVybUJhZGdlLnN0eWxlLmJhY2tncm91bmQgPSAibGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzNiOGFlMyA3MCUsICMwOTQ4YTAgMTAwJSkiOwogICAgdGVybUJhZGdlLnN0eWxlLmxlZnQgPSB5ZWFyU2hvcnQgPyAiNjBweCIgOiAiMTBweCI7CiAgICB0ZXJtQmFkZ2UudGV4dENvbnRlbnQgPSB0ZXJtU2hvcnQ7CiAgICBtZXRhQmFkZ2VzLmFwcGVuZENoaWxkKHRlcm1CYWRnZSk7CiAgfQoKICAvLyDYudiv2K8g2KfZhNij2LPYptmE2KkKICBjb25zdCBxdWVzdGlvbnNCYWRnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIHF1ZXN0aW9uc0JhZGdlLmNsYXNzTmFtZSA9ICJleGFtLWJhZGdlIjsKICBxdWVzdGlvbnNCYWRnZS5pbm5lckhUTUwgPSBgCiAgICAke2V4YW0ucXVlc3Rpb25zPy5sZW5ndGggfHwgMH0KICAgIDxkaXYgY2xhc3M9ImV4YW0tYmFkZ2UtbGFiZWwiPtiz2KTYp9mEPC9kaXY+CiAgYDsKICBtZXRhQmFkZ2VzLmFwcGVuZENoaWxkKHF1ZXN0aW9uc0JhZGdlKTsKCiAgLy8g2KfZhNiv2LHYrNin2KoKICBjb25zdCBtYXJrc0JhZGdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgbWFya3NCYWRnZS5jbGFzc05hbWUgPSAiZXhhbS1iYWRnZSI7CiAgbWFya3NCYWRnZS5pbm5lckhUTUwgPSBgCiAgICAke2V4YW0udG90YWxNYXJrcyB8fCBleGFtLnF1ZXN0aW9ucz8ubGVuZ3RoIHx8IDB9CiAgICA8ZGl2IGNsYXNzPSJleGFtLWJhZGdlLWxhYmVsIj7Yr9ix2KzYqTwvZGl2PgogIGA7CiAgbWV0YUJhZGdlcy5hcHBlbmRDaGlsZChtYXJrc0JhZGdlKTsKCiAgLy8g2KfZhNmI2YLYqgogIGNvbnN0IGR1cmF0aW9uQmFkZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBkdXJhdGlvbkJhZGdlLmNsYXNzTmFtZSA9ICJleGFtLWJhZGdlIjsKICBkdXJhdGlvbkJhZGdlLmlubmVySFRNTCA9IGAKICAgICR7ZXhhbS5kdXJhdGlvbiA/IGV4YW0uZHVyYXRpb24gKyAiINivIiA6ICIifQogICAgPGRpdiBjbGFzcz0iZXhhbS1iYWRnZS1sYWJlbCI+2KfZhNmI2YLYqjwvZGl2PgogIGA7CiAgbWV0YUJhZGdlcy5hcHBlbmRDaGlsZChkdXJhdGlvbkJhZGdlKTsKCiAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgaGVhZGVyLmNsYXNzTmFtZSA9ICJleGFtLWNhcmQtaGVhZGVyIjsKICBoZWFkZXIuaW5uZXJIVE1MID0gYDxpIGNsYXNzPSJmYXMgZmEtY2xpcGJvYXJkLWxpc3QiPjwvaT4gJHtleGFtLnRpdGxlfWA7CgogIC8vINmI2LXZgSDYp9mE2KfZhdiq2K3Yp9mGCiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIGJvZHkuY2xhc3NOYW1lID0gImV4YW0tY2FyZC1ib2R5IjsKICBib2R5LmlubmVySFRNTCA9IGA8cD4ke2V4YW0uZGVzY3JpcHRpb24gfHwgJyd9PC9wPmA7CgogIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogIGZvb3Rlci5jbGFzc05hbWUgPSAiZXhhbS1jYXJkLWZvb3RlciI7CiAgY29uc3Qgc3RhcnRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICBzdGFydEJ0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1wcmltYXJ5IjsKICBzdGFydEJ0bi50ZXh0Q29udGVudCA9ICLYqNiv2KEg2KfZhNin2K7Yqtio2KfYsSI7CiAgc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICBzaG93RXhhbUNvbmZpcm1Nb2RhbCgoKSA9PiBzdGFydEV4YW0oZXhhbSwgZXhhbUlkKSk7CiAgfSk7CiAgZm9vdGVyLmFwcGVuZENoaWxkKHN0YXJ0QnRuKTsKCiAgaWYgKHVzZXJSb2xlID09PSAidGVhY2hlciIpIHsKICAgIGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgIGVkaXRCdG4uY2xhc3NOYW1lID0gImJ0biBidG4tb3V0bGluZSI7CiAgICBlZGl0QnRuLnRleHRDb250ZW50ID0gItiq2LnYr9mK2YQiOwogICAgZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IGVkaXRFeGFtKGV4YW0sIGV4YW1JZCkpOwogICAgZm9vdGVyLmFwcGVuZENoaWxkKGVkaXRCdG4pOwoKICAgIGNvbnN0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgZGVsQnRuLmNsYXNzTmFtZSA9ICJidG4gYnRuLWRhbmdlciI7CiAgICBkZWxCdG4udGV4dENvbnRlbnQgPSAn2K3YsNmBJzsKICAgIGRlbEJ0bi5kYXRhc2V0LmV4YW1pZCA9IGV4YW1JZDsKICAgIGRlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IGNvbmZpcm1EZWxldGVFeGFtKGV4YW1JZCkpOwogICAgZm9vdGVyLmFwcGVuZENoaWxkKGRlbEJ0bik7CiAgfQoKICBjYXJkLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgY2FyZC5hcHBlbmRDaGlsZChtZXRhQmFkZ2VzKTsKICBjYXJkLmFwcGVuZENoaWxkKGJvZHkpOwogIGNhcmQuYXBwZW5kQ2hpbGQoZm9vdGVyKTsKCiAgcmV0dXJuIGNhcmQ7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKZnVuY3Rpb24gY2xvc2VBY2NvdW50RGlzYWJsZWRNb2RhbCgpIHsKICBjb25zdCBfMHgzOGFjZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWNjb3VudERpc2FibGVkTW9kYWwnKTsKICBfMHgzOGFjZGUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKfQpmdW5jdGlvbiBsb2FkU2VsZlRlc3RzKCkgewogIGNvbnN0IHNlbGZUZXN0c0dyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RzR3JpZCIpOwogIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfYrtiq2KjYp9ix2KfYqiBcItin2K7Yqtio2LEg2YbZgdiz2YNcIi4uLjwvcD4iOwogIGRiLmNvbGxlY3Rpb24oJ3NlbGZUZXN0cycpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqIFwi2KfYrtiq2KjYsSDZhtmB2LPZg1wiINmF2KrYp9it2Kkg2K3Yp9mE2YrYp9mLPC9wPiI7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gJyc7CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNvbnN0IHNlbGZUZXN0ID0gZG9jLmRhdGEoKTsKICAgICAgY29uc3QgYWxsb3dlZCA9IEFycmF5LmlzQXJyYXkoc2VsZlRlc3QuYWxsb3dlZFN0dWRlbnRzKSA/IHNlbGZUZXN0LmFsbG93ZWRTdHVkZW50cyA6IFtdOwogICAgICBjb25zdCBpc093bmVyID0gY3VycmVudFVzZXIgJiYgc2VsZlRlc3QudXNlcklkID09PSBjdXJyZW50VXNlci51aWQ7CgogICAgICAvLyDYp9mE2YXYudmE2YUg2YrYsdmJINmD2YQg2KfZhNmI2KfYrNio2KfYqiDYp9mE2YXZhtiy2YTZitipCiAgICAgIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICAgICAgc2VsZlRlc3RzR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVTZWxmVGVzdENhcmQoc2VsZlRlc3QsIGRvYy5pZCkpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g2KfZhNi32KfZhNioOiDYqtit2YLZgiDZhdmGINin2YTYs9mG2Kkg2YjYp9mE2KrYsdmFCiAgICAgIGlmICgKICAgICAgICBzZWxmVGVzdC55ZWFyID09PSBjdXJyZW50VXNlckRhdGEueWVhciAmJgogICAgICAgIHNlbGZUZXN0LnRlcm0gPT09IGN1cnJlbnRVc2VyRGF0YS50ZXJtCiAgICAgICkgewogICAgICAgIGNvbnN0IGlzQWxsb3dlZCA9IGFsbG93ZWQubGVuZ3RoID09PSAwIHx8IChjdXJyZW50VXNlciAmJiBhbGxvd2VkLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnVpZCkpIHx8IGlzT3duZXI7CiAgICAgICAgaWYgKGlzQWxsb3dlZCkgewogICAgICAgICAgc2VsZlRlc3RzR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVTZWxmVGVzdENhcmQoc2VsZlRlc3QsIGRvYy5pZCkpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICBpZiAoIXNlbGZUZXN0c0dyaWQuaGFzQ2hpbGROb2RlcygpKSB7CiAgICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdiq2KfYrdipINmE2YMg2K3Yp9mE2YrYp9mLLjwvcD4iOwogICAgfQogIH0pWyJjYXRjaCJdKGVycm9yID0+IHsKICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2K7Yqtio2KfYsdin2KogXCLYp9iu2KrYqNixINmG2YHYs9mDXCI6ICIgKyBlcnJvci5tZXNzYWdlICsgJzwvcD4nOwogIH0pOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINiv2KfZhNipINiq2K3Yr9mK2Ksg2KfZhNin2YXYqtit2KfZhtin2Kog2YjYp9mE2YjYp9is2KjYp9iqINiq2YTZgtin2KbZitin2Ysg2LnZhtivINiq2LrZitmK2LEg2KfZhNiz2YbYqSDYo9mIINin2YTYqtix2YUg2YTZhNi32KfZhNioCgovLyDYp9iz2KrYr9i52ZAg2KfZhNiv2KfZhNipINio2LnYryDYqtiz2KzZitmEINin2YTYr9iu2YjZhCDYo9mIINio2LnYryDYqti52LHZitmBIGN1cnJlbnRVc2VyRGF0YQovLyDZhdir2KfZhDog2YHZiiDZhtmH2KfZitipIHNldHVwQXV0aGVudGljYXRlZFVJKCkKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gc2hvd0V4YW1Db25maXJtTW9kYWwob25Db25maXJtKSB7CiAgICAvLyDYpdiw2Kcg2YPYp9mG2Kog2KfZhNmG2KfZgdiw2Kkg2YXZiNis2YjYr9ipINmF2LPYqNmC2KfZi9iMINmE2Kcg2KrZhti02KbZh9inINmF2YYg2KzYr9mK2K8KICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtQ29uZmlybU1vZGFsIik7CiAgICBpZiAoIW1vZGFsKSB7CiAgICAgICAgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBtb2RhbC5pZCA9ICJleGFtQ29uZmlybU1vZGFsIjsKICAgICAgICBtb2RhbC5jbGFzc05hbWUgPSAibW9kYWwiOwogICAgICAgIG1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9Im1vZGFsLXRpdGxlIj7Zh9mEINij2YbYqiDZhdiz2KrYudiv2J88L2gyPgogICAgICAgICAgICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiPtmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINio2K/YoSDYp9mE2KfYrtiq2KjYp9ixINin2YTYotmG2J88YnI+2KrYo9mD2K8g2KPZhtmDINmF2LPYqti52K8g2YjZhNmGINiq2KrZhdmD2YYg2YXZhiDYp9mE2LnZiNiv2Kkg2KjYudivINin2YTYqNiv2KEuPC9wPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0iY29uZmlybVN0YXJ0RXhhbUJ0biIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+2YbYudmF2Iwg2KfYqNiv2KM8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPSJjYW5jZWxTdGFydEV4YW1CdG4iIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIGA7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CiAgICB9CiAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbmZpcm1TdGFydEV4YW1CdG4iKS5vbmNsaWNrID0gKCkgPT4gewogICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgb25Db25maXJtKCk7CiAgICB9OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbFN0YXJ0RXhhbUJ0biIpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH07Cn0KZnVuY3Rpb24gc2VhcmNoUmVjZW50RXhhbXMoKSB7CiAgICBjb25zdCBzZWFyY2hRdWVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hJbnB1dCIpLnZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICBjb25zdCBleGFtc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZWNlbnRFeGFtcyIpOwogICAgY29uc3QgZXhhbUNhcmRzID0gZXhhbXNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLmV4YW0tY2FyZCIpOwogICAgbGV0IGhhc1Jlc3VsdHMgPSBmYWxzZTsKCiAgICBleGFtQ2FyZHMuZm9yRWFjaChjYXJkID0+IHsKICAgICAgICBjb25zdCB0aXRsZSA9IGNhcmQucXVlcnlTZWxlY3RvcigiLmV4YW0tY2FyZC1oZWFkZXIiKS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpOwogICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gY2FyZC5xdWVyeVNlbGVjdG9yKCIuZXhhbS1jYXJkLWJvZHkiKS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpOwoKICAgICAgICBpZiAodGl0bGUuaW5jbHVkZXMoc2VhcmNoUXVlcnkpIHx8IGRlc2NyaXB0aW9uLmluY2x1ZGVzKHNlYXJjaFF1ZXJ5KSkgewogICAgICAgICAgICBjYXJkLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOyAvLyDYudix2LYg2KfZhNio2LfYp9mC2Kkg2KXYsNinINiq2LfYp9io2YIg2KfZhNmG2LUKICAgICAgICAgICAgaGFzUmVzdWx0cyA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOyAvLyDYpdiu2YHYp9ihINin2YTYqNi32KfZgtipINil2LDYpyDZhNmFINiq2KrYt9in2KjZggogICAgICAgIH0KICAgIH0pOwoKICAgIGlmICghaGFzUmVzdWx0cykgewogICAgICAgIGV4YW1zQ29udGFpbmVyLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYt9in2KjZgtipINmE2KjYrdir2YMuPC9wPiI7CiAgICB9Cn0KLy8g2LnYr9mEINiv2KfZhNipIGNyZWF0ZVNlbGZUZXN0Q2FyZCDZhNmK2LjZh9ixINiy2LEgItiq2LnYr9mK2YQiINmE2YTZhdi52YTZhSDYo9mIINmF2YbYtNimINin2YTYp9iu2KrYqNin2LEKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIGNyZWF0ZVNlbGZUZXN0Q2FyZChzZWxmVGVzdCwgc2VsZlRlc3RJZCkgewogIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBjYXJkLmNsYXNzTmFtZSA9ICJzZWxmLXRlc3QtY2FyZCI7CiAgY2FyZC5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7CmNhcmQuc2V0QXR0cmlidXRlKCJkYXRhLXllYXIiLCBzZWxmVGVzdC55ZWFyIHx8ICIiKTsKY2FyZC5zZXRBdHRyaWJ1dGUoImRhdGEtdGVybSIsIHNlbGZUZXN0LnRlcm0gfHwgIiIpOwogIC8vINi02KfYsdipINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqQogIGxldCB5ZWFyU2hvcnQgPSAiIjsKICBpZiAoc2VsZlRlc3QueWVhcikgewogICAgaWYgKHNlbGZUZXN0LnllYXIuaW5jbHVkZXMoItin2YTYo9mI2YTZiSIpKSB5ZWFyU2hvcnQgPSAiMSDYqyI7CiAgICBlbHNlIGlmIChzZWxmVGVzdC55ZWFyLmluY2x1ZGVzKCLYp9mE2KvYp9mG2YrYqSIpKSB5ZWFyU2hvcnQgPSAiMiDYqyI7CiAgICBlbHNlIGlmIChzZWxmVGVzdC55ZWFyLmluY2x1ZGVzKCLYp9mE2KvYp9mE2KvYqSIpKSB5ZWFyU2hvcnQgPSAiMyDYqyI7CiAgICBlbHNlIHllYXJTaG9ydCA9IHNlbGZUZXN0LnllYXI7CiAgfQoKICAvLyDYtNin2LHYqSDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKCiAgbGV0IHRlcm1TaG9ydCA9ICIiOwogIGlmIChzZWxmVGVzdC50ZXJtKSB7CiAgICBpZiAoc2VsZlRlc3QudGVybS5pbmNsdWRlcygi2KfZhNij2YjZhCIpKSB0ZXJtU2hvcnQgPSAiMSDYqtix2YUiOwogICAgZWxzZSBpZiAoc2VsZlRlc3QudGVybS5pbmNsdWRlcygi2KfZhNir2KfZhtmKIikpIHRlcm1TaG9ydCA9ICIyINiq2LHZhSI7CiAgICBlbHNlIHRlcm1TaG9ydCA9IHNlbGZUZXN0LnRlcm07CiAgfQoKICAvLyDYr9mI2KfYptixINin2YTYtNin2LHYp9iqCiAgbGV0IGJhZGdlc0h0bWwgPSAiIjsKICBpZiAoeWVhclNob3J0KSB7CiAgICBiYWRnZXNIdG1sICs9IGA8ZGl2IGNsYXNzPSJzZWxmdGVzdC15ZWFyLWJhZGdlIiB0aXRsZT0i2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqSIgc3R5bGU9ImxlZnQ6MTBweDsiPiR7eWVhclNob3J0fTwvZGl2PmA7CiAgfQogIGlmICh0ZXJtU2hvcnQpIHsKICAgIGJhZGdlc0h0bWwgKz0gYDxkaXYgY2xhc3M9InNlbGZ0ZXN0LXllYXItYmFkZ2UiIHRpdGxlPSLYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKIiBzdHlsZT0ibGVmdDo2MHB4OyAjM2I4YWUzIDcwJSwgIzA5NDhhMCAxMDAlKSk7Ij4ke3Rlcm1TaG9ydH08L2Rpdj5gOwogIH0KCiAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgaGVhZGVyLmNsYXNzTmFtZSA9ICJzZWxmLXRlc3QtY2FyZC1oZWFkZXIiOwogIGhlYWRlci5pbm5lckhUTUwgPSBgJHtiYWRnZXNIdG1sfTxpIGNsYXNzPSJmYXMgZmEtYnJhaW4iPjwvaT4gJHtzZWxmVGVzdC50aXRsZX1gOwoKICBjb25zdCBib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgYm9keS5jbGFzc05hbWUgPSAic2VsZi10ZXN0LWNhcmQtYm9keSI7CiAgYm9keS5pbm5lckhUTUwgPSBgCiAgICAgICAgPHA+JHtzZWxmVGVzdC5kZXNjcmlwdGlvbiB8fCAi2YTYpyDZitmI2KzYryDZiNi12YEg2YTZhNin2K7Yqtio2KfYsSJ9PC9wPgogICAgICAgIDxwPjxzdHJvbmc+2LnYr9ivINin2YTYo9iz2KbZhNipOjwvc3Ryb25nPiAke3NlbGZUZXN0LnF1ZXN0aW9ucy5sZW5ndGh9PC9wPgogICAgYDsKCiAgY29uc3QgZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgZm9vdGVyLmNsYXNzTmFtZSA9ICdzZWxmLXRlc3QtY2FyZC1mb290ZXInOwoKICAvLyDYstixINio2K/YoSDYp9mE2KfYrtiq2KjYp9ixCiAgY29uc3Qgc3RhcnRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICBzdGFydEJ0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1wcmltYXJ5IjsKICBzdGFydEJ0bi50ZXh0Q29udGVudCA9ICLYqNiv2KEg2KfZhNin2K7Yqtio2KfYsSI7CiAgc3RhcnRCdG4uc3R5bGUubWFyZ2luUmlnaHQgPSAiMTBweCI7CiAgc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBzdGFydFNlbGZUZXN0KHNlbGZUZXN0LCBzZWxmVGVzdElkKSk7CiAgZm9vdGVyLmFwcGVuZENoaWxkKHN0YXJ0QnRuKTsKCiAgLy8g2LLYsSDYqti52K/ZitmEINmK2LjZh9ixINmE2YTZhdi52YTZhSDYo9mIINmF2YbYtNimINin2YTYp9iu2KrYqNin2LEg2YHZgti3CiAgaWYgKHVzZXJSb2xlID09PSAndGVhY2hlcicgfHwgKGN1cnJlbnRVc2VyICYmIHNlbGZUZXN0LnVzZXJJZCA9PT0gY3VycmVudFVzZXIudWlkKSkgewogICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgZWRpdEJ0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1vdXRsaW5lIjsKICAgIGVkaXRCdG4udGV4dENvbnRlbnQgPSAi2KrYudiv2YrZhCI7CiAgICBlZGl0QnRuLnN0eWxlLm1hcmdpblJpZ2h0ID0gIjEwcHgiOwogICAgZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlKSA9PiB7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIGVkaXRTZWxmVGVzdChzZWxmVGVzdCwgc2VsZlRlc3RJZCk7CiAgICB9KTsKICAgIGZvb3Rlci5hcHBlbmRDaGlsZChlZGl0QnRuKTsKICB9CgogIC8vINiy2LEg2K3YsNmBINmE2YTZhdi52YTZhSDZgdmC2LcKICBpZiAodXNlclJvbGUgPT09ICd0ZWFjaGVyJykgewogICAgY29uc3QgZGVsQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICBkZWxCdG4uY2xhc3NOYW1lID0gImJ0biBidG4tZGFuZ2VyIjsKICAgIGRlbEJ0bi50ZXh0Q29udGVudCA9ICLYrdiw2YEiOwogICAgZGVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUpID0+IHsKICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgY29uZmlybURlbGV0ZVNlbGZUZXN0KHNlbGZUZXN0SWQpOwogICAgfSk7CiAgICBmb290ZXIuYXBwZW5kQ2hpbGQoZGVsQnRuKTsKICB9CgogIGNhcmQuYXBwZW5kQ2hpbGQoaGVhZGVyKTsKICBjYXJkLmFwcGVuZENoaWxkKGJvZHkpOwogIGNhcmQuYXBwZW5kQ2hpbGQoZm9vdGVyKTsKICByZXR1cm4gY2FyZDsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYo9i22YEg2K/Yp9mE2KkgZWRpdFNlbGZUZXN0INmE2YHYqtitINi12YHYrdipINin2YTYqti52K/ZitmEINmI2KrYudio2KbYqSDYp9mE2KjZitin2YbYp9iqCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gZWRpdFNlbGZUZXN0KHNlbGZUZXN0LCBzZWxmVGVzdElkKSB7CiAgZWRpdGluZ1NlbGZUZXN0SWQgPSBzZWxmVGVzdElkOwoKICBzZXRBY3RpdmVNZW51SXRlbShtZW51TWFuYWdlU2VsZlRlc3QpOwogIHNob3dQYWdlKG1hbmFnZVNlbGZUZXN0UGFnZSk7CgogIC8vINiq2LnYqNim2Kkg2KjZitin2YbYp9iqINin2YTYp9iu2KrYqNin2LEKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RUaXRsZSIpLnZhbHVlID0gc2VsZlRlc3QudGl0bGUgfHwgIiI7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0RGVzY3JpcHRpb24iKS52YWx1ZSA9IHNlbGZUZXN0LmRlc2NyaXB0aW9uIHx8ICIiOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFllYXIiKS52YWx1ZSA9IHNlbGZUZXN0LnllYXIgfHwgIiI7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0VGVybSIpLnZhbHVlID0gc2VsZlRlc3QudGVybSB8fCAiIjsgLy8g2KrYudio2KbYqSDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKCgogIC8vINiq2LnYqNim2Kkg2KfZhNij2LPYptmE2KkKICBjb25zdCBxdWVzdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RRdWVzdGlvbnNDb250YWluZXIiKTsKICBxdWVzdGlvbnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CiAgc2VsZlRlc3QucXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBpbmRleCkgPT4gewogICAgY29uc3QgcXVlc3Rpb25JZCA9IGBxdWVzdGlvbi0ke0RhdGUubm93KCl9LSR7aW5kZXh9YDsKICAgIGNvbnN0IHF1ZXN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgcXVlc3Rpb25FbGVtZW50LmNsYXNzTmFtZSA9ICJxdWVzdGlvbi1jb250YWluZXIgaW1wb3J0ZWQtcXVlc3Rpb24tbGlnaHQiOwogICAgcXVlc3Rpb25FbGVtZW50LmlkID0gcXVlc3Rpb25JZDsKICAgIHF1ZXN0aW9uRWxlbWVudC5pbm5lckhUTUwgPSBgCiAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtmG2LUg2KfZhNiz2KTYp9mEPC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLXRleHQiIHZhbHVlPSIke3F1ZXN0aW9uLnRleHQgfHwgcXVlc3Rpb24ucXVlc3Rpb25UZXh0IHx8ICcnfSIgcmVxdWlyZWQ+CiAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2LHYp9io2Lcg2KfZhNi12YjYsdipICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLWltYWdlLXVybCIgdmFsdWU9IiR7cXVlc3Rpb24uaW1hZ2VVcmwgfHwgJyd9IiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2LHYp9io2Lcg2KfZhNi12YjYsdipIj4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2K7Zitin2LHYp9iqINin2YTYpdis2KfYqNipPC9sYWJlbD4KICAgICAgICA8ZGl2IGlkPSJvcHRpb25zLSR7cXVlc3Rpb25JZH0iPgogICAgICAgICAgJHtxdWVzdGlvbi5vcHRpb25zLm1hcCgob3B0aW9uLCBvcHRpb25JbmRleCkgPT4gYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24taXRlbSBvcHRpb24taXRlbS1saWdodCI+CiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJjb3JyZWN0LSR7cXVlc3Rpb25JZH0iIHZhbHVlPSIke29wdGlvbkluZGV4fSIgJHtxdWVzdGlvbi5jb3JyZWN0QW5zd2VyID09PSBvcHRpb25JbmRleCA/ICJjaGVja2VkIiA6ICIifSByZXF1aXJlZD4KICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgdmFsdWU9IiR7b3B0aW9uLnRleHR9IiByZXF1aXJlZD4KICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSIgb25jbGljaz0icmVtb3ZlT3B0aW9uKHRoaXMpIiBzdHlsZT0ibWFyZ2luLXJpZ2h0OjhweDsiPjxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT48L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICBgKS5qb2luKCcnKX0KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImFkZC1idG4iIG9uY2xpY2s9ImFkZE9wdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINiu2YrYp9ixCiAgICAgICAgPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJyZW1vdmUtYnRuIiBvbmNsaWNrPSJyZW1vdmVRdWVzdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINin2YTYs9ik2KfZhAogICAgICAgIDwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgIGA7CiAgICBxdWVzdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocXVlc3Rpb25FbGVtZW50KTsKICAgIGVuYWJsZUltYWdlUGFzdGVPblVybEZpZWxkcygpOwogIH0pOwoKICAvLyDYqti52KjYptipINin2YTYt9mE2KfYqCDYp9mE2YXYs9mF2YjYrSDZhNmH2YUKICBsb2FkU3R1ZGVudHNGb3JTZWxmVGVzdChzZWxmVGVzdC5hbGxvd2VkU3R1ZGVudHMgfHwgW10pOwoKICAvLyDYqti62YrZitixINiy2LEg2KfZhNit2YHYuCDZhNmK2YLZiNmFINio2KfZhNiq2K3Yr9mK2Ksg2KjYr9mE2KfZiyDZhdmGINin2YTYpdi22KfZgdipCiAgY29uc3Qgc2VsZlRlc3RGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGZUZXN0Rm9ybScpOwogIHNlbGZUZXN0Rm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0VGl0bGUiKS52YWx1ZTsKICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0RGVzY3JpcHRpb24iKS52YWx1ZTsKICAgIGNvbnN0IHllYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RZZWFyIikudmFsdWU7CiAgICBjb25zdCB0ZXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0VGVybSIpLnZhbHVlIHx8ICIiOyAgIAogICAgY29uc3QgcXVlc3Rpb25zID0gW107CiAgY29uc3QgcXVlc3Rpb25EaXZzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnF1ZXN0aW9uLWNvbnRhaW5lciIpOwogICAgcXVlc3Rpb25EaXZzLmZvckVhY2goZGl2ID0+IHsKICAgICAgY29uc3QgdGV4dCA9IGRpdi5xdWVyeVNlbGVjdG9yKCIucXVlc3Rpb24tdGV4dCIpLnZhbHVlOwogICAgICBjb25zdCBpbWFnZVVybCA9IGRpdi5xdWVyeVNlbGVjdG9yKCIucXVlc3Rpb24taW1hZ2UtdXJsIikudmFsdWU7CiAgICAgIGNvbnN0IG9wdGlvbnMgPSBBcnJheS5mcm9tKGRpdi5xdWVyeVNlbGVjdG9yQWxsKCIub3B0aW9uLXRleHQiKSkubWFwKG9wdCA9PiAoeyB0ZXh0OiBvcHQudmFsdWUgfSkpOwogICAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gcGFyc2VJbnQoZGl2LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWVePSdjb3JyZWN0LSddOmNoZWNrZWQiKS52YWx1ZSk7CiAgICAgIHF1ZXN0aW9ucy5wdXNoKHsKICAgICAgICB0ZXh0OiB0ZXh0IHx8ICIiLAogICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCB8fCBudWxsLAogICAgICAgIG9wdGlvbnMsCiAgICAgICAgY29ycmVjdEFuc3dlcgogICAgICB9KTsKICAgIH0pOwogICAgLy8g2KfZhNi32YTYp9ioINin2YTZhdiz2YXZiNitINmE2YfZhQogICAgbGV0IGFsbG93ZWRTdHVkZW50cyA9IFtdOwogICAgY29uc3QgYWxsb3dlZFNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGxvd2VkU2VsZlRlc3RTdHVkZW50cycpOwogICAgaWYgKGFsbG93ZWRTZWxlY3QpIHsKICAgICAgYWxsb3dlZFN0dWRlbnRzID0gQXJyYXkuZnJvbShhbGxvd2VkU2VsZWN0LnNlbGVjdGVkT3B0aW9ucykubWFwKG9wdCA9PiBvcHQudmFsdWUpOwogICAgfQogICAgZGIuY29sbGVjdGlvbignc2VsZlRlc3RzJykuZG9jKHNlbGZUZXN0SWQpLnVwZGF0ZSh7CiAgICAgIHRpdGxlLAogICAgICBkZXNjcmlwdGlvbiwKICAgICAgcXVlc3Rpb25zLAogICAgICBhbGxvd2VkU3R1ZGVudHMsCiAgICAgIHllYXIsCiAgICAgIHRlcm0sIC8vINit2YHYuCDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKCiAgICAgIHVwZGF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgIH0pLnRoZW4oKCkgPT4gewogICAgICBhbGVydCgi2KrZhSDYqtit2K/ZitirINin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSEiKTsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgIGFsZXJ0KCLYrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdiv2YrYqyDYp9mE2KfYrtiq2KjYp9ixOiAiICsgZXJyb3IubWVzc2FnZSk7CiAgICB9KTsKICB9Owp9Ci8vINin2LPYqtio2K/ZhCDYr9in2YTYqSBsb2FkU2VsZlRlc3RRdWVzdGlvbiDYp9mE2YLYr9mK2YXYqSDYqNmH2LDYpyDYp9mE2YPZiNivICjYqtij2YPYryDYo9mGINmE2K/ZitmDINiv2KfZhNipINmI2KfYrdiv2Kkg2YHZgti3INio2YfYsNinINin2YTYp9iz2YUpCgovLyDYpdmG2LTYp9ihINmG2KfZgdiw2Kkg2YXZhtio2KvZgtipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINil2YbYtNin2KEg2YbYp9mB2LDYqSDYqtij2YPZitivINin2YTYrtix2YjYrCDZhdi5INiy2LEgIti52YjYr9ipINmE2YTYsdim2YrYs9mK2KkiINio2K/ZiNmGIHJlbG9hZAoKLy8g2KfYs9iq2KjYr9mEINiy2LEg2KfZhNiu2LHZiNisINmB2Yog2KfYrtiq2KjYp9ixICLYp9iu2KrYqNixINmG2YHYs9mDIiDYqNmH2LDYpzoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIEdvb2dsZSBTaWduLUluIChwb3B1cCDYq9mFIHJlZGlyZWN0IGZhbGxiYWNrKSDigJQg2LbYuSDYqNi52K8g2KrYudix2YrZgSBmaXJlYmFzZSDZiCBkYgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINi22Lkg2YfYsNinINin2YTZg9mI2K8g2KjYudivINiq2LnYsdmK2YEg2YXYpNi02LHYp9iqIEZpcmViYXNlINij2Ygg2KjYudivINin2YTZg9mI2K8g2KfZhNiw2Yog2YrYsdio2Lcg2LLYsSBnb29nbGVTaWduSW5CdG4gKNmG2YfYp9mK2KkgPHNjcmlwdD4pCihmdW5jdGlvbiAoKSB7CiAgY29uc3QgZm9ybUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnb29nbGVTaWduSW5CdG5Gb3JtJyk7CiAgaWYgKCFmb3JtQnRuKSByZXR1cm47CgogLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmb3JtQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGUpID0+IHsKICBlLnByZXZlbnREZWZhdWx0KCk7CiAgLy8g2KXZhiDZiNmP2KzYryDYstixINin2YTZh9mK2K/YsSDZhti52YrYryDYp9iz2KrYrtiv2KfZhdmHICjYp9mE2YXYudin2YTYrCDZhdix2YPYqCDYqNin2YTZgdi52YQpCiAgY29uc3QgaGVhZGVyQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dvb2dsZVNpZ25JbkJ0bicpOwogIGlmIChoZWFkZXJCdG4pIHsKICAgIGhlYWRlckJ0bi5jbGljaygpOwogICAgcmV0dXJuOwogIH0KCiAgLy8gZmFsbGJhY2s6INiq2LPYrNmK2YQg2YXYqNin2LTYsSDYudio2LEgRmlyZWJhc2UgQXV0aCAocG9wdXApCiAgdHJ5IHsKICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IGZpcmViYXNlLmF1dGguR29vZ2xlQXV0aFByb3ZpZGVyKCk7CiAgICBwcm92aWRlci5hZGRTY29wZSgncHJvZmlsZScpOwogICAgcHJvdmlkZXIuYWRkU2NvcGUoJ2VtYWlsJyk7CiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmaXJlYmFzZS5hdXRoKCkuc2lnbkluV2l0aFBvcHVwKHByb3ZpZGVyKTsKICAgIGNvbnN0IHVzZXIgPSByZXN1bHQudXNlcjsKICAgIGlmICghdXNlcikgdGhyb3cgbmV3IEVycm9yKCfZgdi02YQg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2LnYqNixIEdvb2dsZScpOwoKICAgIC8vINij2YbYtNimINij2Ygg2K3Yr9mR2Ksg2YXYs9iq2YbYryDYp9mE2YXYs9iq2K7Yr9mFCiAgICBjb25zdCB1c2VyUmVmID0gZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2ModXNlci51aWQpOwogICAgY29uc3QgZG9jID0gYXdhaXQgdXNlclJlZi5nZXQoKTsKICAgIGNvbnN0IGJhc2UgPSB7CiAgICAgIG5hbWU6IHVzZXIuZGlzcGxheU5hbWUgfHwgIiIsCiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsIHx8ICIiLAogICAgICBsYXN0QWN0aXZlOiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogICAgfTsKICAgIGlmICghZG9jLmV4aXN0cykgewogICAgICBhd2FpdCB1c2VyUmVmLnNldCh7CiAgICAgICAgLi4uYmFzZSwKICAgICAgICByb2xlOiAic3R1ZGVudCIsCiAgICAgICAgY3JlYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgICBleGFtc0NyZWF0ZWQ6IDAsCiAgICAgICAgZXhhbXNUYWtlbjogMAogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGF3YWl0IHVzZXJSZWYuc2V0KGJhc2UsIHsgbWVyZ2U6IHRydWUgfSk7CiAgICB9CiAgICBzaG93VG9hc3QoItiq2YUg2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2LnYqNixIEdvb2dsZSIsICJzdWNjZXNzIik7CiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7IC8vIOKGkCDYo9i22YEg2YfYsNinINin2YTYs9i32LEg2YTYudmF2YQgcmVmcmVzaCDYqtmE2YLYp9im2YoKICB9IGNhdGNoIChlcnIpIHsKICAgIGNvbnNvbGUuZXJyb3IoIkdvb2dsZSBzaWduLWluIGVycm9yIChmb3JtIGJ0bik6IiwgZXJyKTsKICAgIHNob3dUb2FzdCgi2K7Yt9ijINio2KrYs9is2YrZhCDYp9mE2K/YrtmI2YQg2LnYqNixIEdvb2dsZTogIiArIChlcnIubWVzc2FnZSB8fCBlcnIpLCAiZXJyb3IiKTsKICB9Cn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCn0pKCk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYpdmG2LTYp9ihINmG2KfZgdiw2Kkg2KrYo9mD2YrYryDYp9mE2K7YsdmI2Kwg2YXYuSDYstixICLYudmI2K/YqSDZhNmE2LHYptmK2LPZitipIiDYqNiv2YjZhiByZWxvYWQKZnVuY3Rpb24gY3JlYXRlRXhpdE1vZGFsKCkgewogICAgLy8g2KXZhti02KfYoSDYp9mE2LnZhtin2LXYsQogICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIG1vZGFsLmlkID0gImV4aXRNb2RhbCI7CiAgICBtb2RhbC5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICB0b3A6IDA7CiAgICAgICAgbGVmdDogMDsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICB6LWluZGV4OiAxMDAwOwogICAgYDsKCiAgICBjb25zdCBtb2RhbENvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIG1vZGFsQ29udGVudC5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICB3aWR0aDogOTAlOwogICAgICAgIG1heC13aWR0aDogNDAwcHg7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpOwogICAgICAgIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1pbi1vdXQ7CiAgICBgOwoKICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKTsKICAgIHRpdGxlLnRleHRDb250ZW50ID0gIuKaoO+4jyDYqtij2YPZitivINin2YTYrtix2YjYrCI7CiAgICB0aXRsZS5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgIGZvbnQtc2l6ZTogMS44cmVtOwogICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgIGNvbG9yOiAjZmY0NDQ0OwogICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICBgOwoKICAgIGNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7CiAgICBtZXNzYWdlLnRleHRDb250ZW50ID0gItmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINin2YTYrtix2YjYrCDZhdmGINin2YTYp9iu2KrYqNin2LHYnyDYs9mK2KrZhSDZgdmC2K/Yp9mGINiq2YLYr9mF2YMg2KfZhNit2KfZhNmKLiI7CiAgICBtZXNzYWdlLnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgZm9udC1zaXplOiAxcmVtOwogICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgY29sb3I6ICMzMzM7CiAgICBgOwoKICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGFjdGlvbnMuc3R5bGUuY3NzVGV4dCA9IGAKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICBnYXA6IDEwcHg7CiAgICBgOwoKICAgIC8vINiy2LEg2KfZhNi52YjYr9ipINmE2YTYsdim2YrYs9mK2KkKICAgIGNvbnN0IGhvbWVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgIGhvbWVCdXR0b24udGV4dENvbnRlbnQgPSAi2KfZhNi52YjYr9ipINmE2YTYsdim2YrYs9mK2KkiOwogICAgaG9tZUJ1dHRvbi5zdHlsZS5jc3NUZXh0ID0gYAogICAgICAgIGZsZXg6IDE7CiAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICBmb250LXNpemU6IDFyZW07CiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwYTcwZmY7CiAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgIGA7CiAgICBob21lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgICAgIC8vINil2LLYp9mE2Kkg2KfZhNix2LPYp9mE2Kkg2YjYp9mE2KfZhtiq2YLYp9mEINmE2YTYsdim2YrYs9mK2KkKICAgICAgICBtb2RhbC5yZW1vdmUoKTsKICAgICAgICBzZXRBY3RpdmVNZW51SXRlbShtZW51RGFzaGJvYXJkKTsKICAgICAgICBzaG93UGFnZShkYXNoYm9hcmRQYWdlKTsKICAgICAgICBsb2FkRGFzaGJvYXJkKCk7CiAgICB9KTsKCiAgICAvLyDYstixINil2YTYutin2KEKICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgY2FuY2VsQnV0dG9uLnRleHRDb250ZW50ID0gItil2YTYutin2KEiOwogICAgY2FuY2VsQnV0dG9uLnN0eWxlLmNzc1RleHQgPSBgCiAgICAgICAgZmxleDogMTsKICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgYm9yZGVyOiAycHggc29saWQgIzM0OThkYjsKICAgICAgICBjb2xvcjogIzM0OThkYjsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsKICAgIGA7CiAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICB9KTsKCiAgICAvLyDYqtis2YXZiti5INin2YTYudmG2KfYtdixCiAgICBhY3Rpb25zLmFwcGVuZENoaWxkKGhvbWVCdXR0b24pOwogICAgYWN0aW9ucy5hcHBlbmRDaGlsZChjYW5jZWxCdXR0b24pOwogICAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKHRpdGxlKTsKICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChtZXNzYWdlKTsKICAgIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChhY3Rpb25zKTsKICAgIG1vZGFsLmFwcGVuZENoaWxkKG1vZGFsQ29udGVudCk7CgogICAgLy8g2KXYttin2YHYqSDYp9mE2YbYp9mB2LDYqSDYpdmE2Ykg2KfZhNi12YHYrdipCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsKfQoKLy8g2KfYs9iq2KjYr9mEINiy2LEg2KfZhNiu2LHZiNisINmB2Yog2KfYrtiq2KjYp9ixICLYp9iu2KrYqNixINmG2YHYs9mDIiDYqNmH2LDYpzoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4aXRTZWxmVGVzdEJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgY3JlYXRlRXhpdE1vZGFsKCk7Cn0pOwoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYp9iz2KrYqNiv2KfZhCDZhtin2YHYsNipINin2YTYqtij2YPZitivINin2YTYp9mB2KrYsdin2LbZitipINio2LLYsSDYp9mE2K7YsdmI2KwKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4aXRTZWxmVGVzdEJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgY3JlYXRlRXhpdE1vZGFsKCk7Cn0pOwpmdW5jdGlvbiBzZWFyY2hTZWxmVGVzdHMoKSB7CiAgICBjb25zdCBzZWFyY2hRdWVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hTZWxmVGVzdHNJbnB1dCIpLnZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICBjb25zdCBzZWxmVGVzdHNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RzR3JpZCIpOwogICAgY29uc3Qgc2VsZlRlc3RDYXJkcyA9IHNlbGZUZXN0c0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIuc2VsZi10ZXN0LWNhcmQiKTsKCiAgICBpZiAoc2VhcmNoUXVlcnkudHJpbSgpID09PSAiIikgewogICAgICAgIC8vINil2LDYpyDZg9in2YYg2KfZhNmG2LUg2YHYp9ix2LrZi9in2Iwg2LnYsdi2INis2YXZiti5INin2YTYp9iu2KrYqNin2LHYp9iqCiAgICAgICAgc2VsZlRlc3RDYXJkcy5mb3JFYWNoKGNhcmQgPT4gewogICAgICAgICAgICBjYXJkLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICBsZXQgaGFzUmVzdWx0cyA9IGZhbHNlOwoKICAgIHNlbGZUZXN0Q2FyZHMuZm9yRWFjaChjYXJkID0+IHsKICAgICAgICBjb25zdCB0aXRsZSA9IGNhcmQucXVlcnlTZWxlY3RvcigiLnNlbGYtdGVzdC1jYXJkLWhlYWRlciIpLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCk7CiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoIi5zZWxmLXRlc3QtY2FyZC1ib2R5IikudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKTsKCiAgICAgICAgaWYgKHRpdGxlLmluY2x1ZGVzKHNlYXJjaFF1ZXJ5KSB8fCBkZXNjcmlwdGlvbi5pbmNsdWRlcyhzZWFyY2hRdWVyeSkpIHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsgLy8g2LnYsdi2INin2YTYqNi32KfZgtipINil2LDYpyDYqti32KfYqNmCINin2YTZhti1CiAgICAgICAgICAgIGhhc1Jlc3VsdHMgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNhcmQuc3R5bGUuZGlzcGxheSA9ICJub25lIjsgLy8g2KXYrtmB2KfYoSDYp9mE2KjYt9in2YLYqSDYpdiw2Kcg2YTZhSDYqtiq2LfYp9io2YIKICAgICAgICB9CiAgICB9KTsKCn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8gMS4g2KXYttin2YHYqSDYstixINin2YTYpdmK2YXZiNis2Yog2KjYrNmI2KfYsSDYrdmC2YQg2KfZhNil2K/Yrtin2YQKY29uc3QgY2hhdElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXRJbnB1dCIpOwpjb25zdCBlbW9qaUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwplbW9qaUJ0bi50eXBlID0gImJ1dHRvbiI7CmVtb2ppQnRuLmNsYXNzTmFtZSA9ICJidG4gYnRuLW91dGxpbmUiOwplbW9qaUJ0bi5pbm5lckhUTUwgPSAi8J+YiiI7CmVtb2ppQnRuLnN0eWxlLm1hcmdpbkxlZnQgPSAiNXB4IjsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgplbW9qaUJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgY29uc3QgZW1vamlzID0gWyLwn5iAIiwi8J+YgiIsIvCfmI0iLCLwn5iOIiwi8J+YoiIsIvCfkY0iLCLwn5mPIiwi8J+OiSIsIuKdpO+4jyIsIvCfmKEiXTsKICBsZXQgcGlja2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVtb2ppUGlja2VyIik7CiAgaWYgKCFwaWNrZXIpIHsKICAgIHBpY2tlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgcGlja2VyLmlkID0gImVtb2ppUGlja2VyIjsKICAgIHBpY2tlci5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICBwaWNrZXIuc3R5bGUuekluZGV4ID0gIjMwMDAiOwogICAgcGlja2VyLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICBwaWNrZXIuc3R5bGUuZmxleFdyYXAgPSAid3JhcCI7CiAgICBwaWNrZXIuc3R5bGUuZ2FwID0gIjhweCI7CiAgICBwaWNrZXIuc3R5bGUuYmFja2dyb3VuZCA9ICIjZmZmIjsKICAgIHBpY2tlci5zdHlsZS5ib3JkZXIgPSAiMXB4IHNvbGlkICNkZGQiOwogICAgcGlja2VyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI4cHgiOwogICAgcGlja2VyLnN0eWxlLnBhZGRpbmcgPSAiOHB4IjsKICAgIHBpY2tlci5zdHlsZS5ib3hTaGFkb3cgPSAiMCA0cHggMTZweCAjMGE3MGZmMjIiOwogICAgcGlja2VyLnN0eWxlLndpZHRoID0gY2hhdElucHV0Lm9mZnNldFdpZHRoICsgInB4IjsKICAgIHBpY2tlci5zdHlsZS5sZWZ0ID0gY2hhdElucHV0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgKyAicHgiOwogICAgcGlja2VyLnN0eWxlLnRvcCA9IChjaGF0SW5wdXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gNjApICsgInB4IjsKICAgIGVtb2ppcy5mb3JFYWNoKGUgPT4gewogICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgYnRuLnR5cGUgPSAiYnV0dG9uIjsKICAgICAgYnRuLmNsYXNzTmFtZSA9ICJidG4gYnRuLW91dGxpbmUiOwogICAgICBidG4udGV4dENvbnRlbnQgPSBlOwogICAgICBidG4uc3R5bGUuZm9udFNpemUgPSAiMS4zcmVtIjsKICAgICAgYnRuLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICBjaGF0SW5wdXQudmFsdWUgKz0gZTsKICAgICAgICBwaWNrZXIucmVtb3ZlKCk7CiAgICAgICAgY2hhdElucHV0LmZvY3VzKCk7CiAgICAgIH07CiAgICAgIHBpY2tlci5hcHBlbmRDaGlsZChidG4pOwogICAgfSk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBpY2tlcik7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiBjbG9zZVBpY2tlcihldikgewogICAgICAgIGlmICghcGlja2VyLmNvbnRhaW5zKGV2LnRhcmdldCkgJiYgZXYudGFyZ2V0ICE9PSBlbW9qaUJ0bikgewogICAgICAgICAgcGlja2VyLnJlbW92ZSgpOwogICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBjbG9zZVBpY2tlcik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sIDEwMCk7CiAgfQp9OwovLyAuLi5leGlzdGluZyBjb2RlLi4uCmNoYXRJbnB1dC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShlbW9qaUJ0biwgY2hhdElucHV0Lm5leHRTaWJsaW5nKTsKCi8vIDIuINmF2YrYstipICLZitmD2KrYqCDYp9mE2KLZhiIKbGV0IHR5cGluZ1RpbWVvdXQgPSBudWxsOwpjaGF0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBmdW5jdGlvbigpIHsKICBkYi5jb2xsZWN0aW9uKCJjaGF0VHlwaW5nIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkuc2V0KHsKICAgIHVzZXJOYW1lOiBjdXJyZW50VXNlckRhdGE/Lm5hbWUgfHwgY3VycmVudFVzZXIuZW1haWwsCiAgICB0eXBpbmc6IHRydWUsCiAgICB1cGRhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgfSk7CiAgaWYgKHR5cGluZ1RpbWVvdXQpIGNsZWFyVGltZW91dCh0eXBpbmdUaW1lb3V0KTsKICB0eXBpbmdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICBkYi5jb2xsZWN0aW9uKCJjaGF0VHlwaW5nIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkuc2V0KHsKICAgICAgdHlwaW5nOiBmYWxzZSwKICAgICAgdXBkYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogICAgfSk7CiAgfSwgMjAwMCk7Cn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYo9i22YEg2YfYsNinINin2YTZg9mI2K8g2KjYudivINiq2LnYsdmK2YEgY2hhdElucHV0INij2Ygg2KjYudivINiq2LnYsdmK2YEg2LLYsSDYp9mE2KXYsdiz2KfZhCDZhdio2KfYtNix2KkKLy8g2YTYpyDYqti52YrYryDYqti52LHZitmBIGNoYXRJbnB1dCDZh9mG2KfYjCDZgdmC2Lcg2KfYs9iq2K7Yr9mF2Ycg2YXYqNin2LTYsdipCmNvbnN0IHNlbmRDaGF0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbmRDaGF0QnRuIik7CgovLyDYudmG2K8g2KfZhNi22LrYtyDYudmE2YkgRW50ZXIg2YHZiiDYrdmC2YQg2KfZhNmF2K3Yp9iv2KvYqSDZitiq2YUg2KfZhNil2LHYs9in2YQg2KPZiti22KfZiwpjaGF0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uKGUpIHsKICBpZiAoZS5rZXkgPT09ICJFbnRlciIgJiYgIWUuc2hpZnRLZXkpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHNlbmRDaGF0QnRuLmNsaWNrKCk7CiAgfQp9KTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2LnYsdi2INmF2YYg2YrZg9iq2Kgg2KfZhNii2YYg2YHZiiDYp9mE2KPYudmE2YkKZnVuY3Rpb24gbGlzdGVuRm9yVHlwaW5nU3RhdHVzKCkgewogIGNvbnN0IGNoYXRNZXNzYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0TWVzc2FnZXMiKTsKICBsZXQgdHlwaW5nRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInR5cGluZ1N0YXR1c0RpdiIpOwogIGlmICghdHlwaW5nRGl2KSB7CiAgICB0eXBpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHR5cGluZ0Rpdi5pZCA9ICJ0eXBpbmdTdGF0dXNEaXYiOwogICAgdHlwaW5nRGl2LnN0eWxlID0gImNvbG9yOiMwYTcwZmY7Zm9udC1zaXplOjFyZW07bWFyZ2luLWJvdHRvbTo4cHg7IjsKICAgIGNoYXRNZXNzYWdlcy5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZSh0eXBpbmdEaXYsIGNoYXRNZXNzYWdlcyk7CiAgfQogIGRiLmNvbGxlY3Rpb24oImNoYXRUeXBpbmciKS53aGVyZSgidHlwaW5nIiwgIj09IiwgdHJ1ZSkKICAgIC5vblNuYXBzaG90KHNuYXBzaG90ID0+IHsKICAgICAgbGV0IHR5cGluZ1VzZXJzID0gW107CiAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICBpZiAoZG9jLmlkICE9PSBjdXJyZW50VXNlci51aWQpIHsKICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpOwogICAgICAgICAgdHlwaW5nVXNlcnMucHVzaChkYXRhLnVzZXJOYW1lIHx8ICLZhdiz2KrYrtiv2YUiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAodHlwaW5nVXNlcnMubGVuZ3RoKSB7CiAgICAgICAgdHlwaW5nRGl2LnRleHRDb250ZW50ID0gYCR7dHlwaW5nVXNlcnMuam9pbigiLCAiKX0g2YrZg9iq2Kgg2KfZhNii2YYuLi5gOwogICAgICB9IGVsc2UgewogICAgICAgIHR5cGluZ0Rpdi50ZXh0Q29udGVudCA9ICIiOwogICAgICB9CiAgICB9KTsKfQpsaXN0ZW5Gb3JUeXBpbmdTdGF0dXMoKTsKCi8vINi52YbYryDYpdix2LPYp9mEINin2YTYsdiz2KfZhNip2Iwg2KPZiNmC2YEg2K3Yp9mE2Kkg2KfZhNmD2KrYp9io2KkKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbmRDaGF0QnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXRJbnB1dCIpOwogIGNvbnN0IHRleHQgPSBpbnB1dC52YWx1ZS50cmltKCk7CiAgaWYgKCF0ZXh0KSByZXR1cm47CiAgZGIuY29sbGVjdGlvbigiY2hhdE1lc3NhZ2VzIikuYWRkKHsKICAgIHRleHQsCiAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLnVpZCwKICAgIHVzZXJOYW1lOiBjdXJyZW50VXNlckRhdGE/Lm5hbWUgfHwgY3VycmVudFVzZXIuZW1haWwsCiAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgfSk7CiAgaW5wdXQudmFsdWUgPSAiIjsKICBkYi5jb2xsZWN0aW9uKCJjaGF0VHlwaW5nIikuZG9jKGN1cnJlbnRVc2VyLnVpZCkuc2V0KHsKICAgIHR5cGluZzogZmFsc2UsCiAgICB1cGRhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgfSk7Cn07CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51U2VsZlRlc3RSZXN1bHRzIik/LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZSA9PiB7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICBzZXRBY3RpdmVNZW51SXRlbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVNlbGZUZXN0UmVzdWx0cyIpKTsKICAgIHNob3dQYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFJlc3VsdHNQYWdlIikpOwogICAgbG9hZFNlbGZUZXN0UmVzdWx0cygpOwp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBzaG93RmVlZGJhY2soaW5kZXgpIHsKICBjb25zdCBxdWVzdGlvbiA9IGN1cnJlbnRFeGFtLnF1ZXN0aW9uc1tpbmRleF07CiAgY29uc3Qgc2VsZWN0ZWQgPSB1c2VyQW5zd2Vyc1tpbmRleF07CiAgY29uc3QgZmVlZGJhY2tDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmVlZGJhY2tDb250YWluZXIiKTsKICBmZWVkYmFja0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIGZlZWRiYWNrQ29udGFpbmVyLmlubmVySFRNTCA9ICIiOwoKICAvLyDYpdiy2KfZhNipINin2YTYqtmE2YjZitmGINmF2YYg2YPZhCDYp9mE2K7Zitin2LHYp9iqCiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9wdGlvbi1sYWJlbCcpLmZvckVhY2gobGFiZWwgPT4gewogICAgbGFiZWwuY2xhc3NMaXN0LnJlbW92ZSgic2VsZWN0ZWQiLCAiY29ycmVjdCIsICJ3cm9uZyIpOwogICAgbGFiZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiI7CiAgICBsYWJlbC5zdHlsZS5jb2xvciA9ICIiOwogIH0pOwoKICBpZiAoc2VsZWN0ZWQgPT09IHF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXIpIHsKICAgIC8vINi12K06INmE2YjZhiDYo9iu2LbYsSArINi12YjYqiDYtditCiAgICBjb25zdCBjb3JyZWN0TGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBpbnB1dFtuYW1lPSJzZWxmVGVzdFF1ZXN0aW9uXyR7aW5kZXh9Il1bdmFsdWU9IiR7c2VsZWN0ZWR9Il1gKS5wYXJlbnRFbGVtZW50OwogICAgY29ycmVjdExhYmVsLmNsYXNzTGlzdC5hZGQoImNvcnJlY3QiKTsKICAgIGNvcnJlY3RMYWJlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiI2Q0ZjhlOCI7CiAgICBjb3JyZWN0TGFiZWwuc3R5bGUuY29sb3IgPSAiIzFlN2UzNCI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic291bmQtY29ycmVjdCIpLnBsYXkoKTsKICB9IGVsc2UgewogICAgLy8g2K7Yt9ijOiDZhNmI2YYg2KPYrdmF2LEgKyDYtdmI2Kog2K7Yt9ijCiAgICBjb25zdCB3cm9uZ0xhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgaW5wdXRbbmFtZT0ic2VsZlRlc3RRdWVzdGlvbl8ke2luZGV4fSJdW3ZhbHVlPSIke3NlbGVjdGVkfSJdYCkucGFyZW50RWxlbWVudDsKICAgIHdyb25nTGFiZWwuY2xhc3NMaXN0LmFkZCgid3JvbmciKTsKICAgIHdyb25nTGFiZWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiNmZmVhZWEiOwogICAgd3JvbmdMYWJlbC5zdHlsZS5jb2xvciA9ICIjYzgyMzMzIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzb3VuZC13cm9uZyIpLnBsYXkoKTsKICB9CgogIC8vINil2LjZh9in2LEg2LLYsSDYp9mE2KrYp9mE2Yov2KXZhtmH2KfYoSDYrdiz2Kgg2KfZhNiz2KTYp9mECiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25leHRTZWxmVGVzdFF1ZXN0aW9uQnRuJykuc3R5bGUuZGlzcGxheSA9IGluZGV4IDwgY3VycmVudEV4YW0ucXVlc3Rpb25zLmxlbmd0aCAtIDEgPyAiaW5saW5lLWJsb2NrIiA6ICJub25lIjsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmluaXNoU2VsZlRlc3RCdG4nKS5zdHlsZS5kaXNwbGF5ID0gaW5kZXggPT09IGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5sZW5ndGggLSAxID8gImlubGluZS1ibG9jayIgOiAibm9uZSI7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYo9i22YEg2YfYsNinINin2YTZg9mI2K8g2KjYudivINiq2K3ZhdmK2YQg2LXZgdit2KkgdGVhY2hlckRhc2hib2FyZCDYo9mIINio2LnYryBsb2FkU3R1ZGVudHNQcm9ncmVzcygpCgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudU1hbmFnZVNlbGZUZXN0IikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBfMHgyZGQzZDEgPT4gewogIF8weDJkZDNkMS5wcmV2ZW50RGVmYXVsdCgpOwogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVNYW5hZ2VTZWxmVGVzdCk7CiAgc2hvd1BhZ2UobWFuYWdlU2VsZlRlc3RQYWdlKTsKfSk7Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkU2VsZlRlc3RRdWVzdGlvbkJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogIGNvbnN0IHF1ZXN0aW9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciIpOwogIGNvbnN0IHF1ZXN0aW9uQ291bnQgPSBxdWVzdGlvbnNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLnF1ZXN0aW9uLWNvbnRhaW5lciIpLmxlbmd0aCArIDE7CiAgY29uc3QgcXVlc3Rpb25JZCA9ICJxdWVzdGlvbi0iICsgRGF0ZS5ub3coKTsKICBjb25zdCBxdWVzdGlvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIHF1ZXN0aW9uRGl2LmNsYXNzTmFtZSA9ICJxdWVzdGlvbi1jb250YWluZXIgaW1wb3J0ZWQtcXVlc3Rpb24tbGlnaHQiOwogIHF1ZXN0aW9uRGl2LmlkID0gcXVlc3Rpb25JZDsKICBxdWVzdGlvbkRpdi5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IHN0eWxlPSJmb250LXdlaWdodDpib2xkO2NvbG9yOiMwYTcwZmY7Zm9udC1zaXplOjEuMXJlbTttYXJnaW4tYm90dG9tOjhweDsiPtiz2KTYp9mEINix2YLZhSAke3F1ZXN0aW9uQ291bnR9PC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtmG2LUg2KfZhNiz2KTYp9mEPC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi10ZXh0IiByZXF1aXJlZD4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Ysdin2KjYtyDYp9mE2LXZiNix2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgcXVlc3Rpb24taW1hZ2UtdXJsIiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2LHYp9io2Lcg2KfZhNi12YjYsdipICjYp9iu2KrZitin2LHZiikiPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtiu2YrYp9ix2KfYqiDYp9mE2KXYrNin2KjYqTwvbGFiZWw+CiAgICAgICAgPGRpdiBpZD0ib3B0aW9ucy0ke3F1ZXN0aW9uSWR9Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWl0ZW0iPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJjb3JyZWN0LSR7cXVlc3Rpb25JZH0iIHZhbHVlPSIwIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIG9wdGlvbi10ZXh0IiBwbGFjZWhvbGRlcj0i2KfZhNiu2YrYp9ixINin2YTYo9mI2YQiIHJlcXVpcmVkPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWl0ZW0iPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJjb3JyZWN0LSR7cXVlc3Rpb25JZH0iIHZhbHVlPSIxIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIG9wdGlvbi10ZXh0IiBwbGFjZWhvbGRlcj0i2KfZhNiu2YrYp9ixINin2YTYq9in2YbZiiIgcmVxdWlyZWQ+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYWRkLWJ0biIgb25jbGljaz0iYWRkT3B0aW9uKCcke3F1ZXN0aW9uSWR9JykiPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4g2KXYttin2YHYqSDYrtmK2KfYsQogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0icmVtb3ZlLWJ0biIgb25jbGljaz0icmVtb3ZlUXVlc3Rpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINin2YTYs9ik2KfZhAogICAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CiAgYDsKICBxdWVzdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocXVlc3Rpb25EaXYpOwogIGVuYWJsZUltYWdlUGFzdGVPblVybEZpZWxkcygpOyAvLyDYo9i22YEg2YfYsNinINin2YTYs9i32LEg2YfZhtinCiAgdXBkYXRlUXVlc3Rpb25zTnVtYmVycygpOwp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBhZGRJbXBvcnRlZFF1ZXN0aW9uc1RvQ29udGFpbmVyKHF1ZXN0aW9ucywgY29udGFpbmVySWQpIHsKICBjb25zdCBxdWVzdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7CiAgcXVlc3Rpb25zLmZvckVhY2goKHEsIGlkeCkgPT4gewogICAgY29uc3QgcXVlc3Rpb25Db3VudCA9IHF1ZXN0aW9uc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIucXVlc3Rpb24tY29udGFpbmVyIikubGVuZ3RoICsgMTsKICAgIGNvbnN0IHF1ZXN0aW9uSWQgPSAicXVlc3Rpb24tIiArIChEYXRlLm5vdygpICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApKTsKICAgIGNvbnN0IHF1ZXN0aW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBxdWVzdGlvbkRpdi5jbGFzc05hbWUgPSAicXVlc3Rpb24tY29udGFpbmVyIGltcG9ydGVkLXF1ZXN0aW9uLWxpZ2h0IjsKICAgIHF1ZXN0aW9uRGl2LmlkID0gcXVlc3Rpb25JZDsKICAgIHF1ZXN0aW9uRGl2LmlubmVySFRNTCA9IGAKICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMGE3MGZmO2ZvbnQtc2l6ZToxLjFyZW07bWFyZ2luLWJvdHRvbTo4cHg7Ij7Ys9ik2KfZhCDYsdmC2YUgJHtxdWVzdGlvbkNvdW50fTwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtmG2LUg2KfZhNiz2KTYp9mEPC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi10ZXh0IiB2YWx1ZT0iJHtxLnRleHR9IiByZXF1aXJlZD4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2LHYp9io2Lcg2KfZhNi12YjYsdipICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLWltYWdlLXVybCIgdmFsdWU9IiR7cS5pbWFnZVVybCB8fCAnJ30iIHBsYWNlaG9sZGVyPSLYo9iv2K7ZhCDYsdin2KjYtyDYp9mE2LXZiNix2KkiPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7YrtmK2KfYsdin2Kog2KfZhNil2KzYp9io2Kk8L2xhYmVsPgogICAgICAgIDxkaXYgaWQ9Im9wdGlvbnMtJHtxdWVzdGlvbklkfSI+CiAgICAgICAgICAke3Eub3B0aW9ucy5tYXAoKG9wdGlvbiwgb3B0aW9uSW5kZXgpID0+IGAKICAgICAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWl0ZW0gb3B0aW9uLWl0ZW0tbGlnaHQiPgogICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke3F1ZXN0aW9uSWR9IiB2YWx1ZT0iJHtvcHRpb25JbmRleH0iICR7cS5jb3JyZWN0QW5zd2VyID09PSBvcHRpb25JbmRleCA/ICJjaGVja2VkIiA6ICIifSByZXF1aXJlZD4KICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgdmFsdWU9IiR7b3B0aW9uLnRleHR9IiByZXF1aXJlZD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICBgKS5qb2luKCcnKX0KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImFkZC1idG4iIG9uY2xpY2s9ImFkZE9wdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINiu2YrYp9ixCiAgICAgICAgPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJyZW1vdmUtYnRuIiBvbmNsaWNrPSJyZW1vdmVRdWVzdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINin2YTYs9ik2KfZhAogICAgICAgIDwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgIGA7CiAgICBxdWVzdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocXVlc3Rpb25EaXYpOwogICAgICBlbmFibGVJbWFnZVBhc3RlT25VcmxGaWVsZHMoKTsgLy8g2KPYttmBINmH2LDYpyDYp9mE2LPYt9ixINmH2YbYpwoKICB9KTsKICB1cGRhdGVRdWVzdGlvbnNOdW1iZXJzKCk7Cn0KLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmB2Yog2YbZh9in2YrYqSDZhdmE2YEgPHNjcmlwdD4g2KPZiCDYqNi52K8g2KrYrdmF2YrZhCDYp9mE2LXZgdit2Kkg2YXYqNin2LTYsdipCmZ1bmN0aW9uIHVwZGF0ZVF1ZXN0aW9uc051bWJlcnMoKSB7CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiI3NlbGZUZXN0UXVlc3Rpb25zQ29udGFpbmVyIC5xdWVzdGlvbi1jb250YWluZXIsICNxdWVzdGlvbnNDb250YWluZXIgLnF1ZXN0aW9uLWNvbnRhaW5lciIpLmZvckVhY2goKGRpdiwgaWR4KSA9PiB7CiAgICAvLyDYp9it2LDZgSDYo9mKINi52YbYtdixINiq2LHZgtmK2YUg2YLYr9mK2YUgKNiz2YjYp9ihIGNsYXNzINij2YggZGl2INio2K/Yp9iu2YTZhyDZhti1ICLYs9ik2KfZhCDYsdmC2YUiKQogICAgZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIi5xdWVzdGlvbi1udW1iZXItbGFiZWwsIGRpdiIpLmZvckVhY2goZWwgPT4gewogICAgICBpZiAoCiAgICAgICAgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCJxdWVzdGlvbi1udW1iZXItbGFiZWwiKSB8fAogICAgICAgIChlbC50ZXh0Q29udGVudCAmJiBlbC50ZXh0Q29udGVudC50cmltKCkuc3RhcnRzV2l0aCgi2LPYpNin2YQg2LHZgtmFIikpCiAgICAgICkgewogICAgICAgIGVsLnJlbW92ZSgpOwogICAgICB9CiAgICB9KTsKICAgIC8vINij2LbZgSDYp9mE2KrYsdmC2YrZhSDYp9mE2KzYr9mK2K8g2YHZiiDYp9mE2KPYudmE2YkKICAgIGNvbnN0IG51bURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgbnVtRGl2LmNsYXNzTmFtZSA9ICJxdWVzdGlvbi1udW1iZXItbGFiZWwiOwogICAgbnVtRGl2LnN0eWxlID0gImZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6IzBhNzBmZjtmb250LXNpemU6MS4xcmVtO21hcmdpbi1ib3R0b206OHB4OyI7CiAgICBudW1EaXYudGV4dENvbnRlbnQgPSBg2LPYpNin2YQg2LHZgtmFICR7aWR4ICsgMX1gOwogICAgZGl2LnByZXBlbmQobnVtRGl2KTsKICB9KTsKfQoKLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmB2Yog2YXZhNmBIDxzY3JpcHQ+INio2LnYryDYqtit2YXZitmEINin2YTYtdmB2K3YqSDYo9mIINio2LnYryDYqti52LHZitmBINij2LLYsdin2LEg2KjZhtmDINin2YTYo9iz2KbZhNipCgoKLy8g2KrYudiv2YrZhCDYr9in2YTYqSBsb2FkQ2hhdE1lc3NhZ2VzINmE2LnYsdi2INin2YTYsdiz2KfYptmEINin2YTYtdmI2KrZitipCmZ1bmN0aW9uIGxvYWRDaGF0TWVzc2FnZXMoKSB7CiAgY29uc3QgY2hhdE1lc3NhZ2VzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXRNZXNzYWdlcyIpOwogIGNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSAiPHNwYW4gc3R5bGU9J2NvbG9yOiM4ODg7Jz7YrNin2LHZiiDYqtit2YXZitmEINin2YTYsdiz2KfYptmELi4uPC9zcGFuPiI7CiAgZGIuY29sbGVjdGlvbigiY2hhdE1lc3NhZ2VzIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImFzYyIpLmxpbWl0KDEwMCkKICAgIC5vblNuYXBzaG90KHNuYXBzaG90ID0+IHsKICAgICAgY2hhdE1lc3NhZ2VzLmlubmVySFRNTCA9ICIiOwogICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgY29uc3QgbXNnID0gZG9jLmRhdGEoKTsKICAgICAgICBjb25zdCBpc01pbmUgPSBjdXJyZW50VXNlciAmJiBtc2cudXNlcklkID09PSBjdXJyZW50VXNlci51aWQ7CiAgICAgICAgLy8g2LLYsSDYrdiw2YEg2KfZhNix2LPYp9mE2Kkg2YTZhNmF2LnZhNmFINmB2YLYtwogICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9ICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKQogICAgICAgICAgPyBgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtIiBzdHlsZT0ibWFyZ2luLXJpZ2h0OjhweDsiIG9uY2xpY2s9ImRlbGV0ZUNoYXRNZXNzYWdlKCcke2RvYy5pZH0nKSI+PGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPjwvYnV0dG9uPmAKICAgICAgICAgIDogIiI7CiAgICAgICAgbGV0IG1zZ0NvbnRlbnQgPSAiIjsKICAgICAgICBpZiAobXNnLmF1ZGlvVXJsKSB7CiAgICAgICAgICBtc2dDb250ZW50ID0gYDxhdWRpbyBjb250cm9scyBzdHlsZT0ibWF4LXdpZHRoOjIyMHB4OyI+PHNvdXJjZSBzcmM9IiR7bXNnLmF1ZGlvVXJsfSIgdHlwZT0iYXVkaW8vd2VibSI+PC9hdWRpbz5gOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtc2dDb250ZW50ID0gYDxiPiR7bXNnLnVzZXJOYW1lIHx8ICLZhdiz2KrYrtiv2YUifTwvYj46ICR7bXNnLnRleHR9YDsKICAgICAgICB9CiAgICAgICAgY2hhdE1lc3NhZ2VzLmlubmVySFRNTCArPSBgCiAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjEycHg7dGV4dC1hbGlnbjoke2lzTWluZSA/ICdsZWZ0JyA6ICdyaWdodCd9O2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OiR7aXNNaW5lID8gJ2ZsZXgtc3RhcnQnIDogJ2ZsZXgtZW5kJ307Ij4KICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6JHtpc01pbmUgPyAnIzBhNzBmZicgOiAnIzE0ZWU4OCd9O2NvbG9yOiNmZmY7cGFkZGluZzo4cHggMTRweDtib3JkZXItcmFkaXVzOjhweDtkaXNwbGF5OmlubGluZS1ibG9jazttYXgtd2lkdGg6ODAlO3dvcmQtYnJlYWs6YnJlYWstd29yZDsiPgogICAgICAgICAgICAgICR7bXNnQ29udGVudH0KICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAke2RlbGV0ZUJ0bn0KICAgICAgICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZTowLjhyZW07Y29sb3I6Izg4ODttYXJnaW4tJHtpc01pbmUgPyAnbGVmdCcgOiAncmlnaHQnfTo4cHg7Ij4ke21zZy5jcmVhdGVkQXQ/LnRvRGF0ZSA/IG1zZy5jcmVhdGVkQXQudG9EYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCkgOiAiIn08L3NwYW4+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICBgOwogICAgICB9KTsKICAgICAgY2hhdE1lc3NhZ2VzLnNjcm9sbFRvcCA9IGNoYXRNZXNzYWdlcy5zY3JvbGxIZWlnaHQ7CiAgICB9KTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINi52K/ZhCDYr9in2YTYqSBhZGRPcHRpb24g2YTZitiq2YUg2LnYsdi2INix2LPYp9mE2Kkg2KzZhdmK2YTYqSDYqNiv2YTYp9mLINmF2YYgYWxlcnQKZnVuY3Rpb24gYWRkT3B0aW9uKHF1ZXN0aW9uSWQpIHsKICBjb25zdCBvcHRpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbnMtIiArIHF1ZXN0aW9uSWQpOwogIGNvbnN0IG9wdGlvbkNvdW50ID0gb3B0aW9uc0NvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGg7CiAgaWYgKG9wdGlvbkNvdW50ID49IDUpIHsKICAgIHNob3dOb3RpY2UoItin2YTYrdivINin2YTYo9mC2LXZiSDZhNmE2K7Zitin2LHYp9iqINmH2YggNSIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICBjb25zdCBvcHRpb25EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBvcHRpb25EaXYuY2xhc3NOYW1lID0gJ29wdGlvbi1pdGVtJzsKICBvcHRpb25EaXYuaW5uZXJIVE1MID0gYAogICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke3F1ZXN0aW9uSWR9IiB2YWx1ZT0iJHtvcHRpb25Db3VudH0iIHJlcXVpcmVkPgogICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIG9wdGlvbi10ZXh0IiBwbGFjZWhvbGRlcj0i2KfZhNiu2YrYp9ixICR7b3B0aW9uQ291bnQgKyAxfSIgcmVxdWlyZWQ+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciBidG4tc20iIG9uY2xpY2s9InJlbW92ZU9wdGlvbih0aGlzKSIgc3R5bGU9Im1hcmdpbi1yaWdodDo4cHg7Ij48aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+PC9idXR0b24+CiAgICBgOwogIG9wdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQob3B0aW9uRGl2KTsKfQp3aW5kb3cucmVtb3ZlT3B0aW9uID0gZnVuY3Rpb24oYnRuKSB7CiAgY29uc3Qgb3B0aW9uRGl2ID0gYnRuLmNsb3Nlc3QoJy5vcHRpb24taXRlbScpOwogIGlmICghb3B0aW9uRGl2KSByZXR1cm47CiAgLy8g2YTYpyDYqtiz2YXYrSDYqNit2LDZgSDYpdiw2Kcg2KjZgtmKINiu2YrYp9ix2KfZhiDZgdmC2LcKICBjb25zdCBvcHRpb25zQ29udGFpbmVyID0gb3B0aW9uRGl2LnBhcmVudEVsZW1lbnQ7CiAgaWYgKG9wdGlvbnNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLm9wdGlvbi1pdGVtJykubGVuZ3RoIDw9IDIpIHsKICAgIHNob3dOb3RpY2UoItmK2KzYqCDYo9mGINmK2K3YqtmI2Yog2KfZhNiz2KTYp9mEINi52YTZiSDYrtmK2KfYsdmK2YYg2LnZhNmJINin2YTYo9mC2YQuIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIG9wdGlvbkRpdi5yZW1vdmUoKTsKICAvLyDYpdi52KfYr9ipINiq2LHZgtmK2YUg2YLZitmFINin2YTYsdin2K/ZitmIINio2LnYryDYp9mE2K3YsNmBCiAgQXJyYXkuZnJvbShvcHRpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcHRpb24taXRlbScpKS5mb3JFYWNoKChkaXYsIGlkeCkgPT4gewogICAgZGl2LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9InJhZGlvIl0nKS52YWx1ZSA9IGlkeDsKICB9KTsKfTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LLYsSDYqti52K/ZitmEINin2LPZhSDYp9mE2YHYptipICjYqti52K/ZitmEINin2YTYp9iz2YUg2YHZgti3KQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWRpdENhdGVnb3J5QnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICBjb25zdCBjYXRlZ29yeUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5IikudmFsdWU7CiAgaWYgKCFjYXRlZ29yeUlkKSB7CiAgICBzaG93VG9hc3QoItin2K7YqtixINmB2KbYqSDYo9mI2YTYp9mLISIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICAvLyDYrNmE2Kgg2KjZitin2YbYp9iqINin2YTZgdim2Kkg2KfZhNit2KfZhNmK2KkKICBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkNhdGVnb3JpZXMiKS5kb2MoY2F0ZWdvcnlJZCkuZ2V0KCkudGhlbihkb2MgPT4gewogICAgaWYgKCFkb2MuZXhpc3RzKSB7CiAgICAgIHNob3dUb2FzdCgi2KfZhNmB2KbYqSDYutmK2LEg2YXZiNis2YjYr9ipISIsICJlcnJvciIpOwogICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCBjYXQgPSBkb2MuZGF0YSgpOwogICAgLy8g2YbYp9mB2LDYqSDZhdmG2KjYq9mC2Kkg2YTYqti52K/ZitmEINin2YTYp9iz2YUKICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBtb2RhbC5jbGFzc05hbWUgPSAibW9kYWwiOwogICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIG1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDo0MDBweDt0ZXh0LWFsaWduOmNlbnRlcjsiPgogICAgICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiPtiq2LnYr9mK2YQg2KfYs9mFINin2YTZgdim2Kk8L2gzPgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgPGxhYmVsPtin2LPZhSDYp9mE2YHYptipINin2YTYrNiv2YrYrzwvbGFiZWw+CiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImVkaXRDYXRlZ29yeU5hbWVJbnB1dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgdmFsdWU9IiR7Y2F0Lm5hbWUgfHwgIiJ9IiByZXF1aXJlZD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1hY3Rpb25zIj4KICAgICAgICAgIDxidXR0b24gaWQ9InNhdmVFZGl0Q2F0ZWdvcnlCdG4iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPtit2YHYuDwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBpZD0iY2FuY2VsRWRpdENhdGVnb3J5QnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9kaXY+CiAgICBgOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZUVkaXRDYXRlZ29yeUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IG5ld05hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWRpdENhdGVnb3J5TmFtZUlucHV0IikudmFsdWUudHJpbSgpOwogICAgICBpZiAoIW5ld05hbWUpIHJldHVybjsKICAgICAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25DYXRlZ29yaWVzIikuZG9jKGNhdGVnb3J5SWQpLnVwZGF0ZSh7IG5hbWU6IG5ld05hbWUgfSkudGhlbigoKSA9PiB7CiAgICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICAgICAgcmVmcmVzaEFsbENhdGVnb3J5TGFiZWxzKCk7CiAgICAgICAgc2hvd1RvYXN0KCLYqtmFINiq2LnYr9mK2YQg2KfYs9mFINin2YTZgdim2KkhIiwgInN1Y2Nlc3MiKTsKICAgICAgICBsb2FkUXVlc3Rpb25CYW5rKCk7CiAgICAgIH0pOwogICAgfTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW5jZWxFZGl0Q2F0ZWdvcnlCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICBtb2RhbC5yZW1vdmUoKTsKICAgIH07CiAgfSk7Cn07CgovLyDYstixINmG2YLZhCDYp9mE2YHYptipINil2YTZiSDZgdim2Kkg2KPYrtix2YkgKNiq2LrZitmK2LEg2KfZhNmB2KbYqSDYp9mE2LHYptmK2LPZitipKQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW92ZUNhdGVnb3J5QnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICBjb25zdCBjYXRlZ29yeUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5IikudmFsdWU7CiAgaWYgKCFjYXRlZ29yeUlkKSB7CiAgICBzaG93VG9hc3QoItin2K7YqtixINmB2KbYqSDYo9mI2YTYp9mLISIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICAvLyDYrNmE2Kgg2KzZhdmK2Lkg2KfZhNmB2KbYp9iqICjYudiv2Kcg2KfZhNmB2KbYqSDYp9mE2K3Yp9mE2YrYqSDZiNij2KjZhtin2KbZh9inKQogIGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQ2F0ZWdvcmllcyIpLm9yZGVyQnkoIm5hbWUiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7fTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY2F0ZWdvcmllc1tkb2MuaWRdID0geyAuLi5kb2MuZGF0YSgpLCBpZDogZG9jLmlkLCBjaGlsZHJlbjogW10gfTsKICAgIH0pOwogICAgT2JqZWN0LnZhbHVlcyhjYXRlZ29yaWVzKS5mb3JFYWNoKGNhdCA9PiB7CiAgICAgIGlmIChjYXQucGFyZW50SWQgJiYgY2F0ZWdvcmllc1tjYXQucGFyZW50SWRdKSB7CiAgICAgICAgY2F0ZWdvcmllc1tjYXQucGFyZW50SWRdLmNoaWxkcmVuLnB1c2goY2F0KTsKICAgICAgfQogICAgfSk7CiAgICAvLyDYp9iz2KrYqNi52KfYryDYp9mE2YHYptipINin2YTYrdin2YTZitipINmI2KPYqNmG2KfYptmH2KcKICAgIGZ1bmN0aW9uIGdldERlc2NlbmRhbnRzKGNhdCkgewogICAgICBsZXQgaWRzID0gW2NhdC5pZF07CiAgICAgIGNhdC5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHsKICAgICAgICBpZHMgPSBpZHMuY29uY2F0KGdldERlc2NlbmRhbnRzKGNoaWxkKSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gaWRzOwogICAgfQogICAgY29uc3QgY3VycmVudENhdCA9IGNhdGVnb3JpZXNbY2F0ZWdvcnlJZF07CiAgICBjb25zdCBleGNsdWRlSWRzID0gZ2V0RGVzY2VuZGFudHMoY3VycmVudENhdCk7CiAgICBjb25zdCByb290cyA9IE9iamVjdC52YWx1ZXMoY2F0ZWdvcmllcykuZmlsdGVyKGNhdCA9PiAhY2F0LnBhcmVudElkICYmICFleGNsdWRlSWRzLmluY2x1ZGVzKGNhdC5pZCkpOwoKICAgIGZ1bmN0aW9uIHJlbmRlck9wdGlvbnMoY2F0cywgcHJlZml4ID0gIiIpIHsKICAgICAgbGV0IGh0bWwgPSAiIjsKICAgICAgY2F0cy5mb3JFYWNoKGNhdCA9PiB7CiAgICAgICAgaWYgKCFleGNsdWRlSWRzLmluY2x1ZGVzKGNhdC5pZCkpIHsKICAgICAgICAgIGh0bWwgKz0gYDxvcHRpb24gdmFsdWU9IiR7Y2F0LmlkfSI+JHtwcmVmaXh9JHtjYXQubmFtZX08L29wdGlvbj5gOwogICAgICAgICAgaWYgKGNhdC5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgICAgaHRtbCArPSByZW5kZXJPcHRpb25zKGNhdC5jaGlsZHJlbiwgcHJlZml4ICsgIuKAlCAiKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gaHRtbDsKICAgIH0KCiAgICAvLyDZhtin2YHYsNipINmF2YbYqNir2YLYqSDZhNin2K7YqtmK2KfYsSDYp9mE2YHYptipINin2YTYsdim2YrYs9mK2Kkg2KfZhNis2K/Zitiv2KkKICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBtb2RhbC5jbGFzc05hbWUgPSAibW9kYWwiOwogICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIG1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDo0MDBweDt0ZXh0LWFsaWduOmNlbnRlcjsiPgogICAgICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiPtmG2YLZhCDYp9mE2YHYptipINil2YTZiSDZgdim2Kkg2KPYrtix2Yk8L2gzPgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgPGxhYmVsPtin2K7YqtixINin2YTZgdim2Kkg2KfZhNix2KbZitiz2YrYqSDYp9mE2KzYr9mK2K/YqTo8L2xhYmVsPgogICAgICAgICAgPHNlbGVjdCBpZD0ibmV3UGFyZW50Q2F0ZWdvcnlTZWxlY3QiIGNsYXNzPSJmb3JtLWNvbnRyb2wiPgogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtio2K/ZiNmGINmB2KbYqSDYsdim2YrYs9mK2Kk8L29wdGlvbj4KICAgICAgICAgICAgJHtyZW5kZXJPcHRpb25zKHJvb3RzKX0KICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiPgogICAgICAgICAgPGJ1dHRvbiBpZD0ic2F2ZU1vdmVDYXRlZ29yeUJ0biIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+2YbZgtmEPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIGlkPSJjYW5jZWxNb3ZlQ2F0ZWdvcnlCdG4iIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIGA7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlTW92ZUNhdGVnb3J5QnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgbmV3UGFyZW50SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmV3UGFyZW50Q2F0ZWdvcnlTZWxlY3QiKS52YWx1ZSB8fCBudWxsOwogICAgICBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkNhdGVnb3JpZXMiKS5kb2MoY2F0ZWdvcnlJZCkudXBkYXRlKHsgcGFyZW50SWQ6IG5ld1BhcmVudElkIH0pLnRoZW4oKCkgPT4gewogICAgICAgIG1vZGFsLnJlbW92ZSgpOwogICAgICAgIHJlZnJlc2hBbGxDYXRlZ29yeUxhYmVscygpOwogICAgICAgIHNob3dUb2FzdCgi2KrZhSDZhtmC2YQg2KfZhNmB2KbYqSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgICAgICAgbG9hZFF1ZXN0aW9uQmFuaygpOwogICAgICB9KTsKICAgIH07CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FuY2VsTW92ZUNhdGVnb3J5QnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICB9OwogIH0pOwp9OwoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYudmG2K8g2KXZhti02KfYoSDYp9mE2K7Zitin2LHYp9iqINmB2Yog2KPZiiDZhdmD2KfZhiAo2KfYs9iq2YrYsdin2K/YjCDYpdi22KfZgdipINiz2KTYp9mE2Iwg2KXZhNiuKSDYo9i22YEg2LLYsSDYp9mE2K3YsNmBINio2KzYp9mG2Kgg2YPZhCDYrtmK2KfYsSDZh9mD2LDYpzoKCmZ1bmN0aW9uIHJlbW92ZVF1ZXN0aW9uKHF1ZXN0aW9uSWQpIHsKICAgIGNvbnN0IHF1ZXN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHF1ZXN0aW9uSWQpOwogICAgaWYgKHF1ZXN0aW9uRWxlbWVudCAmJiBjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINmF2YYg2K3YsNmBINmH2LDYpyDYp9mE2LPYpNin2YTYnyIpKSB7CiAgICAgICAgcXVlc3Rpb25FbGVtZW50LnJlbW92ZSgpOwogICAgfQp9CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbmFibGVBbGxTdHVkZW50c0J0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgaWYgKCFjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYqtmB2LnZitmEINis2YXZiti5INin2YTYt9mE2KfYqNifIikpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgZGIuY29sbGVjdGlvbigidXNlcnMiKQogICAgICAgIC53aGVyZSgicm9sZSIsICI9PSIsICJzdHVkZW50IikKICAgICAgICAuZ2V0KCkKICAgICAgICAudGhlbigocXVlcnlTbmFwc2hvdCkgPT4gewogICAgICAgICAgICBjb25zdCBiYXRjaCA9IGRiLmJhdGNoKCk7IC8vINin2LPYqtiu2K/Yp9mFIGJhdGNoINmE2KrYrdiv2YrYqyDYrNmF2YrYuSDYp9mE2LfZhNin2Kgg2K/Zgdi52Kkg2YjYp9it2K/YqQogICAgICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4gewogICAgICAgICAgICAgICAgYmF0Y2gudXBkYXRlKGRvYy5yZWYsIHsgZGlzYWJsZWQ6IGZhbHNlIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJldHVybiBiYXRjaC5jb21taXQoKTsgLy8g2KrZhtmB2YrYsCDYp9mE2KrYrdiv2YrYq9in2KoKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgYWxlcnQoItiq2YUg2KrZgdi52YrZhCDYrNmF2YrYuSDYp9mE2LfZhNin2Kgg2KjZhtis2KfYrSEiKTsKICAgICAgICAgICAgbG9hZFN0dWRlbnRzKCk7IC8vINil2LnYp9iv2Kkg2KrYrdmF2YrZhCDZgtin2KbZhdipINin2YTYt9mE2KfYqAogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICBhbGVydCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2YHYudmK2YQg2KfZhNi32YTYp9ioOiAiICsgZXJyb3IubWVzc2FnZSk7CiAgICAgICAgfSk7Cn0pOwoKZnVuY3Rpb24gc2VhcmNoRXhhbXMoKSB7CiAgICBjb25zdCBzZWFyY2hRdWVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hJbnB1dCIpLnZhbHVlLnRvTG93ZXJDYXNlKCk7CiAgICBjb25zdCBleGFtc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGxFeGFtcyIpOwogICAgY29uc3QgZXhhbUNhcmRzID0gZXhhbXNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLmV4YW0tY2FyZCIpOwoKICAgIGlmIChzZWFyY2hRdWVyeS50cmltKCkgPT09ICIiKSB7CiAgICAgICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2YbYtSDZgdin2LHYutmL2KfYjCDYudix2LYg2KzZhdmK2Lkg2KfZhNin2K7Yqtio2KfYsdin2KoKICAgICAgICBleGFtQ2FyZHMuZm9yRWFjaChjYXJkID0+IHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgbGV0IGhhc1Jlc3VsdHMgPSBmYWxzZTsKCiAgICBleGFtQ2FyZHMuZm9yRWFjaChjYXJkID0+IHsKICAgICAgICBjb25zdCB0aXRsZSA9IGNhcmQucXVlcnlTZWxlY3RvcigiLmV4YW0tY2FyZC1oZWFkZXIiKS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpOwogICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gY2FyZC5xdWVyeVNlbGVjdG9yKCIuZXhhbS1jYXJkLWJvZHkiKS50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpOwoKICAgICAgICBpZiAodGl0bGUuaW5jbHVkZXMoc2VhcmNoUXVlcnkpIHx8IGRlc2NyaXB0aW9uLmluY2x1ZGVzKHNlYXJjaFF1ZXJ5KSkgewogICAgICAgICAgICBjYXJkLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOyAvLyDYudix2LYg2KfZhNio2LfYp9mC2Kkg2KXYsNinINiq2LfYp9io2YIg2KfZhNmG2LUKICAgICAgICAgICAgaGFzUmVzdWx0cyA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOyAvLyDYpdiu2YHYp9ihINin2YTYqNi32KfZgtipINil2LDYpyDZhNmFINiq2KrYt9in2KjZggogICAgICAgIH0KICAgIH0pOwoKICAgIGlmICghaGFzUmVzdWx0cykgewogICAgICAgIGV4YW1zQ29udGFpbmVyLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2Kog2YXYt9in2KjZgtipINmE2KjYrdir2YMuPC9wPiI7CiAgICB9Cn0KLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINio2LnYryDYqtit2YXZitmEINin2K7Yqtio2KfYsdin2KogItin2K7Yqtio2LEg2YbZgdiz2YMiINij2Ygg2KjYudivINiq2LnYsdmK2YEgc2VsZlRlc3RzR3JpZAoKLy8gMS4g2KPYttmBINit2YLZhCDYp9mE2KjYrdirINmB2YogSFRNTCDYo9i52YTZiSDZgtin2KbZhdipINin2K7Yqtio2LEg2YbZgdiz2YMgKNi22LnZhyDZgdmI2YIgPGRpdiBjbGFzcz0iZXhhbXMtY29udGFpbmVyIj4g2KfZhNiu2KfYtdipINio2KfYrtiq2KjYsSDZhtmB2LPZgykKY29uc3Qgc2VsZlRlc3RzU2VhcmNoQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CnNlbGZUZXN0c1NlYXJjaEJveC5pbm5lckhUTUwgPSBgCiAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InNlYXJjaFNlbGZUZXN0c0lucHV0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0i2KfYqNit2Ksg2YHZiiDYp9iu2KrYqNixINmG2YHYs9mDLi4uIj4KYDsKY29uc3Qgc2VsZlRlc3RzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NlbGZUZXN0c0dyaWQiKS5wYXJlbnRFbGVtZW50OwpzZWxmVGVzdHNDb250YWluZXIuaW5zZXJ0QmVmb3JlKHNlbGZUZXN0c1NlYXJjaEJveCwgc2VsZlRlc3RzQ29udGFpbmVyLmZpcnN0Q2hpbGQpOwoKLy8gMi4g2K/Yp9mE2Kkg2KfZhNio2K3YqyDZgdmKINin2K7Yqtio2LEg2YbZgdiz2YMKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlYXJjaFNlbGZUZXN0c0lucHV0IikuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBmdW5jdGlvbiAoKSB7CiAgICBjb25zdCBxdWVyeSA9IHRoaXMudmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7CiAgICBjb25zdCBzZWxmVGVzdHNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c0dyaWQiKTsKICAgIGNvbnN0IHNlbGZUZXN0Q2FyZHMgPSBzZWxmVGVzdHNHcmlkLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zZWxmLXRlc3QtY2FyZCIpOwogICAgbGV0IGZvdW5kID0gZmFsc2U7CiAgICBzZWxmVGVzdENhcmRzLmZvckVhY2goY2FyZCA9PiB7CiAgICAgICAgY29uc3QgdGl0bGUgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoIi5zZWxmLXRlc3QtY2FyZC1oZWFkZXIiKT8udGV4dENvbnRlbnQ/LnRvTG93ZXJDYXNlKCkgfHwgIiI7CiAgICAgICAgY29uc3QgZGVzYyA9IGNhcmQucXVlcnlTZWxlY3RvcigiLnNlbGYtdGVzdC1jYXJkLWJvZHkiKT8udGV4dENvbnRlbnQ/LnRvTG93ZXJDYXNlKCkgfHwgIiI7CiAgICAgICAgaWYgKHRpdGxlLmluY2x1ZGVzKHF1ZXJ5KSB8fCBkZXNjLmluY2x1ZGVzKHF1ZXJ5KSkgewogICAgICAgICAgICBjYXJkLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2FyZC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0KICAgIH0pOwogICAgaWYgKCFmb3VuZCAmJiBxdWVyeS5sZW5ndGggPiAwKSB7CiAgICAgICAgc2VsZlRlc3RzR3JpZC5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2LfYp9io2YLYqSDZhNio2K3Yq9mDLjwvcD4iOwogICAgfSBlbHNlIGlmIChxdWVyeS5sZW5ndGggPT09IDApIHsKICAgICAgICAvLyDYpdi52KfYr9ipINiq2K3ZhdmK2YQg2KfYrtiq2KjYsSDZhtmB2LPZgyDYpdiw2Kcg2KrZhSDZhdiz2K0g2KfZhNio2K3YqwogICAgICAgIGxvYWRTZWxmVGVzdHMoKTsKICAgIH0KfSk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINiy2LEg2K3YsNmBINiv2LHYrNin2Kog2KfYrtiq2KjYp9ixINmF2LnZitmGCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZWxldGVFeGFtR3JhZGVzQnRuIikub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uICgpIHsKICBjb25zdCBleGFtSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ3JhZGVFeGFtRmlsdGVyIikudmFsdWU7CiAgaWYgKCFleGFtSWQpIHsKICAgIHNob3dUb2FzdCgi2KfYrtiq2LEg2KfYrtiq2KjYp9ix2KfZiyDYo9mI2YTYp9mLINmF2YYg2KfZhNmC2KfYptmF2KkhIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIGlmICghY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2K3YsNmBINis2YXZiti5INiv2LHYrNin2Kog2YfYsNinINin2YTYp9iu2KrYqNin2LHYnyDZhNinINmK2YXZg9mGINin2YTYqtix2KfYrNi5INi52YYg2YfYsNinINin2YTYpdis2LHYp9ihISIpKSByZXR1cm47CgogIGxldCBxdWVyeSA9IGRiLmNvbGxlY3Rpb24oInJlc3VsdHMiKS53aGVyZSgiZXhhbUlkIiwgIj09IiwgZXhhbUlkKTsKICAvLyDYpdiw2Kcg2YPYp9mGINin2YTYt9in2YTYqNiMINin2K3YsNmBINmB2YLYtyDYr9ix2KzYp9iq2Ycg2YHZiiDZh9iw2Kcg2KfZhNin2K7Yqtio2KfYsQogIGlmICh1c2VyUm9sZSAhPT0gInRlYWNoZXIiKSB7CiAgICBxdWVyeSA9IHF1ZXJ5LndoZXJlKCJ1c2VySWQiLCAiPT0iLCBjdXJyZW50VXNlci51aWQpOwogIH0KICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHF1ZXJ5LmdldCgpOwogIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgc2hvd1RvYXN0KCLZhNinINiq2YjYrNivINiv2LHYrNin2Kog2YTZh9iw2Kcg2KfZhNin2K7Yqtio2KfYsS4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogIHNuYXBzaG90LmZvckVhY2goZG9jID0+IGJhdGNoLmRlbGV0ZShkb2MucmVmKSk7CiAgYXdhaXQgYmF0Y2guY29tbWl0KCk7CiAgc2hvd1RvYXN0KCLYqtmFINit2LDZgSDYr9ix2KzYp9iqINin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICBsb2FkQWxsR3JhZGVzKCk7CiAgfSBlbHNlIHsKICAgIGxvYWRTdHVkZW50R3JhZGVzKCk7CiAgICBsb2FkU3R1ZGVudFByb2dyZXNzKCk7CiAgfQp9OwoKLy8g2LLYsSDYrdiw2YEg2KzZhdmK2Lkg2K/Ysdis2KfYqiDYp9mE2LfYp9mE2KgKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGV0ZUFsbFN0dWRlbnRHcmFkZXNCdG4iKS5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24gKCkgewogIGlmICghY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2K3YsNmBINis2YXZiti5INiv2LHYrNin2Kog2KfZhNi32KfZhNio2J8g2YTYpyDZitmF2YPZhiDYp9mE2KrYsdin2KzYuSDYudmGINmH2LDYpyDYp9mE2KXYrNix2KfYoSEiKSkgcmV0dXJuOwogIGxldCBxdWVyeSA9IGRiLmNvbGxlY3Rpb24oInJlc3VsdHMiKS53aGVyZSgidXNlcklkIiwgIj09IiwgY3VycmVudFVzZXIudWlkKTsKICBpZiAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikgewogICAgLy8g2YTZhNmF2LnZhNmFOiDYrdiw2YEg2YPZhCDYp9mE2K/Ysdis2KfYqiDZhNmD2YQg2KfZhNi32YTYp9ioCiAgICBpZiAoIWNvbmZpcm0oItij2YbYqiDZhdi52YTZhdiMINmH2YQg2KrYsdmK2K8g2K3YsNmBINis2YXZiti5INin2YTYr9ix2KzYp9iqINmE2YPZhCDYp9mE2LfZhNin2KjYnyIpKSByZXR1cm47CiAgICBxdWVyeSA9IGRiLmNvbGxlY3Rpb24oInJlc3VsdHMiKTsKICB9CiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBxdWVyeS5nZXQoKTsKICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgIHNob3dUb2FzdCgi2YTYpyDYqtmI2KzYryDYr9ix2KzYp9iqINmE2K3YsNmB2YfYpy4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogIHNuYXBzaG90LmZvckVhY2goZG9jID0+IGJhdGNoLmRlbGV0ZShkb2MucmVmKSk7CiAgYXdhaXQgYmF0Y2guY29tbWl0KCk7CiAgc2hvd1RvYXN0KCLYqtmFINit2LDZgSDYrNmF2YrYuSDYp9mE2K/Ysdis2KfYqiDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgaWYgKHVzZXJSb2xlID09PSAidGVhY2hlciIpIHsKICAgIGxvYWRBbGxHcmFkZXMoKTsKICB9IGVsc2UgewogICAgbG9hZFN0dWRlbnRHcmFkZXMoKTsKICAgIGxvYWRTdHVkZW50UHJvZ3Jlc3MoKTsKICB9Cn07CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIGNvbmZpcm1EZWxldGVTbGlkZShfMHg0ZGM5MGEpIHsKICBjb25zdCBfMHgyNjM1NDggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVsZXRlU2xpZGVNb2RhbCIpOwogIF8weDI2MzU0OC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIGNvbnN0IF8weDM5NmNhYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb25maXJtRGVsZXRlU2xpZGVCdG4iKTsKICBjb25zdCBfMHg0M2I1ZDAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FuY2VsRGVsZXRlU2xpZGVCdG4iKTsKICBfMHgzOTZjYWMucmVwbGFjZVdpdGgoXzB4Mzk2Y2FjLmNsb25lTm9kZSh0cnVlKSk7CiAgXzB4NDNiNWQwLnJlcGxhY2VXaXRoKF8weDQzYjVkMC5jbG9uZU5vZGUodHJ1ZSkpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtRGVsZXRlU2xpZGVCdG4nKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIF8weDI2MzU0OC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgZGVsZXRlU2xpZGUoXzB4NGRjOTBhKTsKICB9KTsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FuY2VsRGVsZXRlU2xpZGVCdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIF8weDI2MzU0OC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIH0pOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2LnYr9mEINiv2KfZhNipINit2YHYuCDYp9iu2KrYqNin2LEgItin2K7Yqtio2LEg2YbZgdiz2YMiINmE2KrYqtij2YPYryDZhdmGINis2YTYqCDYp9mE2LfZhNin2Kgg2KfZhNmF2LPZhdmI2K0g2YTZh9mFINio2LTZg9mEINi12K3ZititCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxmVGVzdEZvcm0nKS5vbnN1Ym1pdCA9IGZ1bmN0aW9uKGUpIHsKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KICAgIGNvbnN0IHllYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RZZWFyIikudmFsdWU7IC8vINin2YTZhdix2K3ZhNipINin2YTYr9ix2KfYs9mK2KkKICAgICAgICBjb25zdCB0ZXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0VGVybSIpPy52YWx1ZSB8fCAiIjsgLy8gPC0tINiq2YUg2KfZhNil2LbYp9mB2Kkg2YTYrdmEIFJlZmVyZW5jZUVycm9yCgogICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZlRlc3RUaXRsZSIpLnZhbHVlOwogICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZlRlc3REZXNjcmlwdGlvbicpLnZhbHVlOwogICAgY29uc3QgcXVlc3Rpb25zID0gW107CiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucXVlc3Rpb24tY29udGFpbmVyIikuZm9yRWFjaChkaXYgPT4gewogICAgICAgIGNvbnN0IHRleHQgPSBkaXYucXVlcnlTZWxlY3RvcigiLnF1ZXN0aW9uLXRleHQiKS52YWx1ZTsKICAgICAgICBjb25zdCBpbWFnZVVybCA9IGRpdi5xdWVyeVNlbGVjdG9yKCIucXVlc3Rpb24taW1hZ2UtdXJsIikgPyBkaXYucXVlcnlTZWxlY3RvcigiLnF1ZXN0aW9uLWltYWdlLXVybCIpLnZhbHVlLnRyaW0oKSA6ICIiOwogICAgICAgIGNvbnN0IG9wdGlvbnMgPSBBcnJheS5mcm9tKGRpdi5xdWVyeVNlbGVjdG9yQWxsKCcub3B0aW9uLXRleHQnKSkubWFwKG9wdCA9PiAoeyB0ZXh0OiBvcHQudmFsdWUgfSkpOwogICAgICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBwYXJzZUludChkaXYucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZV49J2NvcnJlY3QtJ106Y2hlY2tlZCIpLnZhbHVlKTsKICAgICAgICBxdWVzdGlvbnMucHVzaCh7CiAgICAgICAgICAgIHRleHQsCiAgICAgICAgICAgIGltYWdlVXJsOiBpbWFnZVVybCB8fCBudWxsLAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICBjb3JyZWN0QW5zd2VyCiAgICAgICAgfSk7CiAgICB9KTsKICAgIGxldCBhbGxvd2VkU3R1ZGVudHMgPSBbXTsKICAgIGNvbnN0IGFsbG93ZWRTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxsb3dlZFNlbGZUZXN0U3R1ZGVudHMnKTsKICAgIGlmIChhbGxvd2VkU2VsZWN0KSB7CiAgICAgICAgYWxsb3dlZFN0dWRlbnRzID0gQXJyYXkuZnJvbShhbGxvd2VkU2VsZWN0LnNlbGVjdGVkT3B0aW9ucykubWFwKG9wdCA9PiBvcHQudmFsdWUpOwogICAgfQogICAgaWYgKGVkaXRpbmdTZWxmVGVzdElkKSB7CiAgICAgICAgZGIuY29sbGVjdGlvbignc2VsZlRlc3RzJykuZG9jKGVkaXRpbmdTZWxmVGVzdElkKS51cGRhdGUoewogICAgICAgICAgICB0aXRsZSwKICAgICAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgICAgIHF1ZXN0aW9ucywKICAgICAgICAgICAgYWxsb3dlZFN0dWRlbnRzLAogICAgICAgICAgICB5ZWFyLCAvLyDYp9mE2YXYsdit2YTYqSDYp9mE2K/Ysdin2LPZitipCiAgICAgICAgICAgIHRlcm0sIC8vINin2YTZgdi12YQg2KfZhNiv2LHYp9iz2YoKICAgICAgICAgICAgdXBkYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICBhbGVydCgi2KrZhSDYqtit2K/ZitirINin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSEiKTsKICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBhbGVydCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3Yr9mK2Ksg2KfZhNin2K7Yqtio2KfYsTogIiArIGVycm9yLm1lc3NhZ2UpOwogICAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgICBkYi5jb2xsZWN0aW9uKCdzZWxmVGVzdHMnKS5hZGQoewogICAgICAgICAgICB0aXRsZSwKICAgICAgICAgICAgZGVzY3JpcHRpb24sCiAgICAgICAgICAgIHF1ZXN0aW9ucywKICAgICAgICAgICAgYWxsb3dlZFN0dWRlbnRzLAogICAgICAgICAgICB5ZWFyLCAvLyDYp9mE2YXYsdit2YTYqSDYp9mE2K/Ysdin2LPZitipCiAgICAgICAgICAgIHRlcm0sIC8vINin2YTZgdi12YQg2KfZhNiv2LHYp9iz2YoKICAgICAgICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlckRhdGE/LlsibmFtZSJdIHx8IGN1cnJlbnRVc2VyLmVtYWlsLAogICAgICAgICAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLnVpZAogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICBhbGVydCgi2KrZhSDYrdmB2Lgg2KfZhNin2K7Yqtio2KfYsSDYqNmG2KzYp9itISIpOwogICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGFsZXJ0KCLYrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2K3Zgdi4INin2YTYp9iu2KrYqNin2LE6ICIgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICB9KTsKICAgIH0KfTsKCi8vINiq2K3ZhdmK2YQg2KfZhNix2LPYp9im2YQg2YXZhiDZgtin2LnYr9ipINin2YTYqNmK2KfZhtin2KoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBsb2FkQ2hhdE1lc3NhZ2VzKCkgewogIGNvbnN0IGNoYXRNZXNzYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGF0TWVzc2FnZXMiKTsKICBjaGF0TWVzc2FnZXMuaW5uZXJIVE1MID0gIjxzcGFuIHN0eWxlPSdjb2xvcjojODg4Oyc+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2LHYs9in2KbZhC4uLjwvc3Bhbj4iOwogIGRiLmNvbGxlY3Rpb24oImNoYXRNZXNzYWdlcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJhc2MiKS5saW1pdCgxMDApCiAgICAub25TbmFwc2hvdChzbmFwc2hvdCA9PiB7CiAgICAgIGNoYXRNZXNzYWdlcy5pbm5lckhUTUwgPSAiIjsKICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgIGNvbnN0IG1zZyA9IGRvYy5kYXRhKCk7CiAgICAgICAgY29uc3QgaXNNaW5lID0gY3VycmVudFVzZXIgJiYgbXNnLnVzZXJJZCA9PT0gY3VycmVudFVzZXIudWlkOwogICAgICAgIC8vINiy2LEg2K3YsNmBINin2YTYsdiz2KfZhNipINmE2YTZhdi52YTZhSDZgdmC2LcKICAgICAgICBjb25zdCBkZWxldGVCdG4gPSAodXNlclJvbGUgPT09ICJ0ZWFjaGVyIikKICAgICAgICAgID8gYDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSIgc3R5bGU9Im1hcmdpbi1yaWdodDo4cHg7IiBvbmNsaWNrPSJkZWxldGVDaGF0TWVzc2FnZSgnJHtkb2MuaWR9JykiPjxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT48L2J1dHRvbj5gCiAgICAgICAgICA6ICIiOwogICAgICAgIGNoYXRNZXNzYWdlcy5pbm5lckhUTUwgKz0gYAogICAgICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMnB4O3RleHQtYWxpZ246JHtpc01pbmUgPyAnbGVmdCcgOiAncmlnaHQnfTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDoke2lzTWluZSA/ICdmbGV4LXN0YXJ0JyA6ICdmbGV4LWVuZCd9OyI+CiAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiR7aXNNaW5lID8gJyMwYTcwZmYnIDogJyMxNGVlODgnfTtjb2xvcjojZmZmO3BhZGRpbmc6OHB4IDE0cHg7Ym9yZGVyLXJhZGl1czo4cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWF4LXdpZHRoOjgwJTt3b3JkLWJyZWFrOmJyZWFrLXdvcmQ7Ij4KICAgICAgICAgICAgICA8Yj4ke21zZy51c2VyTmFtZSB8fCAi2YXYs9iq2K7Yr9mFIn08L2I+OiAke21zZy50ZXh0fQogICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICR7ZGVsZXRlQnRufQogICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjAuOHJlbTtjb2xvcjojODg4O21hcmdpbi0ke2lzTWluZSA/ICdsZWZ0JyA6ICdyaWdodCd9OjhweDsiPiR7bXNnLmNyZWF0ZWRBdD8udG9EYXRlID8gbXNnLmNyZWF0ZWRBdC50b0RhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKSA6ICIifTwvc3Bhbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIGA7CiAgICAgIH0pOwogICAgICBjaGF0TWVzc2FnZXMuc2Nyb2xsVG9wID0gY2hhdE1lc3NhZ2VzLnNjcm9sbEhlaWdodDsKICAgIH0pOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgp3aW5kb3cuZGVsZXRlQ2hhdE1lc3NhZ2UgPSBmdW5jdGlvbihpZCkgewogIGlmICh1c2VyUm9sZSAhPT0gInRlYWNoZXIiKSByZXR1cm47CiAgaWYgKCFjb25maXJtKCLZh9mEINiq2LHZitivINit2LDZgSDZh9iw2Ycg2KfZhNix2LPYp9mE2KnYnyIpKSByZXR1cm47CiAgZGIuY29sbGVjdGlvbigiY2hhdE1lc3NhZ2VzIikuZG9jKGlkKS5kZWxldGUoKTsKfTsKLy8gLi4uZS8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGV0ZUFsbENoYXRCdG4iKS5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24oKSB7CiAgaWYgKHVzZXJSb2xlICE9PSAidGVhY2hlciIpIHJldHVybjsKICBpZiAoIWNvbmZpcm0oItmH2YQg2KrYsdmK2K8g2K3YsNmBINmD2YQg2LPYrNmEINin2YTZhdit2KfYr9ir2KnYnyDZhNinINmK2YXZg9mGINin2YTYqtix2KfYrNi5ISIpKSByZXR1cm47CiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJjaGF0TWVzc2FnZXMiKS5nZXQoKTsKICBpZiAoc25hcHNob3QuZW1wdHkpIHJldHVybjsKICBjb25zdCBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gYmF0Y2guZGVsZXRlKGRvYy5yZWYpKTsKICBhd2FpdCBiYXRjaC5jb21taXQoKTsKICBsb2FkQ2hhdE1lc3NhZ2VzKCk7Cn07Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4vLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51Q2hhdCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZSkgewogIGUucHJldmVudERlZmF1bHQoKTsKICBzZXRBY3RpdmVNZW51SXRlbSh0aGlzKTsKICBzaG93UGFnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhdFBhZ2UiKSk7CiAgbG9hZENoYXRNZXNzYWdlcygpOwogIC8vINil2LjZh9in2LEg2LLYsSDYrdiw2YEg2KfZhNmD2YQg2YTZhNmF2LnZhNmFINmB2YLYtwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZWxldGVBbGxDaGF0QnRuIikuc3R5bGUuZGlzcGxheSA9ICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSA/ICJpbmxpbmUtYmxvY2siIDogIm5vbmUiOwp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLnhpc3RpbmcgY29kZS4uLgovLyDYpdix2LPYp9mEINix2LPYp9mE2Kkg2KzYr9mK2K/YqQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VuZENoYXRCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhdElucHV0Iik7CiAgY29uc3QgdGV4dCA9IGlucHV0LnZhbHVlLnRyaW0oKTsKICBpZiAoIXRleHQpIHJldHVybjsKICBkYi5jb2xsZWN0aW9uKCJjaGF0TWVzc2FnZXMiKS5hZGQoewogICAgdGV4dCwKICAgIHVzZXJJZDogY3VycmVudFVzZXIudWlkLAogICAgdXNlck5hbWU6IGN1cnJlbnRVc2VyRGF0YT8ubmFtZSB8fCBjdXJyZW50VXNlci5lbWFpbCwKICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICB9KTsKICBpbnB1dC52YWx1ZSA9ICIiOwp9OwoKLy8g2LnZhtivINin2YTYtti62Lcg2LnZhNmJINiy2LEgItin2YTZhdit2KfYr9ir2KkiINmB2LnZkdmEINin2YTZgtiz2YUg2YjYrdmF2ZHZhCDYp9mE2LHYs9in2KbZhApkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudUNoYXQiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKICBlLnByZXZlbnREZWZhdWx0KCk7CiAgc2V0QWN0aXZlTWVudUl0ZW0odGhpcyk7CiAgc2hvd1BhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNoYXRQYWdlIikpOwogIGxvYWRDaGF0TWVzc2FnZXMoKTsKfSk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINi52K/ZhCDYr9in2YTYqSBlZGl0RXhhbSDZhNmK2KrZhSDYqtit2YXZitmEINin2YTYt9mE2KfYqCDZiNiq2K3Yr9mK2K8g2KfZhNmF2LPZhdmI2K0g2YTZh9mFINiq2YTZgtin2KbZitin2YsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gZWRpdEV4YW0oZXhhbSwgZXhhbUlkKSB7CiAgICBlZGl0aW5nRXhhbUlkID0gZXhhbUlkOwogICAgc2V0QWN0aXZlTWVudUl0ZW0obWVudUNyZWF0ZUV4YW0pOwogICAgc2hvd1BhZ2UoY3JlYXRlRXhhbVBhZ2UpOwoKICAgIC8vINiq2LnYqNim2Kkg2KjZitin2YbYp9iqINin2YTYp9iu2KrYqNin2LEKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtVGl0bGUiKS52YWx1ZSA9IGV4YW0udGl0bGUgfHwgIiI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbURlc2NyaXB0aW9uIikudmFsdWUgPSBleGFtLmRlc2NyaXB0aW9uIHx8ICIiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1EdXJhdGlvbiIpLnZhbHVlID0gZXhhbS5kdXJhdGlvbiB8fCAzMDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtVG90YWxNYXJrcyIpLnZhbHVlID0gZXhhbS50b3RhbE1hcmtzIHx8IDEwMDsKCiAgICAvLyDZhdmE2KEg2K3ZgtmI2YQg2KfZhNiz2YbYqSDZiNin2YTYqtix2YUg2YTZhNin2K7Yqtio2KfYsQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1ZZWFyIikudmFsdWUgPSBleGFtLnllYXIgfHwgIiI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbVRlcm0iKS52YWx1ZSA9IGV4YW0udGVybSB8fCAiIjsKCiAgICAvLyDYqti52KjYptipINmI2YLYqiDYp9mE2KjYr9in2YrYqSDZiNin2YTZhtmH2KfZitipINil2LDYpyDZg9in2YYg2YXZiNis2YjYr9in2YsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtU3RhcnRUaW1lIikudmFsdWUgPSBleGFtLnN0YXJ0VGltZSA/IG5ldyBEYXRlKGV4YW0uc3RhcnRUaW1lKS50b0lTT1N0cmluZygpLnNsaWNlKDAsMTYpIDogIiI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbUVuZFRpbWUiKS52YWx1ZSA9IGV4YW0uZW5kVGltZSA/IG5ldyBEYXRlKGV4YW0uZW5kVGltZSkudG9JU09TdHJpbmcoKS5zbGljZSgwLDE2KSA6ICIiOwoKICAgIC8vINiq2LnYqNim2Kkg2KfZhNij2LPYptmE2KkgKNit2YXYp9mK2Kkg2YHZiiDYrdin2YQg2YPYp9mG2Kog2KfZhNij2LPYptmE2Kkg2LrZitixINmF2LnYsdmB2KkpCiAgICBjb25zdCBxdWVzdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25zQ29udGFpbmVyIik7CiAgICBxdWVzdGlvbnNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7CgogICAgaWYgKEFycmF5LmlzQXJyYXkoZXhhbS5xdWVzdGlvbnMpICYmIGV4YW0ucXVlc3Rpb25zLmxlbmd0aCA+IDApIHsKICAgICAgZXhhbS5xdWVzdGlvbnMuZm9yRWFjaCgocXVlc3Rpb24sIGluZGV4KSA9PiB7CiAgICAgICAgICBjb25zdCBxdWVzdGlvbklkID0gYHF1ZXN0aW9uLSR7RGF0ZS5ub3coKX0tJHtpbmRleH1gOwogICAgICAgICAgY29uc3QgcXVlc3Rpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICBxdWVzdGlvbkVsZW1lbnQuY2xhc3NOYW1lID0gInF1ZXN0aW9uLWNvbnRhaW5lciBpbXBvcnRlZC1xdWVzdGlvbi1saWdodCI7CiAgICAgICAgICBxdWVzdGlvbkVsZW1lbnQuaWQgPSBxdWVzdGlvbklkOwoKICAgICAgICAgIC8vINiq2KPZg9ivINmF2YYg2YjYrNmI2K8g2YXYtdmB2YjZgdipINin2YTYrtmK2KfYsdin2Kog2YTYqtis2YbYqCDYrti32KMgcnVudGltZQogICAgICAgICAgY29uc3Qgb3B0cyA9IEFycmF5LmlzQXJyYXkocXVlc3Rpb24ub3B0aW9ucykgPyBxdWVzdGlvbi5vcHRpb25zIDogW3sgdGV4dDogIiIgfSwgeyB0ZXh0OiAiIiB9XTsKCiAgICAgICAgICBxdWVzdGlvbkVsZW1lbnQuaW5uZXJIVE1MID0gYAogICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Zhti1INin2YTYs9ik2KfZhDwvbGFiZWw+CiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBxdWVzdGlvbi10ZXh0IiB2YWx1ZT0iJHtxdWVzdGlvbi50ZXh0IHx8IHF1ZXN0aW9uLnF1ZXN0aW9uVGV4dCB8fCAnJ30iIHJlcXVpcmVkPgogICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Ysdin2KjYtyDYp9mE2LXZiNix2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLWltYWdlLXVybCIgdmFsdWU9IiR7cXVlc3Rpb24uaW1hZ2VVcmwgfHwgJyd9IiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2LHYp9io2Lcg2KfZhNi12YjYsdipIj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7YrtmK2KfYsdin2Kog2KfZhNil2KzYp9io2Kk8L2xhYmVsPgogICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJvcHRpb25zLSR7cXVlc3Rpb25JZH0iPgogICAgICAgICAgICAgICAgICAgICR7b3B0cy5tYXAoKG9wdGlvbiwgb3B0aW9uSW5kZXgpID0+IGAKICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pdGVtIG9wdGlvbi1pdGVtLWxpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJjb3JyZWN0LSR7cXVlc3Rpb25JZH0iIHZhbHVlPSIke29wdGlvbkluZGV4fSIgJHtxdWVzdGlvbi5jb3JyZWN0QW5zd2VyID09PSBvcHRpb25JbmRleCA/ICJjaGVja2VkIiA6ICIifSByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgb3B0aW9uLXRleHQiIHZhbHVlPSIke29wdGlvbi50ZXh0IHx8ICcnfSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtIiBvbmNsaWNrPSJyZW1vdmVPcHRpb24odGhpcykiIHN0eWxlPSJtYXJnaW4tcmlnaHQ6OHB4OyI+PGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgYCkuam9pbignJyl9CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImFkZC1idG4iIG9uY2xpY2s9ImFkZE9wdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINiu2YrYp9ixCiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InJlbW92ZS1idG4iIG9uY2xpY2s9InJlbW92ZVF1ZXN0aW9uKCcke3F1ZXN0aW9uSWR9JykiPgogICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPiDYrdiw2YEg2KfZhNiz2KTYp9mECiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgYDsKICAgICAgICAgIHF1ZXN0aW9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChxdWVzdGlvbkVsZW1lbnQpOwogICAgICAgICAgZW5hYmxlSW1hZ2VQYXN0ZU9uVXJsRmllbGRzKCk7CiAgICAgIH0pOwogICAgICB1cGRhdGVRdWVzdGlvbnNOdW1iZXJzKCk7CiAgICB9IGVsc2UgewogICAgICBxdWVzdGlvbnNDb250YWluZXIuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9ImNvbG9yOiM4ODg7cGFkZGluZzoxMHB4OyI+2YTYpyDYqtmI2KzYryDYo9iz2KbZhNipINmE2YfYsNinINin2YTYp9iu2KrYqNin2LEuPC9kaXY+YDsKICAgIH0KCiAgICAvLyDYqtit2YXZitmEINin2YTYt9mE2KfYqCDZiNiq2K3Yr9mK2K8g2KfZhNmF2LPZhdmI2K0g2YTZh9mFINiq2YTZgtin2KbZitin2YsKICAgIGNvbnN0IGFsbG93ZWRTdHVkZW50cyA9IGV4YW0uYWxsb3dlZFN0dWRlbnRzIHx8IFtdOwogICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFsbG93ZWRTdHVkZW50cyIpOwogICAgc2VsZWN0LmlubmVySFRNTCA9ICI8b3B0aW9uIHZhbHVlPVwiXCI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2LfZhNin2KguLi48L29wdGlvbj4iOwogICAgZGIuY29sbGVjdGlvbigndXNlcnMnKS53aGVyZSgicm9sZSIsICc9PScsICJzdHVkZW50IikuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICAgICAgc2VsZWN0LmlubmVySFRNTCA9ICcnOwogICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICAgICAgY29uc3QgdXNlciA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYWxsb3dlZFN0dWRlbnRzLmluY2x1ZGVzKGRvYy5pZCkgPyAic2VsZWN0ZWQiIDogIiI7CiAgICAgICAgICAgIHNlbGVjdC5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9IiR7ZG9jLmlkfSIgJHtzZWxlY3RlZH0+JHt1c2VyLm5hbWV9ICgke3VzZXIuZW1haWx9KTwvb3B0aW9uPmA7CiAgICAgICAgfSk7CiAgICB9KTsKCiAgICAvLyDYqtit2K/ZitirINiv2KfZhNipINin2YTYrdmB2Lgg2YTYqti12KjYrSAi2KrYrdiv2YrYqyDYp9mE2KfYrtiq2KjYp9ixIgogICAgY29uc3QgZXhhbUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbUZvcm0nKTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbUZvcm0nKS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyBmdW5jdGlvbihldmVudCkgewogIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgZm9yIChjb25zdCBjb250YWluZXIgb2YgcXVlc3Rpb25Db250YWluZXJzKSB7CiAgICBjb25zdCBxdWVzdGlvblRleHQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcigiLnF1ZXN0aW9uLXRleHQiKS52YWx1ZS50cmltKCk7CiAgICBjb25zdCBvcHRpb25zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi5vcHRpb24tdGV4dCIpOwogICAgY29uc3QgY29ycmVjdEFuc3dlcklucHV0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYGlucHV0W25hbWVePSJjb3JyZWN0LSJdOmNoZWNrZWRgKTsKICAgIAogICAgaWYgKCFxdWVzdGlvblRleHQpIHsKICAgICAgYWxlcnQoItmK2LHYrNmJINil2K/Yrtin2YQg2YbYtSDYp9mE2LPYpNin2YQuIik7CiAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgaWYgKCFjb3JyZWN0QW5zd2VySW5wdXQpIHsKICAgICAgYWxlcnQoItmK2LHYrNmJINiq2K3Yr9mK2K8g2KfZhNil2KzYp9io2Kkg2KfZhNi12K3Zitit2Kkg2YTYrNmF2YrYuSDYp9mE2KPYs9im2YTYqS4iKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICBjb25zdCBvcHRpb25zQXJyYXkgPSBBcnJheS5mcm9tKG9wdGlvbnMpLm1hcChvcHRpb24gPT4gKHsKICAgICAgdGV4dDogb3B0aW9uLnZhbHVlLnRyaW0oKQogICAgfSkpOwogICAgCiAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gcGFyc2VJbnQoY29ycmVjdEFuc3dlcklucHV0LnZhbHVlKTsKICAgIAogLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpxdWVzdGlvbnMucHVzaCh7CiAgdGV4dDogdGV4dCB8fCBxdWVzdGlvblRleHQgfHwgIiIsIC8vINiq2YjYrdmK2K8g2KfZhNio2YbZitipCiAgaW1hZ2VVcmw6IGltYWdlVXJsIHx8IG51bGwsCiAgb3B0aW9ucywKICBjb3JyZWN0QW5zd2VyCn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCiAgfQogIAogIHRyeSB7CiAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCJleGFtcyIpLmFkZCh7CiAgICAgIHRpdGxlOiBleGFtVGl0bGUsCiAgICAgIGRlc2NyaXB0aW9uOiBleGFtRGVzY3JpcHRpb24sCiAgICAgIGR1cmF0aW9uOiBleGFtRHVyYXRpb24sCiAgICAgIHRvdGFsTWFya3M6IGV4YW1Ub3RhbE1hcmtzLAogICAgICBxdWVzdGlvbnM6IHF1ZXN0aW9ucywKICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlckRhdGE/Lm5hbWUgfHwgY3VycmVudFVzZXIuZW1haWwsCiAgICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgIHVzZXJJZDogY3VycmVudFVzZXIudWlkCiAgICB9KTsKICAgIAogICAgYWxlcnQoItiq2YUg2K3Zgdi4INin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSEiKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtRm9ybSIpLnJlc2V0KCk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25zQ29udGFpbmVyIikuaW5uZXJIVE1MID0gIiI7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGFsZXJ0KCLYrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2K3Zgdi4INin2YTYp9iu2KrYqNin2LE6ICIgKyBlcnJvci5tZXNzYWdlKTsKICB9Cn0pOwoKCgovLyDYpdi22KfZgdipINmB2LXZhCDYrNiv2YrYrwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ2hhcHRlckJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgY29uc3QgY2hhcHRlcnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhcHRlcnNDb250YWluZXIiKTsKICAgIGNvbnN0IGNoYXB0ZXJJZCA9IERhdGUubm93KCk7CiAgICBjb25zdCBjaGFwdGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBjaGFwdGVyRGl2LmNsYXNzTmFtZSA9ICJjaGFwdGVyLWl0ZW0iOwogICAgY2hhcHRlckRpdi5zdHlsZSA9ICJib3JkZXI6MXB4IHNvbGlkICMwYTcwZmY7IGJvcmRlci1yYWRpdXM6OHB4OyBwYWRkaW5nOjE1cHg7IG1hcmdpbi1ib3R0b206MTVweDsgYmFja2dyb3VuZDojZjdmYWZmIjsKICAgIGNoYXB0ZXJEaXYuaWQgPSAiY2hhcHRlci0iICsgY2hhcHRlcklkOwogICAgY2hhcHRlckRpdi5pbm5lckhUTUwgPSBgCiAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgIDxsYWJlbD7YudmG2YjYp9mGINin2YTZgdi12YQ8L2xhYmVsPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBjaGFwdGVyLXRpdGxlIiByZXF1aXJlZD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgPGxhYmVsPtiv2LHZiNizINin2YTZgdi12YQ8L2xhYmVsPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJsZXNzb25zQ29udGFpbmVyIj48L2Rpdj4KICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MgYWRkTGVzc29uQnRuIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4OyI+CiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4g2KXYttin2YHYqSDYr9ix2LMKICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmUtY2hhcHRlci1idG4iIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHg7Ij7Yrdiw2YEg2KfZhNmB2LXZhDwvYnV0dG9uPgogICAgYDsKICAgIGNoYXB0ZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoYXB0ZXJEaXYpOwoKICAgIC8vINil2LbYp9mB2Kkg2K/YsdizINiv2KfYrtmEINin2YTZgdi12YQKICAgIGNoYXB0ZXJEaXYucXVlcnlTZWxlY3RvcigiLmFkZExlc3NvbkJ0biIpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgY29uc3QgbGVzc29uc0NvbnRhaW5lciA9IGNoYXB0ZXJEaXYucXVlcnlTZWxlY3RvcigiLmxlc3NvbnNDb250YWluZXIiKTsKICAgICAgICBjb25zdCBsZXNzb25JZCA9IERhdGUubm93KCk7CiAgICAgICAgY29uc3QgbGVzc29uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgbGVzc29uRGl2LmNsYXNzTmFtZSA9ICJsZXNzb24taXRlbSI7CiAgICAgICAgbGVzc29uRGl2LnN0eWxlID0gImJvcmRlcjoxcHggc29saWQgI2VlZTsgYm9yZGVyLXJhZGl1czo4cHg7IHBhZGRpbmc6MTJweDsgbWFyZ2luLWJvdHRvbToxMHB4OyBiYWNrZ3JvdW5kOiNmOWY5ZjkiOwogICAgICAgIGxlc3NvbkRpdi5pZCA9ICJsZXNzb24tIiArIGxlc3NvbklkOwogICAvLyAuLi5leGlzdGluZyBjb2RlLi4uCmxlc3NvbkRpdi5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWw+2LnZhtmI2KfZhiDYp9mE2K/YsdizPC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBsZXNzb24tdGl0bGUiIHJlcXVpcmVkPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICA8bGFiZWw+2LHYp9io2Lcg2YHZitiv2YrZiCDYp9mE2K/YsdizICjZitmI2KrZitmI2Kgg2KPZiCBtcDQpPC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBsZXNzb24tdmlkZW8iIHBsYWNlaG9sZGVyPSLYsdin2KjYtyDZgdmK2K/ZitmIINin2YTYr9ix2LMiPgogICAgPC9kaXY+CiAgICA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNit2YLZhCDYr9in2K7ZhCBsZXNzb25EaXYg2YHZiiDZg9mEINiv2LHYsyAtLT4KPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICA8bGFiZWw+2YPZhNmF2Kkg2LPYsSDYp9mE2YHZitiv2YrZiCAo2KfYrtiq2YrYp9ix2YopPC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGxlc3Nvbi1wYXNzd29yZCIgcGxhY2Vob2xkZXI9Itin2KrYsdmD2Ycg2YHYp9ix2LrYp9mLINil2LDYpyDZhNmFINiq2LHYutioINio2YPZhNmF2Kkg2LPYsSI+CjwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgPGxhYmVsPtix2KfYqNi3INiq2K3ZhdmK2YQg2YXZhNmBINin2YTYr9ix2LMgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgbGVzc29uLWRvd25sb2FkIiBwbGFjZWhvbGRlcj0i2LHYp9io2Lcg2KrYrdmF2YrZhCDZhdio2KfYtNixINmE2YTZhdmE2YEgKNin2K7YqtmK2KfYsdmKKSI+CiAgICA8L2Rpdj4KICAgIAogICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLWRhbmdlciByZW1vdmUtbGVzc29uLWJ0biI+2K3YsNmBINin2YTYr9ix2LM8L2J1dHRvbj4KYDsKLy8g2KjYudivINil2YbYtNin2KEgbGVzc29uRGl2CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCiAgICAgICAgbGVzc29uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChsZXNzb25EaXYpOwoKICAgICAgICBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLnJlbW92ZS1sZXNzb24tYnRuIikub25jbGljayA9ICgpID0+IHsKICAgICAgICAgICAgbGVzc29uRGl2LnJlbW92ZSgpOwogICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyBlbmFibGVGaWxlVXBsb2FkT25JbnB1dHMoKTsgfSBjYXRjaCAoZXJyKSB7IGNvbnNvbGUuZXJyb3IoJ2VuYWJsZUZpbGVVcGxvYWRPbklucHV0cyBlcnJvcicsIGVycik7IH0KCiAgICB9OwoKICAgIC8vINiy2LEg2K3YsNmBINin2YTZgdi12YQKICAgIGNoYXB0ZXJEaXYucXVlcnlTZWxlY3RvcigiLnJlbW92ZS1jaGFwdGVyLWJ0biIpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgY2hhcHRlckRpdi5yZW1vdmUoKTsKICAgIH07Cn0pOwoKCi8vINi52K/ZhCDYr9in2YTYqSBzdGFydEV4YW0g2YTZitiq2YUg2KfZhNiq2K3ZgtmCINmF2YYg2KfZhNmI2YLYqiDYp9mE2K/ZiNmE2Yog2YLYqNmEINin2YTYs9mF2KfYrSDYqNin2YTYr9iu2YjZhCDZhNmE2KfYrtiq2KjYp9ixCi8vINiv2KfZhNipINmE2LnYsdi2INix2LPYp9mE2Kkg2KzZhdmK2YTYqSDYo9i52YTZiSDYp9mE2LXZgdit2KkKZnVuY3Rpb24gc2hvd0V4YW1UaW1lTm90aWNlKG1lc3NhZ2UsIHR5cGUgPSAiZXJyb3IiKSB7CiAgICAvLyDYpdiw2Kcg2YPYp9mG2Kog2KfZhNix2LPYp9mE2Kkg2YXZiNis2YjYr9ipINmF2LPYqNmC2KfZi9iMINin2K3YsNmB2YfYpwogICAgY29uc3Qgb2xkTm90aWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1UaW1lTm90aWNlIik7CiAgICBpZiAob2xkTm90aWNlKSBvbGROb3RpY2UucmVtb3ZlKCk7CgogICAgY29uc3Qgbm90aWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBub3RpY2UuaWQgPSAiZXhhbVRpbWVOb3RpY2UiOwogICAgbm90aWNlLmNsYXNzTmFtZSA9IGBub3RpY2Ugbm90aWNlLSR7dHlwZX1gOwogICAgbm90aWNlLnN0eWxlLnBvc2l0aW9uID0gImZpeGVkIjsKICAgIG5vdGljZS5zdHlsZS50b3AgPSAiMzBweCI7CiAgICBub3RpY2Uuc3R5bGUucmlnaHQgPSAiMzBweCI7CiAgICBub3RpY2Uuc3R5bGUuekluZGV4ID0gIjIwMDAiOwogICAgbm90aWNlLnN0eWxlLmJhY2tncm91bmQgPSB0eXBlID09PSAiZXJyb3IiID8gIiNGQzVDNjUiIDogIiMxNGVlODgiOwogICAgbm90aWNlLnN0eWxlLmNvbG9yID0gIiNmZmYiOwogICAgbm90aWNlLnN0eWxlLnBhZGRpbmcgPSAiMThweCAzMHB4IjsKICAgIG5vdGljZS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAiMTBweCI7CiAgICBub3RpY2Uuc3R5bGUuZm9udFNpemUgPSAiMS4ycmVtIjsKICAgIG5vdGljZS5zdHlsZS5mb250V2VpZ2h0ID0gImJvbGQiOwogICAgbm90aWNlLnN0eWxlLmJveFNoYWRvdyA9ICIwIDRweCAxMnB4IHJnYmEoMCwwLDAsMC4xMikiOwogICAgbm90aWNlLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICBub3RpY2Uuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgbm90aWNlLnN0eWxlLmdhcCA9ICIxMnB4IjsKICAgIG5vdGljZS5pbm5lckhUTUwgPSBgCiAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1leGNsYW1hdGlvbi10cmlhbmdsZSIgc3R5bGU9ImZvbnQtc2l6ZToxLjVyZW07Ij48L2k+CiAgICAgICAgPHNwYW4+JHttZXNzYWdlfTwvc3Bhbj4KICAgICAgICA8YnV0dG9uIHN0eWxlPSJiYWNrZ3JvdW5kOm5vbmU7Ym9yZGVyOm5vbmU7Y29sb3I6I2ZmZjtmb250LXNpemU6MS41cmVtO2N1cnNvcjpwb2ludGVyO21hcmdpbi1yaWdodDoxMHB4OyIgb25jbGljaz0idGhpcy5wYXJlbnRFbGVtZW50LnJlbW92ZSgpIj4mdGltZXM7PC9idXR0b24+CiAgICBgOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub3RpY2UpOwoKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGlmIChub3RpY2UucGFyZW50RWxlbWVudCkgbm90aWNlLnJlbW92ZSgpOwogICAgfSwgNDAwMCk7Cn0KCi8vINi52K/ZhCDYr9in2YTYqSBzdGFydEV4YW06Ci8vINi52K/ZhCDYr9in2YTYqSBzdGFydEV4YW0g2YTZitmD2YjZhiDZhdmG2LTYpiDYp9mE2KfYrtiq2KjYp9ixICh1c2VySWQpINmE2Ycg2KfZhNit2YIg2YHZiiDYo9iv2KfYoSDYp9mE2KfZhdiq2K3Yp9mGINiv2KfYptmF2KfZiwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmFzeW5jIGZ1bmN0aW9uIHN0YXJ0RXhhbShleGFtLCBleGFtSWQpIHsKICAgIC8vINin2YTYqtit2YPZhSDZgdmKINin2YTYr9iu2YjZhCDYudio2LEg2LLYsSAi2KrYrdiv2YrYryDYp9mE2LXZhNin2K3Zitin2KoiINmB2YLYtyDZiNmE2YrYsyBhbGxvd2VkU3R1ZGVudHMKICAgIGxldCBpc0FsbG93ZWQgPSBmYWxzZTsKCiAgICAvLyDZhdmG2LTYpiDYp9mE2KfZhdiq2K3Yp9mGINmK2YXZg9mG2Ycg2KfZhNiv2K7ZiNmEINiv2KfYptmF2KfZiwogICAgY29uc3QgaXNPd25lciA9IGN1cnJlbnRVc2VyICYmIGV4YW0udXNlcklkID09PSBjdXJyZW50VXNlci51aWQ7CgogICAgLy8g2KXYsNinINmD2KfZhiDZh9mG2KfZgyDZgtin2KbZhdipIGFsbG93ZWRTdHVkZW50cyAo2YLYp9im2YXYqSDYp9mE2LfZhNin2Kgg2KfZhNmF2LPZhdmI2K0g2YTZh9mFINio2LHYpNmK2Kkg2KfZhNin2YXYqtit2KfZhikKICAgIGlmIChBcnJheS5pc0FycmF5KGV4YW0uYWxsb3dlZFN0dWRlbnRzKSAmJiBleGFtLmFsbG93ZWRTdHVkZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g2YHZgti3INmF2YYg2YHZiiDYp9mE2YLYp9im2YXYqSDYo9mIINmF2YbYtNimINin2YTYp9mF2KrYrdin2YYKICAgICAgICBpc0FsbG93ZWQgPSAoY3VycmVudFVzZXIgJiYgZXhhbS5hbGxvd2VkU3R1ZGVudHMuaW5jbHVkZXMoY3VycmVudFVzZXIudWlkKSkgfHwgaXNPd25lcjsKICAgIH0gZWxzZSB7CiAgICAgICAgLy8g2KXYsNinINmE2YUg2YrYqtmFINiq2K3Yr9mK2K8gYWxsb3dlZFN0dWRlbnRzINij2Ygg2YPYp9mG2Kog2YHYp9ix2LrYqToKICAgICAgICAvLyDYp9mE2LPZhdin2K0g2YHZgti3INmE2YXZhiDZhNiv2YrZhyDYp9mE2KfZhdiq2K3Yp9mGINmB2YogYWxsb3dlZEV4YW1zINij2Ygg2YXZhti02KYg2KfZhNin2YXYqtit2KfZhgogICAgICAgIGlzQWxsb3dlZCA9IChjdXJyZW50VXNlckRhdGE/LmFsbG93ZWRFeGFtcyAmJiBjdXJyZW50VXNlckRhdGEuYWxsb3dlZEV4YW1zLmluY2x1ZGVzKGV4YW1JZCkpIHx8IGlzT3duZXI7CiAgICB9CgppZiAoIWlzQWxsb3dlZCkgewogICAgc2hvd0FjY2Vzc0RlbmllZE1vZGFsKCk7CiAgICByZXR1cm47Cn0KCiAgICAvLyDYqtit2YLZgiDZhdmGINin2YTZiNmC2Kog2KfZhNiv2YjZhNmKCiAgICBpZiAoZXhhbS5zdGFydFRpbWUgJiYgZXhhbS5lbmRUaW1lKSB7CiAgICAgICAgY29uc3Qgbm93VVRDID0gRGF0ZS5ub3coKTsKICAgICAgICBjb25zdCBzdGFydFVUQyA9IG5ldyBEYXRlKGV4YW0uc3RhcnRUaW1lKS5nZXRUaW1lKCk7CiAgICAgICAgY29uc3QgZW5kVVRDID0gbmV3IERhdGUoZXhhbS5lbmRUaW1lKS5nZXRUaW1lKCk7CgogICAgICAgIGlmIChub3dVVEMgPCBzdGFydFVUQykgewogICAgICAgICAgICBzaG93RXhhbVRpbWVOb3RpY2UoItmE2YUg2YrYqNiv2KMg2YjZgtiqINin2YTYp9mF2KrYrdin2YYg2KjYudivLiIsICJlcnJvciIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChub3dVVEMgPiBlbmRVVEMpIHsKICAgICAgICAgICAgc2hvd0V4YW1UaW1lTm90aWNlKCLYp9mG2KrZh9mJINmI2YLYqiDYp9mE2KfZhdiq2K3Yp9mGLiIsICJlcnJvciIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgIC8vINiv2LnZhSDYp9iz2KrZg9mF2KfZhCDYp9mE2KzZhNiz2Kkg2KjYudivIHJlbG9hZCDZhdi5INmG2KfZgdiw2Kkg2YXZhtio2KvZgtipINis2YXZitmE2KkKICAgIGxldCBzZXNzaW9uRGF0YSA9IG51bGw7CiAgICB0cnkgewogICAgICAgIHNlc3Npb25EYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZXhhbVNlc3Npb24iKSk7CiAgICB9IGNhdGNoIHt9CiAgICBpZiAoCiAgICAgICAgc2Vzc2lvbkRhdGEgJiYKICAgICAgICBzZXNzaW9uRGF0YS5leGFtSWQgPT09IGV4YW1JZCAmJgogICAgICAgIHNlc3Npb25EYXRhLnVzZXJBbnN3ZXJzICYmCiAgICAgICAgdHlwZW9mIHNlc3Npb25EYXRhLmN1cnJlbnRRdWVzdGlvbkluZGV4ID09PSAibnVtYmVyIgogICAgKSB7CiAgICAgICAgc2hvd1Jlc3VtZUV4YW1Nb2RhbCgKICAgICAgICAgICAgLy8g2KfYs9iq2YPZhdin2YQKICAgICAgICAgICAgKCkgPT4gewogICAgICAgICAgICAgICAgdXNlckFuc3dlcnMgPSBzZXNzaW9uRGF0YS51c2VyQW5zd2VyczsKICAgICAgICAgICAgICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gc2Vzc2lvbkRhdGEuY3VycmVudFF1ZXN0aW9uSW5kZXg7CiAgICAgICAgICAgICAgICB0aW1lTGVmdCA9IHR5cGVvZiBzZXNzaW9uRGF0YS50aW1lTGVmdCA9PT0gIm51bWJlciIgPyBzZXNzaW9uRGF0YS50aW1lTGVmdCA6IChleGFtLmR1cmF0aW9uICogNjApOwogICAgICAgICAgICAgICAgY29udGludWVTdGFydEV4YW0oKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8g2KjYr9ihINmF2YYg2KzYr9mK2K8KICAgICAgICAgICAgKCkgPT4gewogICAgICAgICAgICAgICAgdXNlckFuc3dlcnMgPSB7fTsKICAgICAgICAgICAgICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4ID0gMDsKICAgICAgICAgICAgICAgIHRpbWVMZWZ0ID0gZXhhbS5kdXJhdGlvbiAqIDYwOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImV4YW1TZXNzaW9uIik7CiAgICAgICAgICAgICAgICBjb250aW51ZVN0YXJ0RXhhbSgpOwogICAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgICByZXR1cm47IC8vINin2YbYqti42LEg2KfYrtiq2YrYp9ixINin2YTZhdiz2KrYrtiv2YUKICAgIH0gZWxzZSB7CiAgICAgICAgdXNlckFuc3dlcnMgPSB7fTsKICAgICAgICBjdXJyZW50UXVlc3Rpb25JbmRleCA9IDA7CiAgICAgICAgdGltZUxlZnQgPSBleGFtLmR1cmF0aW9uICogNjA7CiAgICB9CgogICAgY29udGludWVTdGFydEV4YW0oKTsKCiAgICAvLyDYr9in2YTYqSDYr9in2K7ZhNmK2Kkg2YTYqti02LrZitmEINin2YTYp9mF2KrYrdin2YYg2KjYudivINin2K7YqtmK2KfYsSDYp9mE2YXYs9iq2K7Yr9mFCiAgICBmdW5jdGlvbiBjb250aW51ZVN0YXJ0RXhhbSgpIHsKICAgICAgICBjdXJyZW50RXhhbSA9IHsKICAgICAgICAgICAgLi4uZXhhbSwKICAgICAgICAgICAgJ2lkJzogZXhhbUlkCiAgICAgICAgfTsKICAgICAgICB1cGRhdGVUaW1lckRpc3BsYXkoKTsKICAgICAgICBpZiAodGltZXJJbnRlcnZhbCkgY2xlYXJJbnRlcnZhbCh0aW1lckludGVydmFsKTsKICAgICAgICB0aW1lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICB0aW1lTGVmdC0tOwogICAgICAgICAgICB1cGRhdGVUaW1lckRpc3BsYXkoKTsKICAgICAgICAgICAgc2F2ZUV4YW1TZXNzaW9uKCk7IC8vINit2YHYuCDYp9mE2KzZhNiz2Kkg2YPZhCDYq9in2YbZitipCiAgICAgICAgICAgIGlmICh0aW1lTGVmdCA8PSAwKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgZmluYWxpemVFeGFtU3VibWlzc2lvbigpOwogICAgICAgICAgICB9CiAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgbG9hZFF1ZXN0aW9uKGN1cnJlbnRRdWVzdGlvbkluZGV4KTsKCiAgICAgICAgLy8g2KrZgdi52YrZhCDYo9iy2LHYp9ixINin2YTYqtin2YTZii/Yp9mE2LPYp9io2YIv2KfZhtmH2KfYoSDYudmG2K8g2KfYs9iq2YPZhdin2YQg2KfZhNis2YTYs9ipCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByZXZRdWVzdGlvbkJ0biIpLmRpc2FibGVkID0gY3VycmVudFF1ZXN0aW9uSW5kZXggPT09IDA7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5leHRRdWVzdGlvbkJ0biIpLmRpc2FibGVkID0gY3VycmVudFF1ZXN0aW9uSW5kZXggPT09IGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5sZW5ndGggLSAxOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXh0UXVlc3Rpb25CdG4iKS5zdHlsZS5kaXNwbGF5ID0gY3VycmVudEV4YW0ucXVlc3Rpb25zLmxlbmd0aCA8PSAxID8gIm5vbmUiIDogImlubGluZS1ibG9jayI7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByZXZRdWVzdGlvbkJ0biIpLnN0eWxlLmRpc3BsYXkgPSBjdXJyZW50RXhhbS5xdWVzdGlvbnMubGVuZ3RoIDw9IDEgPyAibm9uZSIgOiAiaW5saW5lLWJsb2NrIjsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3VibWl0RXhhbUJ0biIpLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1WaWV3VGl0bGUiKS50ZXh0Q29udGVudCA9IGV4YW0udGl0bGU7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQ291bnQiKS50ZXh0Q29udGVudCA9IGV4YW0ucXVlc3Rpb25zLmxlbmd0aDsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG90YWxNYXJrcyIpLnRleHRDb250ZW50ID0gZXhhbS50b3RhbE1hcmtzIHx8IDEwMDsKICAgICAgICBzaG93UGFnZSh0YWtlRXhhbVBhZ2UpOwogICAgfQp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINiy2LEg2YLZgdmEINmD2YQg2KfZhNi32YTYp9ioCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsb2NrQWxsU3R1ZGVudHNCdG4iKS5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24oKSB7CiAgaWYgKCFjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDZgtmB2YQg2KzZhdmK2Lkg2KfZhNi32YTYp9io2J8iKSkgcmV0dXJuOwogIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGIuY29sbGVjdGlvbigidXNlcnMiKS53aGVyZSgicm9sZSIsICI9PSIsICJzdHVkZW50IikuZ2V0KCk7CiAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICBzaG93VG9hc3QoItmE2Kcg2YrZiNis2K8g2LfZhNin2Kgg2YTZgtmB2YTZh9mFLiIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICBjb25zdCBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgZGIuY29sbGVjdGlvbigic3R1ZGVudExvY2tzIikuZG9jKGRvYy5pZCkuc2V0KHsKICAgICAgbG9ja2VkOiB0cnVlLAogICAgICBtZXNzYWdlOiAi2YrYqtmFINix2YHYuSDYp9mF2KrYrdin2YYg2KfZhtiq2LjYsSDZgtmE2YrZhNin2YsiLAogICAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgICB9KTsKICB9KTsKICBzaG93VG9hc3QoItiq2YUg2YLZgdmEINis2YXZiti5INin2YTYt9mE2KfYqCDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7Cn07CgovLyDYstixINil2YTYutin2KEg2YLZgdmEINmD2YQg2KfZhNi32YTYp9ioCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ1bmxvY2tBbGxTdHVkZW50c0J0biIpLm9uY2xpY2sgPSBhc3luYyBmdW5jdGlvbigpIHsKICBpZiAoIWNvbmZpcm0oItmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINil2YTYutin2KEg2YLZgdmEINis2YXZiti5INin2YTYt9mE2KfYqNifIikpIHJldHVybjsKICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oInVzZXJzIikud2hlcmUoInJvbGUiLCAiPT0iLCAic3R1ZGVudCIpLmdldCgpOwogIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgc2hvd1RvYXN0KCLZhNinINmK2YjYrNivINi32YTYp9ioINmE2KXZhNi62KfYoSDYp9mE2YLZgdmEINi52YbZh9mFLiIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICBjb25zdCBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgZGIuY29sbGVjdGlvbigic3R1ZGVudExvY2tzIikuZG9jKGRvYy5pZCkuZGVsZXRlKCk7CiAgfSk7CiAgc2hvd1RvYXN0KCLYqtmFINil2YTYutin2KEg2YLZgdmEINis2YXZiti5INin2YTYt9mE2KfYqCDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7Cn07Ci8vINi52YbYryDYp9mG2KrZh9in2KEg2KfZhNmI2YLYqiDYp9mE2YXYqtio2YLZiiDZitiq2YUg2KrYs9mE2YrZhSDYp9mE2KfYrtiq2KjYp9ixINiq2YTZgtin2KbZitin2Ysg2K3YqtmJINmE2Ygg2YTZhSDZitiq2YUg2K3ZhCDYo9mKINiz2KTYp9mECi8vINi52K/ZhCDYr9in2YTYqSBzdGFydEV4YW0g2YTZitiq2YUg2KrZgdi52YrZhCDYo9iy2LHYp9ixINin2YTYqtin2YTZii/Yp9mE2LPYp9io2YIv2KfZhtmH2KfYoSDYudmG2K8g2KfYs9iq2YPZhdin2YQg2KfZhNis2YTYs9ipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCmZ1bmN0aW9uIHNob3dSZXN1bWVFeGFtTW9kYWwob25Db250aW51ZSwgb25SZXN0YXJ0KSB7CiAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVzdW1lRXhhbU1vZGFsIik7CiAgICBpZiAoIW1vZGFsKSB7CiAgICAgICAgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBtb2RhbC5pZCA9ICJyZXN1bWVFeGFtTW9kYWwiOwogICAgICAgIG1vZGFsLmNsYXNzTmFtZSA9ICJtb2RhbCI7CiAgICAgICAgbW9kYWwuaW5uZXJIVE1MID0gYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4KICAgICAgICAgICAgICAgIDxoMiBjbGFzcz0ibW9kYWwtdGl0bGUiIHN0eWxlPSJjb2xvcjojMGE3MGZmOyI+2KfYs9iq2YPZhdin2YQg2KfZhNin2YXYqtit2KfZhjwvaDI+CiAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibW9kYWwtbWVzc2FnZSIgc3R5bGU9ImZvbnQtc2l6ZToxLjFyZW07Ij4KICAgICAgICAgICAgICAgICAgICDZhNiv2YrZgyDYp9mF2KrYrdin2YYg2YTZhSDZitmG2KrZh9mQINio2LnYry48YnI+CiAgICAgICAgICAgICAgICAgICAg2YfZhCDYqtix2YrYryA8Yj7Yp9iz2KrZg9mF2KfZhCDYp9mE2KfZhdiq2K3Yp9mGPC9iPiDZhdmGINit2YrYqyDYqtmI2YLZgdiqINij2YUgPGI+2KfZhNio2K/YoSDZhdmGINis2K/ZitivPC9iPtifCiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1hY3Rpb25zIiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDoxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0icmVzdW1lRXhhbUJ0biIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgc3R5bGU9ImZsZXg6MTsiPtin2LPYqtmD2YXYp9mEPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD0icmVzdGFydEV4YW1CdG4iIGNsYXNzPSJidG4gYnRuLWRhbmdlciIgc3R5bGU9ImZsZXg6MTsiPtio2K/YoSDZhdmGINis2K/ZitivPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgYDsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsKICAgIH0KICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CgogICAgLy8g2KrYrdmC2YIg2YXZhiDYp9mE2YjZgtiqINin2YTZhdiq2KjZgtmKINmC2KjZhCDYp9mE2LPZhdin2K0g2KjYp9mE2KfYs9iq2YPZhdin2YQKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXN1bWVFeGFtQnRuIikub25jbGljayA9ICgpID0+IHsKICAgICAgICAvLyDYrNmE2Kgg2KjZitin2YbYp9iqINin2YTYrNmE2LPYqSDZhdmGIGxvY2FsU3RvcmFnZQogICAgICAgIGxldCBzZXNzaW9uRGF0YSA9IG51bGw7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgc2Vzc2lvbkRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJleGFtU2Vzc2lvbiIpKTsKICAgICAgICB9IGNhdGNoIHt9CiAgICAgICAgLy8g2KXYsNinINin2YbYqtmH2Ykg2KfZhNmI2YLYqiDZhNinINiq2LPZhditINio2KfZhNin2LPYqtmD2YXYp9mECiAgICAgICAgaWYgKHNlc3Npb25EYXRhICYmIHR5cGVvZiBzZXNzaW9uRGF0YS50aW1lTGVmdCA9PT0gIm51bWJlciIgJiYgc2Vzc2lvbkRhdGEudGltZUxlZnQgPD0gMCkgewogICAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICBzaG93RXhhbVRpbWVOb3RpY2UoItin2YbYqtmH2Ykg2YjZgtiqINin2YTYp9mF2KrYrdin2YYg2YjZhNinINmK2YXZg9mG2YMg2KfYs9iq2YPZhdin2YTZhy4iLCAiZXJyb3IiKTsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImV4YW1TZXNzaW9uIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBvbkNvbnRpbnVlKCk7CiAgICB9OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlc3RhcnRFeGFtQnRuIikub25jbGljayA9ICgpID0+IHsKICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIG9uUmVzdGFydCgpOwogICAgfTsKfQoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpsZXQgcXVlc3Rpb25CYW5rUGFnZSA9IDE7CmxldCBxdWVzdGlvbkJhbmtBbGxEb2NzID0gW107CmxldCBxdWVzdGlvbkJhbmtUb3RhbFBhZ2VzID0gMTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2K/Yp9mE2Kkg2K3YsNmBINis2YXZiti5INmG2KrYp9im2Kwg2KfYrtiq2KjYsSDZhtmB2LPZgwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVsZXRlQWxsU2VsZlRlc3RSZXN1bHRzQnRuIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIWNvbmZpcm0oItmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINit2LDZgSDYrNmF2YrYuSDZhtiq2KfYptisINin2K7Yqtio2LEg2YbZgdiz2YPYnyDZhNinINmK2YXZg9mGINin2YTYqtix2KfYrNi5INi52YYg2YfYsNinINin2YTYpdis2LHYp9ihLiIpKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgbGV0IHF1ZXJ5ID0gZGIuY29sbGVjdGlvbigic2VsZlRlc3RSZXN1bHRzIik7CiAgICAvLyDYpdiw2Kcg2YPYp9mGINin2YTYt9in2YTYqNiMINin2K3YsNmBINmG2KrYp9im2KzZhyDZgdmC2LcKICAgIGlmICh1c2VyUm9sZSAhPT0gInRlYWNoZXIiKSB7CiAgICAgICAgcXVlcnkgPSBxdWVyeS53aGVyZSgidXNlcklkIiwgIj09IiwgY3VycmVudFVzZXIudWlkKTsKICAgIH0KICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgcXVlcnkuZ2V0KCk7CiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgICBhbGVydCgi2YTYpyDYqtmI2KzYryDZhtiq2KfYptisINmE2K3YsNmB2YfYpy4iKTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBjb25zdCBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiBiYXRjaC5kZWxldGUoZG9jLnJlZikpOwogICAgYXdhaXQgYmF0Y2guY29tbWl0KCk7CiAgICBhbGVydCgi2KrZhSDYrdiw2YEg2KzZhdmK2Lkg2KfZhNmG2KrYp9im2Kwg2KjZhtis2KfYrSEiKTsKICAgIGxvYWRTZWxmVGVzdFJlc3VsdHMoKTsKfSk7CmZ1bmN0aW9uIHNhdmVFeGFtU2Vzc2lvbigpIHsKICAgIGlmICghY3VycmVudEV4YW0pIHJldHVybjsKICAgIGNvbnN0IHNlc3Npb25EYXRhID0gewogICAgICAgIGV4YW1JZDogY3VycmVudEV4YW0uaWQsCiAgICAgICAgdXNlckFuc3dlcnMsCiAgICAgICAgY3VycmVudFF1ZXN0aW9uSW5kZXgsCiAgICAgICAgdGltZUxlZnQKICAgIH07CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZXhhbVNlc3Npb24iLCBKU09OLnN0cmluZ2lmeShzZXNzaW9uRGF0YSkpOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCmZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzQmFyKCkgewogICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZ3Jlc3NCYXIiKTsKICAgIGNvbnN0IHByb2dyZXNzUGVyY2VudGFnZSA9IE1hdGgucm91bmQoKChjdXJyZW50UXVlc3Rpb25JbmRleCArIDEpIC8gY3VycmVudEV4YW0ucXVlc3Rpb25zLmxlbmd0aCkgKiAxMDApOwogICAgcHJvZ3Jlc3NCYXIuc3R5bGUud2lkdGggPSBwcm9ncmVzc1BlcmNlbnRhZ2UgKyAiJSI7CiAgICBwcm9ncmVzc0Jhci50ZXh0Q29udGVudCA9IHByb2dyZXNzUGVyY2VudGFnZSArICIlIjsgLy8g2KrYrdiv2YrYqyDYp9mE2YbYtSDYr9in2K7ZhCDYtNix2YrYtyDYp9mE2KrZgtiv2YUKfQoKLy8g2LbYuSDZh9iw2Kcg2KfZhNmD2YjYryDZgdmKINmF2YTZgSA8c2NyaXB0PiDZgdmKINii2K7YsSDYp9mE2LXZgdit2Kkg2KPZiCDYqNi52K8g2KrYrdmF2YrZhCDYp9mE2LXZgdit2Kkg2YXYqNin2LTYsdipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINi22Lkg2YfYsNinINin2YTZg9mI2K8g2YHZiiDZhdmE2YEgPHNjcmlwdD4g2KjYudivINiq2LnYsdmK2YEgZGIg2YhxdWVzdGlvbkJhbmtDYXRlZ29yeVNlbGVjdAoKLy8g2K/Yp9mE2Kkg2KXYuNmH2KfYsSDZhtin2YHYsNipINin2K7YqtmK2KfYsSDYp9mE2YHYptipINin2YTZh9iv2YEKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KfYs9iq2KjYr9mEINiv2KfZhNipIHNob3dDYXRlZ29yeVNlbGVjdE1vZGFsINio2YfYsNinINin2YTZg9mI2K8g2YTZitiq2YUg2LnYsdi2INin2YTZgdim2KfYqiDYqNi02YPZhCDYtNis2LHZiiDZiNmF2LHYqtioICjYqNiv2YjZhiDYqtmD2LHYp9ixINmI2KjYr9mI2YYg2YXYtNin2YPZhCDYp9mE2KrYsdiq2YrYqCkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmFzeW5jIGZ1bmN0aW9uIHNob3dDYXRlZ29yeVNlbGVjdE1vZGFsKGFjdGlvbiwgb25Db25maXJtKSB7CiAgdHJ5IHsKICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGIuY29sbGVjdGlvbigicXVlc3Rpb25DYXRlZ29yaWVzIikub3JkZXJCeSgibmFtZSIpLmdldCgpOwogICAgY29uc3QgY2F0ZWdvcmllcyA9IHt9OwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjYXRlZ29yaWVzW2RvYy5pZF0gPSB7IC4uLmRvYy5kYXRhKCksIGlkOiBkb2MuaWQsIGNoaWxkcmVuOiBbXSB9OwogICAgfSk7CiAgICBPYmplY3QudmFsdWVzKGNhdGVnb3JpZXMpLmZvckVhY2goY2F0ID0+IHsKICAgICAgaWYgKGNhdC5wYXJlbnRJZCAmJiBjYXRlZ29yaWVzW2NhdC5wYXJlbnRJZF0pIGNhdGVnb3JpZXNbY2F0LnBhcmVudElkXS5jaGlsZHJlbi5wdXNoKGNhdCk7CiAgICB9KTsKICAgIGNvbnN0IHJvb3RzID0gT2JqZWN0LnZhbHVlcyhjYXRlZ29yaWVzKS5maWx0ZXIoY2F0ID0+ICFjYXQucGFyZW50SWQpOwoKICAgIC8vINis2YTYqCDYudiv2K8g2KfZhNij2LPYptmE2Kkg2YTZg9mEINmB2KbYqSAo2YrYrNioINij2YYg2YrZg9mI2YYg2YXZiNis2YjYr9in2Ysg2YLYqNmEIHJlbmRlck9wdGlvbnMpCiAgICBjb25zdCBxdWVzdGlvbnNTbmFwc2hvdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLmdldCgpOwogICAgY29uc3QgY291bnRzID0ge307CiAgICBxdWVzdGlvbnNTbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNvbnN0IHEgPSBkb2MuZGF0YSgpIHx8IHt9OwogICAgICBpZiAocS5jYXRlZ29yeUlkKSBjb3VudHNbcS5jYXRlZ29yeUlkXSA9IChjb3VudHNbcS5jYXRlZ29yeUlkXSB8fCAwKSArIDE7CiAgICB9KTsKCiAgICBmdW5jdGlvbiByZW5kZXJPcHRpb25zKGNhdHMsIHByZWZpeCA9ICIiKSB7CiAgICAgIHJldHVybiBjYXRzLm1hcChjYXQgPT4gewogICAgICAgIGNvbnN0IGNudCA9IGNvdW50c1tjYXQuaWRdIHx8IDA7CiAgICAgICAgY29uc3QgbGFiZWwgPSBgJHtwcmVmaXh9JHtjYXQubmFtZX0ke2NudCA/IGAgKCR7Y250fSlgIDogIiJ9YDsKICAgICAgICBsZXQgaHRtbCA9IGA8b3B0aW9uIHZhbHVlPSIke2NhdC5pZH0iPiR7bGFiZWx9PC9vcHRpb24+YDsKICAgICAgICBpZiAoY2F0LmNoaWxkcmVuICYmIGNhdC5jaGlsZHJlbi5sZW5ndGgpIGh0bWwgKz0gcmVuZGVyT3B0aW9ucyhjYXQuY2hpbGRyZW4sIHByZWZpeCArICLigJQgIik7CiAgICAgICAgcmV0dXJuIGh0bWw7CiAgICAgIH0pLmpvaW4oJycpOwogICAgfQoKICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBtb2RhbC5jbGFzc05hbWUgPSAibW9kYWwiOwogICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIG1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDo0MDBweDt0ZXh0LWFsaWduOmNlbnRlcjsiPgogICAgICAgIDxoMyBjbGFzcz0ibW9kYWwtdGl0bGUiPiR7YWN0aW9uID09PSAiY29weSIgPyAi2YbYs9iuIiA6ICLZhtmC2YQifSDYp9mE2KPYs9im2YTYqSDYpdmE2Ykg2YHYptipINij2K7YsdmJPC9oMz4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxOHB4OyI+CiAgICAgICAgICA8bGFiZWw+2KfYrtiq2LEg2KfZhNmB2KbYqSDYp9mE2YfYr9mBOjwvbGFiZWw+CiAgICAgICAgICA8c2VsZWN0IGlkPSJ0YXJnZXRDYXRlZ29yeVNlbGVjdCIgY2xhc3M9ImZvcm0tY29udHJvbCI+CiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+2KjYr9mI2YYg2YHYptipINix2KbZitiz2YrYqTwvb3B0aW9uPgogICAgICAgICAgICAke3JlbmRlck9wdGlvbnMocm9vdHMpfQogICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYWN0aW9ucyI+CiAgICAgICAgICA8YnV0dG9uIGlkPSJjb25maXJtQ2F0ZWdvcnlTZWxlY3RCdG4iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPiR7YWN0aW9uID09PSAiY29weSIgPyAi2YbYs9iuIiA6ICLZhtmC2YQifTwvYnV0dG9uPgogICAgICAgICAgPGJ1dHRvbiBpZD0iY2FuY2VsQ2F0ZWdvcnlTZWxlY3RCdG4iIGNsYXNzPSJidG4gYnRuLWRhbmdlciI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIGA7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsKCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29uZmlybUNhdGVnb3J5U2VsZWN0QnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgdGFyZ2V0Q2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0YXJnZXRDYXRlZ29yeVNlbGVjdCIpLnZhbHVlOwogICAgICBpZiAoIXRhcmdldENhdGVnb3J5SWQpIHsKICAgICAgICBhbGVydCgi2YrYsdis2Ykg2KfYrtiq2YrYp9ixINin2YTZgdim2Kkg2KfZhNmH2K/ZgS4iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICAgIG9uQ29uZmlybSh0YXJnZXRDYXRlZ29yeUlkKTsKICAgIH07CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FuY2VsQ2F0ZWdvcnlTZWxlY3RCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICBtb2RhbC5yZW1vdmUoKTsKICAgIH07CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoInNob3dDYXRlZ29yeVNlbGVjdE1vZGFsIGVycm9yOiIsIGVycm9yKTsKICAgIHNob3dUb2FzdCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNmB2KbYp9iqOiAiICsgKGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IpLCAiZXJyb3IiKTsKICB9Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINiy2LEg2YbYs9iuINin2YTYo9iz2KbZhNipCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3B5UXVlc3Rpb25zQnRuIikub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uICgpIHsKICBjb25zdCBjYXRlZ29yeUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5IikudmFsdWU7CiAgaWYgKCFjYXRlZ29yeUlkKSB7CiAgICBzaG93VG9hc3QoItin2K7YqtixINmB2KbYqSDYo9mI2YTYp9mLISIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICAvLyDYrNmE2Kgg2KfZhNij2LPYptmE2Kkg2KfZhNmF2K3Yr9iv2Kkg2KPZiCDZg9mEINin2YTYo9iz2KbZhNipINmB2Yog2KfZhNmB2KbYqQogIGNvbnN0IGNoZWNrZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5pbXBvcnQtcXVlc3Rpb24tY2hlY2tib3g6Y2hlY2tlZCIpKS5tYXAoY2IgPT4gY2IudmFsdWUpOwogIGxldCBxdWVyeSA9IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLndoZXJlKCJjYXRlZ29yeUlkIiwgIj09IiwgY2F0ZWdvcnlJZCk7CiAgaWYgKGNoZWNrZWQubGVuZ3RoID4gMCkgewogICAgcXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS53aGVyZShmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgImluIiwgY2hlY2tlZCk7CiAgfQogIHNob3dDYXRlZ29yeVNlbGVjdE1vZGFsKCJjb3B5IiwgYXN5bmMgKHRhcmdldENhdGVnb3J5SWQpID0+IHsKICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgcXVlcnkuZ2V0KCk7CiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgc2hvd1RvYXN0KCLZhNinINmK2YjYrNivINij2LPYptmE2Kkg2YTZhtiz2K7Zh9inLiIsICJlcnJvciIpOwogICAgICByZXR1cm47CiAgICB9CiAgICBsZXQgYWRkZWQgPSAwOwogICAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCBxID0gZG9jLmRhdGEoKTsKICAgICAgY29uc3QgbmV3RG9jID0gZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikuZG9jKCk7CiAgICAgIGJhdGNoLnNldChuZXdEb2MsIHsKICAgICAgICAuLi5xLAogICAgICAgIGNhdGVnb3J5SWQ6IHRhcmdldENhdGVnb3J5SWQsCiAgICAgICAgY3JlYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogICAgICB9KTsKICAgICAgYWRkZWQrKzsKICAgIH0pOwogICAgYXdhaXQgYmF0Y2guY29tbWl0KCk7CiAgICBzaG93VG9hc3QoYNiq2YUg2YbYs9iuICR7YWRkZWR9INiz2KTYp9mEINio2YbYrNin2K0hYCwgInN1Y2Nlc3MiKTsKICAgIGxvYWRRdWVzdGlvbkJhbmsoKTsKICB9KTsKfTsKCi8vINiy2LEg2YbZgtmEINin2YTYo9iz2KbZhNipCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtb3ZlUXVlc3Rpb25zQnRuIikub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uICgpIHsKICBjb25zdCBjYXRlZ29yeUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5IikudmFsdWU7CiAgaWYgKCFjYXRlZ29yeUlkKSB7CiAgICBzaG93VG9hc3QoItin2K7YqtixINmB2KbYqSDYo9mI2YTYp9mLISIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICBjb25zdCBjaGVja2VkID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuaW1wb3J0LXF1ZXN0aW9uLWNoZWNrYm94OmNoZWNrZWQiKSkubWFwKGNiID0+IGNiLnZhbHVlKTsKICBsZXQgcXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS53aGVyZSgiY2F0ZWdvcnlJZCIsICI9PSIsIGNhdGVnb3J5SWQpOwogIGlmIChjaGVja2VkLmxlbmd0aCA+IDApIHsKICAgIHF1ZXJ5ID0gZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikud2hlcmUoZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkUGF0aC5kb2N1bWVudElkKCksICJpbiIsIGNoZWNrZWQpOwogIH0KICBzaG93Q2F0ZWdvcnlTZWxlY3RNb2RhbCgibW92ZSIsIGFzeW5jICh0YXJnZXRDYXRlZ29yeUlkKSA9PiB7CiAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHF1ZXJ5LmdldCgpOwogICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgIHNob3dUb2FzdCgi2YTYpyDZitmI2KzYryDYo9iz2KbZhNipINmE2YbZgtmE2YfYpy4iLCAiZXJyb3IiKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgbGV0IHVwZGF0ZWQgPSAwOwogICAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBiYXRjaC51cGRhdGUoZG9jLnJlZiwgeyBjYXRlZ29yeUlkOiB0YXJnZXRDYXRlZ29yeUlkIH0pOwogICAgICB1cGRhdGVkKys7CiAgICB9KTsKICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpOwogICAgc2hvd1RvYXN0KGDYqtmFINmG2YLZhCAke3VwZGF0ZWR9INiz2KTYp9mEINio2YbYrNin2K0hYCwgInN1Y2Nlc3MiKTsKICAgIGxvYWRRdWVzdGlvbkJhbmsoKTsKICB9KTsKfTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2K/Yp9mE2Kkg2YTYudix2LYg2LHYs9in2YTYqSDYrNmF2YrZhNipINi52YbYryDYtti52YEg2KPZiCDYp9mG2YLYt9in2Lkg2KfZhNil2YbYqtix2YbYqgpmdW5jdGlvbiBzaG93TmV0d29ya1N0YXR1c01lc3NhZ2UoaXNPZmZsaW5lKSB7CiAgICAvLyDYpdiw2Kcg2YPYp9mG2Kog2KfZhNix2LPYp9mE2Kkg2YXZiNis2YjYr9ipINmF2LPYqNmC2KfZi9iMINin2K3YsNmB2YfYpwogICAgbGV0IG5ldE1zZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXR3b3JrU3RhdHVzTWVzc2FnZSIpOwogICAgaWYgKCFuZXRNc2cpIHsKICAgICAgICBuZXRNc2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICBuZXRNc2cuaWQgPSAibmV0d29ya1N0YXR1c01lc3NhZ2UiOwogICAgICAgIG5ldE1zZy5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgICAgICAgbmV0TXNnLnN0eWxlLnRvcCA9ICIzMHB4IjsKICAgICAgICBuZXRNc2cuc3R5bGUucmlnaHQgPSAiMzBweCI7CiAgICAgICAgbmV0TXNnLnN0eWxlLmJhY2tncm91bmQgPSAiI2ZjNWM2NSI7CiAgICAgICAgbmV0TXNnLnN0eWxlLmNvbG9yID0gIiNmZmYiOwogICAgICAgIG5ldE1zZy5zdHlsZS5wYWRkaW5nID0gIjE4cHggMzBweCI7CiAgICAgICAgbmV0TXNnLnN0eWxlLmJvcmRlclJhZGl1cyA9ICIxMHB4IjsKICAgICAgICBuZXRNc2cuc3R5bGUuZm9udFNpemUgPSAiMS4xcmVtIjsKICAgICAgICBuZXRNc2cuc3R5bGUuZm9udFdlaWdodCA9ICJib2xkIjsKICAgICAgICBuZXRNc2cuc3R5bGUuYm94U2hhZG93ID0gIjAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjEyKSI7CiAgICAgICAgbmV0TXNnLnN0eWxlLnpJbmRleCA9ICIzMDAwIjsKICAgICAgICBuZXRNc2cuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgICAgICBuZXRNc2cuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogICAgICAgIG5ldE1zZy5zdHlsZS5nYXAgPSAiMTJweCI7CiAgICAgICAgbmV0TXNnLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS13aWZpIj48L2k+CiAgICAgICAgICAgIDxzcGFuIGlkPSJuZXR3b3JrU3RhdHVzVGV4dCI+PC9zcGFuPgogICAgICAgICAgICA8YnV0dG9uIHN0eWxlPSJiYWNrZ3JvdW5kOm5vbmU7Ym9yZGVyOm5vbmU7Y29sb3I6I2ZmZjtmb250LXNpemU6MS41cmVtO2N1cnNvcjpwb2ludGVyO21hcmdpbi1yaWdodDoxMHB4OyIgb25jbGljaz0idGhpcy5wYXJlbnRFbGVtZW50LnJlbW92ZSgpIj4mdGltZXM7PC9idXR0b24+CiAgICAgICAgYDsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5ldE1zZyk7CiAgICB9CiAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5ldHdvcmtTdGF0dXNUZXh0Iik7CiAgICBpZiAoaXNPZmZsaW5lKSB7CiAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9ICLimqDvuI8g2KfZhNin2KrYtdin2YQg2KjYp9mE2KXZhtiq2LHZhtiqINi22LnZitmBINij2Ygg2LrZitixINmF2KrZiNmB2LEuINmK2LHYrNmJINin2YTYqtij2YPYryDZhdmGINin2YTYtNio2YPYqSEiOwogICAgICAgIG5ldE1zZy5zdHlsZS5iYWNrZ3JvdW5kID0gIiNmYzVjNjUiOwogICAgICAgIG5ldE1zZy5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgfSBlbHNlIHsKICAgICAgICB0ZXh0LnRleHRDb250ZW50ID0gIuKchSDYqtmFINin2LPYqti52KfYr9ipINin2YTYp9iq2LXYp9mEINio2KfZhNil2YbYqtix2YbYqi4iOwogICAgICAgIG5ldE1zZy5zdHlsZS5iYWNrZ3JvdW5kID0gIiMxNGVlODgiOwogICAgICAgIG5ldE1zZy5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICBpZiAobmV0TXNnLnBhcmVudEVsZW1lbnQpIG5ldE1zZy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0sIDI1MDApOwogICAgfQp9CgovLyDZhdix2KfZgtio2Kkg2K3Yp9mE2Kkg2KfZhNin2KrYtdin2YQg2KjYp9mE2KXZhtiq2LHZhtiqCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgKCkgPT4gc2hvd05ldHdvcmtTdGF0dXNNZXNzYWdlKHRydWUpKTsKd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsICgpID0+IHNob3dOZXR3b3JrU3RhdHVzTWVzc2FnZShmYWxzZSkpOwoKLy8g2YrZhdmD2YbZgyDYo9mK2LbYp9mLINmB2K3YtSDYs9ix2LnYqSDYp9mE2KXZhtiq2LHZhtiqINio2LTZg9mEINio2LPZiti3ICjYp9iu2KrZitin2LHZiikKLy8g2KXYsNinINij2LHYr9iqINiq2YbYqNmK2Ycg2KfZhNmF2LPYqtiu2K/ZhSDYudmG2K8g2KjYt9ihINin2YTYtNio2YPYqSDZiNmE2YrYsyDZgdmC2Lcg2KfZhNin2YbZgti32KfYuSDYp9mE2YPYp9mF2YQKZnVuY3Rpb24gY2hlY2tDb25uZWN0aW9uU3BlZWQoKSB7CiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTsKICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnQ7CiAgICAgICAgLy8g2KXYsNinINin2LPYqti62LHZgiDYqtit2YXZitmEINin2YTYtdmI2LHYqSDYo9mD2KvYsSDZhdmGIDMg2KvZiNin2YbZiiDYp9i52KrYqNixINin2YTYp9iq2LXYp9mEINio2LfZitihCiAgICAgICAgaWYgKGR1cmF0aW9uID4gMzAwMCkgewogICAgICAgICAgICBzaG93TmV0d29ya1N0YXR1c01lc3NhZ2UodHJ1ZSk7CiAgICAgICAgfQogICAgfTsKICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgIHNob3dOZXR3b3JrU3RhdHVzTWVzc2FnZSh0cnVlKTsKICAgIH07CiAgICAvLyDYp9iz2KrYrtiv2YUg2LXZiNix2Kkg2LXYutmK2LHYqSDZhdmGINin2YTYpdmG2KrYsdmG2KogKNmK2YHYttmEINi12YjYsdipINiz2LHZiti52Kkg2KfZhNiq2K3ZhdmK2YQpCiAgICBpbWcuc3JjID0gImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vaW1hZ2VzL3BoZC9weC5naWY/dD0iICsgTWF0aC5yYW5kb20oKTsKfQovLyDYp9mB2K3YtSDYs9ix2LnYqSDYp9mE2KfYqti12KfZhCDZg9mEINiv2YLZitmC2KkKc2V0SW50ZXJ2YWwoY2hlY2tDb25uZWN0aW9uU3BlZWQsIDYwMDAwKTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gbG9hZFNlbGZUZXN0UXVlc3Rpb24oaW5kZXgpIHsKICAgIGNvbnN0IHF1ZXN0aW9uID0gY3VycmVudEV4YW0ucXVlc3Rpb25zW2luZGV4XTsKICAgIGNvbnN0IHF1ZXN0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0UXVlc3Rpb24iKTsKICAgIGNvbnN0IGZlZWRiYWNrQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZlZWRiYWNrQ29udGFpbmVyIik7CgogICAgZmVlZGJhY2tDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGZlZWRiYWNrQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwoKICAgIC8vINi52LHYtiDYtdmI2LHYqSDYp9mE2LPYpNin2YQg2KjYtNmD2YQg2KzZhdmK2YQg2KXYsNinINmD2KfZhtiqINmF2YjYrNmI2K/YqQogICAgbGV0IGltYWdlSHRtbCA9ICIiOwogICAgaWYgKHF1ZXN0aW9uLmltYWdlVXJsICYmIHF1ZXN0aW9uLmltYWdlVXJsLnRyaW0oKSAhPT0gIiIpIHsKICAgICAgICBpbWFnZUh0bWwgPSBgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InF1ZXN0aW9uLWltYWdlLWNvbnRhaW5lciIgc3R5bGU9ImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW46IDIwcHggMDsiPgogICAgICAgICAgICAgICAgPGltZyBzcmM9IiR7cXVlc3Rpb24uaW1hZ2VVcmx9IiBhbHQ9Iti12YjYsdipINin2YTYs9ik2KfZhCIgY2xhc3M9InF1ZXN0aW9uLWltYWdlIgogICAgICAgICAgICAgICAgICAgIHN0eWxlPSJkaXNwbGF5OmJsb2NrO21heC13aWR0aDoxMDAlO21heC1oZWlnaHQ6MzUwcHg7Ym9yZGVyLXJhZGl1czoxNnB4O2JveC1zaGFkb3c6MCA0cHggMTZweCByZ2JhKDAsMCwwLDAuMTMpO2JvcmRlcjo0cHggc29saWQgIzBhNzBmZjtiYWNrZ3JvdW5kOiNmZmY7b2JqZWN0LWZpdDpjb250YWluOyI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIGA7CiAgICB9CgogICAgcXVlc3Rpb25Db250YWluZXIuaW5uZXJIVE1MID0gYAogICAgICAgIDxkaXYgY2xhc3M9InF1ZXN0aW9uLWNhcmQiPgogICAgICAgICAgICA8aDMgY2xhc3M9InF1ZXN0aW9uLXRleHQiPtin2YTYs9ik2KfZhCAke2luZGV4ICsgMX06ICR7cXVlc3Rpb24udGV4dH08L2gzPgogICAgICAgICAgICAke2ltYWdlSHRtbH0KICAgICAgICAgICAgPHVsIGNsYXNzPSJvcHRpb25zLWxpc3QiPgogICAgICAgICAgICAgICAgJHtxdWVzdGlvbi5vcHRpb25zLm1hcCgob3B0aW9uLCBpKSA9PiBgCiAgICAgICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9Im9wdGlvbi1sYWJlbCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InNlbGZUZXN0UXVlc3Rpb25fJHtpbmRleH0iIHZhbHVlPSIke2l9IiBjbGFzcz0ib3B0aW9uLWlucHV0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7b3B0aW9uLnRleHR9CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIGApLmpvaW4oJycpfQogICAgICAgICAgICA8L3VsPgogICAgICAgIDwvZGl2PgogICAgYDsKCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3B0aW9uLWxhYmVsJykuZm9yRWFjaChsYWJlbCA9PiB7CiAgICAgICAgbGFiZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5vcHRpb24tbGFiZWwiKS5mb3JFYWNoKGxhYmVsID0+IGxhYmVsLmNsYXNzTGlzdC5yZW1vdmUoInNlbGVjdGVkIikpOwogICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoInNlbGVjdGVkIik7CiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCJpbnB1dCIpOwogICAgICAgICAgICBpbnB1dC5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgdXNlckFuc3dlcnNbaW5kZXhdID0gcGFyc2VJbnQoaW5wdXQudmFsdWUpOwogICAgICAgICAgICBzaG93RmVlZGJhY2soaW5kZXgpOwogICAgICAgIH0pOwogICAgfSk7CgogICAgLy8g2KrYrdiv2YrYqyDYudix2LYg2KfZhNij2LLYsdin2LEKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2U2VsZlRlc3RRdWVzdGlvbkJ0biIpLnN0eWxlLmRpc3BsYXkgPSBpbmRleCA+IDAgPyAiaW5saW5lLWJsb2NrIiA6ICJub25lIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXh0U2VsZlRlc3RRdWVzdGlvbkJ0biIpLnN0eWxlLmRpc3BsYXkgPSBpbmRleCA8IGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5sZW5ndGggLSAxID8gImlubGluZS1ibG9jayIgOiAibm9uZSI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmluaXNoU2VsZlRlc3RCdG4iKS5zdHlsZS5kaXNwbGF5ID0gaW5kZXggPT09IGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5sZW5ndGggLSAxID8gImlubGluZS1ibG9jayIgOiAibm9uZSI7CgogICAgLy8g2KrYrdiv2YrYqyDYtNix2YrYtyDYp9mE2KrZgtiv2YUKICAgIHVwZGF0ZVByb2dyZXNzQmFyKCk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJldlNlbGZUZXN0UXVlc3Rpb25CdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICAgIGlmIChjdXJyZW50UXVlc3Rpb25JbmRleCA+IDApIHsKICAgICAgICBjdXJyZW50UXVlc3Rpb25JbmRleC0tOyAvLyDYqtmC2YTZitmEINmC2YrZhdipINin2YTZhdik2LTYsQogICAgICAgIGxvYWRTZWxmVGVzdFF1ZXN0aW9uKGN1cnJlbnRRdWVzdGlvbkluZGV4KTsgLy8g2KrYrdmF2YrZhCDYp9mE2LPYpNin2YQg2KfZhNiz2KfYqNmCCiAgICB9Cn0pOwpmdW5jdGlvbiBsb2FkUXVlc3Rpb24oXzB4NTM4MjQxKSB7CiAgY29uc3QgXzB4NzA3YzAxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1RdWVzdGlvbnNDb250YWluZXIiKTsKICBjb25zdCBfMHg0NDExMDYgPSBjdXJyZW50RXhhbS5xdWVzdGlvbnNbXzB4NTM4MjQxXTsKCiAgLy8g2KXZhti02KfYoSDZhdit2KrZiNmJINin2YTYs9ik2KfZhCDZhdi5INin2YTYtdmI2LHYqSAo2KXYsNinINmD2KfZhtiqINmF2YjYrNmI2K/YqSkKICBfMHg3MDdjMDEuaW5uZXJIVE1MID0gYAogICAgPGRpdiBjbGFzcz0icXVlc3Rpb24tY2FyZCI+CiAgICAgIDxoMyBjbGFzcz0icXVlc3Rpb24tdGV4dCI+2KfZhNiz2KTYp9mEICR7XzB4NTM4MjQxICsgMX06ICR7XzB4NDQxMTA2LnRleHR9PC9oMz4KICAgICAgJHtfMHg0NDExMDYuaW1hZ2VVcmwgPyBgPGRpdiBjbGFzcz0icXVlc3Rpb24taW1hZ2UtY29udGFpbmVyIj48aW1nIHNyYz0iJHtfMHg0NDExMDYuaW1hZ2VVcmx9IiBhbHQ9Iti12YjYsdipINin2YTYs9ik2KfZhCIgY2xhc3M9InF1ZXN0aW9uLWltYWdlIj48L2Rpdj5gIDogJyd9CiAgICAgIDx1bCBjbGFzcz0ib3B0aW9ucy1saXN0Ij4KICAgICAgICAke18weDQ0MTEwNi5vcHRpb25zLm1hcCgoXzB4NWRmNzM3LCBfMHgzNDRmM2UpID0+IGAKICAgICAgICAgIDxsaT4KICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJvcHRpb24tbGFiZWwgJHt1c2VyQW5zd2Vyc1tfMHg1MzgyNDFdID09PSBfMHgzNDRmM2UgPyAic2VsZWN0ZWQiIDogJyd9Ij4KICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9InF1ZXN0aW9uXyR7XzB4NTM4MjQxfSIgdmFsdWU9IiR7XzB4MzQ0ZjNlfSIgCiAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSJvcHRpb24taW5wdXQiICR7dXNlckFuc3dlcnNbXzB4NTM4MjQxXSA9PT0gXzB4MzQ0ZjNlID8gImNoZWNrZWQiIDogJyd9PgogICAgICAgICAgICAgICR7XzB4NWRmNzM3LnRleHR9CiAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICA8L2xpPgogICAgICAgIGApLmpvaW4oJycpfQogICAgICA8L3VsPgogICAgPC9kaXY+CiAgYDsKCiAgLy8g2KXYttin2YHYqSDYp9mE2KPYrdiv2KfYqyDZhNiq2K3Yr9mK2K8g2KfZhNil2KzYp9io2KkKICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIub3B0aW9uLWxhYmVsIikuZm9yRWFjaChfMHg0MmI0ZDEgPT4gewogICAgXzB4NDJiNGQxLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIub3B0aW9uLWxhYmVsIikuZm9yRWFjaChfMHgxNTI5NmIgPT4gewogICAgICAgIF8weDE1Mjk2Yi5jbGFzc0xpc3QucmVtb3ZlKCJzZWxlY3RlZCIpOwogICAgICB9KTsKICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpOwogICAgICBjb25zdCBfMHg0ZDgxYTMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7CiAgICAgIF8weDRkODFhMy5jaGVja2VkID0gdHJ1ZTsKICAgICAgdXNlckFuc3dlcnNbXzB4NTM4MjQxXSA9IHBhcnNlSW50KF8weDRkODFhMy52YWx1ZSk7CiAgICAgIHNhdmVFeGFtU2Vzc2lvbigpOyAvLyDYrdmB2Lgg2KfZhNis2YTYs9ipINi52YbYryDYp9iu2KrZitin2LEg2KXYrNin2KjYqQogICAgfSk7CiAgfSk7CgogIC8vINiq2LHYqtmK2Kgg2KfZhNij2LLYsdin2LE6INin2YTYs9in2KjZgiDZitmF2YrZhtiMINin2YTYqtin2YTZiiDZitiz2KfYsdiMINiq2LPZhNmK2YUg2KfZhNin2K7Yqtio2KfYsSDZiti42YfYsSDZgdmC2Lcg2YHZiiDYotiu2LEg2LPYpNin2YQKICBjb25zdCBwcmV2QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByZXZRdWVzdGlvbkJ0biIpOwogIGNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibmV4dFF1ZXN0aW9uQnRuIik7CiAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1Ym1pdEV4YW1CdG4iKTsKCiAgcHJldkJ0bi5kaXNhYmxlZCA9IF8weDUzODI0MSA9PT0gMDsKICBuZXh0QnRuLmRpc2FibGVkID0gXzB4NTM4MjQxID09PSBjdXJyZW50RXhhbS5xdWVzdGlvbnMubGVuZ3RoIC0gMTsKCiAgLy8g2KrYsdiq2YrYqCDYp9mE2KPYstix2KfYsSAo2KfZhNiz2KfYqNmCINmK2YXZitmG2Iwg2KfZhNiq2KfZhNmKINmK2LPYp9ixKQogIHByZXZCdG4uc3R5bGUub3JkZXIgPSAiMiI7CiAgbmV4dEJ0bi5zdHlsZS5vcmRlciA9ICIxIjsKICBzdWJtaXRCdG4uc3R5bGUub3JkZXIgPSAiMyI7CgogIC8vINil2LjZh9in2LEg2LLYsSDYqtiz2YTZitmFINin2YTYp9iu2KrYqNin2LEg2YHZgti3INmB2Yog2KLYrtixINiz2KTYp9mECiAgaWYgKF8weDUzODI0MSA9PT0gY3VycmVudEV4YW0ucXVlc3Rpb25zLmxlbmd0aCAtIDEpIHsKICAgIHN1Ym1pdEJ0bi5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgfSBlbHNlIHsKICAgIHN1Ym1pdEJ0bi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0KCiAgc2F2ZUV4YW1TZXNzaW9uKCk7IC8vINit2YHYuCDYp9mE2KzZhNiz2Kkg2LnZhtivINin2YTYqtmG2YLZhCDYqNmK2YYg2KfZhNij2LPYptmE2KkKfQoKZnVuY3Rpb24gdXBkYXRlVGltZXJEaXNwbGF5KCkgewogIGNvbnN0IF8weGZlMGY4NCA9IE1hdGguZmxvb3IodGltZUxlZnQgLyAweDNjKTsKICBjb25zdCBfMHg1NDk0ZjQgPSB0aW1lTGVmdCAlIDB4M2M7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRpbWVSZW1haW5pbmciKS50ZXh0Q29udGVudCA9IF8weGZlMGY4NCArICc6JyArIChfMHg1NDk0ZjQgPCAweGEgPyAnMCcgOiAnJykgKyBfMHg1NDk0ZjQ7CiAgc2F2ZUV4YW1TZXNzaW9uKCk7IC8vINit2YHYuCDYp9mE2YjZgtiqINin2YTZhdiq2KjZgtmKCn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIHN1Ym1pdEV4YW0oKSB7CiAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDZiNis2YjYryDYo9iz2KbZhNipINi62YrYsSDZhdis2KfYqNipCiAgICBjb25zdCB1bmFuc3dlcmVkUXVlc3Rpb25zID0gW107CiAgICBjdXJyZW50RXhhbS5xdWVzdGlvbnMuZm9yRWFjaCgocXVlc3Rpb24sIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKHVzZXJBbnN3ZXJzW2luZGV4XSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHVuYW5zd2VyZWRRdWVzdGlvbnMucHVzaChpbmRleCArIDEpOyAvLyDYpdi22KfZgdipINix2YLZhSDYp9mE2LPYpNin2YQg2LrZitixINin2YTZhdis2KfYqAogICAgICAgIH0KICAgIH0pOwoKICAgIGlmICh1bmFuc3dlcmVkUXVlc3Rpb25zLmxlbmd0aCA+IDApIHsKICAgICAgICAvLyDYudix2LYg2KfZhNmG2KfZgdiw2Kkg2KfZhNmF2YbYqNir2YLYqQogICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVuYW5zd2VyZWRRdWVzdGlvbnNNb2RhbCIpOwogICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidW5hbnN3ZXJlZFF1ZXN0aW9uc01lc3NhZ2UiKTsKICAgICAgICBtZXNzYWdlLnRleHRDb250ZW50ID0gYNmH2YbYp9mDICR7dW5hbnN3ZXJlZFF1ZXN0aW9ucy5sZW5ndGh9INiz2KTYp9mEL9ij2LPYptmE2Kkg2YTZhSDZitiq2YUg2KfZhNil2KzYp9io2Kkg2LnZhNmK2YfYpzogJHt1bmFuc3dlcmVkUXVlc3Rpb25zLmpvaW4oIiwgIil9LiDZh9mEINiq2LHZitivINio2KfZhNiq2KPZg9mK2K8g2KrYs9mE2YrZhSDYp9mE2KfYrtiq2KjYp9ix2J9gOwogICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CgogICAgICAgIC8vINil2LLYp9mE2Kkg2KPZiiDYo9it2K/Yp9irINiz2KfYqNmC2Kkg2KPZiNmE2KfZiwogICAgICAgIGNvbnN0IGNvbnRpbnVlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRpbnVlU3VibWl0QnRuIik7CiAgICAgICAgY29uc3QgY2FuY2VsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbFN1Ym1pdEJ0biIpOwogICAgICAgIGNvbnRpbnVlQnRuLm9uY2xpY2sgPSBudWxsOwogICAgICAgIGNhbmNlbEJ0bi5vbmNsaWNrID0gbnVsbDsKCiAgICAgICAgLy8g2KXYttin2YHYqSDYo9it2K/Yp9irINis2K/Zitiv2KkKICAgICAgICBjb250aW51ZUJ0bi5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICBmaW5hbGl6ZUV4YW1TdWJtaXNzaW9uKCk7IC8vINmF2KrYp9io2LnYqSDYqtiz2YTZitmFINin2YTYp9iu2KrYqNin2LEKICAgICAgICB9OwogICAgICAgIGNhbmNlbEJ0bi5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOyAvLyDYpdi62YTYp9mCINin2YTZhtin2YHYsNipCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgLy8g2KXYsNinINmE2YUg2KrZg9mGINmH2YbYp9mDINij2LPYptmE2Kkg2LrZitixINmF2KzYp9io2KnYjCDYqtin2KjYuSDYp9mE2KrYs9mE2YrZhSDZhdio2KfYtNix2KkKICAgIGZpbmFsaXplRXhhbVN1Ym1pc3Npb24oKTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCmZ1bmN0aW9uIGZpbmFsaXplRXhhbVN1Ym1pc3Npb24oKSB7CiAgICBjbGVhckludGVydmFsKHRpbWVySW50ZXJ2YWwpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImV4YW1TZXNzaW9uIik7IC8vINit2LDZgSDYp9mE2KzZhNiz2Kkg2KjYudivINin2YTYqtiz2YTZitmFCiAgICAvLyAuLi7YqNin2YLZiiDYp9mE2YPZiNivINmD2YXYpyDZh9mILi4uCiAgICBsZXQgY29ycmVjdEFuc3dlcnMgPSAwOwogICAgY3VycmVudEV4YW0ucXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBpbmRleCkgPT4gewogICAgICAgIGlmICh1c2VyQW5zd2Vyc1tpbmRleF0gPT09IHF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXIpIHsKICAgICAgICAgICAgY29ycmVjdEFuc3dlcnMrKzsKICAgICAgICB9CiAgICB9KTsKCiAgICBjb25zdCB0b3RhbFF1ZXN0aW9ucyA9IGN1cnJlbnRFeGFtLnF1ZXN0aW9ucy5sZW5ndGg7CiAgICBjb25zdCBzY29yZVBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKChjb3JyZWN0QW5zd2VycyAvIHRvdGFsUXVlc3Rpb25zKSAqIDEwMCk7CiAgICBjb25zdCB3cm9uZ0Fuc3dlcnMgPSB0b3RhbFF1ZXN0aW9ucyAtIGNvcnJlY3RBbnN3ZXJzOwogICAgY29uc3QgdGltZVRha2VuID0gY3VycmVudEV4YW0uZHVyYXRpb24gLSBNYXRoLmNlaWwodGltZUxlZnQgLyA2MCk7CiAgICBjb25zdCB0b3RhbE1hcmtzID0gY3VycmVudEV4YW0udG90YWxNYXJrcyB8fCAxMDA7CiAgICBjb25zdCBvYnRhaW5lZE1hcmtzID0gTWF0aC5yb3VuZCgoY29ycmVjdEFuc3dlcnMgLyB0b3RhbFF1ZXN0aW9ucykgKiB0b3RhbE1hcmtzKTsKCiAgICBsZXQgZ3JhZGVTdGF0dXM7CiAgICBpZiAoc2NvcmVQZXJjZW50YWdlID49IDkwKSB7CiAgICAgICAgZ3JhZGVTdGF0dXMgPSAi2YXZhdiq2KfYsiI7CiAgICB9IGVsc2UgaWYgKHNjb3JlUGVyY2VudGFnZSA+PSA3NSkgewogICAgICAgIGdyYWRlU3RhdHVzID0gItis2YrYryDYrNiv2KfZiyI7CiAgICB9IGVsc2UgaWYgKHNjb3JlUGVyY2VudGFnZSA+PSA2MCkgewogICAgICAgIGdyYWRlU3RhdHVzID0gItis2YrYryI7CiAgICB9IGVsc2UgaWYgKHNjb3JlUGVyY2VudGFnZSA+PSA1MCkgewogICAgICAgIGdyYWRlU3RhdHVzID0gItmF2YLYqNmI2YQiOwogICAgfSBlbHNlIHsKICAgICAgICBncmFkZVN0YXR1cyA9ICLYsdin2LPYqCI7CiAgICB9CgogICAgLy8g2K3Zgdi4INin2YTZhtiq2YrYrNipINmB2Yog2YLYp9i52K/YqSDYp9mE2KjZitin2YbYp9iqCiAgICBkYi5jb2xsZWN0aW9uKCJyZXN1bHRzIikuYWRkKHsKICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLnVpZCwKICAgICAgICB1c2VyTmFtZTogY3VycmVudFVzZXJEYXRhPy5bIm5hbWUiXSB8fCBjdXJyZW50VXNlci5lbWFpbCwKICAgICAgICBleGFtSWQ6IGN1cnJlbnRFeGFtLmlkLAogICAgICAgIGV4YW1UaXRsZTogY3VycmVudEV4YW0udGl0bGUsCiAgICAgICAgdG90YWxNYXJrczogdG90YWxNYXJrcywKICAgICAgICBvYnRhaW5lZE1hcmtzOiBvYnRhaW5lZE1hcmtzLAogICAgICAgIHNjb3JlUGVyY2VudGFnZTogc2NvcmVQZXJjZW50YWdlLAogICAgICAgIGNvcnJlY3RBbnN3ZXJzOiBjb3JyZWN0QW5zd2VycywKICAgICAgICB3cm9uZ0Fuc3dlcnM6IHdyb25nQW5zd2VycywKICAgICAgICB0aW1lVGFrZW46IHRpbWVUYWtlbiwKICAgICAgICBncmFkZVN0YXR1czogZ3JhZGVTdGF0dXMsCiAgICAgICAgYW5zd2VyczogdXNlckFuc3dlcnMsCiAgICAgICAgc3VibWl0dGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpLAogICAgfSk7CgogICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2MoY3VycmVudFVzZXIudWlkKS51cGRhdGUoewogICAgICAgIGV4YW1zVGFrZW46IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLmluY3JlbWVudCgxKSwKICAgICAgICBsYXN0RXhhbVRha2VuOiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgIH0pOwoKICAgIHNob3dSZXN1bHRzKHNjb3JlUGVyY2VudGFnZSwgY29ycmVjdEFuc3dlcnMsIHdyb25nQW5zd2VycywgdGltZVRha2VuLCBvYnRhaW5lZE1hcmtzLCB0b3RhbE1hcmtzKTsKfQpmdW5jdGlvbiBzaG93UmVzdWx0cyhzY29yZVBlcmNlbnRhZ2UsIGNvcnJlY3RBbnN3ZXJzLCB3cm9uZ0Fuc3dlcnMsIHRpbWVUYWtlbiwgb2J0YWluZWRNYXJrcywgdG90YWxNYXJrcykgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmaW5hbFNjb3JlIikudGV4dENvbnRlbnQgPSBzY29yZVBlcmNlbnRhZ2UgKyAnJSc7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvcnJlY3RBbnN3ZXJzIikudGV4dENvbnRlbnQgPSBjb3JyZWN0QW5zd2VyczsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid3JvbmdBbnN3ZXJzIikudGV4dENvbnRlbnQgPSB3cm9uZ0Fuc3dlcnM7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRpbWVUYWtlbiIpLnRleHRDb250ZW50ID0gdGltZVRha2VuOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvYnRhaW5lZE1hcmtzIikudGV4dENvbnRlbnQgPSBvYnRhaW5lZE1hcmtzICsgIiAvICIgKyB0b3RhbE1hcmtzOwogIGNvbnN0IHJlc3VsdHNEZXRhaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlc3VsdHNEZXRhaWxzIik7CiAgcmVzdWx0c0RldGFpbHMuaW5uZXJIVE1MID0gIjxoMz7YqtmB2KfYtdmK2YQg2KfZhNil2KzYp9io2KfYqjo8L2gzPiI7CiAgY3VycmVudEV4YW0ucXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBpZHgpID0+IHsKICAgIGNvbnN0IHVzZXJBbnN3ZXIgPSB1c2VyQW5zd2Vyc1tpZHhdOwogICAgY29uc3QgaXNDb3JyZWN0ID0gdXNlckFuc3dlciA9PT0gcXVlc3Rpb24uY29ycmVjdEFuc3dlcjsKICAgIGNvbnN0IHF1ZXN0aW9uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBxdWVzdGlvbkRpdi5jbGFzc05hbWUgPSAicmVzdWx0LXF1ZXN0aW9uIjsKICAgIHF1ZXN0aW9uRGl2LmlubmVySFRNTCA9IGAKICAgICAgPHA+PHN0cm9uZz7Yp9mE2LPYpNin2YQgJHtpZHggKyAxfTo8L3N0cm9uZz4gJHtxdWVzdGlvbi50ZXh0fTwvcD4KICAgICAgPHA+2KXYrNin2KjYqtmDOiA8c3BhbiBjbGFzcz0iJHtpc0NvcnJlY3QgPyAnY29ycmVjdC1hbnN3ZXInIDogJ3dyb25nLWFuc3dlcid9Ij4KICAgICAgICAke3VzZXJBbnN3ZXIgIT09IHVuZGVmaW5lZCA/IHF1ZXN0aW9uLm9wdGlvbnNbdXNlckFuc3dlcl0udGV4dCA6ICLZhNmFINiq2KzYqCJ9CiAgICAgIDwvc3Bhbj48L3A+CiAgICAgIDxwPtin2YTYpdis2KfYqNipINin2YTYtdit2YrYrdipOiA8c3BhbiBjbGFzcz0iY29ycmVjdC1hbnN3ZXIiPgogICAgICAgICR7cXVlc3Rpb24ub3B0aW9uc1txdWVzdGlvbi5jb3JyZWN0QW5zd2VyXS50ZXh0fQogICAgICA8L3NwYW4+PC9wPgogICAgYDsKICAgIHJlc3VsdHNEZXRhaWxzLmFwcGVuZENoaWxkKHF1ZXN0aW9uRGl2KTsKICB9KTsKICBzaG93UGFnZShyZXN1bHRzUGFnZSk7IC8vINmK2KzYqCDYo9mGINmK2YPZiNmGINmH2LDYpyDYp9mE2LPYt9ixINmF2YjYrNmI2K/Yp9mLINiv2KfYptmF2KfZiwp9CmZ1bmN0aW9uIHZpZXdFeGFtUmVzdWx0cyhfMHgxYzQxNGQpIHsKICBhbGVydCgi2LnYsdi2INmG2KrYp9im2Kwg2KfZhNin2K7Yqtio2KfYsSDYs9mK2YPZiNmGINmH2YbYpyIpOwp9CmZ1bmN0aW9uIGxvYWRTdHVkZW50R3JhZGVzKCkgewogIGNvbnN0IF8weDUzNWMyMyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHVkZW50R3JhZGVzVGFibGUnKTsKICBfMHg1MzVjMjMuaW5uZXJIVE1MID0gIjx0cj48dGQgY29sc3Bhbj1cIjZcIj7YrNin2LHZiiDYqtit2YXZitmEINin2YTYr9ix2KzYp9iqLi4uPC90ZD48L3RyPiI7CiAgZGIuY29sbGVjdGlvbigicmVzdWx0cyIpLndoZXJlKCd1c2VySWQnLCAnPT0nLCBjdXJyZW50VXNlci51aWQpLm9yZGVyQnkoInN1Ym1pdHRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKF8weGIzYjk3MCA9PiB7CiAgICBpZiAoXzB4YjNiOTcwLmVtcHR5KSB7CiAgICAgIF8weDUzNWMyMy5pbm5lckhUTUwgPSAiPHRyPjx0ZCBjb2xzcGFuPVwiNlwiPtmE2Kcg2KrZiNis2K8g2YbYqtin2KbYrCDZhdiz2KzZhNipINio2LnYrzwvdGQ+PC90cj4iOwogICAgICByZXR1cm47CiAgICB9CiAgICBfMHg1MzVjMjMuaW5uZXJIVE1MID0gJyc7CiAgICBfMHhiM2I5NzAuZm9yRWFjaChfMHhkYzRiZTQgPT4gewogICAgICBjb25zdCBfMHgxZmU4ZGQgPSBfMHhkYzRiZTQuZGF0YSgpOwogICAgICBjb25zdCBfMHgxMTExMGYgPSBfMHgxZmU4ZGQuc3VibWl0dGVkQXQ/LlsidG9EYXRlIl0oKSB8fCBuZXcgRGF0ZSgpOwogICAgICBjb25zdCBfMHg1NTg5YmIgPSBfMHgxMTExMGYudG9Mb2NhbGVEYXRlU3RyaW5nKCkgKyAiICIgKyBfMHgxMTExMGYudG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICAgIGxldCBfMHgzYTg5NDAgPSAiZ3JhZGUtcG9vciI7CiAgICAgIGlmIChfMHgxZmU4ZGQuc2NvcmVQZXJjZW50YWdlID49IDB4NWEpIHsKICAgICAgICBfMHgzYTg5NDAgPSAiZ3JhZGUtZXhjZWxsZW50IjsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoXzB4MWZlOGRkLnNjb3JlUGVyY2VudGFnZSA+PSAweDRiKSB7CiAgICAgICAgICBfMHgzYTg5NDAgPSAiZ3JhZGUtZ29vZCI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChfMHgxZmU4ZGQuc2NvcmVQZXJjZW50YWdlID49IDB4M2MpIHsKICAgICAgICAgICAgXzB4M2E4OTQwID0gImdyYWRlLWF2ZXJhZ2UiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBfMHg1MzVjMjMuaW5uZXJIVE1MICs9ICJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiIgKyBfMHgxZmU4ZGQuZXhhbVRpdGxlICsgIjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+IiArIF8weDU1ODliYiArICI8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiIgKyBfMHgxZmU4ZGQub2J0YWluZWRNYXJrcyArICIgLyAiICsgXzB4MWZlOGRkLnRvdGFsTWFya3MgKyAiPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4iICsgXzB4MWZlOGRkLnNjb3JlUGVyY2VudGFnZSArICIlPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48c3BhbiBjbGFzcz1cImdyYWRlLWJhZGdlICIgKyBfMHgzYTg5NDAgKyAiXCI+IiArIF8weDFmZThkZC5ncmFkZVN0YXR1cyArICI8L3NwYW4+PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAiOwogICAgfSk7CiAgfSlbImNhdGNoIl0oXzB4YjA3ODZlID0+IHsKICAgIF8weDUzNWMyMy5pbm5lckhUTUwgPSAiPHRyPjx0ZCBjb2xzcGFuPVwiNlwiPtit2K/YqyDYrti32KM6ICIgKyBfMHhiMDc4NmUubWVzc2FnZSArICI8L3RkPjwvdHI+IjsKICB9KTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIGxvYWRBbGxHcmFkZXMoKSB7CiAgY29uc3QgXzB4Mjc4ZWJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFsbEdyYWRlc1RhYmxlIik7CiAgXzB4Mjc4ZWJkLmlubmVySFRNTCA9ICI8dHI+PHRkIGNvbHNwYW49XCI2XCI+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2K/Ysdis2KfYqi4uLjwvdGQ+PC90cj4iOwogIGNvbnN0IF8weDQ2OWEyNyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFkZUV4YW1GaWx0ZXInKTsKICBfMHg0NjlhMjcuaW5uZXJIVE1MID0gIjxvcHRpb24gdmFsdWU9XCJcIj7YrNmF2YrYuSDYp9mE2KfYrtiq2KjYp9ix2KfYqjwvb3B0aW9uPiI7CiAgZGIuY29sbGVjdGlvbignZXhhbXMnKS5nZXQoKS50aGVuKF8weDFlNjMwOSA9PiB7CiAgICBfMHgxZTYzMDkuZm9yRWFjaChfMHgxODU5OTYgPT4gewogICAgICBjb25zdCBfMHgyMTJhNzggPSBfMHgxODU5OTYuZGF0YSgpOwogICAgICBfMHg0NjlhMjcuaW5uZXJIVE1MICs9ICI8b3B0aW9uIHZhbHVlPVwiIiArIF8weDE4NTk5Ni5pZCArICJcIj4iICsgXzB4MjEyYTc4LnRpdGxlICsgJzwvb3B0aW9uPic7CiAgICB9KTsKICAgIHJldHVybiBsb2FkRmlsdGVyZWRHcmFkZXMoKTsKICB9KVsiY2F0Y2giXShfMHgzNDdkNGQgPT4gewogICAgXzB4Mjc4ZWJkLmlubmVySFRNTCA9ICI8dHI+PHRkIGNvbHNwYW49XCI2XCI+2K3Yr9irINiu2LfYozogIiArIF8weDM0N2Q0ZC5tZXNzYWdlICsgJzwvdGQ+PC90cj4nOwogIH0pOwp9CgpmdW5jdGlvbiBsb2FkRmlsdGVyZWRHcmFkZXMoKSB7CiAgY29uc3QgXzB4M2Q2OGU3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFsbEdyYWRlc1RhYmxlIik7CiAgY29uc3QgXzB4NDVhODEwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdyYWRlRXhhbUZpbHRlciIpOwogIGNvbnN0IF8weDExNDY4YyA9IF8weDQ1YTgxMC52YWx1ZTsKICBfMHgzZDY4ZTcuaW5uZXJIVE1MID0gIjx0cj48dGQgY29sc3Bhbj1cIjZcIj7YrNin2LHZiiDYqtit2YXZitmEINin2YTYr9ix2KzYp9iqLi4uPC90ZD48L3RyPiI7CiAgbGV0IF8weDRmMjU2YSA9IGRiLmNvbGxlY3Rpb24oInJlc3VsdHMiKS5vcmRlckJ5KCJzdWJtaXR0ZWRBdCIsICdkZXNjJyk7CiAgaWYgKF8weDExNDY4YykgewogICAgXzB4NGYyNTZhID0gXzB4NGYyNTZhLndoZXJlKCJleGFtSWQiLCAnPT0nLCBfMHgxMTQ2OGMpOwogIH0KICBfMHg0ZjI1NmEuZ2V0KCkudGhlbihfMHgzZjgzZDAgPT4gewogICAgaWYgKF8weDNmODNkMC5lbXB0eSkgewogICAgICBfMHgzZDY4ZTcuaW5uZXJIVE1MID0gIjx0cj48dGQgY29sc3Bhbj1cIjZcIj7ZhNinINiq2YjYrNivINmG2KrYp9im2Kwg2YXYs9is2YTYqSDYqNi52K88L3RkPjwvdHI+IjsKICAgICAgcmV0dXJuOwogICAgfQogICAgXzB4M2Q2OGU3LmlubmVySFRNTCA9ICcnOwogICAgXzB4M2Y4M2QwLmZvckVhY2goXzB4NTY4YWYyID0+IHsKICAgICAgY29uc3QgXzB4MmRkNjIxID0gXzB4NTY4YWYyLmRhdGEoKTsKICAgICAgY29uc3QgXzB4MjE3NGM3ID0gXzB4MmRkNjIxLnN1Ym1pdHRlZEF0Py5bInRvRGF0ZSJdKCkgfHwgbmV3IERhdGUoKTsKICAgICAgLy8g2LXZiti62Kkg2KfZhNmK2YjZhS/Yp9mE2LTZh9ixL9in2YTYs9mG2KkgLSDYp9mE2LPYp9i52Kk62KfZhNiv2YLZitmC2Kk62KfZhNir2KfZhtmK2KkKICAgICAgY29uc3QgZGF0ZVRpbWVTdHJpbmcgPSBgJHtfMHgyMTc0YzcuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0vJHsKICAgICAgICAoXzB4MjE3NGM3LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LyR7CiAgICAgICAgXzB4MjE3NGM3LmdldEZ1bGxZZWFyKCl9IC0gJHsKICAgICAgICBfMHgyMTc0YzcuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7CiAgICAgICAgXzB4MjE3NGM3LmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7CiAgICAgICAgXzB4MjE3NGM3LmdldFNlY29uZHMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDsKICAgICAgbGV0IF8weDIyMjMyMiA9ICJncmFkZS1wb29yIjsKICAgICAgaWYgKF8weDJkZDYyMS5zY29yZVBlcmNlbnRhZ2UgPj0gMHg1YSkgewogICAgICAgIF8weDIyMjMyMiA9ICJncmFkZS1leGNlbGxlbnQiOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChfMHgyZGQ2MjEuc2NvcmVQZXJjZW50YWdlID49IDB4NGIpIHsKICAgICAgICAgIF8weDIyMjMyMiA9ICJncmFkZS1nb29kIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKF8weDJkZDYyMS5zY29yZVBlcmNlbnRhZ2UgPj0gMHgzYykgewogICAgICAgICAgICBfMHgyMjIzMjIgPSAiZ3JhZGUtYXZlcmFnZSI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIF8weDNkNjhlNy5pbm5lckhUTUwgKz0gYAogICAgICAgIDx0cj4KICAgICAgICAgIDx0ZD4ke18weDJkZDYyMS51c2VyTmFtZX08L3RkPgogICAgICAgICAgPHRkPiR7XzB4MmRkNjIxLmV4YW1UaXRsZX08L3RkPgogICAgICAgICAgPHRkPiR7ZGF0ZVRpbWVTdHJpbmd9PC90ZD4KICAgICAgICAgIDx0ZD4ke18weDJkZDYyMS5vYnRhaW5lZE1hcmtzfSAvICR7XzB4MmRkNjIxLnRvdGFsTWFya3N9PC90ZD4KICAgICAgICAgIDx0ZD4ke18weDJkZDYyMS5zY29yZVBlcmNlbnRhZ2V9JTwvdGQ+CiAgICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9ImdyYWRlLWJhZGdlICR7XzB4MjIyMzIyfSI+JHtfMHgyZGQ2MjEuZ3JhZGVTdGF0dXN9PC9zcGFuPjwvdGQ+CiAgICAgICAgPC90cj4KICAgICAgYDsKICAgIH0pOwogIH0pWyJjYXRjaCJdKF8weDEwZDg4OCA9PiB7CiAgICBfMHgzZDY4ZTcuaW5uZXJIVE1MID0gIjx0cj48dGQgY29sc3Bhbj1cIjZcIj7Yrdiv2Ksg2K7Yt9ijOiAiICsgXzB4MTBkODg4Lm1lc3NhZ2UgKyAiPC90ZD48L3RyPiI7CiAgfSk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYqtij2YPYryDZhdmGINin2LPYqtiv2LnYp9ihINmH2LDZhyDYp9mE2K/Yp9mE2Kkg2LnZhtivINmB2KrYrSDYtdmB2K3YqSDYpdiv2KfYsdipICLYp9iu2KrYqNixINmG2YHYs9mDIgpmdW5jdGlvbiBsb2FkU3R1ZGVudHNGb3JTZWxmVGVzdChzZWxlY3RlZFN0dWRlbnRzID0gW10pIHsKICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbGxvd2VkU2VsZlRlc3RTdHVkZW50cyIpOwogICAgaWYgKCFzZWxlY3QpIHJldHVybjsKICAgIHNlbGVjdC5pbm5lckhUTUwgPSAiPG9wdGlvbiB2YWx1ZT1cIlwiPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNi32YTYp9ioLi4uPC9vcHRpb24+IjsKICAgIC8vINis2YTYqCDYrNmF2YrYuSDYp9mE2LfZhNin2Kgg2YjYp9mE2YXYudmE2YXZitmGCiAgICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLndoZXJlKCJyb2xlIiwgImluIiwgWyJzdHVkZW50IiwgInRlYWNoZXIiXSkuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICAgICAgc2VsZWN0LmlubmVySFRNTCA9ICcnOwogICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgICAgICAgY29uc3QgdXNlciA9IGRvYy5kYXRhKCk7CiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gc2VsZWN0ZWRTdHVkZW50cy5pbmNsdWRlcyhkb2MuaWQpID8gInNlbGVjdGVkIiA6ICIiOwogICAgICAgICAgICBzZWxlY3QuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPSIke2RvYy5pZH0iICR7c2VsZWN0ZWR9PiR7dXNlci5uYW1lfSAoJHt1c2VyLmVtYWlsfSkke3VzZXIucm9sZSA9PT0gInRlYWNoZXIiID8gIiAtINmF2LnZhNmFIiA6ICIifTwvb3B0aW9uPmA7CiAgICAgICAgfSk7CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgc2VsZWN0LmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPSIiPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYt9mE2KfYqDogJHtlcnJvci5tZXNzYWdlfTwvb3B0aW9uPmA7CiAgICB9KTsKfQoKLy8g2KfYs9iq2K/YudmQINin2YTYr9in2YTYqSDYudmG2K8g2YHYqtitINi12YHYrdipINil2K/Yp9ix2Kkg2KfYrtiq2KjYsSDZhtmB2LPZgwpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudU1hbmFnZVNlbGZUZXN0IikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiB7CiAgZWRpdGluZ1NlbGZUZXN0SWQgPSBudWxsOwogIGxvYWRTdHVkZW50c0ZvclNlbGZUZXN0KCk7CiAgLy8gLi4u2KPZiiDZg9mI2K8g2KLYrtixLi4uCn0pOwoKCmZ1bmN0aW9uIGxvYWRTbGlkZXMoKSB7CiAgY29uc3QgXzB4MzhiMGEwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlc0dyaWQiKTsKICBfMHgzOGIwYTAuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KfZhNi02LHYp9im2K0uLi48L3A+IjsKICBkYi5jb2xsZWN0aW9uKCJzbGlkZXMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLnRoZW4oXzB4MTNhODRhID0+IHsKICAgIGlmIChfMHgxM2E4NGEuZW1wdHkpIHsKICAgICAgXzB4MzhiMGEwLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINi02LHYp9im2K0g2YXYqtin2K3YqSDYrdin2YTZitin2Ys8L3A+IjsKICAgICAgcmV0dXJuOwogICAgfQogICAgXzB4MzhiMGEwLmlubmVySFRNTCA9ICcnOwogICAgXzB4MTNhODRhLmZvckVhY2goXzB4NGVmMWI1ID0+IHsKICAgICAgY29uc3QgXzB4ZTA3NWZjID0gXzB4NGVmMWI1LmRhdGEoKTsKICAgICAgXzB4MzhiMGEwLmFwcGVuZENoaWxkKGNyZWF0ZVNsaWRlQ2FyZChfMHhlMDc1ZmMsIF8weDRlZjFiNS5pZCkpOwogICAgfSk7CiAgfSlbImNhdGNoIl0oXzB4NDkyMDBmID0+IHsKICAgIF8weDM4YjBhMC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNi02LHYp9im2K06ICIgKyBfMHg0OTIwMGYubWVzc2FnZSArICI8L3A+IjsKICB9KTsKfQpmdW5jdGlvbiBjcmVhdGVTbGlkZUNhcmQoc2xpZGUsIHNsaWRlSWQpIHsKICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGNhcmQuY2xhc3NOYW1lID0gInNsaWRlLWNhcmQiOwogICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBoZWFkZXIuY2xhc3NOYW1lID0gJ3NsaWRlLWNhcmQtaGVhZGVyJzsKICAgIGhlYWRlci5pbm5lckhUTUwgPSBgPGkgY2xhc3M9ImZhcyBmYS1jaGFsa2JvYXJkLXRlYWNoZXIiPjwvaT4gJHtzbGlkZS50aXRsZX1gOwogICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgYm9keS5jbGFzc05hbWUgPSAic2xpZGUtY2FyZC1ib2R5IjsKICAgIGJvZHkuc3R5bGUuZGlzcGxheSA9ICJub25lIjsgLy8g2KXYrtmB2KfYoSDYp9mE2YHYtdmI2YQg2KfZgdiq2LHYp9i22YrYp9mLCiBpZiAoc2xpZGUuaW1hZ2VVcmwgJiYgc2xpZGUuaW1hZ2VVcmwudHJpbSgpICE9PSAiIikgewogICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICAgIGltZy5zcmMgPSBzbGlkZS5pbWFnZVVybDsKICAgICAgICBpbWcuYWx0ID0gIti12YjYsdipINin2YTZhdmC2LHYsSI7CiAgICAgICAgaW1nLnN0eWxlID0gIndpZHRoOjEwMCU7bWF4LXdpZHRoOjQyMHB4O21heC1oZWlnaHQ6MjIwcHg7ZGlzcGxheTpibG9jazttYXJnaW46MThweCBhdXRvIDEwcHggYXV0bztib3JkZXItcmFkaXVzOjE0cHg7Ym94LXNoYWRvdzowIDJweCAxMnB4ICMwYTcwZmYyMjsiOwogICAgICAgIGNhcmQuYXBwZW5kQ2hpbGQoaW1nKTsKICAgIH0KICAgIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KICAgIC8vINio2KfZgtmKINin2YTZg9mI2K8g2YPZhdinINmH2YgKICAgIC8vINi52LHYtiDZhdit2KrZiNmJINin2YTYtNix2YrYrdipICjYp9mE2YbYtSDYp9mE2LHYptmK2LPZiikKICAgIGlmIChzbGlkZS5jb250ZW50ICYmIHNsaWRlLmNvbnRlbnQudHJpbSgpICE9PSAiIikgewogICAgICAgIGJvZHkuaW5uZXJIVE1MICs9IGA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjE4cHg7IGNvbG9yOiMyMjI7IGZvbnQtc2l6ZToxLjFyZW07IGxpbmUtaGVpZ2h0OjI7Ij4ke3NsaWRlLmNvbnRlbnR9PC9kaXY+YDsKICAgIH0KCiAgICAvLyDYudix2LYg2KfZhNmB2LXZiNmEINmI2KfZhNiv2LHZiNizCiAgICBpZiAoc2xpZGUuY2hhcHRlcnMgJiYgQXJyYXkuaXNBcnJheShzbGlkZS5jaGFwdGVycykgJiYgc2xpZGUuY2hhcHRlcnMubGVuZ3RoID4gMCkgewogICAgICAgIHNsaWRlLmNoYXB0ZXJzLmZvckVhY2goKGNoYXB0ZXIsIGNJZHgpID0+IHsKICAgICAgICAgICAgY29uc3QgY2hhcHRlcklkID0gYGNoYXB0ZXItZGV0YWlscy0ke3NsaWRlSWR9LSR7Y0lkeH1gOwogICAgICAgICAgICBjb25zdCBjaGFwdGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgIGNoYXB0ZXJEaXYuc3R5bGUgPSAibWFyZ2luLWJvdHRvbToxOHB4OyBiYWNrZ3JvdW5kOiNlYWYzZmY7IGJvcmRlci1yYWRpdXM6MTBweDsgcGFkZGluZzowOyBib3gtc2hhZG93OjAgMnB4IDhweCByZ2JhKDAsMCwwLDAuMDQpOyI7CgogICAgICAgICAgICAvLyDYstixINin2YTZgdi12YQgKNmK2YbYs9iv2YQg2LnZhtivINin2YTYtti62LcpCiAgICAgICAgICAgIGNvbnN0IGNoYXB0ZXJCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICAgICAgY2hhcHRlckJ0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1wcmltYXJ5IjsKICAgICAgICAgICAgY2hhcHRlckJ0bi5zdHlsZSA9ICJ3aWR0aDoxMDAlOyB0ZXh0LWFsaWduOnJpZ2h0OyBib3JkZXItcmFkaXVzOjEwcHggMTBweCAwIDA7IGZvbnQtc2l6ZToxLjFyZW07IHBhZGRpbmc6MTRweCAxOHB4OyBiYWNrZ3JvdW5kOiMwYTcwZmY7IGNvbG9yOiNmZmY7IGJvcmRlcjpub25lOyBvdXRsaW5lOm5vbmU7IjsKICAgICAgICAgICAgY2hhcHRlckJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9ImZhcyBmYS1jaGV2cm9uLWRvd24iPjwvaT4gJHtjaGFwdGVyLnRpdGxlfWA7CiAgICAgICAgICAgIGNoYXB0ZXJCdG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjaGFwdGVySWQpOwogICAgICAgICAgICAgICAgaWYgKGRldGFpbHMuc3R5bGUuZGlzcGxheSA9PT0gIm5vbmUiIHx8ICFkZXRhaWxzLnN0eWxlLmRpc3BsYXkpIHsKICAgICAgICAgICAgICAgICAgICBkZXRhaWxzLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgICAgICAgICAgICAgIGNoYXB0ZXJCdG4ucXVlcnlTZWxlY3RvcigiaSIpLmNsYXNzTmFtZSA9ICJmYXMgZmEtY2hldnJvbi11cCI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGRldGFpbHMuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgICAgICAgICAgICBjaGFwdGVyQnRuLnF1ZXJ5U2VsZWN0b3IoImkiKS5jbGFzc05hbWUgPSAiZmFzIGZhLWNoZXZyb24tZG93biI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CgogICAgICAgICAgICAvLyDZhdit2KrZiNmJINin2YTZgdi12YQgKNin2YTYr9ix2YjYsykKICAgICAgICAgICAgY29uc3QgY2hhcHRlckRldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgY2hhcHRlckRldGFpbHMuaWQgPSBjaGFwdGVySWQ7CiAgICAgICAgICAgIGNoYXB0ZXJEZXRhaWxzLnN0eWxlID0gImRpc3BsYXk6bm9uZTsgcGFkZGluZzoxMnB4OyBiYWNrZ3JvdW5kOiNmOWY5Zjk7IGJvcmRlci1yYWRpdXM6MCAwIDEwcHggMTBweDsiOwogICAgICAgICAgICBpZiAoY2hhcHRlci5sZXNzb25zICYmIGNoYXB0ZXIubGVzc29ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjaGFwdGVyLmxlc3NvbnMuZm9yRWFjaCgobGVzc29uLCBsSWR4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVzc29uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICAgICAgbGVzc29uRGl2LnN0eWxlID0gIm1hcmdpbi1ib3R0b206MTBweDsgYmFja2dyb3VuZDojZmZmOyBib3JkZXItcmFkaXVzOjhweDsgcGFkZGluZzoxMHB4OyBib3gtc2hhZG93OjAgMXB4IDRweCByZ2JhKDAsMCwwLDAuMDMpOyI7CiAgICAgICAgICAgICAgICAgICAgbGVzc29uRGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz48aSBjbGFzcz0iZmFzIGZhLXBsYXktY2lyY2xlIj48L2k+ICR7bGVzc29uLnRpdGxlfTwvc3Ryb25nPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOjhweDsiPgoke2xlc3Nvbi52aWRlbyA/IGA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIHN0eWxlPSJtYXJnaW4tYm90dG9tOjdweDsiIG9uY2xpY2s9InJlcXVlc3RWaWRlb1Bhc3N3b3JkKCcke2xlc3Nvbi52aWRlb30nLCAnJHtsZXNzb24ucGFzc3dvcmQgfHwgIiJ9JykiPjxpIGNsYXNzPSJmYXMgZmEtcGxheSI+PC9pPiDZhdi02KfZh9iv2Kkg2KfZhNmB2YrYr9mK2Yg8L2J1dHRvbj5gIDogIiJ9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7bGVzc29uLmRvd25sb2FkID8gYDxhIGNsYXNzPSJidG4gYnRuLWRvd25sb2FkIiBocmVmPSIke2xlc3Nvbi5kb3dubG9hZH0iIGRvd25sb2FkIHN0eWxlPSJtYXJnaW4tcmlnaHQ6N3B4OyI+PGkgY2xhc3M9ImZhcyBmYS1kb3dubG9hZCI+PC9pPiDYqtmG2LLZitmEINin2YTZhdmE2YE8L2E+YCA6ICIifQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAgIGNoYXB0ZXJEZXRhaWxzLmFwcGVuZENoaWxkKGxlc3NvbkRpdik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNoYXB0ZXJEZXRhaWxzLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojODg4OyI+2YTYpyDZitmI2KzYryDYr9ix2YjYsyDZgdmKINmH2LDYpyDYp9mE2YHYtdmELjwvZGl2PmA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNoYXB0ZXJEaXYuYXBwZW5kQ2hpbGQoY2hhcHRlckJ0bik7CiAgICAgICAgICAgIGNoYXB0ZXJEaXYuYXBwZW5kQ2hpbGQoY2hhcHRlckRldGFpbHMpOwogICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGNoYXB0ZXJEaXYpOwogICAgICAgIH0pOwogICAgfQoKICAgIC8vINiq2LDZitmK2YQg2KfZhNi02LHZitit2KkKICAgIGNvbnN0IGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgZm9vdGVyLmNsYXNzTmFtZSA9ICJzbGlkZS1jYXJkLWZvb3RlciI7CiAgICBmb290ZXIuaW5uZXJIVE1MID0gYAogICAgICAgIDxzcGFuPjxpIGNsYXNzPSJmYXMgZmEtdXNlciI+PC9pPiAke3NsaWRlLmNyZWF0ZWRCeSB8fCAi2YXYrNmH2YjZhCJ9PC9zcGFuPgogICAgICAgIDxzcGFuPjxpIGNsYXNzPSJmYXMgZmEtY2FsZW5kYXItYWx0Ij48L2k+ICR7c2xpZGUuY3JlYXRlZEF0ICYmIHNsaWRlLmNyZWF0ZWRBdC50b0RhdGUgPyBuZXcgRGF0ZShzbGlkZS5jcmVhdGVkQXQudG9EYXRlKCkpLnRvTG9jYWxlRGF0ZVN0cmluZygpIDogIiJ9PC9zcGFuPgogICAgYDsKICAgIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICAgICAgLy8g2LLYsSDYqti52K/ZitmEINin2YTYtNix2YrYrdipCiAgICAgICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICAgIGVkaXRCdG4uY2xhc3NOYW1lID0gImJ0biBidG4tb3V0bGluZSI7CiAgICAgICAgZWRpdEJ0bi50ZXh0Q29udGVudCA9ICfYqti52K/ZitmEJzsKICAgICAgICBlZGl0QnRuLnN0eWxlLm1hcmdpbkxlZnQgPSAiMTBweCI7CiAgICAgICAgZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IGVkaXRTbGlkZShzbGlkZSwgc2xpZGVJZCkpOwogICAgICAgIGZvb3Rlci5hcHBlbmRDaGlsZChlZGl0QnRuKTsKCiAgICAgICAgLy8g2LLYsSDYrdiw2YEg2KfZhNi02LHZitit2KkKICAgICAgICBjb25zdCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICBkZWxCdG4uY2xhc3NOYW1lID0gImJ0biBidG4tZGFuZ2VyIjsKICAgICAgICBkZWxCdG4udGV4dENvbnRlbnQgPSAn2K3YsNmBJzsKICAgICAgICBkZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBjb25maXJtRGVsZXRlU2xpZGUoc2xpZGVJZCkpOwogICAgICAgIGZvb3Rlci5hcHBlbmRDaGlsZChkZWxCdG4pOwogICAgfQoKICAgIC8vINi52YbYryDYp9mE2LbYuti3INi52YTZiSDYsdij2LMg2KfZhNi02LHZitit2Kkg2KrYuNmH2LEv2KrYrtmB2Yog2KfZhNmB2LXZiNmEINmI2KrYrtmB2Yog2KjYp9mC2Yog2KfZhNi02LHYp9im2K0g2KfZhNmF2YHYqtmI2K3YqQogICAgaGVhZGVyLnN0eWxlLmN1cnNvciA9ICJwb2ludGVyIjsKICAgIGhlYWRlci5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vINil2LrZhNin2YIg2KzZhdmK2Lkg2KfZhNi02LHYp9im2K0g2KfZhNij2K7YsdmJCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlLWNhcmQtYm9keScpLmZvckVhY2goYiA9PiB7CiAgICAgICAgICAgIGlmIChiICE9PSBib2R5KSBiLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgfSk7CiAgICAgICAgLy8g2YHYqtitL9il2LrZhNin2YIg2KfZhNi02LHZitit2Kkg2KfZhNit2KfZhNmK2KkKICAgICAgICBib2R5LnN0eWxlLmRpc3BsYXkgPSAoYm9keS5zdHlsZS5kaXNwbGF5ID09PSAibm9uZSIgfHwgIWJvZHkuc3R5bGUuZGlzcGxheSkgPyAiYmxvY2siIDogIm5vbmUiOwogICAgfTsKCiAgICBjYXJkLmFwcGVuZENoaWxkKGhlYWRlcik7CiAgICBjYXJkLmFwcGVuZENoaWxkKGJvZHkpOwogICAgY2FyZC5hcHBlbmRDaGlsZChmb290ZXIpOwogICAgcmV0dXJuIGNhcmQ7Cn0KCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYr9in2YTYqSDYt9mE2Kgg2YPZhNmF2Kkg2LPYsSDYp9mE2YHZitiv2YrZiCAo2KrYo9mD2K8g2KPZhiDZh9iw2Ycg2KfZhNiv2KfZhNipINmF2YjYrNmI2K/YqSDZhdix2Kkg2YjYp9it2K/YqSDZgdmC2LcpCmZ1bmN0aW9uIHJlcXVlc3RWaWRlb1Bhc3N3b3JkKHZpZGVvVXJsLCBwYXNzd29yZCkgewogIC8vINil2LDYpyDZhNinINmK2YjYrNivINmD2YTZhdipINiz2LHYjCDYp9i52LHYtiDYp9mE2YHZitiv2YrZiCDZhdio2KfYtNix2KkKICBpZiAoIXBhc3N3b3JkKSB7CiAgICBzaG93TGVzc29uVmlkZW9Nb2RhbCh2aWRlb1VybCk7CiAgICByZXR1cm47CiAgfQogIC8vINmG2KfZgdiw2Kkg2KXYr9iu2KfZhCDZg9mE2YXYqSDYp9mE2LPYsQogIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgbW9kYWwuY2xhc3NOYW1lID0gIm1vZGFsIjsKICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIG1vZGFsLmlubmVySFRNTCA9IGAKICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6MzgwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij4KICAgICAgPGgyIGNsYXNzPSJtb2RhbC10aXRsZSIgc3R5bGU9ImNvbG9yOiMwYTcwZmY7Ij7wn5SSINmD2YTZhdipINiz2LEg2KfZhNmB2YrYr9mK2Yg8L2gyPgogICAgICA8cCBjbGFzcz0ibW9kYWwtbWVzc2FnZSIgc3R5bGU9Im1hcmdpbi1ib3R0b206MThweDsiPtmH2LDYpyDYp9mE2YHZitiv2YrZiCDZhNmE2YXYtNiq2LHZg9mK2YYuINil2LDYpyDZhNmFINiq2YPZhiDZhdi02KrYsdmD2YvYp9iMINiq2YjYp9i12YQg2YXYudmG2Kcg2YTZhNin2LTYqtix2KfZgy48L3A+CiAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9InZpZGVvUGFzc3dvcmRJbnB1dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Itij2K/YrtmEINmD2YTZhdipINin2YTYs9ixIiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxNHB4OyI+CiAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtnYXA6MTBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbi1ib3R0b206MTBweDsiPgogICAgICAgIDxidXR0b24gaWQ9ImNvbmZpcm1WaWRlb1Bhc3N3b3JkQnRuIiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5Ij7Yqtij2YPZitivPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBpZD0iY2FuY2VsVmlkZW9QYXNzd29yZEJ0biIgY2xhc3M9ImJ0biBidG4tb3V0bGluZSI+2KXZhNi62KfYoTwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGJ1dHRvbiBpZD0iY29udGFjdFdoYXRzYXBwQnRuIiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIiBzdHlsZT0id2lkdGg6MTAwJTttYXJnaW4tdG9wOjhweDsiPgogICAgICAgIDxpIGNsYXNzPSJmYWIgZmEtd2hhdHNhcHAiPjwvaT4g2KrZiNin2LXZhCDZhNmE2KfYtNiq2LHYp9mDCiAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CiAgYDsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsKCiAgLy8g2LLYsSDYqtij2YPZitivINmD2YTZhdipINin2YTYs9ixCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbmZpcm1WaWRlb1Bhc3N3b3JkQnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpZGVvUGFzc3dvcmRJbnB1dCIpLnZhbHVlLnRyaW0oKTsKICAgIGlmIChpbnB1dCA9PT0gcGFzc3dvcmQpIHsKICAgICAgbW9kYWwucmVtb3ZlKCk7CiAgICAgIHNob3dMZXNzb25WaWRlb01vZGFsKHZpZGVvVXJsKTsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KCLZg9mE2YXYqSDYp9mE2LPYsSDYutmK2LEg2LXYrdmK2K3YqSEiKTsKICAgIH0KICB9OwoKICAvLyDYstixINil2YTYutin2KEKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FuY2VsVmlkZW9QYXNzd29yZEJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICBtb2RhbC5yZW1vdmUoKTsKICB9OwoKICAvLyDYstixINiq2YjYp9i12YQg2YjYp9iq2LPYp9ioCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRhY3RXaGF0c2FwcEJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAvLyDYudiv2YQg2KfZhNix2YLZhSDZiNin2YTYsdiz2KfZhNipINit2LPYqCDYsdi62KjYqtmDCiAgICBjb25zdCBwaG9uZSA9ICIyMDEwNjQxNzQyNzAiOyAvLyDYtti5INix2YLZhdmDINio2K/ZiNmGICsKICAgIGNvbnN0IG1zZyA9IGVuY29kZVVSSUNvbXBvbmVudCgi2YXYsdit2KjZi9in2Iwg2KPYsdmK2K8g2KfZhNin2LTYqtix2KfZgyDZgdmKINmF2YbYtdipINin2YTZgdmK2LLZitin2KEg2KfZhNmE2LDZitiw2KkuIik7CiAgICB3aW5kb3cub3BlbihgaHR0cHM6Ly93YS5tZS8ke3Bob25lfT90ZXh0PSR7bXNnfWAsICJfYmxhbmsiKTsKICB9OwoKICAvLyDYr9i52YUg2LLYsSBFbnRlcgogIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpZGVvUGFzc3dvcmRJbnB1dCIpOwogIGlucHV0LmZvY3VzKCk7CiAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uKGUpIHsKICAgIGlmIChlLmtleSA9PT0gIkVudGVyIikgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbmZpcm1WaWRlb1Bhc3N3b3JkQnRuIikuY2xpY2soKTsKICB9KTsKfQoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgooZnVuY3Rpb24oKXsKICBjb25zdCBvcGVuQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RVc0J0bicpOwogIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhY3RVc01vZGFsJyk7CiAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2VDb250YWN0VXNNb2RhbCcpOwogIGNvbnN0IGNvcHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdFVzQ29weUJ0bicpOwoKICBmdW5jdGlvbiBvcGVuTW9kYWwoKXsgbW9kYWwuY2xhc3NMaXN0LmFkZCgnc2hvdycpOyBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywnZmFsc2UnKTsgY2xvc2VCdG4uZm9jdXMoKTsgfQogIGZ1bmN0aW9uIGNsb3NlTW9kYWwoKXsgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOyBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywndHJ1ZScpOyB9CgogIG9wZW5CdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1vZGFsKTsKICBjbG9zZUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU1vZGFsKTsKICBtb2RhbD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHsgaWYgKGUudGFyZ2V0ID09PSBtb2RhbCkgY2xvc2VNb2RhbCgpOyB9KTsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7IGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIGNsb3NlTW9kYWwoKTsgfSk7CgogIGNvcHlCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgbmF2aWdhdG9yLmNsaXBib2FyZD8ud3JpdGVUZXh0KCcrMjAxMDYwOTExMDkzJykudGhlbigoKT0+IHsKICAgICAgYWxlcnQoJ9iq2YUg2YbYs9iuINix2YLZhSDYp9mE2YjYp9iq2LPYp9ioJyk7CiAgICB9KS5jYXRjaCgoKT0+IGFsZXJ0KCfZgdi02YQg2KfZhNmG2LPYriDigJQg2KfZhtiz2K4g2KfZhNix2YLZhSDZitiv2YjZitin2Ys6ICsyMDEwNjA5MTEwOTMnKSk7CiAgfSk7Cn0pKCk7CgovLyDYr9in2YTYqSDYqti52K/ZitmEINin2YTYtNix2YrYrdipCi8vINiv2KfZhNipINiq2LnYr9mK2YQg2KfZhNi02LHZitit2KkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYr9in2YTYqSDYqti52K/ZitmEINin2YTYtNix2YrYrdipCmZ1bmN0aW9uIGVkaXRTbGlkZShzbGlkZSwgc2xpZGVJZCkgewogICAgICBlZGl0aW5nU2xpZGVJZCA9IHNsaWRlSWQ7IC8vINmH2YbYpyDZgdmC2LcKCiAgICBzZXRBY3RpdmVNZW51SXRlbShtZW51Q3JlYXRlU2xpZGUpOwogICAgc2hvd1BhZ2UoY3JlYXRlU2xpZGVQYWdlKTsKCiAgICAvLyDYqti52KjYptipINio2YrYp9mG2KfYqiDYp9mE2LTYsdmK2K3YqQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlVGl0bGUiKS52YWx1ZSA9IHNsaWRlLnRpdGxlIHx8ICIiOwoKICAgIC8vINil2LDYpyDZg9in2YYg2YTYr9mK2YMg2K3ZgtmEINmF2K3YqtmI2Ykg2KfZhNi02LHZitit2KkgKNmG2LXZiinYjCDYudio2KbZhyDZh9mG2KcKICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVDb250ZW50IikpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVDb250ZW50IikudmFsdWUgPSBzbGlkZS5jb250ZW50IHx8ICIiOwogICAgfQoKICAgIC8vINiq2YHYsdmK2Log2KfZhNmB2LXZiNmEINin2YTZgtiv2YrZhdipCiAgICBjb25zdCBjaGFwdGVyc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGFwdGVyc0NvbnRhaW5lciIpOwogICAgY2hhcHRlcnNDb250YWluZXIuaW5uZXJIVE1MID0gIiI7CgogICAgLy8g2KXYudin2K/YqSDYqNmG2KfYoSDYp9mE2YHYtdmI2YQg2YjYp9mE2K/YsdmI2LMKICAgIGlmIChzbGlkZS5jaGFwdGVycyAmJiBBcnJheS5pc0FycmF5KHNsaWRlLmNoYXB0ZXJzKSkgewogICAgICAgIHNsaWRlLmNoYXB0ZXJzLmZvckVhY2goKGNoYXB0ZXIsIGNJZHgpID0+IHsKICAgICAgICAgICAgY29uc3QgY2hhcHRlcklkID0gRGF0ZS5ub3coKSArIGNJZHg7CiAgICAgICAgICAgIGNvbnN0IGNoYXB0ZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgY2hhcHRlckRpdi5jbGFzc05hbWUgPSAiY2hhcHRlci1pdGVtIjsKICAgICAgICAgICAgY2hhcHRlckRpdi5zdHlsZSA9ICJib3JkZXI6MXB4IHNvbGlkICMwYTcwZmY7IGJvcmRlci1yYWRpdXM6OHB4OyBwYWRkaW5nOjE1cHg7IG1hcmdpbi1ib3R0b206MTVweDsgYmFja2dyb3VuZDojZjdmYWZmIjsKICAgICAgICAgICAgY2hhcHRlckRpdi5pZCA9ICJjaGFwdGVyLSIgKyBjaGFwdGVySWQ7CiAgICAgICAgICAgIGNoYXB0ZXJEaXYuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPti52YbZiNin2YYg2KfZhNmB2LXZhDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgY2hhcHRlci10aXRsZSIgdmFsdWU9IiR7Y2hhcHRlci50aXRsZSB8fCAiIn0iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2K/YsdmI2LMg2KfZhNmB2LXZhDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibGVzc29uc0NvbnRhaW5lciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MgYWRkTGVzc29uQnRuIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4OyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPiDYpdi22KfZgdipINiv2LHYswogICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIHJlbW92ZS1jaGFwdGVyLWJ0biIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDsiPtit2LDZgSDYp9mE2YHYtdmEPC9idXR0b24+CiAgICAgICAgICAgIGA7CiAgICAgICAgICAgIGNoYXB0ZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNoYXB0ZXJEaXYpOwoKICAgICAgICAgICAgLy8g2KXYttin2YHYqSDYp9mE2K/YsdmI2LMKICAgICAgICAgICAgY29uc3QgbGVzc29uc0NvbnRhaW5lciA9IGNoYXB0ZXJEaXYucXVlcnlTZWxlY3RvcigiLmxlc3NvbnNDb250YWluZXIiKTsKICAgICAgICAgICAgaWYgKGNoYXB0ZXIubGVzc29ucyAmJiBBcnJheS5pc0FycmF5KGNoYXB0ZXIubGVzc29ucykpIHsKICAgICAgICAgICAgICAgIGNoYXB0ZXIubGVzc29ucy5mb3JFYWNoKChsZXNzb24sIGxJZHgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXNzb25JZCA9IERhdGUubm93KCkgKyBsSWR4OwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlc3NvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgICAgIGxlc3NvbkRpdi5jbGFzc05hbWUgPSAibGVzc29uLWl0ZW0iOwogICAgICAgICAgICAgICAgICAgIGxlc3NvbkRpdi5zdHlsZSA9ICJib3JkZXI6MXB4IHNvbGlkICNlZWU7IGJvcmRlci1yYWRpdXM6OHB4OyBwYWRkaW5nOjEycHg7IG1hcmdpbi1ib3R0b206MTBweDsgYmFja2dyb3VuZDojZjlmOWY5IjsKICAgICAgICAgICAgICAgICAgICBsZXNzb25EaXYuaWQgPSAibGVzc29uLSIgKyBsZXNzb25JZDsKICAgICAgICAgICAgICAgICAgICBsZXNzb25EaXYuaW5uZXJIVE1MID0gYAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7YudmG2YjYp9mGINin2YTYr9ix2LM8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgbGVzc29uLXRpdGxlIiB2YWx1ZT0iJHtsZXNzb24udGl0bGUgfHwgIiJ9IiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtix2KfYqNi3INmB2YrYr9mK2Ygg2KfZhNiv2LHYsyAo2YrZiNiq2YrZiNioINij2YggbXA0KTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBsZXNzb24tdmlkZW8iIHZhbHVlPSIke2xlc3Nvbi52aWRlbyB8fCAiIn0iIHBsYWNlaG9sZGVyPSLYsdin2KjYtyDZgdmK2K/ZitmIINin2YTYr9ix2LMiPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2YPZhNmF2Kkg2LPYsSDYp9mE2YHZitiv2YrZiCAo2KfYrtiq2YrYp9ix2YopPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGxlc3Nvbi1wYXNzd29yZCIgdmFsdWU9IiR7bGVzc29uLnBhc3N3b3JkIHx8ICIifSIgcGxhY2Vob2xkZXI9Itin2KrYsdmD2Ycg2YHYp9ix2LrYp9mLINil2LDYpyDZhNmFINiq2LHYutioINio2YPZhNmF2Kkg2LPYsSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Ysdin2KjYtyDYqtit2YXZitmEINmF2YTZgSDYp9mE2K/YsdizICjYp9iu2KrZitin2LHZiik8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgbGVzc29uLWRvd25sb2FkIiB2YWx1ZT0iJHtsZXNzb24uZG93bmxvYWQgfHwgIiJ9IiBwbGFjZWhvbGRlcj0i2LHYp9io2Lcg2KrYrdmF2YrZhCDZhdio2KfYtNixINmE2YTZhdmE2YEgKNin2K7YqtmK2KfYsdmKKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tZGFuZ2VyIHJlbW92ZS1sZXNzb24tYnRuIj7Yrdiw2YEg2KfZhNiv2LHYszwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgbGVzc29uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChsZXNzb25EaXYpOwoKICAgICAgICAgICAgICAgICAgICBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLnJlbW92ZS1sZXNzb24tYnRuIikub25jbGljayA9ICgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGVzc29uRGl2LnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7IGVuYWJsZUZpbGVVcGxvYWRPbklucHV0cygpOyB9IGNhdGNoIChlcnIpIHsgY29uc29sZS5lcnJvcignZW5hYmxlRmlsZVVwbG9hZE9uSW5wdXRzIGVycm9yJywgZXJyKTsgfQoKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDYstixINil2LbYp9mB2Kkg2K/YsdizINis2K/ZitivCiAgICAgICAgICAgIGNoYXB0ZXJEaXYucXVlcnlTZWxlY3RvcigiLmFkZExlc3NvbkJ0biIpLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBsZXNzb25zQ29udGFpbmVyID0gY2hhcHRlckRpdi5xdWVyeVNlbGVjdG9yKCIubGVzc29uc0NvbnRhaW5lciIpOwogICAgICAgICAgICAgICAgY29uc3QgbGVzc29uSWQgPSBEYXRlLm5vdygpOwogICAgICAgICAgICAgICAgY29uc3QgbGVzc29uRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICBsZXNzb25EaXYuY2xhc3NOYW1lID0gImxlc3Nvbi1pdGVtIjsKICAgICAgICAgICAgICAgIGxlc3NvbkRpdi5zdHlsZSA9ICJib3JkZXI6MXB4IHNvbGlkICNlZWU7IGJvcmRlci1yYWRpdXM6OHB4OyBwYWRkaW5nOjEycHg7IG1hcmdpbi1ib3R0b206MTBweDsgYmFja2dyb3VuZDojZjlmOWY5IjsKICAgICAgICAgICAgICAgIGxlc3NvbkRpdi5pZCA9ICJsZXNzb24tIiArIGxlc3NvbklkOwogICAgICAgICAgICAgICAgbGVzc29uRGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPti52YbZiNin2YYg2KfZhNiv2LHYszwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGxlc3Nvbi10aXRsZSIgcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD7Ysdin2KjYtyDZgdmK2K/ZitmIINin2YTYr9ix2LMgKNmK2YjYqtmK2YjYqCDYo9mIIG1wNCk8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBsZXNzb24tdmlkZW8iIHBsYWNlaG9sZGVyPSLYsdin2KjYtyDZgdmK2K/ZitmIINin2YTYr9ix2LMiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+2YPZhNmF2Kkg2LPYsSDYp9mE2YHZitiv2YrZiCAo2KfYrtiq2YrYp9ix2YopPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgbGVzc29uLXBhc3N3b3JkIiBwbGFjZWhvbGRlcj0i2KfYqtix2YPZhyDZgdin2LHYutin2Ysg2KXYsNinINmE2YUg2KrYsdi62Kgg2KjZg9mE2YXYqSDYs9ixIj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPtix2KfYqNi3INiq2K3ZhdmK2YQg2YXZhNmBINin2YTYr9ix2LMgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGxlc3Nvbi1kb3dubG9hZCIgcGxhY2Vob2xkZXI9Itix2KfYqNi3INiq2K3ZhdmK2YQg2YXYqNin2LTYsSDZhNmE2YXZhNmBICjYp9iu2KrZitin2LHZiikiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgcmVtb3ZlLWxlc3Nvbi1idG4iPtit2LDZgSDYp9mE2K/YsdizPC9idXR0b24+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgbGVzc29uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChsZXNzb25EaXYpOwoKICAgICAgICAgICAgICAgIGxlc3NvbkRpdi5xdWVyeVNlbGVjdG9yKCIucmVtb3ZlLWxlc3Nvbi1idG4iKS5vbmNsaWNrID0gKCkgPT4gewogICAgICAgICAgICAgICAgICAgIGxlc3NvbkRpdi5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgZW5hYmxlRmlsZVVwbG9hZE9uSW5wdXRzKCk7IH0gY2F0Y2ggKGVycikgeyBjb25zb2xlLmVycm9yKCdlbmFibGVGaWxlVXBsb2FkT25JbnB1dHMgZXJyb3InLCBlcnIpOyB9CgoKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vINiy2LEg2K3YsNmBINin2YTZgdi12YQKICAgICAgICAgICAgY2hhcHRlckRpdi5xdWVyeVNlbGVjdG9yKCIucmVtb3ZlLWNoYXB0ZXItYnRuIikub25jbGljayA9ICgpID0+IHsKICAgICAgICAgICAgICAgIGNoYXB0ZXJEaXYucmVtb3ZlKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICB9CgogICAgLy8g2KrYutmK2YrYsSDYstixINin2YTYrdmB2Lgg2YTZitmC2YjZhSDYqNin2YTYqtit2K/ZitirINio2K/ZhNin2Ysg2YXZhiDYp9mE2KXYttin2YHYqQogICAgY29uc3Qgc2xpZGVGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlRm9ybSIpOwogICAgc2xpZGVGb3JtLm9uc3VibWl0ID0gYXN5bmMgZnVuY3Rpb24oZSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICBjb25zdCBjaGFwdGVyc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGFwdGVyc0NvbnRhaW5lciIpOwogICAgICAgIGNvbnN0IGNoYXB0ZXJEaXZzID0gY2hhcHRlcnNDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgiLmNoYXB0ZXItaXRlbSIpOwogICAgICAgIGNvbnN0IGNoYXB0ZXJzQXJyID0gW107CiAgICAgICAgY2hhcHRlckRpdnMuZm9yRWFjaChjaGFwdGVyRGl2ID0+IHsKICAgICAgICAgICAgY29uc3QgbGVzc29uc0FyciA9IFtdOwogICAgICAgICAgICBjb25zdCBsZXNzb25EaXZzID0gY2hhcHRlckRpdi5xdWVyeVNlbGVjdG9yQWxsKCIubGVzc29uLWl0ZW0iKTsKICAgICAgICAgICAgbGVzc29uRGl2cy5mb3JFYWNoKGxlc3NvbkRpdiA9PiB7CiAgICAgICAgICAgICAgICBsZXNzb25zQXJyLnB1c2goewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLmxlc3Nvbi10aXRsZSIpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgICAgICAgICB2aWRlbzogbGVzc29uRGl2LnF1ZXJ5U2VsZWN0b3IoIi5sZXNzb24tdmlkZW8iKS52YWx1ZS50cmltKCksCiAgICAgICAgICAgICAgICAgICAgZG93bmxvYWQ6IGxlc3NvbkRpdi5xdWVyeVNlbGVjdG9yKCIubGVzc29uLWRvd25sb2FkIikgPyBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLmxlc3Nvbi1kb3dubG9hZCIpLnZhbHVlLnRyaW0oKSA6ICIiLAogICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLmxlc3Nvbi1wYXNzd29yZCIpID8gbGVzc29uRGl2LnF1ZXJ5U2VsZWN0b3IoIi5sZXNzb24tcGFzc3dvcmQiKS52YWx1ZS50cmltKCkgOiAiIgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjaGFwdGVyc0Fyci5wdXNoKHsKICAgICAgICAgICAgICAgIHRpdGxlOiBjaGFwdGVyRGl2LnF1ZXJ5U2VsZWN0b3IoIi5jaGFwdGVyLXRpdGxlIikudmFsdWUudHJpbSgpLAogICAgICAgICAgICAgICAgbGVzc29uczogbGVzc29uc0FycgogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbigic2xpZGVzIikuZG9jKHNsaWRlSWQpLnVwZGF0ZSh7CiAgICAgICAgICAgIHRpdGxlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVUaXRsZSIpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgLy8g2KXYsNinINmD2KfZhiDZhNiv2YrZgyDYrdmC2YQg2YXYrdiq2YjZiSDYp9mE2LTYsdmK2K3YqQogICAgICAgICAgICAuLi4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlQ29udGVudCIpICYmIHsgY29udGVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlQ29udGVudCIpLnZhbHVlLnRyaW0oKSB9KSwKICAgICAgICAgICAgY2hhcHRlcnM6IGNoYXB0ZXJzQXJyLAogICAgICAgICAgICB1cGRhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgICAgICAgfSk7CiAgICAgICAgc2hvd1RvYXN0KCLYqtmFINiq2K3Yr9mK2Ksg2KfZhNi02LHZitit2Kkg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZUZvcm0iKS5yZXNldCgpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGFwdGVyc0NvbnRhaW5lciIpLmlubmVySFRNTCA9ICIiOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZUNyZWF0aW9uU3VjY2VzcyIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZUNyZWF0aW9uU3VjY2VzcyIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgLy8g2KXYudin2K/YqSDYstixINin2YTYrdmB2Lgg2YTZhNmI2LbYuSDYp9mE2KfZgdiq2LHYp9i22YogKNil2LbYp9mB2Kkg2LTYsdmK2K3YqSkKICAgICAgICBzbGlkZUZvcm0ub25zdWJtaXQgPSBudWxsOwogICAgfTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LLYsSDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2KfZhNiq2Yog2YTZitizINmE2YfYpyDZgdim2KkKY29uc3QgZGVsZXRlTm9DYXRlZ29yeVF1ZXN0aW9uc0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwpkZWxldGVOb0NhdGVnb3J5UXVlc3Rpb25zQnRuLmNsYXNzTmFtZSA9ICJidG4gYnRuLWRhbmdlciI7CmRlbGV0ZU5vQ2F0ZWdvcnlRdWVzdGlvbnNCdG4uc3R5bGUubWFyZ2luQm90dG9tID0gIjE1cHgiOwpkZWxldGVOb0NhdGVnb3J5UXVlc3Rpb25zQnRuLmlubmVySFRNTCA9IGA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYqNiv2YjZhiDZgdim2KlgOwpkZWxldGVOb0NhdGVnb3J5UXVlc3Rpb25zQnRuLmlkID0gImRlbGV0ZU5vQ2F0ZWdvcnlRdWVzdGlvbnNCdG4iOwoKLy8g2KPYttmBINin2YTYstixINiq2K3YqiDZgtin2KbZhdipINin2YTZgdim2KfYqiDZgdmKINio2YbZgyDYp9mE2KPYs9im2YTYqQp2YXIgcXVlc3Rpb25CYW5rQ2F0ZWdvcnlTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKTsKaWYgKHF1ZXN0aW9uQmFua0NhdGVnb3J5U2VsZWN0KSB7CiAgcXVlc3Rpb25CYW5rQ2F0ZWdvcnlTZWxlY3QucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChkZWxldGVOb0NhdGVnb3J5UXVlc3Rpb25zQnRuKTsKfQoKLy8g2LnZhtivINin2YTYtti62Lcg2LnZhNmJINiy2LEg2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINio2K/ZiNmGINmB2KbYqQpkZWxldGVOb0NhdGVnb3J5UXVlc3Rpb25zQnRuLm9uY2xpY2sgPSBhc3luYyBmdW5jdGlvbiAoKSB7CiAgaWYgKCFjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2KfZhNiq2Yog2YTZitizINmE2YfYpyDZgdim2KnYnyDZhNinINmK2YXZg9mGINin2YTYqtix2KfYrNi5INi52YYg2YfYsNinINin2YTYpdis2LHYp9ihISIpKSByZXR1cm47CiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS53aGVyZSgiY2F0ZWdvcnlJZCIsICI9PSIsIG51bGwpLmdldCgpOwogIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgc2hvd1RvYXN0KCLZhNinINmK2YjYrNivINij2LPYptmE2Kkg2KjYr9mI2YYg2YHYptipLiIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICBjb25zdCBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gYmF0Y2guZGVsZXRlKGRvYy5yZWYpKTsKICBhd2FpdCBiYXRjaC5jb21taXQoKTsKICBzaG93VG9hc3QoItiq2YUg2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINio2K/ZiNmGINmB2KbYqSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgbG9hZFF1ZXN0aW9uQmFuaygpOwp9OwoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYstixINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDZgdmKINis2YXZiti5INin2YTZgdim2KfYqiAo2KjYr9mI2YYg2K3YsNmBINin2YTZgdim2KfYqiDZhtmB2LPZh9inKQpjb25zdCBkZWxldGVBbGxRdWVzdGlvbnNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKZGVsZXRlQWxsUXVlc3Rpb25zQnRuLmNsYXNzTmFtZSA9ICJidG4gYnRuLWRhbmdlciI7CmRlbGV0ZUFsbFF1ZXN0aW9uc0J0bi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiMTVweCI7CmRlbGV0ZUFsbFF1ZXN0aW9uc0J0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPiDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2YHZiiDZg9mEINin2YTZgdim2KfYqmA7CmRlbGV0ZUFsbFF1ZXN0aW9uc0J0bi5pZCA9ICJkZWxldGVBbGxRdWVzdGlvbnNCdG4iOwoKLy8g2KPYttmBINin2YTYstixINiq2K3YqiDZgtin2KbZhdipINin2YTZgdim2KfYqiDZgdmKINio2YbZgyDYp9mE2KPYs9im2YTYqQpxdWVzdGlvbkJhbmtDYXRlZ29yeVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpOwppZiAocXVlc3Rpb25CYW5rQ2F0ZWdvcnlTZWxlY3QpIHsKICBxdWVzdGlvbkJhbmtDYXRlZ29yeVNlbGVjdC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGRlbGV0ZUFsbFF1ZXN0aW9uc0J0bik7Cn0KCi8vINi52YbYryDYp9mE2LbYuti3INi52YTZiSDYstixINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDZgdmKINmD2YQg2KfZhNmB2KbYp9iqCmRlbGV0ZUFsbFF1ZXN0aW9uc0J0bi5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24gKCkgewogIGlmICghY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDYo9mG2YMg2KrYsdmK2K8g2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINmB2Yog2YPZhCDYp9mE2YHYptin2KrYnyDZhNinINmK2YXZg9mGINin2YTYqtix2KfYrNi5INi52YYg2YfYsNinINin2YTYpdis2LHYp9ihISIpKSByZXR1cm47CiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS5nZXQoKTsKICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgIHNob3dUb2FzdCgi2YTYpyDZitmI2KzYryDYo9iz2KbZhNipINmE2K3YsNmB2YfYpy4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgY29uc3QgYmF0Y2ggPSBkYi5iYXRjaCgpOwogIHNuYXBzaG90LmZvckVhY2goZG9jID0+IGJhdGNoLmRlbGV0ZShkb2MucmVmKSk7CiAgYXdhaXQgYmF0Y2guY29tbWl0KCk7CiAgc2hvd1RvYXN0KCLYqtmFINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgbG9hZFF1ZXN0aW9uQmFuaygpOwp9OwoKLy8g2LLYsSDYrdiw2YEg2YHYptipINmF2LnZitmR2YbYqQpjb25zdCBkZWxldGVDYXRlZ29yeUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwpkZWxldGVDYXRlZ29yeUJ0bi5jbGFzc05hbWUgPSAiYnRuIGJ0bi1kYW5nZXIiOwpkZWxldGVDYXRlZ29yeUJ0bi5zdHlsZS5tYXJnaW5SaWdodCA9ICIxMHB4IjsKZGVsZXRlQ2F0ZWdvcnlCdG4uaW5uZXJIVE1MID0gYDxpIGNsYXNzPSJmYXMgZmEtdHJhc2giPjwvaT4g2K3YsNmBINin2YTZgdim2Kkg2KfZhNmF2K3Yr9iv2KlgOwpkZWxldGVDYXRlZ29yeUJ0bi5pZCA9ICJkZWxldGVDYXRlZ29yeUJ0biI7CgovLyDYo9i22YEg2KfZhNiy2LEg2KjYrNmI2KfYsSDYstixINil2LbYp9mB2Kkg2YHYptipINis2K/Zitiv2KkKY29uc3QgYWRkQ2F0ZWdvcnlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ2F0ZWdvcnlCdG4iKTsKaWYgKGFkZENhdGVnb3J5QnRuKSB7CiAgYWRkQ2F0ZWdvcnlCdG4ucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChkZWxldGVDYXRlZ29yeUJ0bik7Cn0KCi8vINi52YbYryDYp9mE2LbYuti3INi52YTZiSDYstixINit2LDZgSDYp9mE2YHYptipINin2YTZhdit2K/Yr9ipCmRlbGV0ZUNhdGVnb3J5QnRuLm9uY2xpY2sgPSBhc3luYyBmdW5jdGlvbiAoKSB7CiAgY29uc3QgY2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpLnZhbHVlOwogIGlmICghY2F0ZWdvcnlJZCkgewogICAgc2hvd1RvYXN0KCLYp9iu2KrYsSDZgdim2Kkg2KPZiNmE2KfZiyEiLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgaWYgKCFjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYrdiw2YEg2YfYsNmHINin2YTZgdim2KnYnyDZhNmGINmK2KrZhSDYrdiw2YEg2KfZhNij2LPYptmE2Kkg2KfZhNmF2LHYqtio2LfYqSDYqNmH2KcuIikpIHJldHVybjsKIGF3YWl0IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQ2F0ZWdvcmllcyIpLmRvYyhjYXRlZ29yeUlkKS5kZWxldGUoKTsKc2hvd1RvYXN0KCLYqtmFINit2LDZgSDYp9mE2YHYptipINio2YbYrNin2K0hIiwgInN1Y2Nlc3MiKTsKcmVmcmVzaEFsbENhdGVnb3J5TGFiZWxzKCk7CmxvYWRRdWVzdGlvbkJhbmsoKTsKfTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIGxvYWRTdHVkZW50cygpIHsKICBjb25zdCBzdHVkZW50c1RhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnRzVGFibGUiKTsKICBjb25zdCBzdHVkZW50c0NvdW50RWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50c0NvdW50Iik7CiAgc3R1ZGVudHNUYWJsZS5pbm5lckhUTUwgPSAiPHRyPjx0ZCBjb2xzcGFuPVwiOFwiPtis2KfYsdmKINiq2K3ZhdmK2YQg2YLYp9im2YXYqSDYp9mE2LfZhNin2KguLi48L3RkPjwvdHI+IjsKICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLndoZXJlKCJyb2xlIiwgJz09JywgJ3N0dWRlbnQnKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgIGNvbnN0IGZpbHRlcmVkU3R1ZGVudHMgPSBbXTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3Qgc3R1ZGVudCA9IGRvYy5kYXRhKCk7CiAgICAgIC8vINin2LPYqtio2LnYp9ivINit2LPYp9ioINin2YTZhdi52YTZhSDZhdmGINmC2KfYptmF2Kkg2KfZhNi32YTYp9ioICjYrdiq2Ykg2YTZiCDZg9in2YYg2YTZhyByb2xlPXRlYWNoZXIpCiAgICAgIGlmICgKICAgICAgICBzdHVkZW50LmVtYWlsICE9PSAibm9ib2R5c2VlZXhhbUBnbWFpbC5jb20iICYmCiAgICAgICAgc3R1ZGVudC5yb2xlICE9PSAidGVhY2hlciIKICAgICAgKSB7CiAgICAgICAgc3R1ZGVudC5pZCA9IGRvYy5pZDsKICAgICAgICBmaWx0ZXJlZFN0dWRlbnRzLnB1c2goc3R1ZGVudCk7CiAgICAgIH0KICAgIH0pOwoKICAgIGlmIChzdHVkZW50c0NvdW50RWxlbSkgc3R1ZGVudHNDb3VudEVsZW0udGV4dENvbnRlbnQgPSBmaWx0ZXJlZFN0dWRlbnRzLmxlbmd0aDsKCiAgICBpZiAoZmlsdGVyZWRTdHVkZW50cy5sZW5ndGggPT09IDApIHsKICAgICAgc3R1ZGVudHNUYWJsZS5pbm5lckhUTUwgPSAiPHRyPjx0ZCBjb2xzcGFuPVwiOFwiPtmE2Kcg2YrZiNis2K8g2LfZhNin2Kgg2YXYs9is2YTZitmGINio2LnYrzwvdGQ+PC90cj4iOwogICAgICByZXR1cm47CiAgICB9CiAgICBzdHVkZW50c1RhYmxlLmlubmVySFRNTCA9ICcnOwogICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTsKICAgIGNvbnN0IHByb21pc2VzID0gZmlsdGVyZWRTdHVkZW50cy5tYXAoc3R1ZGVudCA9PiB7CiAgICAgIHJldHVybiBkYi5jb2xsZWN0aW9uKCdyZXN1bHRzJykud2hlcmUoInVzZXJJZCIsICc9PScsIHN0dWRlbnQuaWQpLmdldCgpLnRoZW4ocmVzdWx0c1NuYXAgPT4gewogICAgICAgIGxldCB0b3RhbFNjb3JlID0gMDsKICAgICAgICBsZXQgZXhhbXNDb3VudCA9IDA7CiAgICAgICAgcmVzdWx0c1NuYXAuZm9yRWFjaChyZXNEb2MgPT4gewogICAgICAgICAgY29uc3QgcmVzID0gcmVzRG9jLmRhdGEoKTsKICAgICAgICAgIHRvdGFsU2NvcmUgKz0gcmVzLnNjb3JlUGVyY2VudGFnZTsKICAgICAgICAgIGV4YW1zQ291bnQrKzsKICAgICAgICB9KTsKICAgICAgICBzdHVkZW50LmF2ZXJhZ2VHcmFkZSA9IGV4YW1zQ291bnQgPiAwID8gKHRvdGFsU2NvcmUgLyBleGFtc0NvdW50KS50b0ZpeGVkKDIpIDogbnVsbDsKICAgICAgICBzdHVkZW50Lmxhc3RBY3RpdmUgPSBzdHVkZW50Lmxhc3RBY3RpdmUKICAgICAgICAgID8gc3R1ZGVudC5sYXN0QWN0aXZlLnRvRGF0ZQogICAgICAgICAgICA/IHN0dWRlbnQubGFzdEFjdGl2ZS50b0RhdGUoKS5nZXRUaW1lKCkKICAgICAgICAgICAgOiBzdHVkZW50Lmxhc3RBY3RpdmUKICAgICAgICAgIDogMDsKICAgICAgICByZXR1cm4gc3R1ZGVudDsKICAgICAgfSk7CiAgICB9KTsKICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKHN0dWRlbnRzV2l0aEdyYWRlcyA9PiB7CiAgICAgIHN0dWRlbnRzV2l0aEdyYWRlcy5mb3JFYWNoKHN0dWRlbnQgPT4gewogICAgICAgIGNvbnN0IGlzQWN0aXZlID0gc3R1ZGVudC5sYXN0QWN0aXZlICYmIChub3cgLSBzdHVkZW50Lmxhc3RBY3RpdmUgPCAxODAwMDApOwogICAgICAgIGxldCBzdGF0dXNUZXh0ID0gJyc7CiAgICAgICAgbGV0IHN0YXR1c0NvbG9yID0gJyc7CiAgICAgICAgaWYgKGlzQWN0aXZlKSB7CiAgICAgICAgICBzdGF0dXNUZXh0ID0gJ9mG2LTYtyDYp9mE2KLZhic7CiAgICAgICAgICBzdGF0dXNDb2xvciA9ICcjMTRlZTg4JzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3RhdHVzVGV4dCA9ICfYutmK2LEg2YbYtNi3JzsKICAgICAgICAgIHN0YXR1c0NvbG9yID0gJyNmYzVjNjUnOwogICAgICAgIH0KCiAgICAgICAgLy8g2K3ZgtmEINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqSDZhdi5INil2YXZg9in2YbZitipINin2YTYqti52K/ZitmEINmE2YTZhdi52YTZhQogICAgICAgIGxldCB5ZWFyU2VsZWN0ID0gYAogICAgICAgICAgPHNlbGVjdCBvbmNoYW5nZT0idXBkYXRlU3R1ZGVudFllYXIoJyR7c3R1ZGVudC5pZH0nLCB0aGlzLnZhbHVlKSIgc3R5bGU9Im1pbi13aWR0aDoxMTBweDsiPgogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPti62YrYsSDZhdit2K/Yr9ipPC9vcHRpb24+CiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YTZiSDYq9in2YbZiNmKIiAke3N0dWRlbnQueWVhciA9PT0gItin2YTYo9mI2YTZiSDYq9in2YbZiNmKIiA/ICJzZWxlY3RlZCIgOiAiIn0+2KfZhNij2YjZhNmJINir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZiiIgJHtzdHVkZW50LnllYXIgPT09ICLYp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKIiA/ICJzZWxlY3RlZCIgOiAiIn0+2KfZhNir2KfZhtmK2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mE2KvYqSDYq9in2YbZiNmKIiAke3N0dWRlbnQueWVhciA9PT0gItin2YTYq9in2YTYq9ipINir2KfZhtmI2YoiID8gInNlbGVjdGVkIiA6ICIifT7Yp9mE2KvYp9mE2KvYqSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICA8dGQ+CiAgICAgICAgICA8c2VsZWN0IG9uY2hhbmdlPSJ1cGRhdGVTdHVkZW50VGVybSgnJHtzdHVkZW50LmlkfScsIHRoaXMudmFsdWUpIiBjbGFzcz0iZm9ybS1jb250cm9sIiBzdHlsZT0ibWluLXdpZHRoOjkwcHg7Ij4KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2KrYsdmFPC9vcHRpb24+CiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYo9mI2YQiICR7c3R1ZGVudC50ZXJtID09PSAi2KfZhNij2YjZhCIgPyAic2VsZWN0ZWQiIDogIiJ9Ptin2YTYo9mI2YQ8L29wdGlvbj4KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhtmKIiAke3N0dWRlbnQudGVybSA9PT0gItin2YTYq9in2YbZiiIgPyAic2VsZWN0ZWQiIDogIiJ9Ptin2YTYq9in2YbZijwvb3B0aW9uPgogICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgPC90ZD4KICAgICAgICBgOwoKICAgICAgICBzdHVkZW50c1RhYmxlLmlubmVySFRNTCArPSBgCiAgICAgICAgICA8dHI+CiAgICAgICAgICAgIDx0ZD4KICAgICAgICAgICAgICA8c3BhbiBpZD0ic3R1ZGVudE5hbWVfJHtzdHVkZW50LmlkfSI+JHtzdHVkZW50Lm5hbWUgfHwgc3R1ZGVudC5lbWFpbH08L3NwYW4+CiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIGJ0bi1zbSIgc3R5bGU9Im1hcmdpbi1yaWdodDo3cHg7Zm9udC1zaXplOjAuOXJlbTsiIG9uY2xpY2s9ImVkaXRTdHVkZW50TmFtZSgnJHtzdHVkZW50LmlkfScsICckeyhzdHVkZW50Lm5hbWUgfHwgc3R1ZGVudC5lbWFpbCkucmVwbGFjZSgvJy9nLCAiXFwnIil9JykiPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1lZGl0Ij48L2k+CiAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDx0ZD4ke3N0dWRlbnQuZW1haWx9PC90ZD4KICAgICAgICAgICAgPHRkPiR7c3R1ZGVudC5leGFtc1Rha2VuIHx8IDB9PC90ZD4KICAgICAgICAgICAgPHRkPiR7c3R1ZGVudC5hdmVyYWdlR3JhZGUgPyBzdHVkZW50LmF2ZXJhZ2VHcmFkZSArICclJyA6ICLZhNinINmK2YjYrNivINio2YrYp9mG2KfYqiJ9PC90ZD4KICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDo2cHg7Ij4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoxMnB4O2hlaWdodDoxMnB4O2JvcmRlci1yYWRpdXM6NTAlO2JhY2tncm91bmQ6JHtzdGF0dXNDb2xvcn07Ym9yZGVyOjEuNXB4IHNvbGlkICNmZmY7Ym94LXNoYWRvdzowIDAgM3B4ICNjY2M7Ij48L3NwYW4+CiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjFyZW07Ij4ke3N0YXR1c1RleHR9PC9zcGFuPgogICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICR7eWVhclNlbGVjdH0KICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBidG4tc20iIG9uY2xpY2s9InZpZXdTdHVkZW50R3JhZGVzKCcke3N0dWRlbnQuaWR9JykiPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1leWUiPjwvaT4g2LnYsdi2INin2YTYr9ix2KzYp9iqCiAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXNtIiBvbmNsaWNrPSJ0b2dnbGVTdHVkZW50U3RhdHVzKCcke3N0dWRlbnQuaWR9JywgJHtzdHVkZW50LmRpc2FibGVkIHx8IGZhbHNlfSkiPgogICAgICAgICAgICAgICAgJHtzdHVkZW50LmRpc2FibGVkID8gItiq2YHYudmK2YQiIDogItiq2LnYt9mK2YQifQogICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIGJ0bi1zbSIgb25jbGljaz0iZGVsZXRlU3R1ZGVudEFjY291bnQoJyR7c3R1ZGVudC5pZH0nKSI+CiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYp9mE2K3Ys9in2KgKICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXdhcm5pbmcgYnRuLXNtIiBvbmNsaWNrPSJsb2NrU3R1ZGVudCgnJHtzdHVkZW50LmlkfScpIj4KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtbG9jayI+PC9pPiDZgtmB2YQg2KfZhNi32KfZhNioCiAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbSIgb25jbGljaz0idW5sb2NrU3R1ZGVudCgnJHtzdHVkZW50LmlkfScpIj4KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtdW5sb2NrIj48L2k+INil2LLYp9mE2Kkg2KfZhNmC2YHZhAogICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4td2FybmluZyBidG4tc20iIG9uY2xpY2s9Im9wZW5TdHVkZW50UGVybWlzc2lvbnNNb2RhbCgnJHtzdHVkZW50LmlkfScsICcke3N0dWRlbnQubmFtZX0nKSI+CiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLWtleSI+PC9pPiDYqtit2K/ZitivINin2YTYtdmE2KfYrdmK2KfYqgogICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICA8L3RkPgogICAgICAgICAgPC90cj4KICAgICAgICBgOwogICAgICB9KTsKICAgIH0pOwogIH0pLmNhdGNoKGVycm9yID0+IHsKICAgIHN0dWRlbnRzVGFibGUuaW5uZXJIVE1MID0gIjx0cj48dGQgY29sc3Bhbj1cIjhcIj7Yrdiv2Ksg2K7Yt9ijOiAiICsgZXJyb3IubWVzc2FnZSArICI8L3RkPjwvdHI+IjsKICAgIGlmIChzdHVkZW50c0NvdW50RWxlbSkgc3R1ZGVudHNDb3VudEVsZW0udGV4dENvbnRlbnQgPSAiMCI7CiAgfSk7Cn0KCi8vINiv2KfZhNipINiq2LnYr9mK2YQg2KfYs9mFINin2YTYt9in2YTYqCAo2YbYp9mB2LDYqSDZhdmG2KjYq9mC2Kkg2KjYs9mK2LfYqSkKd2luZG93LmVkaXRTdHVkZW50TmFtZSA9IGZ1bmN0aW9uKHN0dWRlbnRJZCwgY3VycmVudE5hbWUpIHsKICBjb25zdCBuZXdOYW1lID0gcHJvbXB0KCLYo9iv2K7ZhCDYp9mE2KfYs9mFINin2YTYrNiv2YrYryDZhNmE2LfYp9mE2Kg6IiwgY3VycmVudE5hbWUpOwogIGlmIChuZXdOYW1lICYmIG5ld05hbWUudHJpbSgpICYmIG5ld05hbWUgIT09IGN1cnJlbnROYW1lKSB7CiAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhzdHVkZW50SWQpLnNldCh7IG5hbWU6IG5ld05hbWUudHJpbSgpLCBuYW1lQ2hhbmdlZDogdHJ1ZSB9LCB7IG1lcmdlOiB0cnVlIH0pLnRoZW4oKCkgPT4gewogICAgICBzaG93VG9hc3QoItiq2YUg2KrYrdiv2YrYqyDYp9iz2YUg2KfZhNi32KfZhNioISIsICJzdWNjZXNzIik7CiAgICAgIGNvbnN0IG5hbWVTcGFuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnROYW1lXyIgKyBzdHVkZW50SWQpOwogICAgICBpZiAobmFtZVNwYW4pIG5hbWVTcGFuLnRleHRDb250ZW50ID0gbmV3TmFtZS50cmltKCk7CiAgICB9KTsKICB9Cn07CgovLyDYr9in2YTYqSDYqtit2K/ZitirINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqSDZhNmE2LfYp9mE2Kgg2YXZhiDZgtio2YQg2KfZhNmF2LnZhNmFCndpbmRvdy51cGRhdGVTdHVkZW50WWVhciA9IGZ1bmN0aW9uKHN0dWRlbnRJZCwgeWVhcikgewogIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHN0dWRlbnRJZCkuc2V0KHsgeWVhciB9LCB7IG1lcmdlOiB0cnVlIH0pLnRoZW4oKCkgPT4gewogICAgc2hvd1RvYXN0KCLYqtmFINiq2K3Yr9mK2Ksg2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipINmE2YTYt9in2YTYqCEiLCAic3VjY2VzcyIpOwogIH0pOwp9Owp3aW5kb3cudXBkYXRlU3R1ZGVudFRlcm0gPSBmdW5jdGlvbihzdHVkZW50SWQsIHRlcm0pIHsKICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhzdHVkZW50SWQpLnNldCh7IHRlcm0gfSwgeyBtZXJnZTogdHJ1ZSB9KS50aGVuKCgpID0+IHsKICAgIHNob3dUb2FzdCgi2KrZhSDYqtit2K/ZitirINin2YTYqtix2YUg2KfZhNiv2LHYp9iz2Yog2YTZhNi32KfZhNioISIsICJzdWNjZXNzIik7CiAgfSk7Cn07Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYo9i22YEg2KfZhNiv2YjYp9mEINin2YTYqtin2YTZitipINmB2Yog2YXZhNmB2YMgKNmF2LHYqSDZiNin2K3Yr9ipINmB2YLYtyk6Cgp3aW5kb3cubG9ja1N0dWRlbnQgPSBmdW5jdGlvbihzdHVkZW50SWQpIHsKICBkYi5jb2xsZWN0aW9uKCJzdHVkZW50TG9ja3MiKS5kb2Moc3R1ZGVudElkKS5zZXQoewogICAgbG9ja2VkOiB0cnVlLAogICAgbWVzc2FnZTogItmK2KrZhSDYsdmB2Lkg2KfZhdiq2K3Yp9mGINin2YbYqti42LEg2YLZhNmK2YTYp9mLIiwKICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICB9KS50aGVuKCgpID0+IHsKICAgIHNob3dUb2FzdCgi2KrZhSDZgtmB2YQg2KfZhNi32KfZhNioINio2YbYrNin2K0hIiwgInN1Y2Nlc3MiKTsKICB9KTsKfTsKCndpbmRvdy51bmxvY2tTdHVkZW50ID0gZnVuY3Rpb24oc3R1ZGVudElkKSB7CiAgZGIuY29sbGVjdGlvbigic3R1ZGVudExvY2tzIikuZG9jKHN0dWRlbnRJZCkuZGVsZXRlKCkudGhlbigoKSA9PiB7CiAgICBzaG93VG9hc3QoItiq2YUg2KXYstin2YTYqSDYp9mE2YLZgdmEINi52YYg2KfZhNi32KfZhNioISIsICJzdWNjZXNzIik7CiAgfSk7Cn07CgovLyDYudmG2K8g2KfZhNi32KfZhNioOiDYp9iz2KrZhdi5INmE2YTZgtmB2YQg2YjYo9i42YfYsSDYsdiz2KfZhNipINmE2Kcg2YrZhdmD2YYg2KXYutmE2KfZgtmH2Kcg2KXZhNinINmF2YYg2KfZhNmF2LnZhNmFCmZ1bmN0aW9uIGxpc3RlbkZvclN0dWRlbnRMb2NrKCkgewogIGlmICh1c2VyUm9sZSA9PT0gInN0dWRlbnQiICYmIGN1cnJlbnRVc2VyKSB7CiAgICBkYi5jb2xsZWN0aW9uKCJzdHVkZW50TG9ja3MiKS5kb2MoY3VycmVudFVzZXIudWlkKQogICAgICAub25TbmFwc2hvdChkb2MgPT4gewogICAgICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50TG9ja01vZGFsIik7CiAgICAgICAgaWYgKGRvYy5leGlzdHMgJiYgZG9jLmRhdGEoKS5sb2NrZWQpIHsKICAgICAgICAgIGlmICghbW9kYWwpIHsKICAgICAgICAgICAgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgbW9kYWwuaWQgPSAic3R1ZGVudExvY2tNb2RhbCI7CiAgICAgICAgICAgIG1vZGFsLmNsYXNzTmFtZSA9ICJtb2RhbCI7CiAgICAgICAgICAgIG1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IiBzdHlsZT0ibWF4LXdpZHRoOjQyMHB4O3RleHQtYWxpZ246Y2VudGVyOyI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tYm90dG9tOjE4cHg7Ij4KICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1sb2NrIiBzdHlsZT0iZm9udC1zaXplOjNyZW07Y29sb3I6I2U3NGMzYzsiPjwvaT4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJtb2RhbC10aXRsZSIgc3R5bGU9ImNvbG9yOiNlNzRjM2M7Ij7Yrdiz2KfYqNmDINmF2LnYt9mEPC9oMj4KICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJtb2RhbC1tZXNzYWdlIiBzdHlsZT0iZm9udC1zaXplOjEuMTVyZW07Y29sb3I6IzMzMzttYXJnaW4tYm90dG9tOjE4cHg7Ij4KICAgICAgICAgICAgICAgICAg2YrYsdis2Ykg2KfZhNin2LTYqtix2KfZgyDZhNiq2YHYudmK2YQg2KfZhNit2LPYp9ioINmI2KfZhNin2LPYqtmF2LHYp9ixINmB2Yog2KfYs9iq2K7Yr9in2YUg2KfZhNmF2YbYtdipLgogICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93YS5tZS8yMDEwNjQxNzQyNzA/dGV4dD3Yo9ix2LrYqCUyMNmB2YolMjDYp9mE2KfYtNiq2LHYp9mDJTIw2YjYqtmB2LnZitmEJTIw2K3Ys9in2KjZiiIgCiAgICAgICAgICAgICAgICAgICB0YXJnZXQ9Il9ibGFuayIgCiAgICAgICAgICAgICAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7cGFkZGluZzoxMHB4IDI0cHg7YmFja2dyb3VuZDojMjVEMzY2O2NvbG9yOiNmZmY7Ym9yZGVyLXJhZGl1czo2cHg7Zm9udC1zaXplOjEuMXJlbTt0ZXh0LWRlY29yYXRpb246bm9uZTttYXJnaW4tdG9wOjEwcHg7Ij4KICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhYiBmYS13aGF0c2FwcCIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweDsiPjwvaT7Yp9i02KrYsdmDINi52KjYsSDZiNin2KrYs9in2KgKICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CiAgICAgICAgICB9CiAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgICAgIH0gZWxzZSBpZiAobW9kYWwpIHsKICAgICAgICAgIG1vZGFsLnJlbW92ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgfQp9CgovLyDYp9iz2KrYr9i52ZAg2KfZhNiv2KfZhNipINio2LnYryDYqtiz2KzZitmEINiv2K7ZiNmEINin2YTYt9in2YTYqCAo2YXYq9mE2KfZiyDZgdmKIHNldHVwQXV0aGVudGljYXRlZFVJKQpsaXN0ZW5Gb3JTdHVkZW50TG9jaygpOwpmdW5jdGlvbiBkZWxldGVTdHVkZW50QWNjb3VudChzdHVkZW50SWQpIHsKICBpZiAoIWNvbmZpcm0oItmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINit2LDZgSDYrdiz2KfYqCDZh9iw2Kcg2KfZhNi32KfZhNio2J8g2YTYpyDZitmF2YPZhiDYp9mE2KrYsdin2KzYuSDYudmGINmH2LDYpyDYp9mE2KXYrNix2KfYoS4iKSkgewogICAgcmV0dXJuOwogIH0KICAvLyDYo9i22YEg2KXYtNi52KfYsSDYrdiw2YEg2KfZhNit2LPYp9ioINmB2Yog2YXYrNmF2YjYudipINiu2KfYtdipINmE2YPZhCDYt9in2YTYqAogIGRiLmNvbGxlY3Rpb24oImFjY291bnROb3RpZmljYXRpb25zIikuZG9jKHN0dWRlbnRJZCkuc2V0KHsKICAgIHR5cGU6ICJkZWxldGVkIiwKICAgIG1lc3NhZ2U6ICLYqtmFINit2LDZgSDYrdiz2KfYqNmDINmF2YYg2YLYqNmEINin2YTYpdiv2KfYsdipLiDYpdiw2Kcg2YPYp9mGINmE2K/ZitmDINin2LPYqtmB2LPYp9ixINiq2YjYp9i12YQg2YXYuSDYp9mE2KXYr9in2LHYqS4iLAogICAgY3JlYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogIH0pLnRoZW4oKCkgPT4gewogICAgLy8g2KjYudivINil2LHYs9in2YQg2KfZhNil2LTYudin2LHYjCDYp9it2LDZgSDYp9mE2K3Ys9in2Kgg2YHYudmE2YrYp9mLCiAgICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyhzdHVkZW50SWQpLmRlbGV0ZSgpLnRoZW4oKCkgPT4gewogICAgICBhbGVydCgi2KrZhSDYrdiw2YEg2K3Ys9in2Kgg2KfZhNi32KfZhNioINio2YbYrNin2K0hIik7CiAgICAgIGxvYWRTdHVkZW50cygpOwogICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICBhbGVydCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINit2LDZgSDYrdiz2KfYqCDYp9mE2LfYp9mE2Kg6ICIgKyBlcnJvci5tZXNzYWdlKTsKICAgIH0pOwogIH0pOwp9CmZ1bmN0aW9uIGxpc3RlbkZvckFjY291bnREZWxldGUoKSB7CiAgaWYgKGN1cnJlbnRVc2VyKSB7CiAgICBkYi5jb2xsZWN0aW9uKCJhY2NvdW50Tm90aWZpY2F0aW9ucyIpLmRvYyhjdXJyZW50VXNlci51aWQpCiAgICAgIC5vblNuYXBzaG90KGRvYyA9PiB7CiAgICAgICAgaWYgKGRvYy5leGlzdHMgJiYgZG9jLmRhdGEoKS50eXBlID09PSAiZGVsZXRlZCIpIHsKICAgICAgICAgIHNob3dBY2NvdW50RGVsZXRlZE1vZGFsKGRvYy5kYXRhKCkubWVzc2FnZSB8fCAi2KrZhSDYrdiw2YEg2K3Ys9in2KjZgyDZhtmH2KfYptmK2YvYpy4g2YrYsdis2Ykg2KfZhNiq2YjYp9i12YQg2YXYuSDYp9mE2KXYr9in2LHYqS4iKTsKICAgICAgICB9CiAgICAgIH0pOwogIH0KfQpmdW5jdGlvbiBzaG93QWNjb3VudERlbGV0ZWRNb2RhbChtZXNzYWdlKSB7CiAgLy8g2KXYsNinINmD2KfZhtiqINin2YTZhtin2YHYsNipINmF2YjYrNmI2K/YqSDZhdiz2KjZgtin2YvYjCDYp9it2LDZgdmH2KcKICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWNjb3VudERlbGV0ZWRNb2RhbCIpOwogIGlmIChtb2RhbCkgbW9kYWwucmVtb3ZlKCk7CgogIG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgbW9kYWwuaWQgPSAiYWNjb3VudERlbGV0ZWRNb2RhbCI7CiAgbW9kYWwuY2xhc3NOYW1lID0gIm1vZGFsIjsKICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIG1vZGFsLmlubmVySFRNTCA9IGAKICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiIHN0eWxlPSJtYXgtd2lkdGg6NDIwcHg7dGV4dC1hbGlnbjpjZW50ZXI7Ij4KICAgICAgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxOHB4OyI+CiAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS11c2VyLXNsYXNoIiBzdHlsZT0iZm9udC1zaXplOjNyZW07Y29sb3I6I0ZDNUM2NTsiPjwvaT4KICAgICAgPC9kaXY+CiAgICAgIDxoMiBjbGFzcz0ibW9kYWwtdGl0bGUiIHN0eWxlPSJjb2xvcjojRkM1QzY1OyI+2KrZhSDYrdiw2YEg2KfZhNit2LPYp9ioINmG2YfYp9im2YrZi9inPC9oMj4KICAgICAgPHAgY2xhc3M9Im1vZGFsLW1lc3NhZ2UiIHN0eWxlPSJmb250LXNpemU6MS4xNXJlbTtjb2xvcjojMzMzO21hcmdpbi1ib3R0b206MThweDsiPgogICAgICAgICR7bWVzc2FnZX08YnI+CiAgICAgICAg2KXYsNinINmD2KfZhiDZhNiv2YrZgyDYo9mKINin2LPYqtmB2LPYp9ixINij2Ygg2KrYsdi62Kgg2YHZiiDYp9mE2KrZiNin2LXZhCDZhdi5INin2YTYpdiv2KfYsdip2Iwg2KfYtti62Lcg2KfZhNiy2LEg2KjYp9mE2KPYs9mB2YQuCiAgICAgIDwvcD4KICAgICAgPGEgaHJlZj0iaHR0cHM6Ly93YS5tZS8yMDEwNjA5MTEwOTMiIHRhcmdldD0iX2JsYW5rIiBpZD0id2hhdHNhcHBDb250YWN0QnRuIgogICAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZDojMjVkMzY2O2NvbG9yOiNmZmY7Zm9udC1zaXplOjEuMnJlbTtwYWRkaW5nOjEycHggMzJweDtib3JkZXItcmFkaXVzOjhweDt0ZXh0LWRlY29yYXRpb246bm9uZTtmb250LXdlaWdodDpib2xkO21hcmdpbi1ib3R0b206MTBweDsiPgogICAgICAgIDxpIGNsYXNzPSJmYWIgZmEtd2hhdHNhcHAiIHN0eWxlPSJtYXJnaW4tbGVmdDo4cHg7Zm9udC1zaXplOjEuNXJlbTsiPjwvaT4g2KrZiNin2LXZhCDZhdi5INin2YTYpdiv2KfYsdipINi52KjYsSDZiNin2KrYs9in2KgKICAgICAgPC9hPgogICAgICA8YnI+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBzdHlsZT0ibWFyZ2luLXRvcDoxMHB4OyIgb25jbGljaz0iY2xvc2VBY2NvdW50RGVsZXRlZE1vZGFsKCkiPtil2LrZhNin2YI8L2J1dHRvbj4KICAgIDwvZGl2PgogIGA7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CgogIC8vINi52YbYryDYp9mE2KXYutmE2KfZgtiMINiz2KzZhCDYp9mE2K7YsdmI2Kwg2YjYo9i52K8g2KrYrdmF2YrZhCDYp9mE2LXZgdit2KkKICB3aW5kb3cuY2xvc2VBY2NvdW50RGVsZXRlZE1vZGFsID0gZnVuY3Rpb24oKSB7CiAgICBtb2RhbC5yZW1vdmUoKTsKICAgIGF1dGguc2lnbk91dCgpLnRoZW4oKCkgPT4gewogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9KTsKICB9Owp9CmZ1bmN0aW9uIHRvZ2dsZVN0dWRlbnRTdGF0dXMoXzB4NDM5Yjk3LCBfMHgyOWVmZjYpIHsKICBjb25zdCBfMHgzYjEzNjMgPSBfMHgyOWVmZjYgPyAi2YfZhCDYqtix2YrYryDYqtmB2LnZitmEINit2LPYp9ioINmH2LDYpyDYp9mE2LfYp9mE2KjYnyIgOiAi2YfZhCDYqtix2YrYryDYqti52LfZitmEINit2LPYp9ioINmH2LDYpyDYp9mE2LfYp9mE2KjYnyI7CiAgaWYgKCFjb25maXJtKF8weDNiMTM2MykpIHsKICAgIHJldHVybjsKICB9CiAgZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2MoXzB4NDM5Yjk3KS51cGRhdGUoewogICAgJ2Rpc2FibGVkJzogIV8weDI5ZWZmNgogIH0pLnRoZW4oKCkgPT4gewogICAgYWxlcnQoXzB4MjllZmY2ID8gItiq2YUg2KrZgdi52YrZhCDYrdiz2KfYqCDYp9mE2LfYp9mE2Kgg2KjZhtis2KfYrSEiIDogItiq2YUg2KrYudi32YrZhCDYrdiz2KfYqCDYp9mE2LfYp9mE2Kgg2KjZhtis2KfYrSEiKTsKICAgIGxvYWRTdHVkZW50cygpOwogIH0pWyJjYXRjaCJdKF8weDRmMTY1OCA9PiB7CiAgICBhbGVydCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3Yr9mK2Ksg2K3Yp9mE2Kkg2KfZhNi32KfZhNioOiAiICsgXzB4NGYxNjU4Lm1lc3NhZ2UpOwogIH0pOwp9CndpbmRvdy52aWV3U3R1ZGVudEdyYWRlcyA9IGZ1bmN0aW9uIChfMHgyZmIzZTEpIHsKICBjb25zdCBfMHgzMGFkMjkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ3JhZGVzTW9kYWwiKTsKICBjb25zdCBfMHg0YWIzYWYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ3JhZGVzTW9kYWxDb250ZW50Iik7CiAgXzB4MzBhZDI5LnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgXzB4NGFiM2FmLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTYr9ix2KzYp9iqLi4uPC9wPiI7CiAgZGIuY29sbGVjdGlvbigicmVzdWx0cyIpLndoZXJlKCJ1c2VySWQiLCAnPT0nLCBfMHgyZmIzZTEpLm9yZGVyQnkoInN1Ym1pdHRlZEF0IiwgJ2Rlc2MnKS5nZXQoKS50aGVuKF8weDVlZTY2MCA9PiB7CiAgICBpZiAoXzB4NWVlNjYwLmVtcHR5KSB7CiAgICAgIF8weDRhYjNhZi5pbm5lckhUTUwgPSAiPHA+2YTYpyDYqtmI2KzYryDYr9ix2KzYp9iqINmF2LPYrNmE2Kkg2YTZh9iw2Kcg2KfZhNi32KfZhNioLjwvcD4iOwogICAgICByZXR1cm47CiAgICB9CiAgICBsZXQgXzB4NTcyNDk5ID0gIjxoMz7Yr9ix2KzYp9iqINin2YTYt9in2YTYqDwvaDM+PHRhYmxlIGNsYXNzPVwiZ3JhZGVzLXRhYmxlXCI+PHRoZWFkPjx0cj48dGg+2KfYs9mFINin2YTYp9iu2KrYqNin2LE8L3RoPjx0aD7Yp9mE2KrYp9ix2YrYriDZiNin2YTZiNmC2Ko8L3RoPjx0aD7Yp9mE2K/Ysdis2Kk8L3RoPjx0aD7Yp9mE2YbYs9io2Kkg2KfZhNmF2KbZiNmK2Kk8L3RoPjx0aD7Yp9mE2K3Yp9mE2Kk8L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+IjsKICAgIF8weDVlZTY2MC5mb3JFYWNoKF8weDYyYWNlNyA9PiB7CiAgICAgIGNvbnN0IF8weGE0ZTRkNiA9IF8weDYyYWNlNy5kYXRhKCk7CiAgICAgIGNvbnN0IF8weDU0ZWY1NCA9IF8weGE0ZTRkNi5zdWJtaXR0ZWRBdD8uWyJ0b0RhdGUiXSgpIHx8IG5ldyBEYXRlKCk7CiAgICAgIGNvbnN0IF8weDVkYjk2ZSA9IF8weDU0ZWY1NC50b0xvY2FsZURhdGVTdHJpbmcoKSArICIgIiArIF8weDU0ZWY1NC50b0xvY2FsZVRpbWVTdHJpbmcoKTsKICAgICAgXzB4NTcyNDk5ICs9ICJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiIgKyBfMHhhNGU0ZDYuZXhhbVRpdGxlICsgIjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+IiArIF8weDVkYjk2ZSArICI8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPiIgKyBfMHhhNGU0ZDYub2J0YWluZWRNYXJrcyArICIgLyAiICsgXzB4YTRlNGQ2LnRvdGFsTWFya3MgKyAiPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4iICsgXzB4YTRlNGQ2LnNjb3JlUGVyY2VudGFnZSArICIlPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD4iICsgXzB4YTRlNGQ2LmdyYWRlU3RhdHVzICsgIjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgIjsKICAgIH0pOwogICAgXzB4NTcyNDk5ICs9ICc8L3Rib2R5PjwvdGFibGU+JzsKICAgIF8weDRhYjNhZi5pbm5lckhUTUwgPSBfMHg1NzI0OTk7CiAgfSlbJ2NhdGNoJ10oXzB4MWFhZTk1ID0+IHsKICAgIF8weDRhYjNhZi5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNiv2LHYrNin2Ko6ICIgKyBfMHgxYWFlOTUubWVzc2FnZSArICI8L3A+IjsKICB9KTsKfTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRpc2FibGVBbGxTdHVkZW50c0J0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogICAgaWYgKCFjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYqti52LfZitmEINis2YXZiti5INin2YTYt9mE2KfYqNifIikpIHsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgZGIuY29sbGVjdGlvbigidXNlcnMiKQogICAgICAgIC53aGVyZSgicm9sZSIsICI9PSIsICJzdHVkZW50IikKICAgICAgICAuZ2V0KCkKICAgICAgICAudGhlbigocXVlcnlTbmFwc2hvdCkgPT4gewogICAgICAgICAgICBjb25zdCBiYXRjaCA9IGRiLmJhdGNoKCk7IC8vINin2LPYqtiu2K/Yp9mFIGJhdGNoINmE2KrYrdiv2YrYqyDYrNmF2YrYuSDYp9mE2LfZhNin2Kgg2K/Zgdi52Kkg2YjYp9it2K/YqQogICAgICAgICAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4gewogICAgICAgICAgICAgICAgYmF0Y2gudXBkYXRlKGRvYy5yZWYsIHsgZGlzYWJsZWQ6IHRydWUgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgcmV0dXJuIGJhdGNoLmNvbW1pdCgpOyAvLyDYqtmG2YHZitiwINin2YTYqtit2K/Zitir2KfYqgogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICBhbGVydCgi2KrZhSDYqti52LfZitmEINis2YXZiti5INin2YTYt9mE2KfYqCDYqNmG2KzYp9itISIpOwogICAgICAgICAgICBsb2FkU3R1ZGVudHMoKTsgLy8g2KXYudin2K/YqSDYqtit2YXZitmEINmC2KfYptmF2Kkg2KfZhNi32YTYp9ioCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIGFsZXJ0KCLYrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYudi32YrZhCDYp9mE2LfZhNin2Kg6ICIgKyBlcnJvci5tZXNzYWdlKTsKICAgICAgICB9KTsKfSk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINio2LnYryDYqti52LHZitmBINiv2KfZhNipIHNldHVwQXV0aGVudGljYXRlZFVJINij2Ygg2YHZiiDZhtmH2KfZitipINmF2YTZgSA8c2NyaXB0PgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2Kkgc2hvd1dlbGNvbWVCYWNrQ2VsZWJyYXRpb24g2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNis2LnZhCDYp9mE2KfYrdiq2YHYp9mEINij2KzZhdmEINmF2Lkg2YXZgdix2YLYudin2Kog2YXYqtit2LHZg9ipCi8vINin2LPYqtio2K/ZhCDYr9in2YTYqSBzaG93V2VsY29tZUJhY2tDZWxlYnJhdGlvbiDYqNmH2LDYpyDYp9mE2YPZiNivINmE2KzYudmEINin2YTYsdiz2KfZhNipINij2KzZhdmEINmI2KfZhNin2K3YqtmB2KfZhNin2Kog2KPZg9ir2LEg2YjZhNmB2KrYsdipINij2LfZiNmECi8vINin2LPYqtio2K/ZhCDYr9in2YTYqSBzaG93V2VsY29tZUJhY2tDZWxlYnJhdGlvbiDYqNmH2LDYpyDYp9mE2YPZiNivINmE2KzYudmEINin2YTYsdiz2KfZhNipINmI2KfZhNin2K3YqtmB2KfZhCDYo9mD2KvYsSDYrNmF2KfZhNin2Ysg2YjYp9it2KrYsdin2YHZitipCi8vINin2LPYqtio2K/ZhCDYr9in2YTYqSBzaG93V2VsY29tZUJhY2tDZWxlYnJhdGlvbiDYqNmH2LDYpyDYp9mE2YPZiNivINmE2KzYudmEINin2YTYsdiz2KfZhNipINmI2KfZhNij2YTZiNin2YYg2YXYqtmG2KfYs9mC2Kkg2YjYudi12LHZitipINmI2YXYqtis2KfZiNio2Kkg2YXYuSDYrNmF2YrYuSDYp9mE2LTYp9i02KfYqgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2Kkgc2hvd1dlbGNvbWVCYWNrQ2VsZWJyYXRpb24g2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNis2LnZhCDYp9mE2YXZgdix2YLYudin2KogKGNvbmZldHRpKSDYqtiq2LfYp9mK2LEg2YHZiiDZg9mEINin2YTZhdmG2LXYqSDZiNmE2YrYsyDZgdmC2Lcg2K/Yp9iu2YQg2KfZhNix2LPYp9mE2KkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KfYs9iq2KjYr9mEINiv2KfZhNipIHNob3dXZWxjb21lQmFja0NlbGVicmF0aW9uINio2YfYsNinINin2YTZg9mI2K8g2YTYrNi52YQg2LHYs9in2YTYqSDYp9mE2KrYsdit2YrYqCDZhdmG2LPYr9mE2Kkg2YXZhiDYp9mE2KPYudmE2Ykg2YjYqtiu2KrZgdmKINiq2YTZgtin2KbZitin2YsgKNmF2KvZhCBub3RpY2UpCi8vINin2LPYqtio2K/ZhCDYr9in2YTYqSBzaG93V2VsY29tZUJhY2tDZWxlYnJhdGlvbiDYqNmH2LDYpyDYp9mE2YPZiNivINmE2LHYs9in2YTYqSDYqtix2K3ZitioINmF2YbYs9iv2YTYqSDZhdmGINin2YTYo9i52YTZiSDYqNij2YTZiNin2YYg2YfYp9iv2KbYqSDZiNio2K/ZiNmGINij2YTZiNin2YYg2YPYq9mK2LHYqQovLyDYtti5INmH2LDYpyDYp9mE2YPZiNivINmB2Yog2KLYrtixINmF2YTZgSA8c2NyaXB0PiDYo9mIINio2LnYryDYqti52LHZitmBIHNldHVwQXV0aGVudGljYXRlZFVJINmF2KjYp9i02LHYqQoKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYo9i22YEg2YfYsNinINin2YTZg9mI2K8g2YHZiiDZhtmH2KfZitipIHNldHVwQXV0aGVudGljYXRlZFVJKCkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LnYr9mEINmH2LDYpyDYp9mE2KzYstihINmB2Yogc2V0dXBBdXRoZW50aWNhdGVkVUkg2YTZiti42YfYsSDYp9mE2KfYrdiq2YHYp9mEINiv2KfYptmF2KfZiyDYudmG2K8g2K/YrtmI2YQg2KfZhNi32KfZhNioINmE2YTZhdmG2LXYqQovLyAuLi7Yr9in2K7ZhCBzZXR1cEF1dGhlbnRpY2F0ZWRVSSgpINio2LnYryDYttio2Lcg2KfZhNmF2KrYutmK2LHYp9iqINmF2KjYp9i02LHYqS4uLgoKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYqtit2YXZitmEINin2YTZgdim2KfYqiDZiNi52LHYttmH2Kcg2KjYtNmD2YQg2LTYrNix2Yog2YHZiiDYrNiv2YjZhCDYo9mIINmC2KfYptmF2KkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiByZW5kZXJDYXRlZ29yaWVzVHJlZSgpIHsKICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcmllc1RyZWVDb250YWluZXIiKTsKICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuOwogIGNvbnRhaW5lci5pbm5lckhUTUwgPSAi2KzYp9ix2Yog2KfZhNiq2K3ZhdmK2YQuLi4iOwoKICBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkNhdGVnb3JpZXMiKS5vcmRlckJ5KCJuYW1lIikuZ2V0KCkudGhlbihhc3luYyBzbmFwc2hvdCA9PiB7CiAgICBjb25zdCBjYXRlZ29yaWVzID0ge307CiAgICBxdWVzdGlvbkNhdGVnb3JpZXNDYWNoZSA9IHt9OwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCBkYXRhID0gZG9jLmRhdGEoKSB8fCB7fTsKICAgICAgY2F0ZWdvcmllc1tkb2MuaWRdID0geyBpZDogZG9jLmlkLCBuYW1lOiBkYXRhLm5hbWUgfHwgZG9jLmlkLCBwYXJlbnRJZDogZGF0YS5wYXJlbnRJZCB8fCBudWxsLCBjaGlsZHJlbjogW10gfTsKICAgICAgcXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGVbZG9jLmlkXSA9IGRhdGEubmFtZSB8fCBkb2MuaWQ7CiAgICB9KTsKICAgIE9iamVjdC52YWx1ZXMoY2F0ZWdvcmllcykuZm9yRWFjaChjYXQgPT4gewogICAgICBpZiAoY2F0LnBhcmVudElkICYmIGNhdGVnb3JpZXNbY2F0LnBhcmVudElkXSkgY2F0ZWdvcmllc1tjYXQucGFyZW50SWRdLmNoaWxkcmVuLnB1c2goY2F0KTsKICAgIH0pOwogICAgY29uc3Qgcm9vdHMgPSBPYmplY3QudmFsdWVzKGNhdGVnb3JpZXMpLmZpbHRlcihjYXQgPT4gIWNhdC5wYXJlbnRJZCk7CgogICAgLy8g2KzZhNioINi52K/YryDYp9mE2KPYs9im2YTYqSDZhNmD2YQg2YHYptipINmE2KfYs9iq2K7Yr9in2YXZhyDZgdmKINin2YTYqtiz2YXZitin2KoKICAgIGNvbnN0IHF1ZXN0aW9uc1NuYXBzaG90ID0gYXdhaXQgZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikuZ2V0KCk7CiAgICBjb25zdCBjb3VudHMgPSB7fTsKICAgIHF1ZXN0aW9uc1NuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3QgcSA9IGRvYy5kYXRhKCkgfHwge307CiAgICAgIGlmIChxLmNhdGVnb3J5SWQpIGNvdW50c1txLmNhdGVnb3J5SWRdID0gKGNvdW50c1txLmNhdGVnb3J5SWRdIHx8IDApICsgMTsKICAgIH0pOwoKICAgIC8vINio2YbYp9ihIEhUTUwg2YTYtNis2LHYqSAodWwvbGkpIOKAlCDZiti42YfYsSDYqNi02YPZhCDYtdin2YTYrSDYr9in2K7ZhCBkaXYg2YjZhNmK2LMg2YPZgCA8b3B0aW9uPiDZhti12YoKICAgIGZ1bmN0aW9uIGJ1aWxkTGlzdChjYXRzKSB7CiAgICAgIGlmICghY2F0cyB8fCAhY2F0cy5sZW5ndGgpIHJldHVybiAiIjsKICAgICAgcmV0dXJuIGA8dWwgY2xhc3M9ImNhdGVnb3JpZXMtdHJlZSIgc3R5bGU9Imxpc3Qtc3R5bGU6bm9uZTtwYWRkaW5nLXJpZ2h0OjhweDttYXJnaW46NnB4IDA7Ij4ke2NhdHMubWFwKGNhdCA9PiB7CiAgICAgICAgY29uc3QgY250ID0gY291bnRzW2NhdC5pZF0gfHwgMDsKICAgICAgICBjb25zdCBsYWJlbCA9IGAke2NhdC5uYW1lfSR7Y250ID8gYCAoJHtjbnR9KWAgOiAiIn1gOwogICAgICAgIGNvbnN0IGNoaWxkcmVuSHRtbCA9IGJ1aWxkTGlzdChjYXQuY2hpbGRyZW4pOwogICAgICAgIHJldHVybiBgPGxpIGRhdGEtaWQ9IiR7Y2F0LmlkfSIgc3R5bGU9InBhZGRpbmc6NnB4IDA7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyLXJhZGl1czo2cHg7Ij4KICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNhdC1sYWJlbCIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3BhZGRpbmc6NnB4IDhweDsiPiR7bGFiZWx9PC9zcGFuPgogICAgICAgICAgICAgICAgICAke2NoaWxkcmVuSHRtbH0KICAgICAgICAgICAgICAgIDwvbGk+YDsKICAgICAgfSkuam9pbignJyl9PC91bD5gOwogICAgfQoKICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBidWlsZExpc3Qocm9vdHMpIHx8ICI8ZGl2PtmE2Kcg2KrZiNis2K8g2YHYptin2Ko8L2Rpdj4iOwoKICAgIC8vINin2YXZhNijINin2YTZgCBzZWxlY3Qg2KfZhNmF2LPYqtiu2K/ZhSDZgdmKINmG2KfZgdiw2Kkg2KfZhNil2LbYp9mB2Kkg2KPZiti22KfZiyAo2KXZhiDZiNis2K8pCiAgICBjb25zdCBzZWxlY3RBZGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnlBZGQiKTsKICAgIGNvbnN0IHNlbGVjdE1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKTsKICAgIGZ1bmN0aW9uIGJ1aWxkT3B0aW9ucyhjYXRzLCBwcmVmaXggPSAiIikgewogICAgICByZXR1cm4gY2F0cy5tYXAoY2F0ID0+IHsKICAgICAgICBjb25zdCBjbnQgPSBjb3VudHNbY2F0LmlkXSB8fCAwOwogICAgICAgIGxldCBodG1sID0gYDxvcHRpb24gdmFsdWU9IiR7Y2F0LmlkfSI+JHtwcmVmaXh9JHtjYXQubmFtZX0ke2NudCA/IGAgKCR7Y250fSlgIDogIiJ9PC9vcHRpb24+YDsKICAgICAgICBpZiAoY2F0LmNoaWxkcmVuICYmIGNhdC5jaGlsZHJlbi5sZW5ndGgpIGh0bWwgKz0gYnVpbGRPcHRpb25zKGNhdC5jaGlsZHJlbiwgcHJlZml4ICsgIuKAlCAiKTsKICAgICAgICByZXR1cm4gaHRtbDsKICAgICAgfSkuam9pbigiIik7CiAgICB9CiAgICBjb25zdCB0b3RhbENvdW50ID0gT2JqZWN0LnZhbHVlcyhjb3VudHMpLnJlZHVjZSgocywgdikgPT4gcyArIHYsIDApOwogICAgaWYgKHNlbGVjdE1haW4pIHNlbGVjdE1haW4uaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9Jyc+2YPZhCDYp9mE2YHYptin2KogKCR7dG90YWxDb3VudH0pPC9vcHRpb24+YCArIGJ1aWxkT3B0aW9ucyhyb290cyk7CiAgICBpZiAoc2VsZWN0QWRkKSBzZWxlY3RBZGQuaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9Jyc+2KjYr9mI2YYg2YHYptipPC9vcHRpb24+YCArIGJ1aWxkT3B0aW9ucyhyb290cyk7CgogICAgLy8g2K3Yr9irINin2YTZhtmC2LHYp9iqINi52YTZiSDYudmG2KfYtdixINin2YTYtNis2LHYqSDZhNmF2YTYoSDYp9mE2YAgc2VsZWN0INin2YTZhdiu2KrYtSDZiNiq2K3Yr9mK2K8g2KfZhNmC2YrZhdipINi52KfZhNmF2YrYp9mLCiAgICBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgibGlbZGF0YS1pZF0iKS5mb3JFYWNoKGxpID0+IHsKICAgICAgbGkub25jbGljayA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0QXR0cmlidXRlKCJkYXRhLWlkIikgfHwgIiI7CiAgICAgICAgaWYgKHNlbGVjdEFkZCkgc2VsZWN0QWRkLnZhbHVlID0gaWQ7CiAgICAgICAgaWYgKHNlbGVjdE1haW4pIHNlbGVjdE1haW4udmFsdWUgPSBpZDsKICAgICAgICB3aW5kb3cuX3NlbGVjdGVkUXVlc3Rpb25CYW5rQ2F0ZWdvcnkgPSBpZCB8fCAiIjsKICAgICAgICAvLyDYpdio2LHYp9iyINin2YTYudmG2LXYsSDYp9mE2YXYrtiq2KfYsSDYqNi12LHZitinCiAgICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi5jYXQtbGFiZWwuc2VsZWN0ZWQiKS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoInNlbGVjdGVkIikpOwogICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5xdWVyeVNlbGVjdG9yKCIuY2F0LWxhYmVsIik7CiAgICAgICAgaWYgKGxhYmVsKSBsYWJlbC5jbGFzc0xpc3QuYWRkKCJzZWxlY3RlZCIpOwogICAgICB9OwogICAgfSk7CiAgfSkuY2F0Y2goZXJyID0+IHsKICAgIGNvbnNvbGUuZXJyb3IoInJlbmRlckNhdGVnb3JpZXNUcmVlIGVycm9yOiIsIGVycik7CiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gIjxkaXYgc3R5bGU9J2NvbG9yOiNjMDM5MmInPtiu2LfYoyDZgdmKINiq2K3ZhdmK2YQg2KfZhNmB2KbYp9iqPC9kaXY+IjsKICB9KTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINin2LPYqtiv2LnZkCDYp9mE2K/Yp9mE2Kkg2LnZhtivINmB2KrYrSDYqNmG2YMg2KfZhNij2LPYptmE2Kkg2KPZiCDYqNi52K8g2KXYttin2YHYqS/Yqti52K/ZitmEL9it2LDZgSDZgdim2KkKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVRdWVzdGlvbkJhbmsiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCkgewogIHJlbmRlckNhdGVnb3JpZXNUcmVlKCk7CiAgLy8gLi4u2KjYp9mC2Yog2KfZhNmD2YjYry4uLgp9KTsKZnVuY3Rpb24gbG9hZFN0dWRlbnRQcm9ncmVzcygpIHsKICBjb25zdCBfMHg0MjVmOWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudFByb2dyZXNzQ2hhcnQiKTsKICBfMHg0MjVmOWQuaW5uZXJIVE1MID0gIjxwPtis2KfYsdmKINiq2K3ZhdmK2YQg2KjZitin2YbYp9iqINin2YTYqtmC2K/ZhS4uLjwvcD4iOwogIC8vINin2YTYrdmEOiDYp9iz2KrYrtiv2YUgb3JkZXJCeSgndXNlcklkJykud2hlcmUoJ3VzZXJJZCcsICc9PScsIC4uLikg2KvZhSBvcmRlckJ5KCdzdWJtaXR0ZWRBdCcsICdhc2MnKQogIGRiLmNvbGxlY3Rpb24oInJlc3VsdHMiKQogICAgLndoZXJlKCd1c2VySWQnLCAnPT0nLCBjdXJyZW50VXNlci51aWQpCiAgICAub3JkZXJCeSgndXNlcklkJykKICAgIC5vcmRlckJ5KCdzdWJtaXR0ZWRBdCcsICJhc2MiKQogICAgLmdldCgpCiAgICAudGhlbihfMHg1OWNlMWYgPT4gewogICAgICBpZiAoXzB4NTljZTFmLmVtcHR5KSB7CiAgICAgICAgXzB4NDI1ZjlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINio2YrYp9mG2KfYqiDYqtmC2K/ZhSDZhdiq2KfYrdipPC9wPiI7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IF8weDVmM2EwNyA9IFtdOwogICAgICBfMHg1OWNlMWYuZm9yRWFjaChfMHhkMDJmYjYgPT4gewogICAgICAgIF8weDVmM2EwNy5wdXNoKF8weGQwMmZiNi5kYXRhKCkpOwogICAgICB9KTsKICAgICAgcmVuZGVyU3R1ZGVudFByb2dyZXNzQ2hhcnQoXzB4NWYzYTA3KTsKICAgIH0pWyJjYXRjaCJdKF8weDJhOTQ3NCA9PiB7CiAgICAgIF8weDQyNWY5ZC5pbm5lckhUTUwgPSAiPHA+2K3Yr9irINiu2LfYozogIiArIF8weDJhOTQ3NC5tZXNzYWdlICsgIjwvcD4iOwogICAgfSk7Cn0KZnVuY3Rpb24gcmVuZGVyU3R1ZGVudFByb2dyZXNzQ2hhcnQoXzB4MTE3N2I3KSB7CiAgY29uc3QgXzB4ZTY1NjgwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnRQcm9ncmVzc0NoYXJ0Iik7CiAgaWYgKF8weDExNzdiNy5sZW5ndGggPT09IDB4MCkgewogICAgXzB4ZTY1NjgwLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINio2YrYp9mG2KfYqiDYqtmC2K/ZhSDZhdiq2KfYrdipPC9wPiI7CiAgICByZXR1cm47CiAgfQogIGxldCBfMHgxMTM5YjMgPSAiPGgzPtiq2YLYr9mF2Yog2YHZiiDYp9mE2KfYrtiq2KjYp9ix2KfYqjwvaDM+IjsKICBfMHgxMTc3YjcuZm9yRWFjaCgoXzB4OWUwNThlLCBfMHgyYmViZmEpID0+IHsKICAgIF8weDExMzliMyArPSAiXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+IiArIF8weDllMDU4ZS5leGFtVGl0bGUgKyAiPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+IiArIF8weDllMDU4ZS5zY29yZVBlcmNlbnRhZ2UgKyAiJTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1maWxsXCIgc3R5bGU9XCJ3aWR0aDogIiArIF8weDllMDU4ZS5zY29yZVBlcmNlbnRhZ2UgKyAiJVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAiOwogIH0pOwogIF8weGU2NTY4MC5pbm5lckhUTUwgPSBfMHgxMTM5YjM7Cn0KZnVuY3Rpb24gbG9hZFN0dWRlbnRzUHJvZ3Jlc3MoKSB7CiAgY29uc3QgXzB4NWVjNzQ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnRzUHJvZ3Jlc3NDaGFydCIpOwogIF8weDVlYzc0NC5pbm5lckhUTUwgPSAiPHA+2KzYp9ix2Yog2KrYrdmF2YrZhCDYqNmK2KfZhtin2Kog2KrZgtiv2YUg2KfZhNi32YTYp9ioLi4uPC9wPiI7CiAgZGIuY29sbGVjdGlvbigncmVzdWx0cycpLmdldCgpLnRoZW4oXzB4MmE2NzFkID0+IHsKICAgIGlmIChfMHgyYTY3MWQuZW1wdHkpIHsKICAgICAgXzB4NWVjNzQ0LmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINio2YrYp9mG2KfYqiDYqtmC2K/ZhSDZhdiq2KfYrdipPC9wPiI7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGxldCBfMHgzYzVjNjMgPSAweDA7CiAgICBsZXQgXzB4NTE5OGQ5ID0gMHgwOwogICAgbGV0IF8weDNmZWMyMCA9IDB4MDsKICAgIGxldCBfMHgyYmUwYzggPSAweDA7CiAgICBjb25zdCBfMHgzNWM2NmQgPSBfMHgyYTY3MWQuc2l6ZTsKICAgIF8weDJhNjcxZC5mb3JFYWNoKF8weDQxYWRiYiA9PiB7CiAgICAgIGNvbnN0IF8weDM5YTU3MSA9IF8weDQxYWRiYi5kYXRhKCk7CiAgICAgIGNvbnN0IF8weDU0YWZiNSA9IF8weDM5YTU3MS5zY29yZVBlcmNlbnRhZ2U7CiAgICAgIGlmIChfMHg1NGFmYjUgPj0gMHg1YSkgewogICAgICAgIF8weDNjNWM2MysrOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChfMHg1NGFmYjUgPj0gMHg0YikgewogICAgICAgICAgXzB4NTE5OGQ5Kys7CiAgICAgICAgfSBlbHNlIGlmIChfMHg1NGFmYjUgPj0gMHgzYykgewogICAgICAgICAgXzB4M2ZlYzIwKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF8weDJiZTBjOCsrOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgICBjb25zdCBfMHg0YjliNjIgPSBNYXRoLnJvdW5kKF8weDNjNWM2MyAvIF8weDM1YzY2ZCAqIDB4NjQpOwogICAgY29uc3QgXzB4MTYyZWY3ID0gTWF0aC5yb3VuZChfMHg1MTk4ZDkgLyBfMHgzNWM2NmQgKiAweDY0KTsKICAgIGNvbnN0IF8weDRlZmY0NiA9IE1hdGgucm91bmQoXzB4M2ZlYzIwIC8gXzB4MzVjNjZkICogMHg2NCk7CiAgICBjb25zdCBfMHgxMDZkMmEgPSBNYXRoLnJvdW5kKF8weDJiZTBjOCAvIF8weDM1YzY2ZCAqIDB4NjQpOwogICAgXzB4NWVjNzQ0LmlubmVySFRNTCA9ICJcbiAgICAgICAgICAgICAgICA8aDM+2YXYqtmI2LPYtyDYr9ix2KzYp9iqINin2YTYt9mE2KfYqDwvaDM+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPtin2YTYt9mE2KfYqCDYp9mE2YXZhdiq2KfYstmI2YYgKDkwJSspPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj4iICsgXzB4NGI5YjYyICsgIiU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtZmlsbFwiIHN0eWxlPVwid2lkdGg6ICIgKyBfMHg0YjliNjIgKyAiJVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPtin2YTYt9mE2KfYqCDYp9mE2KzZitiv2YjZhiAoNzUtODklKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+IiArIF8weDE2MmVmNyArICIlPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWZpbGxcIiBzdHlsZT1cIndpZHRoOiAiICsgXzB4MTYyZWY3ICsgIiVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj7Yp9mE2LfZhNin2Kgg2KfZhNmF2KrZiNiz2LfZiNmGICg2MC03NCUpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj4iICsgXzB4NGVmZjQ2ICsgIiU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtZmlsbFwiIHN0eWxlPVwid2lkdGg6ICIgKyBfMHg0ZWZmNDYgKyAiJVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPtin2YTYt9mE2KfYqCDYp9mE2LbYudin2YEgKNij2YLZhCDZhdmGIDYwJSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPiIgKyBfMHgxMDZkMmEgKyAiJTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1maWxsXCIgc3R5bGU9XCJ3aWR0aDogIiArIF8weDEwNmQyYSArICIlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAiOwogIH0pWyJjYXRjaCJdKF8weDRlNTFiOSA9PiB7CiAgICBfMHg1ZWM3NDQuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2Ko6ICIgKyBfMHg0ZTUxYjkubWVzc2FnZSArICI8L3A+IjsKICB9KTsKfQoKZnVuY3Rpb24gYWRkUXVlc3Rpb24oKSB7CiAgY29uc3QgcXVlc3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uc0NvbnRhaW5lciIpOwogIGNvbnN0IHF1ZXN0aW9uSWQgPSBEYXRlLm5vdygpOwogIGNvbnN0IHF1ZXN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIHF1ZXN0aW9uRWxlbWVudC5jbGFzc05hbWUgPSAicXVlc3Rpb24tY29udGFpbmVyIGltcG9ydGVkLXF1ZXN0aW9uLWxpZ2h0IjsKICBxdWVzdGlvbkVsZW1lbnQuaWQgPSAicXVlc3Rpb24tIiArIHF1ZXN0aW9uSWQ7CgogIHF1ZXN0aW9uRWxlbWVudC5pbm5lckhUTUwgPSBgCiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Zhti1INin2YTYs9ik2KfZhDwvbGFiZWw+CiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLXRleHQiIHJlcXVpcmVkPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Ysdin2KjYtyDYp9mE2LXZiNix2KkgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLWltYWdlLXVybCIgcGxhY2Vob2xkZXI9Itij2K/YrtmEINix2KfYqNi3INin2YTYtdmI2LHYqSI+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtiu2YrYp9ix2KfYqiDYp9mE2KXYrNin2KjYqTwvbGFiZWw+CiAgICAgIDxkaXYgaWQ9Im9wdGlvbnMtJHtxdWVzdGlvbklkfSI+CiAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWl0ZW0iPgogICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJjb3JyZWN0LSR7cXVlc3Rpb25JZH0iIHZhbHVlPSIwIiByZXF1aXJlZD4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIG9wdGlvbi10ZXh0IiBwbGFjZWhvbGRlcj0i2KfZhNiu2YrYp9ixINin2YTYo9mI2YQiIHJlcXVpcmVkPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9Im9wdGlvbi1pdGVtIj4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iY29ycmVjdC0ke3F1ZXN0aW9uSWR9IiB2YWx1ZT0iMSIgcmVxdWlyZWQ+CiAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgcGxhY2Vob2xkZXI9Itin2YTYrtmK2KfYsSDYp9mE2KvYp9mG2YoiIHJlcXVpcmVkPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJhZGQtYnRuIiBvbmNsaWNrPSJhZGRPcHRpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+INil2LbYp9mB2Kkg2K7Zitin2LEKICAgICAgPC9idXR0b24+CiAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0icmVtb3ZlLWJ0biIgb25jbGljaz0icmVtb3ZlUXVlc3Rpb24oJyR7cXVlc3Rpb25JZH0nKSI+CiAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPiDYrdiw2YEg2KfZhNiz2KTYp9mECiAgICAgIDwvYnV0dG9uPgogICAgPC9kaXY+CiAgYDsKICBxdWVzdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocXVlc3Rpb25FbGVtZW50KTsKICBlbmFibGVJbWFnZVBhc3RlT25VcmxGaWVsZHMoKTsKfQovLyDYo9i22YEg2YfYsNinINin2YTZg9mI2K8g2KjYudivINiv2KfZhNipIGxvYWRTdHVkZW50cyDYo9mIINmB2Yog2YXZhNmBINin2YTYrNin2YHYp9iz2YPYsdmK2KjYqiDYqNi52K8g2KrYudix2YrZgSDYrNiv2YjZhCDYp9mE2LfZhNin2KgKCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hTdHVkZW50c0lucHV0IikuYWRkRXZlbnRMaXN0ZW5lcigiaW5wdXQiLCBmdW5jdGlvbiAoKSB7CiAgY29uc3QgcXVlcnkgPSB0aGlzLnZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogIGNvbnN0IHN0dWRlbnRzVGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudHNUYWJsZSIpOwogIGNvbnN0IHJvd3MgPSBzdHVkZW50c1RhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoInRyIik7CiAgbGV0IGZvdW5kID0gZmFsc2U7CiAgcm93cy5mb3JFYWNoKHJvdyA9PiB7CiAgICBjb25zdCBuYW1lQ2VsbCA9IHJvdy5xdWVyeVNlbGVjdG9yKCJ0ZCIpOwogICAgaWYgKCFuYW1lQ2VsbCkgcmV0dXJuOwogICAgY29uc3QgbmFtZSA9IG5hbWVDZWxsLnRleHRDb250ZW50LnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgaWYgKG5hbWUuaW5jbHVkZXMocXVlcnkpKSB7CiAgICAgIHJvdy5zdHlsZS5kaXNwbGF5ID0gIiI7CiAgICAgIGZvdW5kID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHJvdy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfQogIH0pOwogIC8vINil2LDYpyDZhNmFINmK2YjYrNivINmG2KrYp9im2KwKICBpZiAoIWZvdW5kICYmIHF1ZXJ5Lmxlbmd0aCA+IDApIHsKICAgIHN0dWRlbnRzVGFibGUuaW5uZXJIVE1MID0gYDx0cj48dGQgY29sc3Bhbj0iNSI+2YTYpyDZitmI2KzYryDYt9mE2KfYqCDZhdi32KfYqNmC2YrZhiDZhNio2K3Yq9mDLjwvdGQ+PC90cj5gOwogIH0KICAvLyDYpdiw2Kcg2KrZhSDZhdiz2K0g2KfZhNio2K3YqyDYo9i52K8g2KrYrdmF2YrZhCDYp9mE2LfZhNin2KgKICBpZiAocXVlcnkubGVuZ3RoID09PSAwKSB7CiAgICBsb2FkU3R1ZGVudHMoKTsKICB9Cn0pOwp3aW5kb3cucmVtb3ZlUXVlc3Rpb24gPSBmdW5jdGlvbiAocXVlc3Rpb25JZCkgewogICAgLy8g2KXYsNinINmD2KfZhiDYp9mE2YXYudix2YEg2YrYqNiv2KMg2KjZgCAicXVlc3Rpb24tIiDYp9iz2KrYrtiv2YXZhyDZg9mF2Kcg2YfZiNiMINmI2KXZhNinINij2LbZgSAicXVlc3Rpb24tIgogICAgbGV0IGVsZW1lbnRJZCA9IHF1ZXN0aW9uSWQuc3RhcnRzV2l0aCgicXVlc3Rpb24tIikgPyBxdWVzdGlvbklkIDogInF1ZXN0aW9uLSIgKyBxdWVzdGlvbklkOwogICAgY29uc3QgcXVlc3Rpb25FbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKTsKICAgIGlmIChxdWVzdGlvbkVsZW1lbnQgJiYgY29uZmlybSgi2YfZhCDYo9mG2Kog2YXYqtij2YPYryDZhdmGINit2LDZgSDZh9iw2Kcg2KfZhNiz2KTYp9mE2J8iKSkgewogICAgICAgIHF1ZXN0aW9uRWxlbWVudC5yZW1vdmUoKTsKICAgIH0KfTsKZnVuY3Rpb24gbG9hZFByb2ZpbGUoKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2ZpbGVOYW1lIikudmFsdWUgPSBjdXJyZW50VXNlckRhdGE/LlsibmFtZSJdIHx8IGN1cnJlbnRVc2VyLmVtYWlsOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlRW1haWwiKS52YWx1ZSA9IGN1cnJlbnRVc2VyLmVtYWlsOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlUm9sZSIpLnZhbHVlID0gdXNlclJvbGUgPT09ICJ0ZWFjaGVyIiA/ICLZhdi52YTZhSIgOiAi2LfYp9mE2KgiOwogIGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKGN1cnJlbnRVc2VyLnVpZCkuZ2V0KCkudGhlbihfMHhkNDZiZTAgPT4gewogICAgY29uc3QgXzB4ZmI2YTkxID0gXzB4ZDQ2YmUwLmRhdGEoKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlRXhhbXNDcmVhdGVkIikudmFsdWUgPSBfMHhmYjZhOTE/LlsiZXhhbXNDcmVhdGVkIl0gfHwgMDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlRXhhbXNUYWtlbicpLnZhbHVlID0gXzB4ZmI2YTkxPy5bImV4YW1zVGFrZW4iXSB8fCAwOwoKICAgIC8vINil2LjZh9in2LEg2K3ZgtmEINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqSDZiNit2YLZhCDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKINmE2YTYt9in2YTYqCDZgdmC2LcKICAgIGlmICh1c2VyUm9sZSA9PT0gInN0dWRlbnQiKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlWWVhckdyb3VwIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlVGVybUdyb3VwIikuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgIC8vINil2LDYpyDYqtmFINiq2K3Yr9mK2K8g2KfZhNiz2YbYqSDYo9mIINin2YTYqtix2YUg2YXYs9io2YLYp9mL2Iwg2KfYrNi52YTZh9inINi62YrYsSDZgtin2KjZhNipINmE2YTYqti62YrZitixCiAgICAgIGNvbnN0IHllYXIgPSBfMHhmYjZhOTE/LnllYXIgfHwgIiI7CiAgICAgIGNvbnN0IHRlcm0gPSBfMHhmYjZhOTE/LnRlcm0gfHwgIiI7CiAgICAgIGNvbnN0IHllYXJTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZVllYXIiKTsKICAgICAgY29uc3QgdGVybVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlVGVybSIpOwogICAgICBjb25zdCBzYXZlWWVhckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlUHJvZmlsZVllYXJCdG4iKTsKICAgICAgY29uc3Qgc2F2ZVRlcm1CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2F2ZVByb2ZpbGVUZXJtQnRuIik7CgogICAgICB5ZWFyU2VsZWN0LnZhbHVlID0geWVhcjsKICAgICAgdGVybVNlbGVjdC52YWx1ZSA9IHRlcm07CgogICAgICBpZiAoeWVhcikgewogICAgICAgIHllYXJTZWxlY3QuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIHNhdmVZZWFyQnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICBzYXZlWWVhckJ0bi50ZXh0Q29udGVudCA9ICLYqtmFINin2YTYrdmB2LgiOwogICAgICB9IGVsc2UgewogICAgICAgIHllYXJTZWxlY3QuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICBzYXZlWWVhckJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIHNhdmVZZWFyQnRuLnRleHRDb250ZW50ID0gItit2YHYuCDYp9mE2LPZhtipINin2YTYr9ix2KfYs9mK2KkiOwogICAgICB9CgogICAgICBpZiAodGVybSkgewogICAgICAgIHRlcm1TZWxlY3QuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIHNhdmVUZXJtQnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICBzYXZlVGVybUJ0bi50ZXh0Q29udGVudCA9ICLYqtmFINin2YTYrdmB2LgiOwogICAgICB9IGVsc2UgewogICAgICAgIHRlcm1TZWxlY3QuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICBzYXZlVGVybUJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIHNhdmVUZXJtQnRuLnRleHRDb250ZW50ID0gItit2YHYuCDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKIjsKICAgICAgfQoKICAgICAgLy8g2KfZhNiz2YXYp9itINmE2YTYt9in2YTYqCDYqNiq2LrZitmK2LEg2KfYs9mF2Ycg2YXYsdipINmI2KfYrdiv2Kkg2YHZgti3CiAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlTmFtZSIpOwogICAgICBjb25zdCBzYXZlTmFtZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYXZlUHJvZmlsZU5hbWVCdG4iKTsKICAgICAgaWYgKF8weGZiNmE5MT8ubmFtZUNoYW5nZWQpIHsKICAgICAgICBuYW1lSW5wdXQuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIGlmIChzYXZlTmFtZUJ0bikgewogICAgICAgICAgc2F2ZU5hbWVCdG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgc2F2ZU5hbWVCdG4udGV4dENvbnRlbnQgPSAi2KrZhSDYqti62YrZitixINin2YTYp9iz2YUiOwogICAgICAgICAgc2F2ZU5hbWVCdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBuYW1lSW5wdXQuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICBpZiAoc2F2ZU5hbWVCdG4pIHsKICAgICAgICAgIHNhdmVOYW1lQnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICBzYXZlTmFtZUJ0bi50ZXh0Q29udGVudCA9ICLYrdmB2Lgg2KfZhNin2LPZhSI7CiAgICAgICAgICBzYXZlTmFtZUJ0bi5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZVllYXJHcm91cCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcm9maWxlVGVybUdyb3VwIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KICB9KTsKfQoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVQcm9maWxlWWVhckJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICBjb25zdCB5ZWFyU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInByb2ZpbGVZZWFyIik7CiAgaWYgKHllYXJTZWxlY3QuZGlzYWJsZWQpIHJldHVybjsKICBjb25zdCB5ZWFyID0geWVhclNlbGVjdC52YWx1ZTsKICBpZiAoIXllYXIpIHsKICAgIHNob3dUb2FzdCgi2YrYsdis2Ykg2KfYrtiq2YrYp9ixINin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqS4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2MoY3VycmVudFVzZXIudWlkKS5zZXQoeyB5ZWFyIH0sIHsgbWVyZ2U6IHRydWUgfSkudGhlbigoKSA9PiB7CiAgICBzaG93VG9hc3QoItiq2YUg2K3Zgdi4INin2YTYs9mG2Kkg2KfZhNiv2LHYp9iz2YrYqSEiLCAic3VjY2VzcyIpOwogICAgeWVhclNlbGVjdC5kaXNhYmxlZCA9IHRydWU7CiAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZTsKICAgIHRoaXMudGV4dENvbnRlbnQgPSAi2KrZhSDYp9mE2K3Zgdi4IjsKICB9KTsKfTsKLy8g2LLYsSDYrdmB2Lgg2KfZhNin2LPZhSDZhNmE2LfYp9mE2KggKNmF2LHYqSDZiNin2K3Yr9ipINmB2YLYtykKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVQcm9maWxlTmFtZUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvZmlsZU5hbWUiKTsKICBpZiAobmFtZUlucHV0LmRpc2FibGVkKSByZXR1cm47CiAgY29uc3QgbmV3TmFtZSA9IG5hbWVJbnB1dC52YWx1ZS50cmltKCk7CiAgaWYgKCFuZXdOYW1lKSB7CiAgICBzaG93VG9hc3QoItmK2LHYrNmJINil2K/Yrtin2YQg2KfZhNin2LPZhS4iLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2MoY3VycmVudFVzZXIudWlkKS5zZXQoeyBuYW1lOiBuZXdOYW1lLCBuYW1lQ2hhbmdlZDogdHJ1ZSB9LCB7IG1lcmdlOiB0cnVlIH0pLnRoZW4oKCkgPT4gewogICAgc2hvd1RvYXN0KCLYqtmFINiq2LrZitmK2LEg2KfZhNin2LPZhSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgICBuYW1lSW5wdXQuZGlzYWJsZWQgPSB0cnVlOwogICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7CiAgICB0aGlzLnRleHRDb250ZW50ID0gItiq2YUg2KrYutmK2YrYsSDYp9mE2KfYs9mFIjsKICB9KTsKfTsKCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmxvZ2luQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2hvd0F1dGhGb3JtKCdsb2dpbicpKTsKcmVnaXN0ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoKSA9PiBzaG93QXV0aEZvcm0oInJlZ2lzdGVyIikpOwpzaG93TG9naW4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBfMHg0NTczMDEgPT4gewogIF8weDQ1NzMwMS5wcmV2ZW50RGVmYXVsdCgpOwogIHNob3dBdXRoRm9ybSgnbG9naW4nKTsKfSk7CnNob3dSZWdpc3Rlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF8weDQ1OTJhOCA9PiB7CiAgXzB4NDU5MmE4LnByZXZlbnREZWZhdWx0KCk7CiAgc2hvd0F1dGhGb3JtKCJyZWdpc3RlciIpOwp9KTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZ2luRm9ybUZpZWxkcyIpLmFkZEV2ZW50TGlzdGVuZXIoInN1Ym1pdCIsIF8weDE0OTc0MSA9PiB7CiAgXzB4MTQ5NzQxLnByZXZlbnREZWZhdWx0KCk7CiAgY29uc3QgXzB4NDg0OWYzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZ2luRW1haWwiKS52YWx1ZTsKICBjb25zdCBfMHgyMTEzMTkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9naW5QYXNzd29yZCIpLnZhbHVlOwogIGF1dGguc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoXzB4NDg0OWYzLCBfMHgyMTEzMTkpLnRoZW4oXzB4NDBlMzQ1ID0+IHsKICAgIGNvbnN0IF8weDRmNGY4ZiA9IF8weDQwZTM0NS51c2VyLnVpZDsKICAgIHJldHVybiBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhfMHg0ZjRmOGYpLmdldCgpOwogIH0pLnRoZW4oXzB4ZWRkZDA4ID0+IHsKICAgIGlmIChfMHhlZGRkMDguZXhpc3RzICYmIF8weGVkZGQwOC5kYXRhKCkuZGlzYWJsZWQpIHsKICAgICAgYWxlcnQoItiq2YUg2KrYudi32YrZhCDYrdiz2KfYqNmDLiDZitix2KzZiSDYp9mE2KrZiNin2LXZhCDZhdi5INin2YTYpdiv2KfYsdipLiIpOwogICAgICBhdXRoLnNpZ25PdXQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQogIH0pWydjYXRjaCddKF8weDUyNWVkMCA9PiB7CiAgICBhbGVydCgi2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2LPYrNmK2YQg2KfZhNiv2K7ZiNmEOiAiICsgXzB4NTI1ZWQwLm1lc3NhZ2UpOwogIH0pOwp9KTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlZ2lzdGVyRm9ybUZpZWxkcyIpLmFkZEV2ZW50TGlzdGVuZXIoInN1Ym1pdCIsIF8weDEzZjkxOCA9PiB7CiAgXzB4MTNmOTE4LnByZXZlbnREZWZhdWx0KCk7CiAgY29uc3QgXzB4M2RkYjEwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlZ2lzdGVyTmFtZSIpLnZhbHVlOwogIGNvbnN0IF8weDM0ODcyMyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWdpc3RlckVtYWlsJykudmFsdWU7CiAgY29uc3QgXzB4NWM4MTA0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlZ2lzdGVyUGFzc3dvcmQiKS52YWx1ZTsKICBjb25zdCBfMHgzNDU3ZTYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVnaXN0ZXJDb25maXJtUGFzc3dvcmQiKS52YWx1ZTsKICBjb25zdCBfMHgxNDFiM2EgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVnaXN0ZXJSb2xlIikudmFsdWU7CiAgY29uc3QgXzB4MTQ4YWZjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlZ2lzdGVyRXJyb3IiKTsKICBjb25zdCBfMHg0ZTczYmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVnaXN0ZXJFcnJvclRleHQnKTsKICBpZiAoXzB4NWM4MTA0ICE9PSBfMHgzNDU3ZTYpIHsKICAgIF8weDRlNzNiYy50ZXh0Q29udGVudCA9ICLZg9mE2YXYqSDYp9mE2YXYsdmI2LEg2LrZitixINmF2KrYt9in2KjZgtipIjsKICAgIF8weDE0OGFmYy5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgcmV0dXJuOwogIH0KICBhdXRoLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChfMHgzNDg3MjMsIF8weDVjODEwNCkudGhlbihfMHgzYmFiMDMgPT4gewogICAgcmV0dXJuIGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKF8weDNiYWIwMy51c2VyLnVpZCkuc2V0KHsKICAgICAgJ25hbWUnOiBfMHgzZGRiMTAsCiAgICAgICdlbWFpbCc6IF8weDM0ODcyMywKICAgICAgJ3JvbGUnOiBfMHgxNDFiM2EsCiAgICAgICdjcmVhdGVkQXQnOiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKSwKICAgICAgJ2V4YW1zQ3JlYXRlZCc6IDB4MCwKICAgICAgJ2V4YW1zVGFrZW4nOiAweDAKICAgIH0pOwogIH0pLnRoZW4oKCkgPT4gewogICAgcmV0dXJuIGF1dGguY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7CiAgICAgICdkaXNwbGF5TmFtZSc6IF8weDNkZGIxMAogICAgfSk7CiAgfSkudGhlbigoKSA9PiB7fSlbImNhdGNoIl0oXzB4MmRjNGM0ID0+IHsKICAgIF8weDRlNzNiYy50ZXh0Q29udGVudCA9IF8weDJkYzRjNC5tZXNzYWdlOwogICAgXzB4MTQ4YWZjLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgfSk7Cn0pOwpsb2dvdXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgLy8g2KrYrdiv2YrYqyDYrdin2YTYqSDYp9mE2YbYtNin2Lcg2KXZhNmJINi62YrYsSDZhti02LcgKNmI2YLYqiDZgtiv2YrZhSDYrNiv2KfZiykKICBpZiAoY3VycmVudFVzZXIgJiYgdXNlclJvbGUgPT09ICJzdHVkZW50IikgewogICAgZGIuY29sbGVjdGlvbigidXNlcnMiKS5kb2MoY3VycmVudFVzZXIudWlkKS51cGRhdGUoewogICAgICBsYXN0QWN0aXZlOiBuZXcgRGF0ZSgyMDAwLCAwLCAxKSAvLyDYo9mIIERhdGUubm93KCkgLSA5OTk5OTk5OTk5CiAgICB9KTsKICB9CiAgYXV0aC5zaWduT3V0KCk7Cn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYudiv2YQg2YPZiNivINiy2LEg2KfZhNix2KbZitiz2YrYqSDZhNmK2K3ZiNmEINmB2YLYtyDZhNmE2LHYptmK2LPZitipINio2K/ZiNmGIHJlbG9hZAptZW51RGFzaGJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXzB4M2RiODdiID0+IHsKICBfMHgzZGI4N2IucHJldmVudERlZmF1bHQoKTsKICBzZXRBY3RpdmVNZW51SXRlbShtZW51RGFzaGJvYXJkKTsKICBzaG93UGFnZShkYXNoYm9hcmRQYWdlKTsgLy8g2YHZgti3INi52LHYtiDYtdmB2K3YqSDYp9mE2LHYptmK2LPZitipCiAgLy8g2YTYpyDYqtiz2KrYrtiv2YUgbG9jYXRpb24ucmVsb2FkKCk7CiAgbG9hZERhc2hib2FyZCgpOyAvLyDYpdiw2Kcg2YPZhtiqINiq2LHZitivINiq2K3Yr9mK2Ksg2KfZhNio2YrYp9mG2KfYqiDYp9mE2LHYptmK2LPZitipINmB2YLYtwp9KTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCm1lbnVDcmVhdGVFeGFtLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgXzB4MzJiYjcwID0+IHsKICBfMHgzMmJiNzAucHJldmVudERlZmF1bHQoKTsKICBpZiAodXNlclJvbGUgIT09ICJ0ZWFjaGVyIikgewogICAgYWxlcnQoIti52LDYsdmL2KfYjCDZgdmC2Lcg2KfZhNmF2LnZhNmFINmK2YXZg9mG2Ycg2KXZhti02KfYoSDYp9mE2KfYrtiq2KjYp9ix2KfYqi4iKTsKICAgIHJldHVybjsKICB9CiAgc2V0QWN0aXZlTWVudUl0ZW0obWVudUNyZWF0ZUV4YW0pOwogIHNob3dQYWdlKGNyZWF0ZUV4YW1QYWdlKTsKICBsb2FkU3R1ZGVudHNGb3JFeGFtKCk7IC8vINiq2K3ZhdmK2YQg2KfZhNi32YTYp9ioINmD2YQg2YXYsdipINiq2YHYqtitINmB2YrZh9inINin2YTYtdmB2K3YqQp9KTsKCm1lbnVDcmVhdGVTbGlkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF8weDg5NjBlMSA9PiB7CiAgXzB4ODk2MGUxLnByZXZlbnREZWZhdWx0KCk7CiAgc2V0QWN0aXZlTWVudUl0ZW0obWVudUNyZWF0ZVNsaWRlKTsKICBzaG93UGFnZShjcmVhdGVTbGlkZVBhZ2UpOwp9KTsKbWVudVJlc3VsdHMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBfMHhmMjEzNTEgPT4gewogIF8weGYyMTM1MS5wcmV2ZW50RGVmYXVsdCgpOwogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVSZXN1bHRzKTsKICBzaG93UGFnZShyZXN1bHRzUGFnZSk7Cn0pOwpmdW5jdGlvbiB0b2dnbGVHcmFkZXNEZWxldGVCdXR0b25zKCkgewogIGNvbnN0IGRlbGV0ZUV4YW1HcmFkZXNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVsZXRlRXhhbUdyYWRlc0J0biIpOwogIGNvbnN0IGRlbGV0ZUFsbFN0dWRlbnRHcmFkZXNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGVsZXRlQWxsU3R1ZGVudEdyYWRlc0J0biIpOwogIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICBpZiAoZGVsZXRlRXhhbUdyYWRlc0J0bikgZGVsZXRlRXhhbUdyYWRlc0J0bi5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICBpZiAoZGVsZXRlQWxsU3R1ZGVudEdyYWRlc0J0bikgZGVsZXRlQWxsU3R1ZGVudEdyYWRlc0J0bi5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgfSBlbHNlIHsKICAgIGlmIChkZWxldGVFeGFtR3JhZGVzQnRuKSBkZWxldGVFeGFtR3JhZGVzQnRuLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBpZiAoZGVsZXRlQWxsU3R1ZGVudEdyYWRlc0J0bikgZGVsZXRlQWxsU3R1ZGVudEdyYWRlc0J0bi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIH0KfQptZW51R3JhZGVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXzB4OTQyOTZkID0+IHsKICBfMHg5NDI5NmQucHJldmVudERlZmF1bHQoKTsKICBzZXRBY3RpdmVNZW51SXRlbShtZW51R3JhZGVzKTsKICBzaG93UGFnZShncmFkZXNQYWdlKTsKICB0b2dnbGVHcmFkZXNEZWxldGVCdXR0b25zKCk7IC8vINij2LbZgSDZh9iw2Kcg2KfZhNiz2LfYsSDZh9mG2Kcg2KPZiti22KfZiwogIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICBsb2FkQWxsR3JhZGVzKCk7CiAgfSBlbHNlIHsKICAgIGxvYWRTdHVkZW50R3JhZGVzKCk7CiAgICBsb2FkU3R1ZGVudFByb2dyZXNzKCk7CiAgfQp9KTsKCm1lbnVTdHVkZW50cy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIF8weDIxNWFjMyA9PiB7CiAgXzB4MjE1YWMzLnByZXZlbnREZWZhdWx0KCk7CiAgc2V0QWN0aXZlTWVudUl0ZW0obWVudVN0dWRlbnRzKTsKICBzaG93UGFnZShzdHVkZW50c1BhZ2UpOwogIGxvYWRTdHVkZW50cygpOwp9KTsKbWVudVByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBfMHhlZDA1MGYgPT4gewogIF8weGVkMDUwZi5wcmV2ZW50RGVmYXVsdCgpOwogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVQcm9maWxlKTsKICBzaG93UGFnZShwcm9maWxlUGFnZSk7CiAgbG9hZFByb2ZpbGUoKTsKfSk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2UXVlc3Rpb25CdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICBpZiAoY3VycmVudFF1ZXN0aW9uSW5kZXggPiAweDApIHsKICAgIGN1cnJlbnRRdWVzdGlvbkluZGV4LS07CiAgICBsb2FkUXVlc3Rpb24oY3VycmVudFF1ZXN0aW9uSW5kZXgpOwogIH0KfSk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJuZXh0UXVlc3Rpb25CdG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsICgpID0+IHsKICBpZiAoY3VycmVudFF1ZXN0aW9uSW5kZXggPCBjdXJyZW50RXhhbS5xdWVzdGlvbnMubGVuZ3RoIC0gMHgxKSB7CiAgICBjdXJyZW50UXVlc3Rpb25JbmRleCsrOwogICAgbG9hZFF1ZXN0aW9uKGN1cnJlbnRRdWVzdGlvbkluZGV4KTsKICB9Cn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYp9is2LnZhCDYstixICLYp9mE2LnZiNiv2Kkg2KXZhNmJINin2YTYp9iu2KrYqNin2LHYp9iqIiDZitiw2YfYqCDYpdmE2Ykg2KfZhNix2KbZitiz2YrYqSAoZGFzaGJvYXJkKSDYqNiv2YTYp9mLINmF2YYg2LXZgdit2Kkg2KfZhNin2K7Yqtio2KfYsdin2Kog2YHZgti3CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJiYWNrVG9FeGFtc0J0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKCkgPT4gewogIHNldEFjdGl2ZU1lbnVJdGVtKG1lbnVEYXNoYm9hcmQpOwogIHNob3dQYWdlKGRhc2hib2FyZFBhZ2UpOwogIGxvYWREYXNoYm9hcmQoKTsgLy8g2KXYsNinINmD2YbYqiDYqtix2YrYryDYqtit2K/ZitirINio2YrYp9mG2KfYqiDYp9mE2LHYptmK2LPZitipINmB2YLYtwp9KTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdyYWRlRXhhbUZpbHRlciIpLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGxvYWRGaWx0ZXJlZEdyYWRlcyk7CmxldCBlZGl0aW5nRXhhbUlkID0gbnVsbDsgLy8g2KPYttmBINmH2LDYpyDZgdmKINin2YTYo9i52YTZiSAo2KXYsNinINmE2YUg2YrZg9mGINmF2YjYrNmI2K/Yp9mLKQovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYp9iz2KrYqNiv2YQg2YPZiNivINiy2LEg2KXYttin2YHYqSDYs9ik2KfZhCDZgdmKINi12YHYrdipINil2YbYtNin2KEg2KfZhNin2YXYqtit2KfZhiDYqNmH2LDYpyDYp9mE2YPZiNivINmE2YrYqtmFINin2YTYqtix2YLZitmFINiq2YTZgtin2KbZitin2YsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFF1ZXN0aW9uQnRuJykuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgY29uc3QgcXVlc3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uc0NvbnRhaW5lciIpOwogIGNvbnN0IHF1ZXN0aW9uSWQgPSAicXVlc3Rpb24tIiArIERhdGUubm93KCk7CiAgY29uc3QgcXVlc3Rpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgcXVlc3Rpb25FbGVtZW50LmNsYXNzTmFtZSA9ICJxdWVzdGlvbi1jb250YWluZXIgaW1wb3J0ZWQtcXVlc3Rpb24tbGlnaHQiOwogIHF1ZXN0aW9uRWxlbWVudC5pZCA9IHF1ZXN0aW9uSWQ7CiAgcXVlc3Rpb25FbGVtZW50LmlubmVySFRNTCA9IGAKICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtmG2LUg2KfZhNiz2KTYp9mEPC9sYWJlbD4KICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgcXVlc3Rpb24tdGV4dCIgcmVxdWlyZWQ+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPtix2KfYqNi3INin2YTYtdmI2LHYqSAo2KfYrtiq2YrYp9ix2YopPC9sYWJlbD4KICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgcXVlc3Rpb24taW1hZ2UtdXJsIiBwbGFjZWhvbGRlcj0i2KPYr9iu2YQg2LHYp9io2Lcg2KfZhNi12YjYsdipIj4KICAgIDwvZGl2PgogICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+2K7Zitin2LHYp9iqINin2YTYpdis2KfYqNipPC9sYWJlbD4KICAgICAgPGRpdiBpZD0ib3B0aW9ucy0ke3F1ZXN0aW9uSWR9Ij4KICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24taXRlbSI+CiAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImNvcnJlY3QtJHtxdWVzdGlvbklkfSIgdmFsdWU9IjAiIHJlcXVpcmVkPgogICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wgb3B0aW9uLXRleHQiIHBsYWNlaG9sZGVyPSLYp9mE2K7Zitin2LEg2KfZhNij2YjZhCIgcmVxdWlyZWQ+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ib3B0aW9uLWl0ZW0iPgogICAgICAgICAgPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJjb3JyZWN0LSR7cXVlc3Rpb25JZH0iIHZhbHVlPSIxIiByZXF1aXJlZD4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIG9wdGlvbi10ZXh0IiBwbGFjZWhvbGRlcj0i2KfZhNiu2YrYp9ixINin2YTYq9in2YbZiiIgcmVxdWlyZWQ+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZGl2PgogICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImFkZC1idG4iIG9uY2xpY2s9ImFkZE9wdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4g2KXYttin2YHYqSDYrtmK2KfYsQogICAgICA8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJyZW1vdmUtYnRuIiBvbmNsaWNrPSJyZW1vdmVRdWVzdGlvbignJHtxdWVzdGlvbklkfScpIj4KICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYp9mE2LPYpNin2YQKICAgICAgPC9idXR0b24+CiAgICA8L2Rpdj4KICBgOwogIHF1ZXN0aW9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChxdWVzdGlvbkVsZW1lbnQpOwogIGVuYWJsZUltYWdlUGFzdGVPblVybEZpZWxkcygpOwogIHVwZGF0ZVF1ZXN0aW9uc051bWJlcnMoKTsgLy8g2KXYudin2K/YqSDYp9mE2KrYsdmC2YrZhSDYqNi52K8g2YPZhCDYpdi22KfZgdipCn0pOwoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KrYo9mD2K8g2KPZhiDYr9in2YTYqSB1cGRhdGVRdWVzdGlvbnNOdW1iZXJzINmF2YjYrNmI2K/YqSDYqNmH2LDYpyDYp9mE2LTZg9mEINmB2YLYtyDZhdix2Kkg2YjYp9it2K/YqSDZgdmKINmF2YTZgdmDOgpmdW5jdGlvbiB1cGRhdGVRdWVzdGlvbnNOdW1iZXJzKCkgewogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciAucXVlc3Rpb24tY29udGFpbmVyLCAjcXVlc3Rpb25zQ29udGFpbmVyIC5xdWVzdGlvbi1jb250YWluZXIiKS5mb3JFYWNoKChkaXYsIGlkeCkgPT4gewogICAgLy8g2KfYrdiw2YEg2KPZiiDYudmG2LXYsSDYqtix2YLZitmFINmC2K/ZitmFCiAgICBkaXYucXVlcnlTZWxlY3RvckFsbCgiLnF1ZXN0aW9uLW51bWJlci1sYWJlbCwgZGl2IikuZm9yRWFjaChlbCA9PiB7CiAgICAgIGlmICgKICAgICAgICBlbC5jbGFzc0xpc3QuY29udGFpbnMoInF1ZXN0aW9uLW51bWJlci1sYWJlbCIpIHx8CiAgICAgICAgKGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRyaW0oKS5zdGFydHNXaXRoKCLYs9ik2KfZhCDYsdmC2YUiKSkKICAgICAgKSB7CiAgICAgICAgZWwucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0pOwogICAgLy8g2KPYttmBINin2YTYqtix2YLZitmFINin2YTYrNiv2YrYryDZgdmKINin2YTYo9i52YTZiQogICAgY29uc3QgbnVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBudW1EaXYuY2xhc3NOYW1lID0gInF1ZXN0aW9uLW51bWJlci1sYWJlbCI7CiAgICBudW1EaXYuc3R5bGUgPSAiZm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMGE3MGZmO2ZvbnQtc2l6ZToxLjFyZW07bWFyZ2luLWJvdHRvbTo4cHg7IjsKICAgIG51bURpdi50ZXh0Q29udGVudCA9IGDYs9ik2KfZhCDYsdmC2YUgJHtpZHggKyAxfWA7CiAgICBkaXYucHJlcGVuZChudW1EaXYpOwogIH0pOwp9CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtRm9ybScpLm9uc3VibWl0ID0gYXN5bmMgZnVuY3Rpb24oZSkgewogICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgLy8gLi4uZXhpc3RpbmcgY29kZS4uLgogICAgY29uc3QgeWVhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtWWVhciIpLnZhbHVlOyAvLyDYp9mE2YXYsdit2YTYqSDYp9mE2K/Ysdin2LPZitipCiAgICAgIGNvbnN0IHRlcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbVRlcm0iKT8udmFsdWUgfHwgIiI7IC8vINin2YTYqti12K3ZititINmH2YbYpwoKICAgIC8vIC4uLtin2KzZhdi5INio2KfZgtmKINio2YrYp9mG2KfYqiDYp9mE2KfZhdiq2K3Yp9mGLi4uCiAgICAvLyDZhdir2KfZhDoKICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1UaXRsZSIpLnZhbHVlLnRyaW0oKTsKICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1EZXNjcmlwdGlvbiIpLnZhbHVlLnRyaW0oKTsKICAgIGNvbnN0IGR1cmF0aW9uID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1EdXJhdGlvbiIpLnZhbHVlKTsKICAgIGNvbnN0IHRvdGFsTWFya3MgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbVRvdGFsTWFya3MnKS52YWx1ZSk7CiAgICBjb25zdCBhbGxvd2VkU3R1ZGVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGxvd2VkU3R1ZGVudHMnKS5zZWxlY3RlZE9wdGlvbnMpLm1hcChvcHQgPT4gb3B0LnZhbHVlKTsKICAgIGNvbnN0IHN0YXJ0VGltZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1TdGFydFRpbWUiKS52YWx1ZTsKICAgIGNvbnN0IGVuZFRpbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGFtRW5kVGltZSIpLnZhbHVlOwogICAgY29uc3Qgc3RhcnRUaW1lID0gc3RhcnRUaW1lSW5wdXQgPyBuZXcgRGF0ZShzdGFydFRpbWVJbnB1dCkudG9JU09TdHJpbmcoKSA6IG51bGw7CiAgICBjb25zdCBlbmRUaW1lID0gZW5kVGltZUlucHV0ID8gbmV3IERhdGUoZW5kVGltZUlucHV0KS50b0lTT1N0cmluZygpIDogbnVsbDsKICAgIGNvbnN0IHF1ZXN0aW9ucyA9IFtdOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnF1ZXN0aW9uLWNvbnRhaW5lciIpLmZvckVhY2goZGl2ID0+IHsKICAgICAgICBjb25zdCB0ZXh0ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoIi5xdWVzdGlvbi10ZXh0IikudmFsdWUudHJpbSgpOwogICAgICAgIGNvbnN0IGltYWdlVXJsID0gZGl2LnF1ZXJ5U2VsZWN0b3IoIi5xdWVzdGlvbi1pbWFnZS11cmwiKT8udmFsdWUudHJpbSgpIHx8ICIiOwogICAgICAgIGNvbnN0IG9wdGlvbnMgPSBBcnJheS5mcm9tKGRpdi5xdWVyeVNlbGVjdG9yQWxsKCcub3B0aW9uLXRleHQnKSkubWFwKG9wdCA9PiAoeyB0ZXh0OiBvcHQudmFsdWUudHJpbSgpIH0pKTsKICAgICAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gcGFyc2VJbnQoZGl2LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWVePSdjb3JyZWN0LSddOmNoZWNrZWQiKT8udmFsdWUpOwogICAgICAgIHF1ZXN0aW9ucy5wdXNoKHsKICAgICAgICAgICAgdGV4dCwKICAgICAgICAgICAgaW1hZ2VVcmw6IGltYWdlVXJsIHx8IG51bGwsCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgIGNvcnJlY3RBbnN3ZXIKICAgICAgICB9KTsKICAgIH0pOwoKICAgIGlmIChlZGl0aW5nRXhhbUlkKSB7CiAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbignZXhhbXMnKS5kb2MoZWRpdGluZ0V4YW1JZCkudXBkYXRlKHsKICAgICAgICAgICAgdGl0bGUsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uLAogICAgICAgICAgICBkdXJhdGlvbiwKICAgICAgICAgICAgdG90YWxNYXJrcywKICAgICAgICAgICAgcXVlc3Rpb25zLAogICAgICAgICAgICBhbGxvd2VkU3R1ZGVudHMsCiAgICAgICAgICAgIHN0YXJ0VGltZSwKICAgICAgICAgICAgZW5kVGltZSwKICAgICAgICAgICAgeWVhciwgLy8g2KfZhNmF2LHYrdmE2Kkg2KfZhNiv2LHYp9iz2YrYqQogICAgICAgICAgICB0ZXJtLCAvLyDYp9mE2KrYsdmFINin2YTYr9ix2KfYs9mKCiAgICAgICAgICAgIHVwZGF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgICAgICB9KTsKICAgICAgICBhbGVydCgi2KrZhSDYqtit2K/ZitirINin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSEiKTsKICAgICAgICBlZGl0aW5nRXhhbUlkID0gbnVsbDsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbUZvcm0iKS5yZXNldCgpOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxdWVzdGlvbnNDb250YWluZXInKS5pbm5lckhUTUwgPSAnJzsKICAgICAgICBsb2FkQWxsRXhhbXMoKTsKICAgICAgICBzaG93UGFnZShleGFtc1BhZ2UpOwogICAgfSBlbHNlIHsKICAgICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCdleGFtcycpLmFkZCh7CiAgICAgICAgICAgIHRpdGxlLAogICAgICAgICAgICBkZXNjcmlwdGlvbiwKICAgICAgICAgICAgZHVyYXRpb24sCiAgICAgICAgICAgIHRvdGFsTWFya3MsCiAgICAgICAgICAgIHF1ZXN0aW9ucywKICAgICAgICAgICAgYWxsb3dlZFN0dWRlbnRzLAogICAgICAgICAgICBzdGFydFRpbWUsCiAgICAgICAgICAgIGVuZFRpbWUsCiAgICAgICAgICAgIHllYXIsIC8vINin2YTZhdix2K3ZhNipINin2YTYr9ix2KfYs9mK2KkKICAgICAgICAgICAgdGVybSwgLy8g2KfZhNiq2LHZhSDYp9mE2K/Ysdin2LPZigogICAgICAgICAgICBjcmVhdGVkQnk6IGN1cnJlbnRVc2VyRGF0YT8uWyJuYW1lIl0gfHwgY3VycmVudFVzZXIuZW1haWwsCiAgICAgICAgICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgICAgIHVzZXJJZDogY3VycmVudFVzZXIudWlkCiAgICAgICAgfSk7CiAgICAgICAgYWxlcnQoItiq2YUg2K3Zgdi4INin2YTYp9iu2KrYqNin2LEg2KjZhtis2KfYrSEiKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbUZvcm0iKS5yZXNldCgpOwogICAgICAgIGNvbnN0IHF1ZXN0aW9uQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5xdWVzdGlvbi1jb250YWluZXIiKTsKICAgICAgICBsb2FkQWxsRXhhbXMoKTsKICAgICAgICBzaG93UGFnZShleGFtc1BhZ2UpOwogICAgfQp9OwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINin2LPYqtio2K/ZhCDYr9in2YTYqSDYrdmB2Lgg2KfZhNi02LHZitit2Kkg2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNmK2KrZhSDYp9mE2KrYrdiv2YrYqyDYudmG2K8g2KfZhNiq2LnYr9mK2YQg2YjZhNmK2LMg2KfZhNil2LbYp9mB2Kkg2K/Yp9im2YXYp9mLCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINin2LPYqtio2K/ZhCDYr9in2YTYqSDYrdmB2Lgg2KfZhNi02LHZitit2Kkg2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNmK2KrZhSDYp9mE2KrYrdiv2YrYqyDYudmG2K8g2KfZhNiq2LnYr9mK2YQg2YjZhNmK2LMg2KfZhNil2LbYp9mB2Kkg2K/Yp9im2YXYp9mLCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZUZvcm0iKS5hZGRFdmVudExpc3RlbmVyKCJzdWJtaXQiLCBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICBjb25zdCBjaGFwdGVyc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGFwdGVyc0NvbnRhaW5lciIpOwogICAgY29uc3QgY2hhcHRlckRpdnMgPSBjaGFwdGVyc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIuY2hhcHRlci1pdGVtIik7CiAgICBjb25zdCBjaGFwdGVyc0FyciA9IFtdOwogICAgY2hhcHRlckRpdnMuZm9yRWFjaChjaGFwdGVyRGl2ID0+IHsKICAgICAgICBjb25zdCBsZXNzb25zQXJyID0gW107CiAgICAgICAgY29uc3QgbGVzc29uRGl2cyA9IGNoYXB0ZXJEaXYucXVlcnlTZWxlY3RvckFsbCgiLmxlc3Nvbi1pdGVtIik7CiAgICAgICAgbGVzc29uRGl2cy5mb3JFYWNoKGxlc3NvbkRpdiA9PiB7CiAgICAgICAgLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpsZXNzb25zQXJyLnB1c2goewogICAgdGl0bGU6IGxlc3NvbkRpdi5xdWVyeVNlbGVjdG9yKCIubGVzc29uLXRpdGxlIikudmFsdWUudHJpbSgpLAogICAgdmlkZW86IGxlc3NvbkRpdi5xdWVyeVNlbGVjdG9yKCIubGVzc29uLXZpZGVvIikudmFsdWUudHJpbSgpLAogICAgZG93bmxvYWQ6IGxlc3NvbkRpdi5xdWVyeVNlbGVjdG9yKCIubGVzc29uLWRvd25sb2FkIikgPyBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLmxlc3Nvbi1kb3dubG9hZCIpLnZhbHVlLnRyaW0oKSA6ICIiLAogICAgcGFzc3dvcmQ6IGxlc3NvbkRpdi5xdWVyeVNlbGVjdG9yKCIubGVzc29uLXBhc3N3b3JkIikgPyBsZXNzb25EaXYucXVlcnlTZWxlY3RvcigiLmxlc3Nvbi1wYXNzd29yZCIpLnZhbHVlLnRyaW0oKSA6ICIiCn0pOwovLyAuLi5leGlzdGluZyBjb2RlLi4uCiAgICAgICAgfSk7CiAgICAgICAgY2hhcHRlcnNBcnIucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiBjaGFwdGVyRGl2LnF1ZXJ5U2VsZWN0b3IoIi5jaGFwdGVyLXRpdGxlIikudmFsdWUudHJpbSgpLAogICAgICAgICAgICBsZXNzb25zOiBsZXNzb25zQXJyCiAgICAgICAgfSk7CiAgICB9KTsKCiAgICBjb25zdCBpbWFnZVVybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZUltYWdlVXJsIik/LnZhbHVlLnRyaW0oKSB8fCAiIjsKCiAgICBpZiAoZWRpdGluZ1NsaWRlSWQpIHsKICAgICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCJzbGlkZXMiKS5kb2MoZWRpdGluZ1NsaWRlSWQpLnVwZGF0ZSh7CiAgICAgICAgICAgIHRpdGxlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVUaXRsZSIpLnZhbHVlLnRyaW0oKSwKICAgICAgICAgICAgaW1hZ2VVcmwsCiAgICAgICAgICAgIGNoYXB0ZXJzOiBjaGFwdGVyc0FyciwKICAgICAgICAgICAgdXBkYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogICAgICAgIH0pOwogICAgICAgIHNob3dUb2FzdCgi2KrZhSDYqtit2K/ZitirINin2YTZhdmC2LHYsSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgICAgICAgZWRpdGluZ1NsaWRlSWQgPSBudWxsOwogICAgICAgIGxvYWRTbGlkZXMoKTsKICAgIH0gZWxzZSB7CiAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbigic2xpZGVzIikuYWRkKHsKICAgICAgICAgICAgdGl0bGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZVRpdGxlIikudmFsdWUudHJpbSgpLAogICAgICAgICAgICBpbWFnZVVybCwKICAgICAgICAgICAgY2hhcHRlcnM6IGNoYXB0ZXJzQXJyLAogICAgICAgICAgICBjcmVhdGVkQnk6IGN1cnJlbnRVc2VyRGF0YT8uWyJuYW1lIl0gfHwgY3VycmVudFVzZXIuZW1haWwsCiAgICAgICAgICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCksCiAgICAgICAgICAgIHVzZXJJZDogY3VycmVudFVzZXIudWlkCiAgICAgICAgfSk7CiAgICAgICAgc2hvd1RvYXN0KCLYqtmFINil2YbYtNin2KEg2KfZhNmF2YLYsdixINio2YbYrNin2K0hIiwgInN1Y2Nlc3MiKTsKICAgICAgICBsb2FkU2xpZGVzKCk7CiAgICB9CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVGb3JtIikucmVzZXQoKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGFwdGVyc0NvbnRhaW5lciIpLmlubmVySFRNTCA9ICIiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNsaWRlQ3JlYXRpb25TdWNjZXNzIikuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZUNyZWF0aW9uU3VjY2VzcyIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9LCAyMDAwKTsKfSk7Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgKCkgPT4gewogIGNvbnN0IF8weDFhOTg5YiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hYm91dC1jb250ZW50Iik7CiAgY29uc3QgXzB4MzBmOTI0ID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKF8weDNjNTYxYiA9PiB7CiAgICBfMHgzYzU2MWIuZm9yRWFjaChfMHgyM2NhZDAgPT4gewogICAgICBpZiAoXzB4MjNjYWQwLmlzSW50ZXJzZWN0aW5nKSB7CiAgICAgICAgXzB4MWE5ODliLmNsYXNzTGlzdC5hZGQoInZpc2libGUiKTsKICAgICAgfQogICAgfSk7CiAgfSk7CiAgXzB4MzBmOTI0Lm9ic2VydmUoXzB4MWE5ODliKTsKfSk7CmluaXRBcHAoKTsKKGZ1bmN0aW9uICgpIHsKICBsZXQgXzB4M2NiYzE2ID0gZmFsc2U7CiAgZnVuY3Rpb24gXzB4NTdlN2Q3KCkgewogICAgY29uc3QgXzB4MjdmYTFmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgIF8weDI3ZmExZi5pbm5lckhUTUwgPSAiXG4gICAgICAuZGV2dG9vbHMtd2FybmluZyB7XG4gICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDB2aDtcbiAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSByaWdodCwgI2QxMDAwMCwgIzNiMDAwMCk7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIHNhbnMtc2VyaWY7XG4gICAgICAgIGZvbnQtc2l6ZTogMnJlbTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogNDBweDtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgei1pbmRleDogOTk5OTk5O1xuICAgICAgICBkaXNwbGF5OiBub25lOyAvKiDYp9mE2LHYs9in2YTYqSDZhdiu2YHZitipINio2LTZg9mEINin2YHYqtix2KfYttmKICovXG4gICAgICB9XG4gICAgICAuZGV2dG9vbHMtd2FybmluZy5zaG93IHtcbiAgICAgICAgZGlzcGxheTogZmxleDsgLyog2KrYuNmH2LEg2KfZhNix2LPYp9mE2Kkg2LnZhtiv2YXYpyDZitiq2YUg2KfZg9iq2LTYp9mBINij2K/ZiNin2Kog2KfZhNmF2LfZiNixICovXG4gICAgICB9XG4gICAgIjsKICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoXzB4MjdmYTFmKTsKICB9CiAgCiAgZnVuY3Rpb24gXzB4MWU0NjU4KCkgewogICAgaWYgKF8weDNjYmMxNikgewogICAgICByZXR1cm47CiAgICB9CiAgICBfMHgzY2JjMTYgPSB0cnVlOwogICAgY29uc3QgXzB4NTg3ZjhkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRldnRvb2xzLXdhcm5pbmciKTsKICAgIGlmIChfMHg1ODdmOGQpIHsKICAgICAgXzB4NTg3ZjhkLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiYWJvdXQ6YmxhbmsiOwogICAgICB9LCAweDljNCk7CiAgICB9CiAgfQoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8gMy4g2KXYuNmH2KfYsSDYstixINin2YTYpdit2LXYp9im2YrYp9iqINmE2YTZhdi52YTZhSDZgdmC2LcKCi8vIDQuINi52YbYryDYp9mE2LbYuti3INi52YTZiSDYstixINin2YTYpdit2LXYp9im2YrYp9iq2Iwg2KfZgdiq2K0g2KfZhNi12YHYrdipINmI2K3ZhdmR2YQg2KfZhNix2LPZiNmF2KfYqgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVN0dWRlbnRzU3RhdGlzdGljcyIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oZSkgewogIGUucHJldmVudERlZmF1bHQoKTsKICBzZXRBY3RpdmVNZW51SXRlbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWVudVN0dWRlbnRzU3RhdGlzdGljc0xpIikpOwogIHNob3dQYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50c1N0YXRpc3RpY3NQYWdlIikpOwogIGxvYWRTdHVkZW50c1N0YXRpc3RpY3NDaGFydHMoKTsKfSk7CgovLyA1LiDYr9in2YTYqSDYqtit2YXZitmEINin2YTYqNmK2KfZhtin2Kog2YjYsdiz2YUg2KfZhNix2LPZiNmF2KfYqiDYp9mE2KjZitin2YbZitipCmZ1bmN0aW9uIGxvYWRTdHVkZW50c1N0YXRpc3RpY3NDaGFydHMoKSB7CiAgZGIuY29sbGVjdGlvbigicmVzdWx0cyIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgY29uc3QgZXhhbVN0YXRzID0ge307CiAgICBjb25zdCBzdHVkZW50U3RhdHMgPSB7fTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7CiAgICAgIC8vINmF2KrZiNiz2Lcg2K/Ysdis2KfYqiDZg9mEINin2YXYqtit2KfZhgogICAgICBpZiAoIWV4YW1TdGF0c1tkYXRhLmV4YW1UaXRsZV0pIGV4YW1TdGF0c1tkYXRhLmV4YW1UaXRsZV0gPSBbXTsKICAgICAgZXhhbVN0YXRzW2RhdGEuZXhhbVRpdGxlXS5wdXNoKGRhdGEuc2NvcmVQZXJjZW50YWdlKTsKCiAgICAgIC8vINin2YTZhdiz2KrZiNmJINin2YTYudin2YUg2YTZg9mEINi32KfZhNioCiAgICAgIGlmICghc3R1ZGVudFN0YXRzW2RhdGEudXNlck5hbWVdKSBzdHVkZW50U3RhdHNbZGF0YS51c2VyTmFtZV0gPSBbXTsKICAgICAgc3R1ZGVudFN0YXRzW2RhdGEudXNlck5hbWVdLnB1c2goZGF0YS5zY29yZVBlcmNlbnRhZ2UpOwogICAgfSk7CgogICAgLy8g2LHYs9mFINmF2KrZiNiz2Lcg2K/Ysdis2KfYqiDZg9mEINin2YXYqtit2KfZhgogICAgY29uc3QgZXhhbUxhYmVscyA9IE9iamVjdC5rZXlzKGV4YW1TdGF0cyk7CiAgICBjb25zdCBleGFtQXZlcmFnZXMgPSBleGFtTGFiZWxzLm1hcCh0aXRsZSA9PiB7CiAgICAgIGNvbnN0IGFyciA9IGV4YW1TdGF0c1t0aXRsZV07CiAgICAgIHJldHVybiBhcnIubGVuZ3RoID8gKGFyci5yZWR1Y2UoKGEsYik9PmErYiwwKS9hcnIubGVuZ3RoKS50b0ZpeGVkKDEpIDogMDsKICAgIH0pOwogICAgZHJhd0JhckNoYXJ0KCJleGFtQXZlcmFnZUNoYXJ0IiwgZXhhbUxhYmVscywgZXhhbUF2ZXJhZ2VzLCAi2YXYqtmI2LPYtyDYp9mE2K/Ysdis2KfYqiAoJSkiLCAiIzBhNzBmZiIpOwoKICAgIC8vINix2LPZhSDYp9mE2YXYs9iq2YjZiSDYp9mE2LnYp9mFINmE2YPZhCDYt9in2YTYqAogICAgY29uc3Qgc3R1ZGVudExhYmVscyA9IE9iamVjdC5rZXlzKHN0dWRlbnRTdGF0cyk7CiAgICBjb25zdCBzdHVkZW50QXZlcmFnZXMgPSBzdHVkZW50TGFiZWxzLm1hcChuYW1lID0+IHsKICAgICAgY29uc3QgYXJyID0gc3R1ZGVudFN0YXRzW25hbWVdOwogICAgICByZXR1cm4gYXJyLmxlbmd0aCA/IChhcnIucmVkdWNlKChhLGIpPT5hK2IsMCkvYXJyLmxlbmd0aCkudG9GaXhlZCgxKSA6IDA7CiAgICB9KTsKICAgIGRyYXdCYXJDaGFydCgic3R1ZGVudEdlbmVyYWxDaGFydCIsIHN0dWRlbnRMYWJlbHMsIHN0dWRlbnRBdmVyYWdlcywgItin2YTZhdiz2KrZiNmJINin2YTYudin2YUgKCUpIiwgIiMxNGVlODgiKTsKCiAgICAvLyDYsdiz2YUg2YXZgtin2LHZhtipINin2YTYt9mE2KfYqCDYqNio2LnYttmH2YUg2KfZhNio2LnYtgogICAgZHJhd1JhZGFyQ2hhcnQoInN0dWRlbnRzQ29tcGFyZUNoYXJ0Iiwgc3R1ZGVudExhYmVscywgc3R1ZGVudEF2ZXJhZ2VzLCAi2YXZgtin2LHZhtipINin2YTYt9mE2KfYqCIpOwogIH0pOwp9CgovLyDYsdiz2YUg2LHYs9mFINio2YrYp9mG2Yog2LnZhdmI2K/ZigpmdW5jdGlvbiBkcmF3QmFyQ2hhcnQoY2FudmFzSWQsIGxhYmVscywgZGF0YSwgbGFiZWwsIGNvbG9yKSB7CiAgY29uc3QgY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FudmFzSWQpLmdldENvbnRleHQoIjJkIik7CiAgbmV3IENoYXJ0KGN0eCwgewogICAgdHlwZTogImJhciIsCiAgICBkYXRhOiB7CiAgICAgIGxhYmVsczogbGFiZWxzLAogICAgICBkYXRhc2V0czogW3sKICAgICAgICBsYWJlbDogbGFiZWwsCiAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLAogICAgICAgIGJvcmRlclJhZGl1czogOAogICAgICB9XQogICAgfSwKICAgIG9wdGlvbnM6IHsKICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgcGx1Z2luczogewogICAgICAgIGxlZ2VuZDogeyBkaXNwbGF5OiBmYWxzZSB9LAogICAgICAgIHRpdGxlOiB7IGRpc3BsYXk6IGZhbHNlIH0KICAgICAgfSwKICAgICAgc2NhbGVzOiB7CiAgICAgICAgeTogeyBiZWdpbkF0WmVybzogdHJ1ZSwgbWF4OiAxMDAgfQogICAgICB9CiAgICB9CiAgfSk7Cn0KCi8vINix2LPZhSDYsdiz2YUg2KjZitin2YbZiiDYsdin2K/Yp9ix2Yog2YTZhNmF2YLYp9ix2YbYqQpmdW5jdGlvbiBkcmF3UmFkYXJDaGFydChjYW52YXNJZCwgbGFiZWxzLCBkYXRhLCBsYWJlbCkgewogIGNvbnN0IGN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbnZhc0lkKS5nZXRDb250ZXh0KCIyZCIpOwogIG5ldyBDaGFydChjdHgsIHsKICAgIHR5cGU6ICJyYWRhciIsCiAgICBkYXRhOiB7CiAgICAgIGxhYmVsczogbGFiZWxzLAogICAgICBkYXRhc2V0czogW3sKICAgICAgICBsYWJlbDogbGFiZWwsCiAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICJyZ2JhKDEwLDExMiwyNTUsMC4yKSIsCiAgICAgICAgYm9yZGVyQ29sb3I6ICIjMGE3MGZmIiwKICAgICAgICBib3JkZXJXaWR0aDogMiwKICAgICAgICBwb2ludEJhY2tncm91bmRDb2xvcjogIiMxNGVlODgiCiAgICAgIH1dCiAgICB9LAogICAgb3B0aW9uczogewogICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICBwbHVnaW5zOiB7CiAgICAgICAgbGVnZW5kOiB7IGRpc3BsYXk6IGZhbHNlIH0sCiAgICAgICAgdGl0bGU6IHsgZGlzcGxheTogZmFsc2UgfQogICAgICB9LAogICAgICBzY2FsZXM6IHsKICAgICAgICByOiB7IGJlZ2luQXRaZXJvOiB0cnVlLCBtYXg6IDEwMCB9CiAgICAgIH0KICAgIH0KICB9KTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCiAgZnVuY3Rpb24gXzB4MjE3MjE1KCkgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uIChfMHgxZmEzMTkpIHsKICAgICAgaWYgKF8weDFmYTMxOS5rZXkgPT09ICJGMTIiIHx8IF8weDFmYTMxOS5jdHJsS2V5ICYmIF8weDFmYTMxOS5zaGlmdEtleSAmJiBbJ0knLCAnSicsICdDJ10uaW5jbHVkZXMoXzB4MWZhMzE5LmtleSkgfHwgXzB4MWZhMzE5LmN0cmxLZXkgJiYgXzB4MWZhMzE5LmtleSA9PT0gJ1UnKSB7CiAgICAgICAgXzB4MWZhMzE5LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgXzB4MWU0NjU4KCk7CiAgICAgIH0KICAgIH0pOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY29udGV4dG1lbnUiLCBmdW5jdGlvbiAoXzB4NTU2MmNjKSB7CiAgICAgIF8weDU1NjJjYy5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIF8weDQ2MTliYygpIHsKICBfMHg1N2U3ZDcoKTsKICBfMHgzYjUxY2YoKTsKICBfMHgyMTcyMTUoKTsKCn0KICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIF8weDQ2MTliYyk7Cn0pKCk7CgpmdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uTWVudUZvclRlYWNoZXIoKSB7CiAgY29uc3QgbGlTZW5kTm90aWZpY2F0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxpU2VuZE5vdGlmaWNhdGlvbiIpOwogIGlmICghbGlTZW5kTm90aWZpY2F0aW9uKSByZXR1cm47CiAgaWYgKHVzZXJSb2xlID09PSAidGVhY2hlciIpIHsKICAgIGxpU2VuZE5vdGlmaWNhdGlvbi5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICB9IGVsc2UgewogICAgbGlTZW5kTm90aWZpY2F0aW9uLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfQp9CgovLyDYr9in2YTYqSDYpdi42YfYp9ixINmG2KfZgdiw2Kkg2KfZhNil2LTYudin2LEKZnVuY3Rpb24gc2hvd05vdGlmaWNhdGlvbk1vZGFsKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3RpZmljYXRpb25Nb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CgogIC8vINil2LnYp9iv2Kkg2LHYqNi3INij2LLYsdin2LEg2KfZhNiq2LPYrNmK2YQg2YPZhCDZhdix2Kkg2KrZgdiq2K0g2YHZitmH2Kcg2KfZhNmG2KfZgdiw2KkKICBjb25zdCBzdGFydFJlY29yZGluZ0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdGFydFJlY29yZGluZ0J0biIpOwogIGNvbnN0IHN0b3BSZWNvcmRpbmdCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RvcFJlY29yZGluZ0J0biIpOwogIGNvbnN0IHJlY29yZGVkQXVkaW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjb3JkZWRBdWRpbyIpOwogIGNvbnN0IG5vdGlmaWNhdGlvbkF1ZGlvVXJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vdGlmaWNhdGlvbkF1ZGlvVXJsIik7CgogIGxldCBtZWRpYVJlY29yZGVyOwogIGxldCBhdWRpb0NodW5rcyA9IFtdOwogIGxldCByZWNvcmRlZEF1ZGlvQmxvYiA9IG51bGw7CgogIGlmIChzdGFydFJlY29yZGluZ0J0biAmJiBzdG9wUmVjb3JkaW5nQnRuICYmIHJlY29yZGVkQXVkaW8pIHsKICAgIHN0YXJ0UmVjb3JkaW5nQnRuLm9uY2xpY2sgPSBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgIGF1ZGlvQ2h1bmtzID0gW107CiAgICAgIHJlY29yZGVkQXVkaW9CbG9iID0gbnVsbDsKICAgICAgcmVjb3JkZWRBdWRpby5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBub3RpZmljYXRpb25BdWRpb1VybC52YWx1ZSA9ICIiOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHsgYXVkaW86IHRydWUgfSk7CiAgICAgICAgbWVkaWFSZWNvcmRlciA9IG5ldyBNZWRpYVJlY29yZGVyKHN0cmVhbSk7CiAgICAgICAgbWVkaWFSZWNvcmRlci5zdGFydCgpOwogICAgICAgIHN0YXJ0UmVjb3JkaW5nQnRuLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgc3RvcFJlY29yZGluZ0J0bi5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICAgICAgbWVkaWFSZWNvcmRlci5vbmRhdGFhdmFpbGFibGUgPSBlID0+IGF1ZGlvQ2h1bmtzLnB1c2goZS5kYXRhKTsKICAgICAgICBtZWRpYVJlY29yZGVyLm9uc3RvcCA9IGFzeW5jICgpID0+IHsKICAgICAgICAgIHJlY29yZGVkQXVkaW9CbG9iID0gbmV3IEJsb2IoYXVkaW9DaHVua3MsIHsgdHlwZTogImF1ZGlvL3dlYm0iIH0pOwogICAgICAgICAgcmVjb3JkZWRBdWRpby5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHJlY29yZGVkQXVkaW9CbG9iKTsKICAgICAgICAgIHJlY29yZGVkQXVkaW8uc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICBzdG9wUmVjb3JkaW5nQnRuLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICBzdGFydFJlY29yZGluZ0J0bi5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICAgICAgICAvLyDYsdmB2Lkg2KfZhNmF2YTZgSDYpdmE2YkgRmlyZWJhc2UgU3RvcmFnZQogICAgICAgICAgY29uc3QgZmlsZU5hbWUgPSAibm90aWZpY2F0aW9ucy8iICsgRGF0ZS5ub3coKSArICIud2VibSI7CiAgICAgICAgICBjb25zdCBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZigpLmNoaWxkKGZpbGVOYW1lKTsKICAgICAgICAgIGF3YWl0IHN0b3JhZ2VSZWYucHV0KHJlY29yZGVkQXVkaW9CbG9iKTsKICAgICAgICAgIGNvbnN0IHVybCA9IGF3YWl0IHN0b3JhZ2VSZWYuZ2V0RG93bmxvYWRVUkwoKTsKICAgICAgICAgIG5vdGlmaWNhdGlvbkF1ZGlvVXJsLnZhbHVlID0gdXJsOwogICAgICAgIH07CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGFsZXJ0KCLYqti52LDYsSDYp9mE2YjYtdmI2YQg2YTZhNmF2YrZg9ix2YjZgdmI2YY6ICIgKyBlcnIubWVzc2FnZSk7CiAgICAgICAgc3RhcnRSZWNvcmRpbmdCdG4uc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgICAgIHN0b3BSZWNvcmRpbmdCdG4uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgfQogICAgfTsKCiAgICBzdG9wUmVjb3JkaW5nQnRuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChtZWRpYVJlY29yZGVyICYmIG1lZGlhUmVjb3JkZXIuc3RhdGUgPT09ICJyZWNvcmRpbmciKSB7CiAgICAgICAgbWVkaWFSZWNvcmRlci5zdG9wKCk7CiAgICAgIH0KICAgIH07CiAgfQp9CgoKLy8g2K/Yp9mE2Kkg2KXYrtmB2KfYoSDZhtin2YHYsNipINin2YTYpdi02LnYp9ixCmZ1bmN0aW9uIGhpZGVOb3RpZmljYXRpb25Nb2RhbCgpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibm90aWZpY2F0aW9uTW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3RpZmljYXRpb25NZXNzYWdlIikudmFsdWUgPSAiIjsKfQoKLy8g2K/Yp9mE2Kkg2KXYsdiz2KfZhCDYp9mE2KXYtNi52KfYsSDYpdmE2Ykg2YLYp9i52K/YqSDYp9mE2KjZitin2YbYp9iqCmFzeW5jIGZ1bmN0aW9uIHNlbmRUZWFjaGVyTm90aWZpY2F0aW9uKCkgewogIGNvbnN0IG1zZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3RpZmljYXRpb25NZXNzYWdlIikudmFsdWUudHJpbSgpOwogIGNvbnN0IGF1ZGlvVXJsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5vdGlmaWNhdGlvbkF1ZGlvVXJsIikudmFsdWUudHJpbSgpOwogIGlmICghbXNnKSB7CiAgICBzaG93VG9hc3QoItmK2LHYrNmJINmD2KrYp9io2Kkg2KfZhNix2LPYp9mE2KkuIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIGF3YWl0IGRiLmNvbGxlY3Rpb24oIm5vdGlmaWNhdGlvbnMiKS5hZGQoewogICAgbWVzc2FnZTogbXNnLAogICAgYXVkaW9Vcmw6IGF1ZGlvVXJsIHx8IG51bGwsCiAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgfSk7CiAgaGlkZU5vdGlmaWNhdGlvbk1vZGFsKCk7CiAgc2hvd1RvYXN0KCLYqtmFINil2LHYs9in2YQg2KfZhNil2LTYudin2LEg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwp9Ci8vINix2KjYtyDYp9mE2KPYrdiv2KfYqyDYqNin2YTYo9iy2LHYp9ixICjZhdix2Kkg2YjYp9it2K/YqSDYqNi52K8g2KfZhNiq2KPZg9ivINmF2YYg2YjYrNmI2K8g2KfZhNi52YbYp9i12LEpCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51U2VuZE5vdGlmaWNhdGlvbiIpLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIHNob3dOb3RpZmljYXRpb25Nb2RhbCgpOwp9OwovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYstixINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYsNin2KogItmB2KbYqSDYutmK2LEg2YXYudix2YjZgdipIgpjb25zdCBkZWxldGVVbmtub3duQ2F0ZWdvcnlRdWVzdGlvbnNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKZGVsZXRlVW5rbm93bkNhdGVnb3J5UXVlc3Rpb25zQnRuLmNsYXNzTmFtZSA9ICJidG4gYnRuLWRhbmdlciI7CmRlbGV0ZVVua25vd25DYXRlZ29yeVF1ZXN0aW9uc0J0bi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAiMTVweCI7CmRlbGV0ZVVua25vd25DYXRlZ29yeVF1ZXN0aW9uc0J0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPiDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2LDYp9iqINmB2KbYqSDYutmK2LEg2YXYudix2YjZgdipYDsKZGVsZXRlVW5rbm93bkNhdGVnb3J5UXVlc3Rpb25zQnRuLmlkID0gImRlbGV0ZVVua25vd25DYXRlZ29yeVF1ZXN0aW9uc0J0biI7CgovLyDYo9i22YEg2KfZhNiy2LEg2KrYrdiqINmC2KfYptmF2Kkg2KfZhNmB2KbYp9iqINmB2Yog2KjZhtmDINin2YTYo9iz2KbZhNipCnF1ZXN0aW9uQmFua0NhdGVnb3J5U2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5Iik7CmlmIChxdWVzdGlvbkJhbmtDYXRlZ29yeVNlbGVjdCkgewogIHF1ZXN0aW9uQmFua0NhdGVnb3J5U2VsZWN0LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZGVsZXRlVW5rbm93bkNhdGVnb3J5UXVlc3Rpb25zQnRuKTsKfQoKLy8g2LnZhtivINin2YTYtti62Lcg2LnZhNmJINiy2LEg2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINiw2KfYqiDZgdim2Kkg2LrZitixINmF2LnYsdmI2YHYqQpkZWxldGVVbmtub3duQ2F0ZWdvcnlRdWVzdGlvbnNCdG4ub25jbGljayA9IGFzeW5jIGZ1bmN0aW9uICgpIHsKICBpZiAoIWNvbmZpcm0oItmH2YQg2KPZhtiqINmF2KrYo9mD2K8g2KPZhtmDINiq2LHZitivINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYsNin2Kog2YHYptipINi62YrYsSDZhdi52LHZiNmB2KnYnyDZhNinINmK2YXZg9mGINin2YTYqtix2KfYrNi5INi52YYg2YfYsNinINin2YTYpdis2LHYp9ihISIpKSByZXR1cm47CgogIC8vINis2YTYqCDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYp9mE2KrZiiDZhNmH2KcgY2F0ZWdvcnlJZCDYutmK2LEg2YXZiNis2YjYryDZgdmKINin2YTZg9in2LQKICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLmdldCgpOwogIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgc2hvd1RvYXN0KCLZhNinINmK2YjYrNivINij2LPYptmE2Kkg2YHZiiDYqNmG2YMg2KfZhNij2LPYptmE2KkuIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIC8vINiq2KPZg9ivINmF2YYg2KrYrdmF2YrZhCDYp9mE2YPYp9i0INij2YjZhNin2YsKICBpZiAoIXdpbmRvdy5xdWVzdGlvbkNhdGVnb3JpZXNDYWNoZSB8fCBPYmplY3Qua2V5cyh3aW5kb3cucXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGUpLmxlbmd0aCA9PT0gMCkgewogICAgYXdhaXQgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKCk7CiAgfQogIGNvbnN0IGJhdGNoID0gZGIuYmF0Y2goKTsKICBsZXQgZm91bmQgPSAwOwogIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgIGNvbnN0IHEgPSBkb2MuZGF0YSgpOwogICAgaWYgKHEuY2F0ZWdvcnlJZCAmJiAhcXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGVbcS5jYXRlZ29yeUlkXSkgewogICAgICBiYXRjaC5kZWxldGUoZG9jLnJlZik7CiAgICAgIGZvdW5kKys7CiAgICB9CiAgfSk7CiAgaWYgKGZvdW5kID09PSAwKSB7CiAgICBzaG93VG9hc3QoItmE2Kcg2YrZiNis2K8g2KPYs9im2YTYqSDYqNmB2KbYqSDYutmK2LEg2YXYudix2YjZgdipLiIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICBhd2FpdCBiYXRjaC5jb21taXQoKTsKICBzaG93VG9hc3QoItiq2YUg2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINiw2KfYqiDZgdim2Kkg2LrZitixINmF2LnYsdmI2YHYqSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgbG9hZFF1ZXN0aW9uQmFuaygpOwp9OwoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYr9in2YTYqSDYudix2LYg2KfZhNil2LTYudin2LEg2YTZhNi32KfZhNioINi52YbYryDYqtiz2KzZitmEINin2YTYr9iu2YjZhAovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgpmdW5jdGlvbiBsaXN0ZW5Gb3JTdHVkZW50Tm90aWZpY2F0aW9ucygpIHsKICBpZiAodXNlclJvbGUgPT09ICJzdHVkZW50IikgewogICAgbGV0IG5vdGlmaWNhdGlvbkRpc3BsYXlDb3VudCA9IDA7CiAgICBsZXQgbGFzdE5vdGlmSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibGFzdFRlYWNoZXJOb3RpZmljYXRpb25JZCIpIHx8ICIiOwoKICAgIC8vINis2YTYqCDYotiu2LEg2KXYtNi52KfYsSDZgdmC2Lcg2YXYsdipINmI2KfYrdiv2Kkg2KjYudivIDEwINir2YjYp9mG2YogKNmF2LHYqtmK2YYg2YHZgti3KQogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIGRiLmNvbGxlY3Rpb24oIm5vdGlmaWNhdGlvbnMiKQogICAgICAgIC5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpCiAgICAgICAgLmxpbWl0KDEpCiAgICAgICAgLmdldCgpCiAgICAgICAgLnRoZW4oc25hcHNob3QgPT4gewogICAgICAgICAgaWYgKCFzbmFwc2hvdC5lbXB0eSkgewogICAgICAgICAgICBjb25zdCBub3RpZkRvYyA9IHNuYXBzaG90LmRvY3NbMF07CiAgICAgICAgICAgIGNvbnN0IG5vdGlmID0gbm90aWZEb2MuZGF0YSgpOwogICAgICAgICAgICBjb25zdCBub3RpZklkID0gbm90aWZEb2MuaWQ7CiAgICAgICAgICAgIC8vINil2LDYpyDZhNmFINmK2KrZhSDYudix2LYg2YfYsNinINin2YTYpdi02LnYp9ixINmF2YYg2YLYqNmECiAgICAgICAgICAgIGlmIChsYXN0Tm90aWZJZCAhPT0gbm90aWZJZCkgewogICAgICAgICAgICAgIHNob3dQb3B1cE5vdGlmaWNhdGlvbihub3RpZi5tZXNzYWdlLCBub3RpZi5hdWRpb1VybCk7CiAgICAgICAgICAgICAgbm90aWZpY2F0aW9uRGlzcGxheUNvdW50Kys7CiAgICAgICAgICAgICAgbGFzdE5vdGlmSWQgPSBub3RpZklkOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJsYXN0VGVhY2hlck5vdGlmaWNhdGlvbklkIiwgbm90aWZJZCk7CiAgICAgICAgICAgICAgLy8g2KjYudivIDEwINir2YjYp9mG2Yog2KPYrtix2YnYjCDYo9i42YfYsdmHINmF2LHYqSDYq9in2YbZitipINmB2YLYtyDYpdiw2Kcg2YTZhSDZitiq2YUg2KrYrdiv2YrYqyDYp9mE2KXYtNi52KfYsQogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgLy8g2KrYrdmC2YIg2YXYsdipINij2K7YsdmJINij2YYg2KfZhNil2LTYudin2LEg2YTZhSDZitiq2LrZitixCiAgICAgICAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oImxhc3RUZWFjaGVyTm90aWZpY2F0aW9uSWQiKSA9PT0gbm90aWZJZCAmJiBub3RpZmljYXRpb25EaXNwbGF5Q291bnQgPCAyKSB7CiAgICAgICAgICAgICAgICAgIHNob3dQb3B1cE5vdGlmaWNhdGlvbihub3RpZi5tZXNzYWdlLCBub3RpZi5hdWRpb1VybCk7CiAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkRpc3BsYXlDb3VudCsrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIDEwMDAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwgMTAwMDApOwoKICAgIC8vINin2LPYqtmF2Lkg2YTZhNil2LTYudin2LHYp9iqINin2YTYrNiv2YrYr9ipINmB2YLYtyDYo9ir2YbYp9ihINin2YTYrNmE2LPYqSAo2YTYpyDYqti42YfYsSDYpdmE2Kcg2KXYsNinINmD2KfZhiDYrNiv2YrYryDZiNmE2YUg2YrYuNmH2LEg2YHZiiDZh9iw2Ycg2KfZhNis2YTYs9ipKQogICAgZGIuY29sbGVjdGlvbigibm90aWZpY2F0aW9ucyIpCiAgICAgIC5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpCiAgICAgIC5saW1pdCgxKQogICAgICAub25TbmFwc2hvdChzbmFwc2hvdCA9PiB7CiAgICAgICAgaWYgKCFzbmFwc2hvdC5lbXB0eSkgewogICAgICAgICAgY29uc3Qgbm90aWZEb2MgPSBzbmFwc2hvdC5kb2NzWzBdOwogICAgICAgICAgY29uc3Qgbm90aWYgPSBub3RpZkRvYy5kYXRhKCk7CiAgICAgICAgICBjb25zdCBub3RpZklkID0gbm90aWZEb2MuaWQ7CiAgICAgICAgICBpZiAobGFzdE5vdGlmSWQgIT09IG5vdGlmSWQpIHsKICAgICAgICAgICAgc2hvd1BvcHVwTm90aWZpY2F0aW9uKG5vdGlmLm1lc3NhZ2UsIG5vdGlmLmF1ZGlvVXJsKTsKICAgICAgICAgICAgbm90aWZpY2F0aW9uRGlzcGxheUNvdW50ID0gMTsKICAgICAgICAgICAgbGFzdE5vdGlmSWQgPSBub3RpZklkOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibGFzdFRlYWNoZXJOb3RpZmljYXRpb25JZCIsIG5vdGlmSWQpOwogICAgICAgICAgICAvLyDYqNi52K8gMTAg2KvZiNin2YbZiiDYo9iu2LHZidiMINij2LjZh9ix2Ycg2YXYsdipINir2KfZhtmK2Kkg2YHZgti3INil2LDYpyDZhNmFINmK2KrYutmK2LEg2KfZhNil2LTYudin2LEKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsYXN0VGVhY2hlck5vdGlmaWNhdGlvbklkIikgPT09IG5vdGlmSWQgJiYgbm90aWZpY2F0aW9uRGlzcGxheUNvdW50IDwgMikgewogICAgICAgICAgICAgICAgc2hvd1BvcHVwTm90aWZpY2F0aW9uKG5vdGlmLm1lc3NhZ2UsIG5vdGlmLmF1ZGlvVXJsKTsKICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkRpc3BsYXlDb3VudCsrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMTAwMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgfQp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KfYs9iq2K/YudmQINmH2LDZhyDYp9mE2K/Yp9mE2Kkg2YHZiiDZhtmH2KfZitipIHNldHVwQXV0aGVudGljYXRlZFVJINio2K/ZhNin2Ysg2YXZhiBzaG93U3R1ZGVudE5vdGlmaWNhdGlvbgovLyBzZXR1cEF1dGhlbnRpY2F0ZWRVSSgpIHsKLy8gICAuLi4KLy8gICBzaG93Tm90aWZpY2F0aW9uTWVudUZvclRlYWNoZXIoKTsKLy8gICBsaXN0ZW5Gb3JTdHVkZW50Tm90aWZpY2F0aW9ucygpOwovLyB9CmZ1bmN0aW9uIHNob3dQb3B1cE5vdGlmaWNhdGlvbihtZXNzYWdlLCBhdWRpb1VybCkgewogIC8vINil2LDYpyDZg9in2YbYqiDYp9mE2YbYp9mB2LDYqSDZhdmI2KzZiNiv2Kkg2YXYs9io2YLYp9mL2Iwg2KfYrdiw2YHZh9inCiAgbGV0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0dWRlbnROb3RpZmljYXRpb25Nb2RhbCIpOwogIGlmIChtb2RhbCkgbW9kYWwucmVtb3ZlKCk7CgogIC8vINiv2LnZhSDYqtmG2LPZitmC2KfYqiDYrtin2LXYqTogKirYutin2YXZgioqIF9f2KrYttiu2YrZhV9fID092KrYuNmE2YrZhD09IChoaWdobGlnaHQpCiAgbGV0IGZvcm1hdHRlZE1lc3NhZ2UgPSBtZXNzYWdlCiAgICAvLyDYo9iz2LfYsSDYrNiv2YrYr9ipCiAgICAucmVwbGFjZSgvKD86XHJcbnxccnxcbikvZywgIjxicj4iKQogICAgLy8g2LHZiNin2KjYtwogICAgLnJlcGxhY2UoLyhodHRwcz86XC9cL1teXHNdKykvZywgJzxhIGhyZWY9IiQxIiB0YXJnZXQ9Il9ibGFuayIgc3R5bGU9ImNvbG9yOiMwYTcwZmY7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTsiPiQxPC9hPicpCiAgICAvLyAqKti62KfZhdmCKioKICAgIC5yZXBsYWNlKC9cKlwqKC4qPylcKlwqL2csICc8YiBzdHlsZT0iY29sb3I6IzBhNzBmZjsiPiQxPC9iPicpCiAgICAvLyBfX9iq2LbYrtmK2YVfXwogICAgLnJlcGxhY2UoL19fKC4qPylfXy9nLCAnPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxLjNlbTtmb250LXdlaWdodDpib2xkOyI+JDE8L3NwYW4+JykKICAgIC8vID092KrYuNmE2YrZhD09CiAgICAucmVwbGFjZSgvPT0oLis/KT09L2csICc8bWFyayBzdHlsZT0iYmFja2dyb3VuZDojZmZlMDY2O2NvbG9yOiMyMjI7cGFkZGluZzoycHggNnB4O2JvcmRlci1yYWRpdXM6NXB4OyI+JDE8L21hcms+Jyk7CgogIG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgbW9kYWwuaWQgPSAic3R1ZGVudE5vdGlmaWNhdGlvbk1vZGFsIjsKICBtb2RhbC5zdHlsZS5wb3NpdGlvbiA9ICJmaXhlZCI7CiAgbW9kYWwuc3R5bGUudG9wID0gIjAiOwogIG1vZGFsLnN0eWxlLmxlZnQgPSAiMCI7CiAgbW9kYWwuc3R5bGUud2lkdGggPSAiMTAwdnciOwogIG1vZGFsLnN0eWxlLmhlaWdodCA9ICIxMDB2aCI7CiAgbW9kYWwuc3R5bGUuYmFja2dyb3VuZCA9ICJyZ2JhKDAsMCwwLDAuNDUpIjsKICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIG1vZGFsLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gImNlbnRlciI7CiAgbW9kYWwuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogIG1vZGFsLnN0eWxlLnpJbmRleCA9ICI5OTk5IjsKCiAgbW9kYWwuaW5uZXJIVE1MID0gYAogIDxkaXYgc3R5bGU9IgogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2Y4ZmFmYyA3MCUsICNlM2YwZmYgMTAwJSk7CiAgICBib3JkZXItcmFkaXVzOiAyMnB4OwogICAgcGFkZGluZzogMzhweCAzMnB4IDI4cHggMzJweDsKICAgIGJveC1zaGFkb3c6IDAgOHB4IDMycHggcmdiYSgxMCwxMTIsMjU1LDAuMTUpOwogICAgbWF4LXdpZHRoOiA0NDBweDsKICAgIHdpZHRoOiA5NSU7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBhbmltYXRpb246IGZhZGVJbiAwLjVzOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgZGlyZWN0aW9uOiBydGw7CiAgICBib3JkZXI6IDJweCBzb2xpZCAjMGE3MGZmMWE7CiAgIj4KICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW4tYm90dG9tOjEwcHg7Ij4KICAgICAgPHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6IzBhNzBmZjFhO2JvcmRlci1yYWRpdXM6NTAlO3BhZGRpbmc6MThweDsiPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtYmVsbCBiZWxsLWFuaW1hdGUiIHN0eWxlPSJmb250LXNpemU6Mi43cmVtO2NvbG9yOiMwYTcwZmY7Ij48L2k+CiAgICAgIDwvc3Bhbj4KICAgIDwvZGl2PgogICAgPGgyIHN0eWxlPSJmb250LXNpemU6MS41cmVtO2NvbG9yOiMwYTcwZmY7bWFyZ2luLWJvdHRvbToxNHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7bGV0dGVyLXNwYWNpbmc6MXB4OyI+2KXYtNi52KfYsSDZhdmGINin2YTZhdi52YTZhTwvaDI+CiAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MS4yNXJlbTtjb2xvcjojMjIyO21hcmdpbi1ib3R0b206MjJweDtsaW5lLWhlaWdodDoyO3dvcmQtYnJlYWs6YnJlYWstd29yZDt0ZXh0LWFsaWduOmNlbnRlcjsiPgogICAgICAke2Zvcm1hdHRlZE1lc3NhZ2V9CiAgICA8L2Rpdj4KICAgICR7YXVkaW9VcmwgPyBgPGF1ZGlvIGlkPSJub3RpZkF1ZGlvIiBzcmM9IiR7YXVkaW9Vcmx9IiBhdXRvcGxheSBzdHlsZT0iZGlzcGxheTpub25lOyI+PC9hdWRpbz5gIDogIiJ9CiAgICA8YnV0dG9uIGlkPSJjbG9zZVN0dWRlbnROb3RpZmljYXRpb25CdG4iIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIHN0eWxlPSJwYWRkaW5nOjEycHggMzhweDtmb250LXNpemU6MS4xNXJlbTtib3JkZXItcmFkaXVzOjhweDttYXJnaW4tdG9wOjEwcHg7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoOTBkZWcsIzBhNzBmZiwjMTRlZTg4KTtib3JkZXI6bm9uZTsiPgogICAgICA8aSBjbGFzcz0iZmFzIGZhLWNoZWNrLWNpcmNsZSIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweDsiPjwvaT7Yrdiz2YbYp9mLCiAgICA8L2J1dHRvbj4KICA8L2Rpdj4KYDsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmF2LHYqSDZiNin2K3Yr9ipINmB2YLYtyDZgdmKIDxzdHlsZT4g2KPZiCDYudio2LEgSmF2YVNjcmlwdCDYpdiw2Kcg2YTZhSDZitmD2YYg2YXZiNis2YjYr9in2YsKaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmVsbC1hbmltYXRlLXN0eWxlJykpIHsKICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgc3R5bGUuaWQgPSAnYmVsbC1hbmltYXRlLXN0eWxlJzsKICBzdHlsZS5pbm5lckhUTUwgPSBgCiAgICBAa2V5ZnJhbWVzIGJlbGxSaW5nIHsKICAgICAgMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwKTsgfQogICAgICAxMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgtMjBkZWcpOyB9CiAgICAgIDIwJSB7IHRyYW5zZm9ybTogcm90YXRlKDE4ZGVnKTsgfQogICAgICAzMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgtMTZkZWcpOyB9CiAgICAgIDQwJSB7IHRyYW5zZm9ybTogcm90YXRlKDE0ZGVnKTsgfQogICAgICA1MCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgtMTJkZWcpOyB9CiAgICAgIDYwJSB7IHRyYW5zZm9ybTogcm90YXRlKDEwZGVnKTsgfQogICAgICA3MCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgtOGRlZyk7IH0KICAgICAgODAlIHsgdHJhbnNmb3JtOiByb3RhdGUoNmRlZyk7IH0KICAgICAgOTAlIHsgdHJhbnNmb3JtOiByb3RhdGUoLTRkZWcpOyB9CiAgICAgIDEwMCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwKTsgfQogICAgfQogICAgLmJlbGwtYW5pbWF0ZSB7CiAgICAgIGFuaW1hdGlvbjogYmVsbFJpbmcgMS4ycyBjdWJpYy1iZXppZXIoLjM2LC4wNywuMTksLjk3KSBib3RoIDk7CiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHRvcCBjZW50ZXI7CiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIH0KICBgOwogIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwp9CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CgogIC8vINiq2LTYutmK2YQg2KfZhNi12YjYqiDYpdiw2Kcg2YPYp9mGINmF2YjYrNmI2K/Yp9mLCiAgaWYgKGF1ZGlvVXJsKSB7CiAgICBjb25zdCBhdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3RpZkF1ZGlvIik7CiAgICBpZiAoYXVkaW8pIHsKICAgICAgYXVkaW8ucGxheSgpLmNhdGNoKCgpPT57fSk7CiAgICB9CiAgfQoKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2xvc2VTdHVkZW50Tm90aWZpY2F0aW9uQnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgbW9kYWwucmVtb3ZlKCk7CiAgfTsKfQoKLy8g8J+UjSDZg9i02YEg2YHYqtitINij2K/ZiNin2Kog2KfZhNmF2LfZiNixINio2KfYs9iq2K7Yr9in2YUg2KfZhNmB2LHZgiDYp9mE2LLZhdmG2Yog2YHZiiBkZWJ1Z2dlcgoKLy8g2KrYo9mD2K8g2YXZhiDYsdio2Lcg2KfZhNij2K3Yr9in2Ksg2KjYudivINiq2K3ZhdmK2YQg2KfZhNi12YHYrdipINmI2YPZhCDYp9mE2LnZhtin2LXYsQpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24gKCkgewogIC8vINiy2LEg2YHYqtitINmG2KfZgdiw2Kkg2KfZhNil2LTYudin2LEKICBjb25zdCBtZW51U2VuZE5vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51U2VuZE5vdGlmaWNhdGlvbiIpOwogIGlmIChtZW51U2VuZE5vdGlmaWNhdGlvbikgewogICAgbWVudVNlbmROb3RpZmljYXRpb24ub25jbGljayA9IGZ1bmN0aW9uKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBzaG93Tm90aWZpY2F0aW9uTW9kYWwoKTsKICAgIH07CiAgfQoKICAvLyDYstixINil2LHYs9in2YQg2KfZhNil2LTYudin2LEKICBjb25zdCBzZW5kTm90aWZpY2F0aW9uQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbmROb3RpZmljYXRpb25CdG4iKTsKICBpZiAoc2VuZE5vdGlmaWNhdGlvbkJ0bikgewogICAgc2VuZE5vdGlmaWNhdGlvbkJ0bi5vbmNsaWNrID0gc2VuZFRlYWNoZXJOb3RpZmljYXRpb247CiAgfQoKICAvLyDYstixINil2YTYutin2KEg2KfZhNil2LTYudin2LEKICBjb25zdCBjYW5jZWxOb3RpZmljYXRpb25CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FuY2VsTm90aWZpY2F0aW9uQnRuIik7CiAgaWYgKGNhbmNlbE5vdGlmaWNhdGlvbkJ0bikgewogICAgY2FuY2VsTm90aWZpY2F0aW9uQnRuLm9uY2xpY2sgPSBoaWRlTm90aWZpY2F0aW9uTW9kYWw7CiAgfQp9KTsKCi8vIC0tLSDZg9in2LQg2KfZhNmB2KbYp9iqIC0tLQpsZXQgcXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGUgPSB7fTsKCi8vINiq2K3ZhdmK2YQg2KfZhNmB2KbYp9iqINmB2Yog2KjZhtmDINin2YTYo9iz2KbZhNipINmI2YbYp9mB2LDYqSDYp9mE2KXYttin2YHYqSDZiNmG2KfZgdiw2Kkg2KfZhNin2LPYqtmK2LHYp9ivCmZ1bmN0aW9uIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzKHNlbGVjdGVkID0gIiIsIHNlbGVjdElkID0gInF1ZXN0aW9uQmFua0NhdGVnb3J5IikgewogIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdElkKTsKICBzZWxlY3QuaW5uZXJIVE1MID0gIiI7CiAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25DYXRlZ29yaWVzIikub3JkZXJCeSgibmFtZSIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgcXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGUgPSB7fTsKICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgICBzZWxlY3QuaW5uZXJIVE1MID0gIjxvcHRpb24gdmFsdWU9Jyc+2KjYr9mI2YYg2YHYptipPC9vcHRpb24+IjsKICAgICAgcmV0dXJuOwogICAgfQogICAgc2VsZWN0LmlubmVySFRNTCA9ICI8b3B0aW9uIHZhbHVlPScnPtmD2YQg2KfZhNmB2KbYp9iqPC9vcHRpb24+IjsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgY29uc3QgY2F0ID0gZG9jLmRhdGEoKTsKICAgICAgcXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGVbZG9jLmlkXSA9IGNhdC5uYW1lOwogICAgICBzZWxlY3QuaW5uZXJIVE1MICs9IGA8b3B0aW9uIHZhbHVlPSIke2RvYy5pZH0iICR7c2VsZWN0ZWQgPT09IGRvYy5pZCA/ICJzZWxlY3RlZCIgOiAiIn0+JHtjYXQubmFtZX08L29wdGlvbj5gOwogICAgfSk7CiAgfSk7Cn0KCi8vINiy2LEg2KXYttin2YHYqSDZgdim2Kkg2KzYr9mK2K/YqQovLyDYudmG2K8g2KfZhNi22LrYtyDYudmE2Ykg2LLYsSDYpdi22KfZgdipINmB2KbYqSDYrNiv2YrYr9ipCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRDYXRlZ29yeUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ2F0ZWdvcnlNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgLy8g2KrYrdmF2YrZhCDYp9mE2YHYptin2Kog2KfZhNix2KbZitiz2YrYqSDZgdmKINin2YTZgtin2KbZhdipINin2YTZhdmG2LPYr9mE2KkKICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFyZW50Q2F0ZWdvcnlTZWxlY3QiKTsKICBzZWxlY3QuaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9IiI+2KjYr9mI2YYg2YHYptipINix2KbZitiz2YrYqTwvb3B0aW9uPmA7CiBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkNhdGVnb3JpZXMiKQogIC53aGVyZSgicGFyZW50SWQiLCAiPT0iLCBudWxsKQogIC5vcmRlckJ5KCJuYW1lIikKICAuZ2V0KCkKICAudGhlbihzbmFwc2hvdCA9PiB7CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNvbnN0IGNhdCA9IGRvYy5kYXRhKCk7CiAgICAgIHNlbGVjdC5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9IiR7ZG9jLmlkfSI+JHtjYXQubmFtZX08L29wdGlvbj5gOwogICAgfSk7CiAgfSk7Cn07CgovLyDYstixINil2YTYutin2KEKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbmNlbEFkZENhdGVnb3J5QnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRDYXRlZ29yeU1vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ2F0ZWdvcnlGb3JtIikucmVzZXQoKTsKfTsKCi8vINi52YbYryDYrdmB2Lgg2KfZhNmB2KbYqSDYp9mE2KzYr9mK2K/YqQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ2F0ZWdvcnlGb3JtIikub25zdWJtaXQgPSBmdW5jdGlvbihlKSB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcnlOYW1lSW5wdXQiKS52YWx1ZS50cmltKCk7CiAgY29uc3QgcGFyZW50SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFyZW50Q2F0ZWdvcnlTZWxlY3QiKS52YWx1ZSB8fCBudWxsOwogIGlmICghbmFtZSkgcmV0dXJuOwpkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkNhdGVnb3JpZXMiKS5hZGQoeyBuYW1lLCBwYXJlbnRJZCB9KS50aGVuKCgpID0+IHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ2F0ZWdvcnlNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZENhdGVnb3J5Rm9ybSIpLnJlc2V0KCk7CiAgcmVmcmVzaEFsbENhdGVnb3J5TGFiZWxzKCk7CiAgc2hvd1RvYXN0KCLYqtmF2Kog2KXYttin2YHYqSDYp9mE2YHYptipISIsICJzdWNjZXNzIik7Cn0pOwp9OwoKLy8g2LnZhtivINmB2KrYrSDYqNmG2YMg2KfZhNij2LPYptmE2KkKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lbnVRdWVzdGlvbkJhbmsiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKICBlLnByZXZlbnREZWZhdWx0KCk7CiAgc2V0QWN0aXZlTWVudUl0ZW0odGhpcyk7CiAgc2hvd1BhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua1BhZ2UiKSk7CiAgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKCk7IC8vINi02KzYsdmKCiAgbG9hZFF1ZXN0aW9uQmFuaygpOwp9KTsKCi8vINi52YbYryDYqti62YrZitixINin2YTZgdim2Kkg2YHZiiDYqNmG2YMg2KfZhNij2LPYptmE2KkKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5IikuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgbG9hZFF1ZXN0aW9uQmFuaygpOwp9KTsKCi8vINiq2K3ZhdmK2YQg2KfZhNmB2KbYp9iqINmB2Yog2YbYp9mB2LDYqSDYpdi22KfZgdipINiz2KTYp9mEINis2K/ZitivCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFF1ZXN0aW9uQmFua0J0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUXVlc3Rpb25CYW5rTW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIC8vINin2K3YsNmBINij2Ygg2KfYrtmB2ZAg2LTYrNix2Kkg2KfZhNmB2KbYp9iqINmB2Yog2YbYp9mB2LDYqSDYp9mE2KXYttin2YHYqQogIGNvbnN0IHRyZWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2F0ZWdvcmllc1RyZWVDb250YWluZXIiKTsKICBpZiAodHJlZSkgewogICAgLy8g2KXZhdinINil2LLYp9mE2Kkg2KfZhNi52YbYtdixINmF2YYgRE9NOgogICAgLy8gdHJlZS5yZW1vdmUoKTsKICAgIC8vINij2Ygg2KXYrtmB2KfYpNmHINmB2YLYtzoKICAgIHRyZWUuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICB9CiAgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKCIiLCAicXVlc3Rpb25CYW5rQ2F0ZWdvcnlBZGQiKTsKfTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYstixINil2YTYutin2KEg2KXYttin2YHYqSDYs9ik2KfZhApkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FuY2VsQWRkUXVlc3Rpb25CYW5rQnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFF1ZXN0aW9uQmFua0Zvcm0iKS5yZXNldCgpOwp9OwoKLy8g2K3Zgdi4INin2YTYs9ik2KfZhCDYp9mE2KzYr9mK2K8g2YXYuSDYp9mE2YHYptipCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtGb3JtIikub25zdWJtaXQgPSBmdW5jdGlvbihlKSB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIGNvbnN0IHRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rVGV4dCIpLnZhbHVlLnRyaW0oKTsKICBjb25zdCBvcHRpb25zID0gWwogICAgeyB0ZXh0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3B0aW9uMSIpLnZhbHVlLnRyaW0oKSB9LAogICAgeyB0ZXh0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3B0aW9uMiIpLnZhbHVlLnRyaW0oKSB9CiAgXTsKICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjMiKS52YWx1ZS50cmltKCkpIG9wdGlvbnMucHVzaCh7IHRleHQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb24zIikudmFsdWUudHJpbSgpIH0pOwogIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3B0aW9uNCIpLnZhbHVlLnRyaW0oKSkgb3B0aW9ucy5wdXNoKHsgdGV4dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjQiKS52YWx1ZS50cmltKCkgfSk7CiAgY29uc3QgY29ycmVjdEFuc3dlciA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjb3JyZWN0T3B0aW9uIikudmFsdWUpIC0gMTsKICBjb25zdCBpbWFnZVVybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtJbWFnZVVybCIpLnZhbHVlLnRyaW0oKTsKICBjb25zdCBjYXRlZ29yeUlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5QWRkIikudmFsdWUgfHwgbnVsbDsKCiAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikuYWRkKHsKICAgIHRleHQsCiAgICBvcHRpb25zLAogICAgY29ycmVjdEFuc3dlciwKICAgIGltYWdlVXJsLAogICAgY2F0ZWdvcnlJZCwKICAgIGNyZWF0ZWRCeTogY3VycmVudFVzZXJEYXRhPy5uYW1lIHx8IGN1cnJlbnRVc2VyLmVtYWlsLAogICAgY3JlYXRlZEF0OiBmaXJlYmFzZS5maXJlc3RvcmUuRmllbGRWYWx1ZS5zZXJ2ZXJUaW1lc3RhbXAoKQogIH0pLnRoZW4oKCkgPT4gewogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFF1ZXN0aW9uQmFua01vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtGb3JtIikucmVzZXQoKTsKICAgIGxvYWRRdWVzdGlvbkJhbmsoKTsKICAgIHNob3dUb2FzdCgi2KrZhSDYpdi22KfZgdipINin2YTYs9ik2KfZhCEiLCAic3VjY2VzcyIpOwogIH0pOwp9OwoKLy8g2KrYrdmF2YrZhCDZiNi52LHYtiDYp9mE2KPYs9im2YTYqSDYrdiz2Kgg2KfZhNmB2KbYqSDYp9mE2YXYrtiq2KfYsdipINmF2Lkg2KXZhdmD2KfZhtmK2Kkg2KfZhNiq2LnYr9mK2YQg2YjYp9mE2K3YsNmBCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINi52K/ZhCDYr9in2YTYqSBsb2FkUXVlc3Rpb25CYW5rINmE2YrYqtmFINiq2LHYqtmK2Kgg2KfZhNij2LPYptmE2Kkg2YXZhiDYp9mE2KPYudmE2Ykg2YTZhNij2LPZgdmEICjYp9mE2KPYrdiv2Ksg2YHZiiDYp9mE2KPYudmE2YnYjCDYp9mE2KPZgtiv2YUg2YHZiiDYp9mE2KPYs9mB2YQpCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vIDEuINi52K/ZkdmEINi52K/YryDYp9mE2KPYs9im2YTYqSDZgdmKINin2YTYtdmB2K3YqQoKCi8vIDIuINi52K/ZkdmEINiv2KfZhNipIGxvYWRRdWVzdGlvbkJhbmsg2YTYpdi22KfZgdipINin2YTYqtix2YLZitmFINmI2KfZhNij2LLYsdin2LEg2KPYudmE2Ykg2KfZhNis2K/ZiNmECi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgooZnVuY3Rpb24oKXsKICAvLyDYpdi22KfZgdipINin2YTYstixINil2YTZiSDZiNin2KzZh9ipINil2K/Yp9ix2Kkg2KfZhNi32YTYp9ioCiAgZnVuY3Rpb24gZW5zdXJlQmF0Y2hCdXR0b24oKSB7CiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3R1ZGVudHNDb3VudEJveCcpOwogICAgaWYgKCFjb250YWluZXIpIHJldHVybjsKICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hTZXRQZXJtaXNzaW9uc0J0bicpKSByZXR1cm47CiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICAgIGJ0bi5pZCA9ICdiYXRjaFNldFBlcm1pc3Npb25zQnRuJzsKICAgIGJ0bi5jbGFzc05hbWUgPSAnYnRuIGJ0bi1wcmltYXJ5JzsKICAgIGJ0bi5zdHlsZS5tYXJnaW5MZWZ0ID0gJzEycHgnOwogICAgYnRuLnRleHRDb250ZW50ID0gJ9iq2K3Yr9mK2K8g2LXZhNin2K3Zitin2Kog2K/Zgdi52KknOwogICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJ0bik7CiAgICBidG4ub25jbGljayA9IG9wZW5CYXRjaFBlcm1pc3Npb25zTW9kYWw7CiAgfQoKICAvLyDYqNmG2KfYoSDYp9mE2YbYp9mB2LDYqSDYp9mE2YXZhtio2KvZgtipINmF2Lkg2KfYrtiq2YrYp9ixINi52YbYp9i12LEg2YXYrdiv2K/YqSAo2KfYrtiq2KjYp9ix2KfYqi/ZiNin2KzYqNin2Kov2YXZgtix2LHYp9iqKQogIGFzeW5jIGZ1bmN0aW9uIG9wZW5CYXRjaFBlcm1pc3Npb25zTW9kYWwoKSB7CiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoUGVybWlzc2lvbnNNb2RhbCcpKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFBlcm1pc3Npb25zTW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIG1vZGFsLmlkID0gJ2JhdGNoUGVybWlzc2lvbnNNb2RhbCc7CiAgICBtb2RhbC5jbGFzc05hbWUgPSAnbW9kYWwnOwogICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JzsKICAgIG1vZGFsLmlubmVySFRNTCA9IGAKICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDo3MjBweDt0ZXh0LWFsaWduOmNlbnRlcjtkaXJlY3Rpb246cnRsOyI+CiAgICAgICAgPGgzIGNsYXNzPSJtb2RhbC10aXRsZSI+2KrYrdiv2YrYryDYtdmE2KfYrdmK2KfYqiDYr9mB2LnYqSDYt9mE2KfYqDwvaDM+CiAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDoxMnB4O2ZsZXgtd3JhcDp3cmFwO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO21hcmdpbi10b3A6MTJweDsiPgogICAgICAgICAgPGRpdiBzdHlsZT0iZmxleDoxO21pbi13aWR0aDoyMDBweDsiPgogICAgICAgICAgICA8bGFiZWw+2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipPC9sYWJlbD4KICAgICAgICAgICAgPHNlbGVjdCBpZD0iYmF0Y2hZZWFyU2VsZWN0IiBjbGFzcz0iZm9ybS1jb250cm9sIj4KICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIiPtin2K7YqtixINin2YTYs9mG2Kk8L29wdGlvbj4KICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KPZiNmE2Ykg2KvYp9mG2YjZiiI+2KfZhNij2YjZhNmJINir2KfZhtmI2Yo8L29wdGlvbj4KICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSLYp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKIj7Yp9mE2KvYp9mG2YrYqSDYq9in2YbZiNmKPC9vcHRpb24+CiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZiiI+2KfZhNir2KfZhNir2Kkg2KvYp9mG2YjZijwvb3B0aW9uPgogICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZmxleDoxO21pbi13aWR0aDoxNjBweDsiPgogICAgICAgICAgICA8bGFiZWw+2KfZhNiq2LHZhTwvbGFiZWw+CiAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImJhdGNoVGVybVNlbGVjdCIgY2xhc3M9ImZvcm0tY29udHJvbCI+CiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iIj7Yp9iu2KrYsSDYp9mE2KrYsdmFPC9vcHRpb24+CiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0i2KfZhNij2YjZhCI+2KrYsdmFINij2YjZhDwvb3B0aW9uPgogICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Itin2YTYq9in2YbZiiI+2KrYsdmFINir2KfZhtmKPC9vcHRpb24+CiAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmbGV4OjE7bWluLXdpZHRoOjIyMHB4OyI+CiAgICAgICAgICAgIDxsYWJlbD7Yp9iu2KrYsSDYt9mE2KfYqCDZhdit2K/Yr9mK2YYgKNin2K7YqtmK2KfYsdmKKTwvbGFiZWw+CiAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImJhdGNoU3R1ZGVudHNMaXN0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBtdWx0aXBsZSBzaXplPSI2IiBzdHlsZT0id2lkdGg6MTAwJTsiPjwvc2VsZWN0PgogICAgICAgICAgICA8ZGl2IHN0eWxlPSJmb250LXNpemU6MC44NXJlbTtjb2xvcjojNjY2O21hcmdpbi10b3A6NnB4OyI+2KfYqtix2YMg2KfZhNmC2KfYptmF2Kkg2YHYp9ix2LrYqSDZhNiq2LfYqNmK2YIg2LnZhNmJINmD2YQg2LfZhNin2Kgg2KfZhNiz2YbYqS/Yp9mE2KrYsdmFPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDoxMnB4O21hcmdpbi10b3A6MTRweDtmbGV4LXdyYXA6d3JhcDsiPgogICAgICAgICAgPGRpdiBzdHlsZT0iZmxleDoxO21pbi13aWR0aDoyMjBweDtib3JkZXI6MXB4IHNvbGlkICNlZWU7cGFkZGluZzo4cHg7Ym9yZGVyLXJhZGl1czo4cHg7bWF4LWhlaWdodDoyNjBweDtvdmVyZmxvdzphdXRvOyI+CiAgICAgICAgICAgIDxzdHJvbmc+2KfYrtiq2YrYp9ixINin2K7Yqtio2KfYsdin2KogKEV4YW1zKTwvc3Ryb25nPgogICAgICAgICAgICA8ZGl2IGlkPSJiYXRjaEV4YW1zTGlzdCIgc3R5bGU9Im1hcmdpbi10b3A6OHB4OyI+2KzYp9ix2Yog2KfZhNiq2K3ZhdmK2YQuLi48L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT0iZmxleDoxO21pbi13aWR0aDoyMjBweDtib3JkZXI6MXB4IHNvbGlkICNlZWU7cGFkZGluZzo4cHg7Ym9yZGVyLXJhZGl1czo4cHg7bWF4LWhlaWdodDoyNjBweDtvdmVyZmxvdzphdXRvOyI+CiAgICAgICAgICAgIDxzdHJvbmc+2KfYrtiq2YrYp9ixINmI2KfYrNio2KfYqiAoU2VsZiBUZXN0cyk8L3N0cm9uZz4KICAgICAgICAgICAgPGRpdiBpZD0iYmF0Y2hTZWxmVGVzdHNMaXN0IiBzdHlsZT0ibWFyZ2luLXRvcDo4cHg7Ij7YrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLjwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8ZGl2IHN0eWxlPSJmbGV4OjE7bWluLXdpZHRoOjIyMHB4O2JvcmRlcjoxcHggc29saWQgI2VlZTtwYWRkaW5nOjhweDtib3JkZXItcmFkaXVzOjhweDttYXgtaGVpZ2h0OjI2MHB4O292ZXJmbG93OmF1dG87Ij4KICAgICAgICAgICAgPHN0cm9uZz7Yp9iu2KrZitin2LEg2YXZgtix2LHYp9iqIChDb3Vyc2VzKTwvc3Ryb25nPgogICAgICAgICAgICA8ZGl2IGlkPSJiYXRjaENvdXJzZXNMaXN0IiBzdHlsZT0ibWFyZ2luLXRvcDo4cHg7Ij7YrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLjwvZGl2PgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgc3R5bGU9InRleHQtYWxpZ246cmlnaHQ7bWFyZ2luLXRvcDoxMnB4OyI+CiAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iYmF0Y2hBcHBseVNlbGVjdGVkT25seSIgY2hlY2tlZD4g2KrYt9io2YrZgiDZgdmC2Lcg2LnZhNmJINin2YTYudmG2KfYtdixINin2YTZhdit2K/Yr9ipICjYpdmGINmE2YUg2KrZj9it2K/Yrzog2KrYrNin2YfZhCDYp9mE2YbZiNi5KTwvbGFiZWw+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWFjdGlvbnMiIHN0eWxlPSJtYXJnaW4tdG9wOjE0cHg7ZGlzcGxheTpmbGV4O2dhcDoxMHB4O2p1c3RpZnktY29udGVudDpjZW50ZXI7Ij4KICAgICAgICAgIDxidXR0b24gaWQ9ImFwcGx5QmF0Y2hQZXJtc0J0biIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+2KrYt9io2YrZgiDYudmE2Ykg2KfZhNi32YTYp9ioPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIGlkPSJjYW5jZWxCYXRjaFBlcm1zQnRuIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIiPtil2YTYutin2KE8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBpZD0iYmF0Y2hQZXJtc1N0YXR1cyIgc3R5bGU9Im1hcmdpbi10b3A6MTJweDtkaXNwbGF5Om5vbmU7Ij48L2Rpdj4KICAgICAgPC9kaXY+CiAgICBgOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbEJhdGNoUGVybXNCdG4nKS5vbmNsaWNrID0gKCkgPT4gbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHBseUJhdGNoUGVybXNCdG4nKS5vbmNsaWNrID0gYXBwbHlCYXRjaFBlcm1pc3Npb25zOwoKICAgIC8vINis2YTYqCDYp9mE2YLZiNin2KbZhSDZiNmF2YTYptmH2KcKICAgIGF3YWl0IGxvYWRCYXRjaFN0dWRlbnRzKCk7CiAgICBsb2FkQmF0Y2hMaXN0cygpOwoKICAgIC8vINix2KjYtyDYqti62YrZkdixINin2YTYs9mG2Kkv2KfZhNiq2LHZhSDZhNil2LnYp9iv2Kkg2KrYrdmF2YrZhCDYp9mE2YLZiNin2KbZhSDZiNin2YTYt9mE2KfYqAogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoWWVhclNlbGVjdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHsgbG9hZEJhdGNoTGlzdHMoKTsgbG9hZEJhdGNoU3R1ZGVudHMoKTsgfSk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hUZXJtU2VsZWN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4geyBsb2FkQmF0Y2hMaXN0cygpOyBsb2FkQmF0Y2hTdHVkZW50cygpOyB9KTsKICB9CgogIC8vINis2YTYqCDYt9mE2KfYqCDYp9mE2LPZhtipL9in2YTYqtix2YUg2YTYqtmF2YPZitmGINin2K7YqtmK2KfYsSDYt9mE2KfYqCDZhdit2K/Yr9mK2YYKICBhc3luYyBmdW5jdGlvbiBsb2FkQmF0Y2hTdHVkZW50cygpIHsKICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoU3R1ZGVudHNMaXN0Jyk7CiAgICBpZiAoIWVsKSByZXR1cm47CiAgICBlbC5pbm5lckhUTUwgPSAnPG9wdGlvbj7YrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLjwvb3B0aW9uPic7CiAgICBjb25zdCB5ZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoWWVhclNlbGVjdCcpPy52YWx1ZSB8fCAiIjsKICAgIGNvbnN0IHRlcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hUZXJtU2VsZWN0Jyk/LnZhbHVlIHx8ICIiOwogICAgdHJ5IHsKICAgICAgbGV0IHEgPSBkYi5jb2xsZWN0aW9uKCd1c2VycycpLndoZXJlKCdyb2xlJywnPT0nLCdzdHVkZW50Jykub3JkZXJCeSgnbmFtZScpOwogICAgICBpZiAoeWVhcikgcSA9IHEud2hlcmUoJ3llYXInLCc9PScseWVhcik7CiAgICAgIGlmICh0ZXJtKSBxID0gcS53aGVyZSgndGVybScsJz09Jyx0ZXJtKTsKICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IHEuZ2V0KCk7CiAgICAgIGlmIChzbmFwLmVtcHR5KSB7CiAgICAgICAgZWwuaW5uZXJIVE1MID0gYDxvcHRpb24gZGlzYWJsZWQ+2YTYpyDZitmI2KzYryDYt9mE2KfYqCR7eWVhcnx8dGVybSA/ICcg2YXYt9in2KjZgtipINmE2YTYs9mG2Kkv2KfZhNiq2LHZhScgOiAnJ308L29wdGlvbj5gOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBlbC5pbm5lckhUTUwgPSBzbmFwLmRvY3MubWFwKGQgPT4gewogICAgICAgIGNvbnN0IHUgPSBkLmRhdGEoKTsKICAgICAgICByZXR1cm4gYDxvcHRpb24gdmFsdWU9IiR7ZC5pZH0iPiR7dS5uYW1lIHx8IHUuZW1haWx9ICR7dS55ZWFyID8gJyAtICcgKyB1LnllYXIgOiAnJ30gJHt1LnRlcm0gPyAnIC0gJyArIHUudGVybSA6ICcnfTwvb3B0aW9uPmA7CiAgICAgIH0pLmpvaW4oJycpOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoImxvYWRCYXRjaFN0dWRlbnRzIGVycm9yOiIsIGVycik7CiAgICAgIGVsLmlubmVySFRNTCA9IGA8b3B0aW9uIGRpc2FibGVkPtiu2LfYozogJHtlcnIubWVzc2FnZX08L29wdGlvbj5gOwogICAgfQogIH0KCiAgYXN5bmMgZnVuY3Rpb24gbG9hZEJhdGNoTGlzdHMoKSB7CiAgICBjb25zdCBleGFtc0xpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaEV4YW1zTGlzdCcpOwogICAgY29uc3Qgc2VsZlRlc3RzTGlzdEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoU2VsZlRlc3RzTGlzdCcpOwogICAgY29uc3QgY291cnNlc0xpc3RFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaENvdXJzZXNMaXN0Jyk7CgogICAgaWYgKCFleGFtc0xpc3RFbCB8fCAhc2VsZlRlc3RzTGlzdEVsIHx8ICFjb3Vyc2VzTGlzdEVsKSByZXR1cm47CgogICAgdHJ5IHsKICAgICAgZXhhbXNMaXN0RWwuaW5uZXJIVE1MID0gJ9is2KfYsdmKINin2YTYqtit2YXZitmELi4uJzsKICAgICAgc2VsZlRlc3RzTGlzdEVsLmlubmVySFRNTCA9ICfYrNin2LHZiiDYp9mE2KrYrdmF2YrZhC4uLic7CiAgICAgIGNvdXJzZXNMaXN0RWwuaW5uZXJIVE1MID0gJ9is2KfYsdmKINin2YTYqtit2YXZitmELi4uJzsKCiAgICAgIGNvbnN0IHllYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hZZWFyU2VsZWN0Jyk/LnZhbHVlIHx8ICIiOwogICAgICBjb25zdCB0ZXJtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoVGVybVNlbGVjdCcpPy52YWx1ZSB8fCAiIjsKCiAgICAgIC8vINil2LDYpyDZhNmFINmK2K3Yr9mR2K8g2KfZhNmF2LnZhNmFINiz2YbYqSDYo9mIINiq2LHZhSDZhNinINmG2LnYsdi2INi52YbYp9i12LEg2K7Yp9i32KbYqTog2KfYt9mE2Kgg2YXZhtmHINin2YTYqtit2K/ZitivINij2Ygg2LnYsdi2INin2YTZg9mEINio2YbYp9ih2Ysg2LnZhNmJINiq2YHYttmK2YTZgwogICAgICAvLyDZh9mG2Kcg2YbYudix2LYg2KfZhNi52YbYp9i12LEg2KfZhNmF2LfYp9io2YLYqSDZgdmC2Lcg2KXYsNinINiq2YUg2KfYrtiq2YrYp9ixINiz2YbYqSDYo9mIINiq2LHZhdiMINmI2KXZhNinINmG2LnYsdi2INix2LPYp9mE2Kkg2KrYrdiw2YrYsdmK2Kkg2KjYr9mE2KfZiyDZhdmGINmD2YQg2KfZhNi52YbYp9i12LEuCiAgICAgIGNvbnN0IGJ1aWxkUXVlcnkgPSAoY29sbGVjdGlvbk5hbWUpID0+IHsKICAgICAgICBsZXQgcSA9IGRiLmNvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpLm9yZGVyQnkoJ3RpdGxlJyk7CiAgICAgICAgaWYgKHllYXIpIHEgPSBxLndoZXJlKCd5ZWFyJywgJz09JywgeWVhcik7CiAgICAgICAgaWYgKHRlcm0pIHEgPSBxLndoZXJlKCd0ZXJtJywgJz09JywgdGVybSk7CiAgICAgICAgcmV0dXJuIHE7CiAgICAgIH07CgogICAgICBjb25zdCBbZXhhbXNTbmFwLCB0ZXN0c1NuYXAsIGNvdXJzZXNTbmFwXSA9IGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgICBidWlsZFF1ZXJ5KCdleGFtcycpLmdldCgpLAogICAgICAgIGJ1aWxkUXVlcnkoJ3NlbGZUZXN0cycpLmdldCgpLAogICAgICAgIC8vIGNvdXJzZXMvc2xpZGVzIG1heSBub3QgaGF2ZSB5ZWFyL3Rlcm07IGlmIHllYXIvdGVybSBwcm92aWRlZCB0cnkgZmlsdGVyLCBlbHNlIGZldGNoIGFsbAogICAgICAgIChmdW5jdGlvbigpewogICAgICAgICAgbGV0IHEgPSBkYi5jb2xsZWN0aW9uKCdzbGlkZXMnKS5vcmRlckJ5KCd0aXRsZScpOwogICAgICAgICAgaWYgKHllYXIpIHEgPSBxLndoZXJlKCd5ZWFyJywnPT0nLCB5ZWFyKTsKICAgICAgICAgIGlmICh0ZXJtKSBxID0gcS53aGVyZSgndGVybScsJz09JywgdGVybSk7CiAgICAgICAgICByZXR1cm4gcS5nZXQoKTsKICAgICAgICB9KSgpCiAgICAgIF0pOwoKICAgICAgaWYgKCFleGFtc1NuYXAuZW1wdHkpIHsKICAgICAgICBleGFtc0xpc3RFbC5pbm5lckhUTUwgPSBleGFtc1NuYXAuZG9jcy5tYXAoZCA9PiB7CiAgICAgICAgICBjb25zdCB0ID0gZC5kYXRhKCk7CiAgICAgICAgICByZXR1cm4gYDxsYWJlbCBzdHlsZT0iZGlzcGxheTpibG9jaztwYWRkaW5nOjZweCA0cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2Y1ZjVmNTsiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgY2xhc3M9ImJhdGNoLWV4YW0tY2hlY2tib3giIHZhbHVlPSIke2QuaWR9Ij4gJHt0LnRpdGxlIHx8IHQuZGVzY3JpcHRpb24gfHwgZC5pZH0KICAgICAgICAgICAgICAgICAgPC9sYWJlbD5gOwogICAgICAgIH0pLmpvaW4oJycpOwogICAgICB9IGVsc2UgewogICAgICAgIGV4YW1zTGlzdEVsLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojODg4Ij4ke3llYXJ8fHRlcm0gPyAn2YTYpyDYqtmI2KzYryDYp9iu2KrYqNin2LHYp9iqINmF2LfYp9io2YLYqSDZhNmE2LPZhtipL9in2YTYqtix2YUg2KfZhNmF2K3Yr9ivJyA6ICfYp9iu2KrYsSDYp9mE2LPZhtipINmI2KfZhNiq2LHZhSDZhNi52LHYtiDYp9mE2KfYrtiq2KjYp9ix2KfYqid9PC9kaXY+YDsKICAgICAgfQoKICAgICAgaWYgKCF0ZXN0c1NuYXAuZW1wdHkpIHsKICAgICAgICBzZWxmVGVzdHNMaXN0RWwuaW5uZXJIVE1MID0gdGVzdHNTbmFwLmRvY3MubWFwKGQgPT4gewogICAgICAgICAgY29uc3QgdCA9IGQuZGF0YSgpOwogICAgICAgICAgcmV0dXJuIGA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6YmxvY2s7cGFkZGluZzo2cHggNHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNmNWY1ZjU7Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJiYXRjaC1zZWxmdGVzdC1jaGVja2JveCIgdmFsdWU9IiR7ZC5pZH0iPiAke3QudGl0bGUgfHwgdC5kZXNjcmlwdGlvbiB8fCBkLmlkfQogICAgICAgICAgICAgICAgICA8L2xhYmVsPmA7CiAgICAgICAgfSkuam9pbignJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VsZlRlc3RzTGlzdEVsLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojODg4Ij4ke3llYXJ8fHRlcm0gPyAn2YTYpyDYqtmI2KzYryDZiNin2KzYqNin2Kog2YXYt9in2KjZgtipINmE2YTYs9mG2Kkv2KfZhNiq2LHZhSDYp9mE2YXYrdiv2K8nIDogJ9in2K7YqtixINin2YTYs9mG2Kkg2YjYp9mE2KrYsdmFINmE2LnYsdi2INin2YTZiNin2KzYqNin2KonfTwvZGl2PmA7CiAgICAgIH0KCiAgICAgIGlmICghY291cnNlc1NuYXAuZW1wdHkpIHsKICAgICAgICBjb3Vyc2VzTGlzdEVsLmlubmVySFRNTCA9IGNvdXJzZXNTbmFwLmRvY3MubWFwKGQgPT4gewogICAgICAgICAgY29uc3QgdCA9IGQuZGF0YSgpOwogICAgICAgICAgcmV0dXJuIGA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6YmxvY2s7cGFkZGluZzo2cHggNHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNmNWY1ZjU7Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJiYXRjaC1jb3Vyc2UtY2hlY2tib3giIHZhbHVlPSIke2QuaWR9Ij4gJHt0LnRpdGxlIHx8IGQuaWR9CiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+YDsKICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb3Vyc2VzTGlzdEVsLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojODg4Ij4ke3llYXJ8fHRlcm0gPyAn2YTYpyDYqtmI2KzYryDZhdmC2LHYsdin2Kog2YXYt9in2KjZgtipINmE2YTYs9mG2Kkv2KfZhNiq2LHZhSDYp9mE2YXYrdiv2K8nIDogJ9in2K7YqtixINin2YTYs9mG2Kkg2YjYp9mE2KrYsdmFINil2YYg2KPYsdiv2Kog2YHZhNiq2LHYqSDYp9mE2YXZgtix2LHYp9iqJ308L2Rpdj5gOwogICAgICB9CgogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoImxvYWRCYXRjaExpc3RzIGVycm9yOiIsIGVycik7CiAgICAgIGV4YW1zTGlzdEVsLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojYzAzOTJiIj7Yrti32KM6ICR7ZXJyLm1lc3NhZ2V9PC9kaXY+YDsKICAgICAgc2VsZlRlc3RzTGlzdEVsLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojYzAzOTJiIj7Yrti32KM6ICR7ZXJyLm1lc3NhZ2V9PC9kaXY+YDsKICAgICAgY291cnNlc0xpc3RFbC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6I2MwMzkyYiI+2K7Yt9ijOiAke2Vyci5tZXNzYWdlfTwvZGl2PmA7CiAgICB9CiAgfQoKICAvLyDYr9in2YTYqSDZhNi52YXZhCDYp9iq2K3Yp9ivINio2YrZhiDYp9mE2YXYtdmB2YjZgdin2KogKG5vIGR1cGVzKQogIGZ1bmN0aW9uIHVuaW9uQXJyYXlzKGEsYil7IGNvbnN0IHM9bmV3IFNldChbLi4uKGF8fFtdKSwuLi4oYnx8W10pXSk7IHJldHVybiBBcnJheS5mcm9tKHMpOyB9CgogIC8vINiq2LfYqNmK2YIg2KfZhNi12YTYp9it2YrYp9iqINiv2YHYudipINmF2Lkg2K/YudmFINin2K7YqtmK2KfYsSDYudmG2KfYtdixINmF2LnZitmG2KkKICBhc3luYyBmdW5jdGlvbiBhcHBseUJhdGNoUGVybWlzc2lvbnMoKSB7CiAgICBjb25zdCB5ZWFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoWWVhclNlbGVjdCcpLnZhbHVlOwogICAgY29uc3QgdGVybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYXRjaFRlcm1TZWxlY3QnKS52YWx1ZTsKICAgIGNvbnN0IHN0YXR1c0VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoUGVybXNTdGF0dXMnKTsKICAgIGNvbnN0IGFwcGx5U2VsZWN0ZWRPbmx5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhdGNoQXBwbHlTZWxlY3RlZE9ubHknKS5jaGVja2VkOwoKICAgIHN0YXR1c0VsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgaWYgKCF5ZWFyIHx8ICF0ZXJtKSB7IHN0YXR1c0VsLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojYzAzOTJiIj7Yp9iu2KrYsSDYp9mE2LPZhtipINmI2KfZhNiq2LHZhSDYo9mI2YTYp9mLLjwvZGl2PmA7IHJldHVybjsgfQoKICAgIC8vINin2KzZhdi5INin2YTYp9iu2KrZitin2LHYp9iqCiAgICBjb25zdCBzZWxlY3RlZEV4YW1JZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYXRjaC1leGFtLWNoZWNrYm94OmNoZWNrZWQnKSkubWFwKGk9PmkudmFsdWUpOwogICAgY29uc3Qgc2VsZWN0ZWRTZWxmVGVzdElkcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJhdGNoLXNlbGZ0ZXN0LWNoZWNrYm94OmNoZWNrZWQnKSkubWFwKGk9PmkudmFsdWUpOwogICAgY29uc3Qgc2VsZWN0ZWRDb3Vyc2VJZHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYXRjaC1jb3Vyc2UtY2hlY2tib3g6Y2hlY2tlZCcpKS5tYXAoaT0+aS52YWx1ZSk7CgogICAgLy8g2KzZhdi5INi32YTYp9ioINmF2K3Yr9iv2YrZhiDYpdmGINmI2Y/YrNiv2YjYpwogICAgY29uc3Qgc2VsZWN0ZWRTdHVkZW50SWRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hTdHVkZW50c0xpc3QnKT8uc2VsZWN0ZWRPcHRpb25zIHx8IFtdKS5tYXAobz0+by52YWx1ZSk7CgogICAgaWYgKGFwcGx5U2VsZWN0ZWRPbmx5ICYmIHNlbGVjdGVkRXhhbUlkcy5sZW5ndGg9PT0wICYmIHNlbGVjdGVkU2VsZlRlc3RJZHMubGVuZ3RoPT09MCAmJiBzZWxlY3RlZENvdXJzZUlkcy5sZW5ndGg9PT0wKSB7CiAgICAgIHN0YXR1c0VsLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojYzAzOTJiIj7Yp9iu2KrYsSDYudmE2Ykg2KfZhNij2YLZhCDYp9iu2KrYqNin2LHYp9mLINij2Ygg2YjYp9is2KjYp9mLINij2Ygg2YXZgtix2LHZi9in2Iwg2KPZiCDZgtmFINio2KXZhNi62KfYoSDYqtmB2LnZitmEICLYqti32KjZitmCINmB2YLYtyDYudmE2Ykg2KfZhNi52YbYp9i12LEg2KfZhNmF2K3Yr9iv2KkiLjwvZGl2PmA7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0cnkgewogICAgICBzdGF0dXNFbC5pbm5lckhUTUwgPSAn2KzYp9ix2Yog2KzZhNioINin2YTYt9mE2KfYqC4uLic7CgogICAgICAvLyDYpdiw2Kcg2KfYrtiq2KfYsSDYp9mE2YXYudmE2YUg2LfZhNin2KjYp9mLINmF2K3Yr9iv2YrZhiDYp9iz2KrYrtiv2YXZh9mF2Iwg2YjYpdmE2Kcg2KzZhNioINmD2YQg2LfZhNin2Kgg2KfZhNiz2YbYqS/Yp9mE2KrYsdmFCiAgICAgIGxldCBzdHVkZW50c0RvY3MgPSBbXTsKICAgICAgaWYgKHNlbGVjdGVkU3R1ZGVudElkcy5sZW5ndGggPiAwKSB7CiAgICAgICAgLy8g2KzZhNioINmF2LPYqtmG2K/Yp9iqINin2YTYt9mE2KfYqCDYp9mE2YXYrdiv2K/ZitmGINio2YXYrNmF2YjYudin2KogKEZpcmVzdG9yZSAnaW4nINmK2K/YudmFINit2KrZiSAxMCkKICAgICAgICBmb3IgKGxldCBpPTA7aTxzZWxlY3RlZFN0dWRlbnRJZHMubGVuZ3RoO2krPTEwKSB7CiAgICAgICAgICBjb25zdCBjaHVuayA9IHNlbGVjdGVkU3R1ZGVudElkcy5zbGljZShpLGkrMTApOwogICAgICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykud2hlcmUoZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkUGF0aC5kb2N1bWVudElkKCksICdpbicsIGNodW5rKS5nZXQoKTsKICAgICAgICAgIHN0dWRlbnRzRG9jcyA9IHN0dWRlbnRzRG9jcy5jb25jYXQoc25hcC5kb2NzKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ3VzZXJzJykud2hlcmUoJ3JvbGUnLCc9PScsJ3N0dWRlbnQnKS53aGVyZSgneWVhcicsJz09Jyx5ZWFyKS53aGVyZSgndGVybScsJz09Jyx0ZXJtKS5nZXQoKTsKICAgICAgICBpZiAoc25hcC5lbXB0eSkgeyBzdGF0dXNFbC5pbm5lckhUTUwgPSBgPGRpdj7ZhNinINmK2YjYrNivINi32YTYp9ioINmE2YTYs9mG2Kkv2KfZhNiq2LHZhSDYp9mE2YXYrdiv2K/ZitmGLjwvZGl2PmA7IHJldHVybjsgfQogICAgICAgIHN0dWRlbnRzRG9jcyA9IHNuYXAuZG9jczsKICAgICAgfQoKICAgICAgLy8g2KXYsNinINmE2YUg2YrYrtiq2Y7YsSDYp9mE2YXYudmE2YUg2LnZhtin2LXYsSDZiCBhcHBseVNlbGVjdGVkT25seT1mYWxzZSA9PiDZhti52LfZiiDZg9mEINin2YTYudmG2KfYtdixINmF2YYg2YPZhCDYp9mE2YXYrNmF2YjYudin2KoKICAgICAgbGV0IGV4YW1zSWRzID0gc2VsZWN0ZWRFeGFtSWRzLnNsaWNlKCk7CiAgICAgIGxldCBzZWxmVGVzdHNJZHMgPSBzZWxlY3RlZFNlbGZUZXN0SWRzLnNsaWNlKCk7CiAgICAgIGxldCBjb3Vyc2VzSWRzID0gc2VsZWN0ZWRDb3Vyc2VJZHMuc2xpY2UoKTsKCiAgICAgIGlmICghYXBwbHlTZWxlY3RlZE9ubHkpIHsKICAgICAgICBzdGF0dXNFbC5pbm5lckhUTUwgPSAn2KzYp9ix2Yog2KzZhNioINmD2YQg2KfZhNi52YbYp9i12LEgKNin2K7Yqtio2KfYsdin2Kov2YjYp9is2KjYp9iqL9mF2YLYsdix2KfYqikuLi4nOwogICAgICAgIGNvbnN0IFtleGFtc1NuYXAsIHRlc3RzU25hcCwgY291cnNlc1NuYXBdID0gYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgICAgICAgZGIuY29sbGVjdGlvbignZXhhbXMnKS5nZXQoKSwKICAgICAgICAgIGRiLmNvbGxlY3Rpb24oJ3NlbGZUZXN0cycpLmdldCgpLAogICAgICAgICAgZGIuY29sbGVjdGlvbignc2xpZGVzJykuZ2V0KCkKICAgICAgICBdKTsKICAgICAgICBleGFtc0lkcyA9IGV4YW1zU25hcC5kb2NzLm1hcChkPT5kLmlkKTsKICAgICAgICBzZWxmVGVzdHNJZHMgPSB0ZXN0c1NuYXAuZG9jcy5tYXAoZD0+ZC5pZCk7CiAgICAgICAgY291cnNlc0lkcyA9IGNvdXJzZXNTbmFwLmRvY3MubWFwKGQ9PmQuaWQpOwogICAgICB9CgogICAgICBpZiAoZXhhbXNJZHMubGVuZ3RoPT09MCAmJiBzZWxmVGVzdHNJZHMubGVuZ3RoPT09MCAmJiBjb3Vyc2VzSWRzLmxlbmd0aD09PTApIHsKICAgICAgICBzdGF0dXNFbC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6I2MwMzkyYiI+2YTYpyDYqtmI2KzYryDYudmG2KfYtdixINmE2KrYt9io2YrZgtmH2KcuPC9kaXY+YDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vINiq2K3Yr9mK2Ksg2YPZhCDYt9in2YTYqCDYudio2LEgYmF0Y2ggKNin2K3Yqtix2LMg2YXZhiDYrdiv2YjYryDYp9mE2KjYp9iq2LQpCiAgICAgIHN0YXR1c0VsLmlubmVySFRNTCA9ICfYrNin2LHZiiDYqti32KjZitmCINin2YTYtdmE2KfYrdmK2KfYqiDYudmE2Ykg2KfZhNi32YTYp9ioLi4uJzsKICAgICAgbGV0IGJhdGNoID0gZGIuYmF0Y2goKTsKICAgICAgbGV0IG9wcyA9IDA7CiAgICAgIGxldCB1cGRhdGVkID0gMDsKICAgICAgZm9yIChjb25zdCBkb2Mgb2Ygc3R1ZGVudHNEb2NzKSB7CiAgICAgICAgY29uc3QgaWQgPSBkb2MuaWQ7CiAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCkgfHwge307CiAgICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHt9OwogICAgICAgIGlmIChleGFtc0lkcy5sZW5ndGgpIHVwZGF0ZURhdGEuYWxsb3dlZEV4YW1zID0gdW5pb25BcnJheXMoZGF0YS5hbGxvd2VkRXhhbXN8fFtdLCBleGFtc0lkcyk7CiAgICAgICAgaWYgKHNlbGZUZXN0c0lkcy5sZW5ndGgpIHVwZGF0ZURhdGEuYWxsb3dlZFNlbGZUZXN0cyA9IHVuaW9uQXJyYXlzKGRhdGEuYWxsb3dlZFNlbGZUZXN0c3x8W10sIHNlbGZUZXN0c0lkcyk7CiAgICAgICAgaWYgKGNvdXJzZXNJZHMubGVuZ3RoKSB1cGRhdGVEYXRhLmFsbG93ZWRDb3Vyc2VzID0gdW5pb25BcnJheXMoZGF0YS5hbGxvd2VkQ291cnNlc3x8W10sIGNvdXJzZXNJZHMpOwoKICAgICAgICBiYXRjaC5zZXQoZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2MoaWQpLCB1cGRhdGVEYXRhLCB7IG1lcmdlOiB0cnVlIH0pOwogICAgICAgIG9wcysrOyB1cGRhdGVkKys7CiAgICAgICAgaWYgKG9wcyA+PSA0NTApIHsgYXdhaXQgYmF0Y2guY29tbWl0KCk7IGJhdGNoID0gZGIuYmF0Y2goKTsgb3BzID0gMDsgfQogICAgICB9CiAgICAgIGlmIChvcHMgPiAwKSBhd2FpdCBiYXRjaC5jb21taXQoKTsKCiAgICAgIHN0YXR1c0VsLmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSJjb2xvcjojMTRlZTg4Ij7YqtmFINiq2LfYqNmK2YIg2KfZhNi12YTYp9it2YrYp9iqINi52YTZiSAke3VwZGF0ZWR9INi32KfZhNioINio2YbYrNin2K0uPC9kaXY+YDsKICAgICAgc2V0VGltZW91dCgoKT0+eyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hQZXJtaXNzaW9uc01vZGFsJykuc3R5bGUuZGlzcGxheT0nbm9uZSc7IHN0YXR1c0VsLnN0eWxlLmRpc3BsYXk9J25vbmUnOyB9LCAxMjAwKTsKICAgICAgc2hvd1RvYXN0KGDYqtmFINiq2LfYqNmK2YIg2KfZhNi12YTYp9it2YrYp9iqINi52YTZiSAke3VwZGF0ZWR9INi32KfZhNioLmAsICdzdWNjZXNzJyk7CiAgICAgIGxvYWRTdHVkZW50cygpOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgc3RhdHVzRWwuaW5uZXJIVE1MID0gYDxkaXYgc3R5bGU9ImNvbG9yOiNjMDM5MmIiPtit2K/YqyDYrti32KM6ICR7ZXJyLm1lc3NhZ2V9PC9kaXY+YDsKICAgIH0KICB9CgogIC8vINix2KjYtyDYudmG2K8g2KrYrdmF2YrZhCBET00g2YjZhdix2Kkg2LnZhtivINiq2K3Yr9mK2Ksg2YjYp9is2YfYqSDYp9mE2YXYudmE2YUv2LfZhNin2KgKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZW5zdXJlQmF0Y2hCdXR0b24pOwogIC8vINmB2Yog2K3Yp9mEINiq2YUg2KrYrdmF2YrZhCDZiNin2KzZh9ipINin2YTZhdi12KfYr9mC2Kkg2YTYp9it2YLYp9mLCiAgd2luZG93LmVuc3VyZUJhdGNoUGVybWlzc2lvbnNCdXR0b24gPSBlbnN1cmVCYXRjaEJ1dHRvbjsKfSkoKTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZnVuY3Rpb24gbG9hZFF1ZXN0aW9uQmFuayhwYWdlID0gMSkgewogIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDb250YWluZXIiKTsKICBjb250YWluZXIuaW5uZXJIVE1MID0gItis2KfYsdmKINin2YTYqtit2YXZitmELi4uIjsKICBjb25zdCBjYXRlZ29yeUVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5Iik7CiAgY29uc3QgY2F0ZWdvcnlJZCA9IGNhdGVnb3J5RWwgPyBjYXRlZ29yeUVsLnZhbHVlIDogIiI7CgogIC8vINit2YHYuCDYp9mE2KfYrtiq2YrYp9ixINi52KfZhNmF2YrYp9mLINmC2KjZhCDYo9mKINil2LnYp9iv2Kkg2KrYrdmF2YrZhCDZhNmE2LTYrNix2KkKICB3aW5kb3cuX3NlbGVjdGVkUXVlc3Rpb25CYW5rQ2F0ZWdvcnkgPSBjYXRlZ29yeUlkIHx8ICIiOwoKICBsZXQgcXVlcnkgPSBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKTsKICBpZiAoY2F0ZWdvcnlJZCAmJiBjYXRlZ29yeUlkICE9PSAiIikgewogICAgcXVlcnkgPSBxdWVyeS53aGVyZSgiY2F0ZWdvcnlJZCIsICI9PSIsIGNhdGVnb3J5SWQpOwogIH0KICBxdWVyeS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiYXNjIikuZ2V0KCkudGhlbihhc3luYyBzbmFwc2hvdCA9PiB7CiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICI8cD7ZhNinINmK2YjYrNivINij2LPYptmE2Kkg2YHZiiDZh9iw2Ycg2KfZhNmB2KbYqS48L3A+IjsKICAgICAgcmV0dXJuOwogICAgfQogICAgLy8g2YXYsdmR2LEg2KfZhNmB2KbYqSDYp9mE2K3Yp9mE2YrYqSDYudmG2K8g2LfZhNioINil2LnYp9iv2Kkg2KrYrdmF2YrZhCDYtNis2LHYqSDYp9mE2YHYptin2Kog2YTYttmF2KfZhiDYudiv2YUg2KXYudin2K/YqSDYp9mE2KfYrtiq2YrYp9ixCiAgICBpZiAoIXdpbmRvdy5xdWVzdGlvbkNhdGVnb3JpZXNDYWNoZSB8fCBPYmplY3Qua2V5cyh3aW5kb3cucXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGUpLmxlbmd0aCA9PT0gMCkgewogICAgICBhd2FpdCBsb2FkUXVlc3Rpb25CYW5rQ2F0ZWdvcmllc1RyZWUod2luZG93Ll9zZWxlY3RlZFF1ZXN0aW9uQmFua0NhdGVnb3J5LCAicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vINit2KrZiSDZhNmIINmD2KfZhtiqINin2YTZg9in2LQg2YXZiNis2YjYr9ip2Iwg2KPYudivINio2YbYp9ihINin2YTYtNis2LHYqSDZhNmD2YYg2YXYuSDYp9mE2YXYrdin2YHYuNipINi52YTZiSDYp9mE2KfYrtiq2YrYp9ixCiAgICAgIGF3YWl0IGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZSh3aW5kb3cuX3NlbGVjdGVkUXVlc3Rpb25CYW5rQ2F0ZWdvcnksICJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpOwogICAgfQoKICAgIGxldCBhbGxRdWVzdGlvbnMgPSBbXTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgYWxsUXVlc3Rpb25zLnB1c2goeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pOwogICAgfSk7CgogICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGgubWF4KDEsIE1hdGguY2VpbChhbGxRdWVzdGlvbnMubGVuZ3RoIC8gUVVFU1RJT05TX1BFUl9QQUdFKSk7CiAgICBjb25zdCBjdXJyZW50UGFnZSA9IE1hdGgubWF4KDEsIE1hdGgubWluKHBhZ2UsIHRvdGFsUGFnZXMpKTsKICAgIGNvbnN0IHN0YXJ0SWR4ID0gKGN1cnJlbnRQYWdlIC0gMSkgKiBRVUVTVElPTlNfUEVSX1BBR0U7CiAgICBjb25zdCBlbmRJZHggPSBzdGFydElkeCArIFFVRVNUSU9OU19QRVJfUEFHRTsKICAgIGNvbnN0IHBhZ2VRdWVzdGlvbnMgPSBhbGxRdWVzdGlvbnMuc2xpY2Uoc3RhcnRJZHgsIGVuZElkeCk7CgogICAgbGV0IHBhZ2luYXRpb25IdG1sID0gYAogICAgICA8ZGl2IGNsYXNzPSJwYWdpbmF0aW9uLWNvbnRhaW5lciIgc3R5bGU9Im1hcmdpbi1ib3R0b206MTJweDsiPgogICAgICAgIDxidXR0b24gY2xhc3M9InBhZ2luYXRpb24tYnRuIiBpZD0icHJldlF1ZXN0aW9uQmFua1BhZ2VCdG4iICR7Y3VycmVudFBhZ2UgPT09IDEgPyAiZGlzYWJsZWQiIDogIiJ9Ptin2YTYs9in2KjZgjwvYnV0dG9uPgogICAgICAgIDxzcGFuIGNsYXNzPSJwYWdpbmF0aW9uLWluZm8iPti12YHYrdipICR7Y3VycmVudFBhZ2V9INmF2YYgJHt0b3RhbFBhZ2VzfTwvc3Bhbj4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJwYWdpbmF0aW9uLWJ0biIgaWQ9Im5leHRRdWVzdGlvbkJhbmtQYWdlQnRuIiAke2N1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzID8gImRpc2FibGVkIiA6ICIifT7Yp9mE2KrYp9mE2Yo8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICBgOwoKICAgIGxldCBodG1sID0gcGFnaW5hdGlvbkh0bWw7CiAgICBodG1sICs9IGA8dGFibGUgY2xhc3M9J2dyYWRlcy10YWJsZSc+PHRoZWFkPjx0cj4KICAgICAgPHRoPtin2YTYs9ik2KfZhDwvdGg+CiAgICAgIDx0aD7Yp9mE2YHYptipPC90aD4KICAgICAgPHRoPtin2YTYrtmK2KfYsdin2Ko8L3RoPgogICAgICA8dGg+2KfZhNi12K3ZititPC90aD4KICAgICAgPHRoPti12YjYsdipPC90aD4KICAgICAgPHRoPtil2KzYsdin2KHYp9iqPC90aD4KICAgIDwvdHI+PC90aGVhZD48dGJvZHk+YDsKICAgIHBhZ2VRdWVzdGlvbnMuZm9yRWFjaChxID0+IHsKICAgICAgbGV0IGNhdGVnb3J5TmFtZSA9ICIiOwogICAgICBpZiAocS5jYXRlZ29yeUlkICYmIHdpbmRvdy5xdWVzdGlvbkNhdGVnb3JpZXNDYWNoZSkgewogICAgICAgIGNhdGVnb3J5TmFtZSA9IHdpbmRvdy5xdWVzdGlvbkNhdGVnb3JpZXNDYWNoZVtxLmNhdGVnb3J5SWRdIHx8ICIiOwogICAgICB9CiAgICAgIGh0bWwgKz0gYDx0cj4KICAgICAgICA8dGQ+JHtxLnRleHQgfHwgIiJ9PC90ZD4KICAgICAgICA8dGQ+JHtjYXRlZ29yeU5hbWV9PC90ZD4KICAgICAgICA8dGQ+JHtxLm9wdGlvbnM/Lm1hcChvcHQgPT4gb3B0LnRleHQpLmpvaW4oIjxicj4iKSB8fCAiIn08L3RkPgogICAgICAgIDx0ZD4ke3R5cGVvZiBxLmNvcnJlY3RBbnN3ZXIgPT09ICJudW1iZXIiICYmIHEub3B0aW9ucyAmJiBxLm9wdGlvbnNbcS5jb3JyZWN0QW5zd2VyXSA/IHEub3B0aW9uc1txLmNvcnJlY3RBbnN3ZXJdLnRleHQgOiAiIn08L3RkPgogICAgICAgIDx0ZD4ke3EuaW1hZ2VVcmwgPyBgPGltZyBzcmM9IiR7cS5pbWFnZVVybH0iIGNsYXNzPSJxdWVzdGlvbi1iYW5rLWltZyIgc3R5bGU9Im1heC13aWR0aDo2MHB4O21heC1oZWlnaHQ6NjBweDtib3JkZXItcmFkaXVzOjZweDtjdXJzb3I6em9vbS1pbjsiPmAgOiAiIn08L3RkPgogICAgICAgIDx0ZD4KICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgb25jbGljaz0iZWRpdEJhbmtRdWVzdGlvbignJHtxLmlkfScpIj48aSBjbGFzcz0iZmFzIGZhLWVkaXQiPjwvaT48L2J1dHRvbj4KICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZGFuZ2VyIiBvbmNsaWNrPSJkZWxldGVCYW5rUXVlc3Rpb24oJyR7cS5pZH0nKSI+PGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPjwvYnV0dG9uPgogICAgICAgIDwvdGQ+CiAgICAgIDwvdHI+YDsKICAgIH0pOwogICAgaHRtbCArPSAiPC90Ym9keT48L3RhYmxlPiI7CiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDsKCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJldlF1ZXN0aW9uQmFua1BhZ2VCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICBsb2FkUXVlc3Rpb25CYW5rKGN1cnJlbnRQYWdlIC0gMSk7CiAgICB9OwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5leHRRdWVzdGlvbkJhbmtQYWdlQnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgbG9hZFF1ZXN0aW9uQmFuayhjdXJyZW50UGFnZSArIDEpOwogICAgfTsKCiAgICAvLyDYp9iz2KrYr9i52KfYoSDYqtmD2KjZitixINin2YTYtdmI2LEg2KjYudivINix2LPZhSDYp9mE2KzYr9mI2YQKICAgIGVuYWJsZVF1ZXN0aW9uQmFua0ltYWdlWm9vbSgpOwogIH0pLmNhdGNoKGVycm9yID0+IHsKICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgPHAgc3R5bGU9ImNvbG9yOnJlZDsiPtit2K/YqyDYrti32KM6ICR7ZXJyb3IubWVzc2FnZX08L3A+YDsKICB9KTsKfQovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYo9i22YEg2KfZhNiv2KfZhNiq2YrZhiDYp9mE2KrYp9mE2YrYqtmK2YYg2YXYsdipINmI2KfYrdiv2Kkg2YHZgti3INmB2Yog2YXZhNmB2YMgKNil2YYg2YTZhSDYqtmD2YYg2YXZiNis2YjYr9ipKToKCmZ1bmN0aW9uIHNob3dJbWFnZU1vZGFsKHNyYykgewogIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkltYWdlTW9kYWwiKTsKICBpZiAobW9kYWwpIG1vZGFsLnJlbW92ZSgpOwoKICBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIG1vZGFsLmlkID0gInF1ZXN0aW9uSW1hZ2VNb2RhbCI7CiAgbW9kYWwuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwogIG1vZGFsLnN0eWxlLnRvcCA9ICIwIjsKICBtb2RhbC5zdHlsZS5sZWZ0ID0gIjAiOwogIG1vZGFsLnN0eWxlLndpZHRoID0gIjEwMHZ3IjsKICBtb2RhbC5zdHlsZS5oZWlnaHQgPSAiMTAwdmgiOwogIG1vZGFsLnN0eWxlLmJhY2tncm91bmQgPSAicmdiYSgwLDAsMCwwLjcpIjsKICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIG1vZGFsLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gImNlbnRlciI7CiAgbW9kYWwuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogIG1vZGFsLnN0eWxlLnpJbmRleCA9ICI5OTk5OSI7CiAgbW9kYWwuaW5uZXJIVE1MID0gYAogICAgPGRpdiBzdHlsZT0icG9zaXRpb246cmVsYXRpdmU7bWF4LXdpZHRoOjk1dnc7bWF4LWhlaWdodDo5MHZoOyI+CiAgICAgIDxpbWcgc3JjPSIke3NyY30iIHN0eWxlPSJtYXgtd2lkdGg6OTV2dzttYXgtaGVpZ2h0Ojkwdmg7Ym9yZGVyLXJhZGl1czoxNnB4O2JveC1zaGFkb3c6MCA0cHggMzJweCAjMDAwYTsiPgogICAgICA8YnV0dG9uIGlkPSJjbG9zZUltYWdlTW9kYWxCdG4iIHN0eWxlPSIKICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTE4cHg7bGVmdDotMThweDsKICAgICAgICBiYWNrZ3JvdW5kOiNmYzVjNjU7Y29sb3I6I2ZmZjtib3JkZXI6bm9uZTsKICAgICAgICBib3JkZXItcmFkaXVzOjUwJTt3aWR0aDozOHB4O2hlaWdodDozOHB4OwogICAgICAgIGZvbnQtc2l6ZToxLjVyZW07Y3Vyc29yOnBvaW50ZXI7Ym94LXNoYWRvdzowIDJweCA4cHggIzAwMDU7CiAgICAgICAgZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOwogICAgICAiIHRpdGxlPSLYpdi62YTYp9mCIj4mdGltZXM7PC9idXR0b24+CiAgICA8L2Rpdj4KICBgOwogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobW9kYWwpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjbG9zZUltYWdlTW9kYWxCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgICBtb2RhbC5yZW1vdmUoKTsKICB9OwogIG1vZGFsLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7CiAgICBpZiAoZS50YXJnZXQgPT09IG1vZGFsKSBtb2RhbC5yZW1vdmUoKTsKICB9Owp9CgpmdW5jdGlvbiBlbmFibGVRdWVzdGlvbkJhbmtJbWFnZVpvb20oKSB7CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiI3F1ZXN0aW9uQmFua0NvbnRhaW5lciBpbWcucXVlc3Rpb24tYmFuay1pbWciKS5mb3JFYWNoKGltZyA9PiB7CiAgICBpbWcuc3R5bGUuY3Vyc29yID0gInpvb20taW4iOwogICAgaW1nLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7CiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIHNob3dJbWFnZU1vZGFsKHRoaXMuc3JjKTsKICAgIH07CiAgfSk7Cn0KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYrdiw2YEg2LPYpNin2YQg2YXZhiDYqNmG2YMg2KfZhNij2LPYptmE2KkKd2luZG93LmRlbGV0ZUJhbmtRdWVzdGlvbiA9IGZ1bmN0aW9uKGlkKSB7CiAgaWYgKGNvbmZpcm0oItmH2YQg2KrYsdmK2K8g2K3YsNmBINmH2LDYpyDYp9mE2LPYpNin2YTYnyIpKSB7CiAgICBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS5kb2MoaWQpLmRlbGV0ZSgpLnRoZW4obG9hZFF1ZXN0aW9uQmFuayk7CiAgfQp9OwovLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFF1ZXN0aW9uQmFua01vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAvLyDYp9it2LDZgSDYo9mIINin2K7ZgdmQINi02KzYsdipINin2YTZgdim2KfYqiDZgdmKINmG2KfZgdiw2Kkg2KfZhNil2LbYp9mB2KkKICBjb25zdCB0cmVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3JpZXNUcmVlQ29udGFpbmVyIik7CiAgaWYgKHRyZWUpIHsKICAgIC8vINil2YXYpyDYpdiy2KfZhNipINin2YTYudmG2LXYsSDZhdmGIERPTToKICAgIC8vIHRyZWUucmVtb3ZlKCk7CiAgICAvLyDYo9mIINil2K7Zgdin2KTZhyDZgdmC2Lc6CiAgICB0cmVlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfQogIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZSgiIiwgInF1ZXN0aW9uQmFua0NhdGVnb3J5QWRkIik7Cn07Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KrYudiv2YrZhCDYs9ik2KfZhCAo2YbYp9mB2LDYqSDZhdio2LPYt9ipKQp3aW5kb3cuZWRpdEJhbmtRdWVzdGlvbiA9IGZ1bmN0aW9uKGlkKSB7CiAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikuZG9jKGlkKS5nZXQoKS50aGVuKGRvYyA9PiB7CiAgICBpZiAoIWRvYy5leGlzdHMpIHJldHVybjsKICAgIGNvbnN0IHEgPSBkb2MuZGF0YSgpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFF1ZXN0aW9uQmFua01vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtUZXh0IikudmFsdWUgPSBxLnRleHQ7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3B0aW9uMSIpLnZhbHVlID0gcS5vcHRpb25zWzBdPy50ZXh0IHx8ICIiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjIiKS52YWx1ZSA9IHEub3B0aW9uc1sxXT8udGV4dCB8fCAiIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb24zIikudmFsdWUgPSBxLm9wdGlvbnNbMl0/LnRleHQgfHwgIiI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3B0aW9uNCIpLnZhbHVlID0gcS5vcHRpb25zWzNdPy50ZXh0IHx8ICIiOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvcnJlY3RPcHRpb24iKS52YWx1ZSA9IChxLmNvcnJlY3RBbnN3ZXIgfHwgMCkgKyAxOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0ltYWdlVXJsIikudmFsdWUgPSBxLmltYWdlVXJsIHx8ICIiOwogICAgLy8g2K3ZhCDZhdi02YPZhNipINiq2YPYsdin2LEg2KfZhNmB2KbYp9iqOiDYqtmB2LHZiti6INin2YTZgtin2KbZhdipINmC2KjZhCDYqti52KjYptiq2YfYpwogICAgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKHEuY2F0ZWdvcnlJZCwgInF1ZXN0aW9uQmFua0NhdGVnb3J5QWRkIik7CiAgICAvLyDYudmG2K8g2KfZhNit2YHYuNiMINit2K/YqyDYqNiv2YTYp9mLINmF2YYg2KXYttin2YHYqSDYrNiv2YrYrwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFF1ZXN0aW9uQmFua0Zvcm0iKS5vbnN1Ym1pdCA9IGZ1bmN0aW9uKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua1RleHQiKS52YWx1ZS50cmltKCk7CiAgICAgIGNvbnN0IG9wdGlvbnMgPSBbCiAgICAgICAgeyB0ZXh0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3B0aW9uMSIpLnZhbHVlLnRyaW0oKSB9LAogICAgICAgIHsgdGV4dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjIiKS52YWx1ZS50cmltKCkgfQogICAgICBdOwogICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjMiKS52YWx1ZS50cmltKCkpIG9wdGlvbnMucHVzaCh7IHRleHQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb24zIikudmFsdWUudHJpbSgpIH0pOwogICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9wdGlvbjQiKS52YWx1ZS50cmltKCkpIG9wdGlvbnMucHVzaCh7IHRleHQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvcHRpb240IikudmFsdWUudHJpbSgpIH0pOwogICAgICBjb25zdCBjb3JyZWN0QW5zd2VyID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvcnJlY3RPcHRpb24iKS52YWx1ZSkgLSAxOwogICAgICBjb25zdCBpbWFnZVVybCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtJbWFnZVVybCIpLnZhbHVlLnRyaW0oKTsKICAgICAgY29uc3QgY2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeUFkZCIpLnZhbHVlIHx8IG51bGw7CiAgICAgIGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLmRvYyhpZCkudXBkYXRlKHsKICAgICAgICB0ZXh0LCBvcHRpb25zLCBjb3JyZWN0QW5zd2VyLCBpbWFnZVVybCwgY2F0ZWdvcnlJZAogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkUXVlc3Rpb25CYW5rTW9kYWwiKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtGb3JtIikucmVzZXQoKTsKICAgICAgICBsb2FkUXVlc3Rpb25CYW5rKCk7CiAgICAgICAgc2hvd1RvYXN0KCLYqtmFINiq2K3Yr9mK2Ksg2KfZhNiz2KTYp9mEISIsICJzdWNjZXNzIik7CiAgICAgICAgLy8g2KPYudivINix2KjYtyBvbnN1Ym1pdCDZhNmE2KXYttin2YHYqSDYp9mE2LnYp9iv2YrYqQogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtGb3JtIikub25zdWJtaXQgPSBkZWZhdWx0QWRkUXVlc3Rpb25CYW5rRm9ybUhhbmRsZXI7CiAgICAgIH0pOwogICAgfTsKICB9KTsKfTsKLy8g2KXYudin2K/YqSBvbnN1Ym1pdCDYp9mE2KfZgdiq2LHYp9i22Yog2KjYudivINin2YTYqti52K/ZitmECmNvbnN0IGRlZmF1bHRBZGRRdWVzdGlvbkJhbmtGb3JtSGFuZGxlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtGb3JtIikub25zdWJtaXQ7CgovLyAtLS0g2KfYs9iq2YrYsdin2K8g2KPYs9im2YTYqSDZhdmGINio2YbZgyDYp9mE2KPYs9im2YTYqSDZgdmKINi12YHYrdipINil2YbYtNin2KEg2KfYrtiq2KjYp9ixIC0tLQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1wb3J0RnJvbVF1ZXN0aW9uQmFua0J0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICB3aW5kb3cuX2ltcG9ydFRhcmdldENvbnRhaW5lcklkID0gInF1ZXN0aW9uc0NvbnRhaW5lciI7CiAgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKCIiLCAiaW1wb3J0QmFua0NhdGVnb3J5Iik7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydFF1ZXN0aW9uc01vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICBsb2FkSW1wb3J0UXVlc3Rpb25zTGlzdCgpOwp9OwovLyDYudmG2K8g2KrYutmK2YrYsSDYp9mE2YHYptipINmB2Yog2YbYp9mB2LDYqSDYp9mE2KfYs9iq2YrYsdin2K8KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImltcG9ydEJhbmtDYXRlZ29yeSIpLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKCkgewogIGxvYWRJbXBvcnRRdWVzdGlvbnNMaXN0KDEpOwp9KTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKbGV0IGltcG9ydFF1ZXN0aW9uc1BhZ2UgPSAxOwpjb25zdCBRVUVTVElPTlNfUEVSX1BBR0UgPSAxMDsKbGV0IGltcG9ydFF1ZXN0aW9uc0FsbERvY3MgPSBbXTsgLy8g2YTYqtiu2LLZitmGINmD2YQg2KfZhNij2LPYptmE2KkKCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYp9iz2KrYqNiv2YQg2K/Yp9mE2KkgbG9hZEltcG9ydFF1ZXN0aW9uc0xpc3Qg2KjZh9iw2Kcg2KfZhNmD2YjYryDZhNil2LXZhNin2K0g2YXYtNmD2YTYqSAi2KzYp9ix2Yog2KfZhNiq2K3ZhdmK2YQuLi4iINi52YbYryDYp9iu2KrZitin2LEg2KfZhNmB2KbYqSDZgdmKINmG2KfZgdiw2Kkg2KfZhNin2LPYqtmK2LHYp9ivCgpmdW5jdGlvbiBsb2FkSW1wb3J0UXVlc3Rpb25zTGlzdChwYWdlID0gMSkgewogIGltcG9ydFF1ZXN0aW9uc1BhZ2UgPSBwYWdlOwogIGNvbnN0IGNhdGVnb3J5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1wb3J0QmFua0NhdGVnb3J5IikudmFsdWU7CiAgbGV0IHF1ZXJ5ID0gZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImFzYyIpOyAvLyDYqtix2KrZitioINmF2YYg2KfZhNij2LnZhNmJINmE2YTYo9iz2YHZhAogIGlmIChjYXRlZ29yeUlkICYmIGNhdGVnb3J5SWQgIT09ICIiKSBxdWVyeSA9IHF1ZXJ5LndoZXJlKCJjYXRlZ29yeUlkIiwgIj09IiwgY2F0ZWdvcnlJZCk7CiAgY29uc3QgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbXBvcnRRdWVzdGlvbnNMaXN0Iik7CiAgbGlzdC5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMHB4OyI+CiAgICAgIDxsYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJzZWxlY3RBbGxJbXBvcnRRdWVzdGlvbnMiPgogICAgICAgINiq2K3Yr9mK2K8g2KfZhNmD2YQKICAgICAgPC9sYWJlbD4KICAgIDwvZGl2PgogICAg2KzYp9ix2Yog2KfZhNiq2K3ZhdmK2YQuLi5gOwoKICAvLyDYp9iz2KrYrtiv2YUgZ2V0KCkudGhlbiDYqNiv2YTYp9mLINmF2YYgb25TbmFwc2hvdCAo2YTYo9mGIG9uU25hcHNob3Qg2YTYpyDZiti52YXZhCDZhdi5IHdoZXJlK29yZGVyQnkg2KPYrdmK2KfZhtin2YspCiAgcXVlcnkuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7CiAgICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgICAgbGlzdC5pbm5lckhUTUwgPSAiPHA+2YTYpyDZitmI2KzYryDYo9iz2KbZhNipINmB2Yog2YfYsNmHINin2YTZgdim2KkuPC9wPiI7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGltcG9ydFF1ZXN0aW9uc0FsbERvY3MgPSBbXTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsKICAgICAgaW1wb3J0UXVlc3Rpb25zQWxsRG9jcy5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KTsKICAgIH0pOwoKICAgIC8vINit2LPYp9ioINin2YTYtdmB2K3Yp9iqCiAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKGltcG9ydFF1ZXN0aW9uc0FsbERvY3MubGVuZ3RoIC8gUVVFU1RJT05TX1BFUl9QQUdFKTsKICAgIGNvbnN0IHN0YXJ0SWR4ID0gKGltcG9ydFF1ZXN0aW9uc1BhZ2UgLSAxKSAqIFFVRVNUSU9OU19QRVJfUEFHRTsKICAgIGNvbnN0IGVuZElkeCA9IHN0YXJ0SWR4ICsgUVVFU1RJT05TX1BFUl9QQUdFOwogICAgY29uc3QgcGFnZVF1ZXN0aW9ucyA9IGltcG9ydFF1ZXN0aW9uc0FsbERvY3Muc2xpY2Uoc3RhcnRJZHgsIGVuZElkeCk7CgogICAgbGV0IGh0bWwgPSBgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMHB4OyI+CiAgICAgPGxhYmVsPgogICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0ic2VsZWN0QWxsSW1wb3J0UXVlc3Rpb25zIj4KICAgINiq2K3Yr9mK2K8g2KfZhNmD2YQKICA8L2xhYmVsPgo8L2Rpdj4KPHRhYmxlIGNsYXNzPSJncmFkZXMtdGFibGUiPgogIDx0aGVhZD4KICAgIDx0cj4KICAgICAgPHRoPjwvdGg+CiAgICAgIDx0aD7Yp9mE2LPYpNin2YQ8L3RoPgogICAgICA8dGg+2KfZhNiu2YrYp9ix2KfYqjwvdGg+CiAgICAgIDx0aD7Yp9mE2LXYrdmK2K08L3RoPgogICAgICA8dGg+2LXZiNix2Kk8L3RoPiA8IS0tINij2LbZgSDZh9iw2Kcg2KfZhNiz2LfYsSAtLT4KICAgIDwvdHI+CiAgPC90aGVhZD4KICA8dGJvZHk+YDsKCnBhZ2VRdWVzdGlvbnMuZm9yRWFjaChxID0+IHsKICBodG1sICs9IGA8dHIgY2xhc3M9ImltcG9ydC1xdWVzdGlvbi1yb3ciIGRhdGEtcWlkPSIke3EuaWR9IiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7Ij4KICAgIDx0ZD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJpbXBvcnQtcXVlc3Rpb24tY2hlY2tib3giIHZhbHVlPSIke3EuaWR9Ij48L3RkPgogICAgPHRkPiR7cS50ZXh0fTwvdGQ+CiAgICA8dGQ+JHtxLm9wdGlvbnMubWFwKChvLGkpPT5gJHtpKzF9LSAke28udGV4dH1gKS5qb2luKCI8YnI+Iil9PC90ZD4KICAgIDx0ZD4ke3Eub3B0aW9uc1txLmNvcnJlY3RBbnN3ZXJdPy50ZXh0IHx8ICIifTwvdGQ+CiAgICA8dGQ+CiAgICAgICR7cS5pbWFnZVVybCA/IGA8aW1nIHNyYz0iJHtxLmltYWdlVXJsfSIgc3R5bGU9Im1heC13aWR0aDo2MHB4O21heC1oZWlnaHQ6NDBweDtib3JkZXItcmFkaXVzOjZweDtib3gtc2hhZG93OjAgMnB4IDhweCAjMGE3MGZmMjI7Ij5gIDogIiJ9CiAgICA8L3RkPgogIDwvdHI+YDsKfSk7CgpodG1sICs9ICI8L3Rib2R5PjwvdGFibGU+IjsKCiAgICAvLyDYo9iy2LHYp9ixINin2YTYqtmG2YLZhCDYqNmK2YYg2KfZhNi12YHYrdin2KoKICAgIGh0bWwgKz0gYDxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyO21hcmdpbi10b3A6MTVweDsiPmA7CiAgICBpZiAoaW1wb3J0UXVlc3Rpb25zUGFnZSA+IDEpIHsKICAgICAgaHRtbCArPSBgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0icHJldkltcG9ydFF1ZXN0aW9uc1BhZ2VCdG4iIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4OyI+2KfZhNiz2KfYqNmCPC9idXR0b24+YDsKICAgIH0KICAgIGh0bWwgKz0gYDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDpib2xkOyI+2LXZgdit2KkgJHtpbXBvcnRRdWVzdGlvbnNQYWdlfSDZhdmGICR7dG90YWxQYWdlc308L3NwYW4+YDsKICAgIGlmIChpbXBvcnRRdWVzdGlvbnNQYWdlIDwgdG90YWxQYWdlcykgewogICAgICBodG1sICs9IGA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIGlkPSJuZXh0SW1wb3J0UXVlc3Rpb25zUGFnZUJ0biIgc3R5bGU9Im1hcmdpbi1yaWdodDoxMHB4OyI+2KfZhNiq2KfZhNmKPC9idXR0b24+YDsKICAgIH0KICAgIGh0bWwgKz0gYDwvZGl2PmA7CgogICAgbGlzdC5pbm5lckhUTUwgPSBodG1sOwoKICAgIC8vINix2KjYtyDYp9mE2KPYrdiv2KfYqwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmltcG9ydC1xdWVzdGlvbi1yb3ciKS5mb3JFYWNoKHJvdyA9PiB7CiAgICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJpbXBvcnQtcXVlc3Rpb24tY2hlY2tib3giKSkgcmV0dXJuOwogICAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCIuaW1wb3J0LXF1ZXN0aW9uLWNoZWNrYm94Iik7CiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9ICFjaGVja2JveC5jaGVja2VkOwogICAgICAgIGNvbnN0IGFsbENoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuaW1wb3J0LXF1ZXN0aW9uLWNoZWNrYm94Iik7CiAgICAgICAgY29uc3Qgc2VsZWN0QWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGVjdEFsbEltcG9ydFF1ZXN0aW9ucyIpOwogICAgICAgIGlmIChzZWxlY3RBbGwpIHsKICAgICAgICAgIHNlbGVjdEFsbC5jaGVja2VkID0gQXJyYXkuZnJvbShhbGxDaGVja2JveGVzKS5ldmVyeShjYiA9PiBjYi5jaGVja2VkKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICBjb25zdCBzZWxlY3RBbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2VsZWN0QWxsSW1wb3J0UXVlc3Rpb25zIik7CiAgICBpZiAoc2VsZWN0QWxsKSB7CiAgICAgIHNlbGVjdEFsbC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuaW1wb3J0LXF1ZXN0aW9uLWNoZWNrYm94IikuZm9yRWFjaChjYiA9PiB7CiAgICAgICAgICBjYi5jaGVja2VkID0gc2VsZWN0QWxsLmNoZWNrZWQ7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2SW1wb3J0UXVlc3Rpb25zUGFnZUJ0biIpKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwcmV2SW1wb3J0UXVlc3Rpb25zUGFnZUJ0biIpLm9uY2xpY2sgPSAoKSA9PiBsb2FkSW1wb3J0UXVlc3Rpb25zTGlzdChpbXBvcnRRdWVzdGlvbnNQYWdlIC0gMSk7CiAgICB9CiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5leHRJbXBvcnRRdWVzdGlvbnNQYWdlQnRuIikpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5leHRJbXBvcnRRdWVzdGlvbnNQYWdlQnRuIikub25jbGljayA9ICgpID0+IGxvYWRJbXBvcnRRdWVzdGlvbnNMaXN0KGltcG9ydFF1ZXN0aW9uc1BhZ2UgKyAxKTsKICAgIH0KICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICBsaXN0LmlubmVySFRNTCA9IGA8cCBzdHlsZT0iY29sb3I6cmVkOyI+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2K3ZhdmK2YQg2KfZhNij2LPYptmE2Kk6ICR7ZXJyb3IubWVzc2FnZX08L3A+YDsKICB9KTsKfQoKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYudmG2K8g2KfZhNi22LrYtyDYudmE2Ykg2LLYsSDYpdi22KfZgdipINmE2YTYo9iz2KbZhNipINin2YTZhdiu2KrYp9ix2KkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LnZhtivINin2YTYtti62Lcg2LnZhNmJINiy2LEg2KXYttin2YHYqSDZhNmE2KPYs9im2YTYqSDYp9mE2YXYrtiq2KfYsdipCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFNlbGVjdGVkUXVlc3Rpb25zQnRuIikub25jbGljayA9IGZ1bmN0aW9uKCkgewogIGNvbnN0IGNoZWNrZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5pbXBvcnQtcXVlc3Rpb24tY2hlY2tib3g6Y2hlY2tlZCIpKS5tYXAoY2IgPT4gY2IudmFsdWUpOwogIGlmIChjaGVja2VkLmxlbmd0aCA9PT0gMCkgewogICAgc2hvd1RvYXN0KCLYp9iu2KrYsSDYs9ik2KfZhNin2Ysg2YjYp9it2K/Yp9mLINi52YTZiSDYp9mE2KPZgtmELiIsICJlcnJvciIpOwogICAgcmV0dXJuOwogIH0KICAvLyDYqtmC2LPZitmFINin2YTZgCBJRHMg2KXZhNmJINmF2KzZhdmI2LnYp9iqINmF2YYgMTAgKEZpcmVzdG9yZSBpbiDZitiv2LnZhSAxMCDZgdmC2Lcg2YHZiiDZg9mEINin2LPYqti52YTYp9mFKQogIGNvbnN0IGNodW5rU2l6ZSA9IDEwOwogIGNvbnN0IGNodW5rcyA9IFtdOwogIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tlZC5sZW5ndGg7IGkgKz0gY2h1bmtTaXplKSB7CiAgICBjaHVua3MucHVzaChjaGVja2VkLnNsaWNlKGksIGkgKyBjaHVua1NpemUpKTsKICB9CiAgLy8g2KfYs9iq2K7Yr9mFINin2YTYrdin2YjZitipINin2YTZhdiz2KrZh9iv2YHYqSDYrdiz2Kgg2KfZhNi12YHYrdipCiAgY29uc3QgY29udGFpbmVySWQgPSB3aW5kb3cuX2ltcG9ydFRhcmdldENvbnRhaW5lcklkIHx8ICJxdWVzdGlvbnNDb250YWluZXIiOwogIGNvbnN0IHF1ZXN0aW9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcklkKTsKICBsZXQgYWxsUXVlc3Rpb25zID0gW107CiAgbGV0IHByb21pc2VzID0gY2h1bmtzLm1hcChjaHVuayA9PgogICAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikKICAgICAgLndoZXJlKGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFBhdGguZG9jdW1lbnRJZCgpLCAiaW4iLCBjaHVuaykKICAgICAgLmdldCgpCiAgICAgIC50aGVuKHNuYXBzaG90ID0+IHsKICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICBhbGxRdWVzdGlvbnMucHVzaChkb2MuZGF0YSgpKTsKICAgICAgICB9KTsKICAgICAgfSkKICApOwogIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKCgpID0+IHsKICAgIC8vINij2LbZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYp9mE2YXYs9iq2YjYsdiv2Kkg2YXYuSDYp9mE2KrYsdmC2YrZhSDYp9mE2LXYrdmK2K0KICAgIGFsbFF1ZXN0aW9ucy5mb3JFYWNoKChxLCBpZHgpID0+IHsKICAgICAgY29uc3QgcXVlc3Rpb25JZCA9IERhdGUubm93KCkgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7CiAgICAgIGNvbnN0IHF1ZXN0aW9uTnVtYmVyID0gcXVlc3Rpb25zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi5xdWVzdGlvbi1jb250YWluZXIiKS5sZW5ndGggKyAxOwogICAgICBjb25zdCBxdWVzdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgcXVlc3Rpb25FbGVtZW50LmNsYXNzTmFtZSA9ICJxdWVzdGlvbi1jb250YWluZXIgaW1wb3J0ZWQtcXVlc3Rpb24tbGlnaHQiOwogICAgICBxdWVzdGlvbkVsZW1lbnQuaWQgPSAicXVlc3Rpb24tIiArIHF1ZXN0aW9uSWQ7CiAgICAgIHF1ZXN0aW9uRWxlbWVudC5pbm5lckhUTUwgPSBgCiAgICAgICAgPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMGE3MGZmO2ZvbnQtc2l6ZToxLjFyZW07bWFyZ2luLWJvdHRvbTo4cHg7Ij7Ys9ik2KfZhCDYsdmC2YUgJHtxdWVzdGlvbk51bWJlcn08L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgc3R5bGU9ImNvbG9yOiMyMjI7Zm9udC1zaXplOjEuMXJlbTsiPjxpIGNsYXNzPSJmYXMgZmEtcXVlc3Rpb24tY2lyY2xlIj48L2k+INmG2LUg2KfZhNiz2KTYp9mEPC9sYWJlbD4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLXRleHQiIHZhbHVlPSIke3EudGV4dH0iIHJlcXVpcmVkPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBzdHlsZT0iY29sb3I6IzIyMjsiPtix2KfYqNi3INin2YTYtdmI2LHYqSAo2KfYrtiq2YrYp9ix2YopPC9sYWJlbD4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIHF1ZXN0aW9uLWltYWdlLXVybCIgdmFsdWU9IiR7cS5pbWFnZVVybCB8fCAnJ30iIHBsYWNlaG9sZGVyPSLYo9iv2K7ZhCDYsdin2KjYtyDYp9mE2LXZiNix2KkiPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBzdHlsZT0iY29sb3I6IzIyMjsiPtiu2YrYp9ix2KfYqiDYp9mE2KXYrNin2KjYqTwvbGFiZWw+CiAgICAgICAgICA8ZGl2IGlkPSJvcHRpb25zLSR7cXVlc3Rpb25JZH0iPgogICAgICAgICAgICAke3Eub3B0aW9ucy5tYXAoKG9wdGlvbiwgb3B0aW9uSW5kZXgpID0+IGAKICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJvcHRpb24taXRlbSBvcHRpb24taXRlbS1saWdodCI+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9ImNvcnJlY3QtJHtxdWVzdGlvbklkfSIgdmFsdWU9IiR7b3B0aW9uSW5kZXh9IiAke3EuY29ycmVjdEFuc3dlciA9PT0gb3B0aW9uSW5kZXggPyAiY2hlY2tlZCIgOiAiIn0gcmVxdWlyZWQ+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBvcHRpb24tdGV4dCIgdmFsdWU9IiR7b3B0aW9uLnRleHR9IiByZXF1aXJlZD4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYCkuam9pbignJyl9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYWRkLWJ0biIgb25jbGljaz0iYWRkT3B0aW9uKCcke3F1ZXN0aW9uSWR9JykiPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXBsdXMiPjwvaT4g2KXYttin2YHYqSDYrtmK2KfYsQogICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9InJlbW92ZS1idG4iIG9uY2xpY2s9InJlbW92ZVF1ZXN0aW9uKCcke3F1ZXN0aW9uSWR9JykiPgogICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRyYXNoIj48L2k+INit2LDZgSDYp9mE2LPYpNin2YQKICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICBgOwogICAgICBxdWVzdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQocXVlc3Rpb25FbGVtZW50KTsKICAgICAgZW5hYmxlSW1hZ2VQYXN0ZU9uVXJsRmllbGRzKCk7CiAgICB9KTsKICAgIC8vINil2LnYp9iv2Kkg2KrYsdmC2YrZhSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYqNi52K8g2KfZhNil2LbYp9mB2KkKICAgIHVwZGF0ZVF1ZXN0aW9uc051bWJlcnMoKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbXBvcnRRdWVzdGlvbnNNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBzaG93VG9hc3QoItiq2YUg2KfYs9iq2YrYsdin2K8g2KfZhNij2LPYptmE2Kkg2KjZhtis2KfYrSEiLCAic3VjY2VzcyIpOwogIH0pOwp9OwoKLy8g2K/Yp9mE2Kkg2KXYudin2K/YqSDYp9mE2KrYsdmC2YrZhSAo2KrYo9mD2K8g2KPZhtmH2Kcg2YXZiNis2YjYr9ipINmF2LHYqSDZiNin2K3Yr9ipINmB2YLYtyDZgdmKINmF2YTZgdmDKQpmdW5jdGlvbiB1cGRhdGVRdWVzdGlvbnNOdW1iZXJzKCkgewogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNzZWxmVGVzdFF1ZXN0aW9uc0NvbnRhaW5lciAucXVlc3Rpb24tY29udGFpbmVyLCAjcXVlc3Rpb25zQ29udGFpbmVyIC5xdWVzdGlvbi1jb250YWluZXIiKS5mb3JFYWNoKChkaXYsIGlkeCkgPT4gewogICAgLy8g2KfYrdiw2YEg2KPZiiDYudmG2LXYsSDYqtix2YLZitmFINmC2K/ZitmFICjYs9mI2KfYoSBjbGFzcyDYo9mIIGRpdiDYqNiv2KfYrtmE2Ycg2YbYtSAi2LPYpNin2YQg2LHZgtmFIikKICAgIGRpdi5xdWVyeVNlbGVjdG9yQWxsKCIucXVlc3Rpb24tbnVtYmVyLWxhYmVsLCBkaXYiKS5mb3JFYWNoKGVsID0+IHsKICAgICAgaWYgKAogICAgICAgIGVsLmNsYXNzTGlzdC5jb250YWlucygicXVlc3Rpb24tbnVtYmVyLWxhYmVsIikgfHwKICAgICAgICAoZWwudGV4dENvbnRlbnQgJiYgZWwudGV4dENvbnRlbnQudHJpbSgpLnN0YXJ0c1dpdGgoItiz2KTYp9mEINix2YLZhSIpKQogICAgICApIHsKICAgICAgICBlbC5yZW1vdmUoKTsKICAgICAgfQogICAgfSk7CiAgICAvLyDYo9i22YEg2KfZhNiq2LHZgtmK2YUg2KfZhNis2K/ZitivINmB2Yog2KfZhNij2LnZhNmJCiAgICBjb25zdCBudW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIG51bURpdi5jbGFzc05hbWUgPSAicXVlc3Rpb24tbnVtYmVyLWxhYmVsIjsKICAgIG51bURpdi5zdHlsZSA9ICJmb250LXdlaWdodDpib2xkO2NvbG9yOiMwYTcwZmY7Zm9udC1zaXplOjEuMXJlbTttYXJnaW4tYm90dG9tOjhweDsiOwogICAgbnVtRGl2LnRleHRDb250ZW50ID0gYNiz2KTYp9mEINix2YLZhSAke2lkeCArIDF9YDsKICAgIGRpdi5wcmVwZW5kKG51bURpdik7CiAgfSk7Cn0KCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYstixINix2YHYuSDYp9mE2KPYs9im2YTYqSDZhNio2YbZgyDYp9mE2KPYs9im2YTYqQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYnVsa1VwbG9hZFF1ZXN0aW9uQmFua0J0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24oKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1bGtVcGxvYWRRdWVzdGlvbkJhbmtJbnB1dCIpLmNsaWNrKCk7Cn0pOwoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1bGtVcGxvYWRRdWVzdGlvbkJhbmtJbnB1dCIpLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgaWYgKCFmaWxlKSByZXR1cm47CgogIGNvbnN0IGZpbGVFeHRlbnNpb24gPSBmaWxlLm5hbWUuc3BsaXQoJy4nKS5wb3AoKS50b0xvd2VyQ2FzZSgpOwoKICBpZiAoZmlsZUV4dGVuc2lvbiA9PT0gJ2NzdicpIHsKICAgIFBhcGEucGFyc2UoZmlsZSwgewogICAgICBoZWFkZXI6IHRydWUsCiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAocmVzdWx0cykgewogICAgICAgIHByb2Nlc3NCdWxrUXVlc3Rpb25CYW5rUXVlc3Rpb25zKHJlc3VsdHMuZGF0YSk7CiAgICAgIH0sCiAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBhbGVydChg2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINmC2LHYp9ih2Kkg2KfZhNmF2YTZgTogJHtlcnJvci5tZXNzYWdlfWApOwogICAgICB9CiAgICB9KTsKICB9IGVsc2UgaWYgKFsneGxzeCcsICd4bHMnXS5pbmNsdWRlcyhmaWxlRXh0ZW5zaW9uKSkgewogICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZS50YXJnZXQucmVzdWx0KTsKICAgICAgY29uc3Qgd29ya2Jvb2sgPSBYTFNYLnJlYWQoZGF0YSwgeyB0eXBlOiAnYXJyYXknIH0pOwogICAgICBjb25zdCBzaGVldE5hbWUgPSB3b3JrYm9vay5TaGVldE5hbWVzWzBdOwogICAgICBjb25zdCBzaGVldCA9IHdvcmtib29rLlNoZWV0c1tzaGVldE5hbWVdOwogICAgICBjb25zdCBqc29uRGF0YSA9IFhMU1gudXRpbHMuc2hlZXRfdG9fanNvbihzaGVldCk7CiAgICAgIHByb2Nlc3NCdWxrUXVlc3Rpb25CYW5rUXVlc3Rpb25zKGpzb25EYXRhKTsKICAgIH07CiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZmlsZSk7CiAgfSBlbHNlIHsKICAgIGFsZXJ0KCfZitix2KzZiSDYsdmB2Lkg2YXZhNmBINio2LXZiti62KkgQ1NWINij2YggRXhjZWwg2YHZgti3LicpOwogIH0KfSk7CgovLyDZhdi52KfZhNis2Kkg2KfZhNij2LPYptmE2Kkg2YjYsdmB2LnZh9inINil2YTZiSDYqNmG2YMg2KfZhNij2LPYptmE2KkKZnVuY3Rpb24gcHJvY2Vzc0J1bGtRdWVzdGlvbkJhbmtRdWVzdGlvbnMoZGF0YSkgewogIGxldCBhZGRlZCA9IDAsIGZhaWxlZCA9IDA7CiAgY29uc3QgY29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpOwogIC8vINix2KjYtyDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDYqNin2YTZgdim2Kkg2KfZhNmF2K7Yqtin2LHYqSDZhdmGINin2YTZgtin2KbZhdipINin2YTYsdim2YrYs9mK2KkgKNil2YYg2YjYrNiv2KopCiAgY29uc3QgY2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpLnZhbHVlIHx8IG51bGw7CiAgY29uc3QgcHJvbWlzZXMgPSBbXTsKCiAgZGF0YS5mb3JFYWNoKHJvdyA9PiB7CiAgICBjb25zdCB0ZXh0ID0gcm93WyfYp9mE2LPYpNin2YQnXT8udHJpbSgpOwogICAgY29uc3QgY29ycmVjdEFuc3dlciA9IHBhcnNlSW50KHJvd1sn2KfZhNil2KzYp9io2Kkg2KfZhNi12K3Zitit2KknXSkgLSAxOwogICAgY29uc3QgaW1hZ2VVcmwgPSByb3dbJ9ix2KfYqNi3INin2YTYtdmI2LHYqSddPy50cmltKCkgfHwgIiI7CiAgICBjb25zdCBvcHRpb25zID0gW107CiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHsKICAgICAgY29uc3Qgb3B0aW9uVGV4dCA9IHJvd1tg2KfZhNiu2YrYp9ixICR7aX1gXT8udHJpbSgpOwogICAgICBpZiAob3B0aW9uVGV4dCkgb3B0aW9ucy5wdXNoKHsgdGV4dDogb3B0aW9uVGV4dCB9KTsKICAgIH0KICAgIGlmICh0ZXh0ICYmIG9wdGlvbnMubGVuZ3RoID49IDIgJiYgIWlzTmFOKGNvcnJlY3RBbnN3ZXIpKSB7CiAgICAgIHByb21pc2VzLnB1c2goCiAgICAgICAgY29sbGVjdGlvbi5hZGQoewogICAgICAgICAgdGV4dCwKICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICBjb3JyZWN0QW5zd2VyLAogICAgICAgICAgaW1hZ2VVcmwsCiAgICAgICAgICBjYXRlZ29yeUlkLAogICAgICAgICAgY3JlYXRlZEJ5OiBjdXJyZW50VXNlckRhdGE/Lm5hbWUgfHwgY3VycmVudFVzZXIuZW1haWwsCiAgICAgICAgICBjcmVhdGVkQXQ6IGZpcmViYXNlLmZpcmVzdG9yZS5GaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcCgpCiAgICAgICAgfSkudGhlbigoKSA9PiBhZGRlZCsrKS5jYXRjaCgoKSA9PiBmYWlsZWQrKykKICAgICAgKTsKICAgIH0gZWxzZSB7CiAgICAgIGZhaWxlZCsrOwogICAgfQogIH0pOwoKICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigoKSA9PiB7CiAgICBsb2FkUXVlc3Rpb25CYW5rKCk7CiAgICBzaG93VG9hc3QoYNiq2YXYqiDYpdi22KfZgdipICR7YWRkZWR9INiz2KTYp9mEJHthZGRlZCAhPT0gMSA/ICLYp9iqIiA6ICIifSDYqNmG2KzYp9itISR7ZmFpbGVkID8gIiAoIiArIGZhaWxlZCArICIg2YTZhSDZitiq2YUg2KXYttin2YHYqtmH2Kcg2KjYs9io2Kgg2YbZgti1INin2YTYqNmK2KfZhtin2KopIiA6ICIifWAsICJzdWNjZXNzIik7CiAgfSk7Cn0KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KXYuNmH2KfYsSDYstixINit2LDZgSDYp9mE2YPZhCDZgdmC2Lcg2LnZhtivINin2K7YqtmK2KfYsSDZgdim2Kkg2YXYrdiv2K/YqQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKS5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbigpIHsKICBsb2FkUXVlc3Rpb25CYW5rKCk7CiAgY29uc3QgY2F0ZWdvcnlJZCA9IHRoaXMudmFsdWU7CiAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGV0ZUFsbFF1ZXN0aW9uc0luQ2F0ZWdvcnlCdG4iKTsKICBpZiAoY2F0ZWdvcnlJZCAmJiBjYXRlZ29yeUlkICE9PSAiIikgewogICAgZGVsZXRlQnRuLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKICB9IGVsc2UgewogICAgZGVsZXRlQnRuLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfQp9KTsKCi8vINi52YbYryDYp9mE2LbYuti3INi52YTZiSDYstixINit2LDZgSDYrNmF2YrYuSDYp9mE2KPYs9im2YTYqSDZgdmKINin2YTZgdim2KkKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGV0ZUFsbFF1ZXN0aW9uc0luQ2F0ZWdvcnlCdG4iKS5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24oKSB7CiAgY29uc3QgY2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpLnZhbHVlOwogIGlmICghY2F0ZWdvcnlJZCkgewogICAgc2hvd1RvYXN0KCLYp9iu2KrYsSDZgdim2Kkg2KPZiNmE2KfZiyEiLCAiZXJyb3IiKTsKICAgIHJldHVybjsKICB9CiAgaWYgKCFjb25maXJtKCLZh9mEINij2YbYqiDZhdiq2KPZg9ivINij2YbZgyDYqtix2YrYryDYrdiw2YEg2KzZhdmK2Lkg2KfZhNij2LPYptmE2Kkg2YHZiiDZh9iw2Ycg2KfZhNmB2KbYqdifINmE2Kcg2YrZhdmD2YYg2KfZhNiq2LHYp9is2Lkg2LnZhiDZh9iw2Kcg2KfZhNil2KzYsdin2KEhIikpIHJldHVybjsKCiAgLy8g2KzZhNioINis2YXZiti5INin2YTYo9iz2KbZhNipINmB2Yog2KfZhNmB2KbYqQogIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikud2hlcmUoImNhdGVnb3J5SWQiLCAiPT0iLCBjYXRlZ29yeUlkKS5nZXQoKTsKICBpZiAoc25hcHNob3QuZW1wdHkpIHsKICAgIHNob3dUb2FzdCgi2YTYpyDZitmI2KzYryDYo9iz2KbZhNipINmB2Yog2YfYsNmHINin2YTZgdim2KkuIiwgImVycm9yIik7CiAgICByZXR1cm47CiAgfQogIC8vINit2LDZgSDYp9mE2KPYs9im2YTYqSDYr9mB2LnYqSDZiNin2K3Yr9ipINio2KfYs9iq2K7Yr9in2YUgYmF0Y2gKICBjb25zdCBiYXRjaCA9IGRiLmJhdGNoKCk7CiAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gYmF0Y2guZGVsZXRlKGRvYy5yZWYpKTsKICBhd2FpdCBiYXRjaC5jb21taXQoKTsKICBzaG93VG9hc3QoItiq2YUg2K3YsNmBINis2YXZiti5INin2YTYo9iz2KbZhNipINmB2Yog2KfZhNmB2KbYqSDYqNmG2KzYp9itISIsICJzdWNjZXNzIik7CiAgbG9hZFF1ZXN0aW9uQmFuaygpOwp9OwpmdW5jdGlvbiBsb2FkUGFyZW50Q2F0ZWdvcmllcyhzZWxlY3RlZElkID0gIiIpIHsKICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFyZW50Q2F0ZWdvcnlTZWxlY3QiKTsKICBzZWxlY3QuaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9IiI+2KjYr9mI2YYg2YHYptipINix2KbZitiz2YrYqTwvb3B0aW9uPmA7CiAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25DYXRlZ29yaWVzIikub3JkZXJCeSgibmFtZSIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgLy8g2KjZhtin2KEg2LTYrNix2Kkg2KfZhNmB2KbYp9iqCiAgICBjb25zdCBjYXRlZ29yaWVzID0ge307CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNhdGVnb3JpZXNbZG9jLmlkXSA9IHsgLi4uZG9jLmRhdGEoKSwgaWQ6IGRvYy5pZCwgY2hpbGRyZW46IFtdIH07CiAgICB9KTsKICAgIE9iamVjdC52YWx1ZXMoY2F0ZWdvcmllcykuZm9yRWFjaChjYXQgPT4gewogICAgICBpZiAoY2F0LnBhcmVudElkICYmIGNhdGVnb3JpZXNbY2F0LnBhcmVudElkXSkgewogICAgICAgIGNhdGVnb3JpZXNbY2F0LnBhcmVudElkXS5jaGlsZHJlbi5wdXNoKGNhdCk7CiAgICAgIH0KICAgIH0pOwogICAgY29uc3Qgcm9vdHMgPSBPYmplY3QudmFsdWVzKGNhdGVnb3JpZXMpLmZpbHRlcihjYXQgPT4gIWNhdC5wYXJlbnRJZCk7CgogICAgZnVuY3Rpb24gcmVuZGVyT3B0aW9ucyhjYXRzLCBwcmVmaXggPSAiIikgewogICAgICBsZXQgaHRtbCA9ICIiOwogICAgICBjYXRzLmZvckVhY2goY2F0ID0+IHsKICAgICAgICBodG1sICs9IGA8b3B0aW9uIHZhbHVlPSIke2NhdC5pZH0iICR7c2VsZWN0ZWRJZCA9PT0gY2F0LmlkID8gInNlbGVjdGVkIiA6ICIifT4ke3ByZWZpeH0ke2NhdC5uYW1lfTwvb3B0aW9uPmA7CiAgICAgICAgaWYgKGNhdC5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgIGh0bWwgKz0gcmVuZGVyT3B0aW9ucyhjYXQuY2hpbGRyZW4sIHByZWZpeCArICLigJQgIik7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGh0bWw7CiAgICB9CgogICAgc2VsZWN0LmlubmVySFRNTCArPSByZW5kZXJPcHRpb25zKHJvb3RzKTsKICB9KTsKfQoKCi8vINi52YbYryDZgdiq2K0g2YbYp9mB2LDYqSDYpdi22KfZgdipINmB2KbYqSDYrNiv2YrYr9ipCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRDYXRlZ29yeUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkQ2F0ZWdvcnlNb2RhbCIpLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CiAgbG9hZFBhcmVudENhdGVnb3JpZXMoKTsKfTsKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCi8vINiq2K3ZhdmK2YQg2KfZhNmB2KbYp9iqINio2LTZg9mEINi02KzYsdmKINmB2Yog2YLYp9im2YXYqSDYp9iu2KrZitin2LEg2KfZhNmB2KbYqSDZgdmKINio2YbZgyDYp9mE2KPYs9im2YTYqQovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyA9PT09PT09PT09PT09PT09PT09PT09IEV4cG9ydCAvIEltcG9ydCBmb3IgUXVlc3Rpb24gQ2F0ZWdvcnkgKEV4Y2VsL0NTVikgPT09PT09PT09PT09PT09PT09PT09PQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhwb3J0Q2F0ZWdvcnlFeGNlbEJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgYXN5bmMgZnVuY3Rpb24gKCkgewogIGNvbnN0IGNhdGVnb3J5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKS52YWx1ZTsKICBpZiAoIWNhdGVnb3J5SWQpIHsgc2hvd1RvYXN0KCLYp9iu2KrYsSDZgdim2Kkg2KPZiNmE2KfZiyEiLCAiZXJyb3IiKTsgcmV0dXJuOyB9CgogIHRyeSB7CiAgICBjb25zdCBzbmFwID0gYXdhaXQgZGIuY29sbGVjdGlvbigicXVlc3Rpb25CYW5rIikKICAgICAgLndoZXJlKCJjYXRlZ29yeUlkIiwgIj09IiwgY2F0ZWdvcnlJZCkKICAgICAgLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJhc2MiKQogICAgICAuZ2V0KCk7CgogICAgaWYgKHNuYXAuZW1wdHkpIHsKICAgICAgc2hvd1RvYXN0KCLZhNinINiq2YjYrNivINij2LPYptmE2Kkg2YHZiiDZh9iw2Ycg2KfZhNmB2KbYqS4iLCAiZXJyb3IiKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IHJvd3MgPSBbXTsKICAgIHNuYXAuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCBxID0gZG9jLmRhdGEoKTsKICAgICAgcm93cy5wdXNoKHsKICAgICAgICAi2YXYudix2YEg2KfZhNiz2KTYp9mEIjogZG9jLmlkLAogICAgICAgICLYp9mE2LPYpNin2YQiOiBxLnRleHQgfHwgIiIsCiAgICAgICAgItin2YTYrtmK2KfYsSAxIjogcS5vcHRpb25zPy5bMF0/LnRleHQgfHwgIiIsCiAgICAgICAgItin2YTYrtmK2KfYsSAyIjogcS5vcHRpb25zPy5bMV0/LnRleHQgfHwgIiIsCiAgICAgICAgItin2YTYrtmK2KfYsSAzIjogcS5vcHRpb25zPy5bMl0/LnRleHQgfHwgIiIsCiAgICAgICAgItin2YTYrtmK2KfYsSA0IjogcS5vcHRpb25zPy5bM10/LnRleHQgfHwgIiIsCiAgICAgICAgItin2YTYpdis2KfYqNipINin2YTYtdit2YrYrdipIjogKHR5cGVvZiBxLmNvcnJlY3RBbnN3ZXIgPT09ICJudW1iZXIiKSA/IChxLmNvcnJlY3RBbnN3ZXIgKyAxKSA6ICIiLAogICAgICAgICLYsdin2KjYtyDYp9mE2LXZiNix2KkiOiBxLmltYWdlVXJsIHx8ICIiLAogICAgICAgICLZhdmG2LTYoyDYqNmI2KfYs9i32KkiOiBxLmNyZWF0ZWRCeSB8fCAiIiwKICAgICAgICAi2KrYp9ix2YrYriDYp9mE2KXZhti02KfYoSI6IHEuY3JlYXRlZEF0ID8gKHEuY3JlYXRlZEF0LnRvRGF0ZSA/IHEuY3JlYXRlZEF0LnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCkgOiBxLmNyZWF0ZWRBdCkgOiAiIgogICAgICB9KTsKICAgIH0pOwoKICAgIGNvbnN0IHdzID0gWExTWC51dGlscy5qc29uX3RvX3NoZWV0KHJvd3MpOwogICAgY29uc3Qgd2IgPSBYTFNYLnV0aWxzLmJvb2tfbmV3KCk7CiAgICBYTFNYLnV0aWxzLmJvb2tfYXBwZW5kX3NoZWV0KHdiLCB3cywgIlF1ZXN0aW9ucyIpOwogICAgY29uc3Qgc2FmZU5hbWUgPSAod2luZG93LnF1ZXN0aW9uQ2F0ZWdvcmllc0NhY2hlICYmIHdpbmRvdy5xdWVzdGlvbkNhdGVnb3JpZXNDYWNoZVtjYXRlZ29yeUlkXSkgPyB3aW5kb3cucXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGVbY2F0ZWdvcnlJZF0gOiBjYXRlZ29yeUlkOwogICAgWExTWC53cml0ZUZpbGUod2IsIGBxdWVzdGlvbnNfJHtzYWZlTmFtZX0ueGxzeGApOwogICAgc2hvd1RvYXN0KCLYqtmFINiq2LXYr9mK2LEg2KfZhNmB2KbYqSDYpdmE2Ykg2YXZhNmBIEV4Y2VsLiIsICJzdWNjZXNzIik7CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBzaG93VG9hc3QoItiu2LfYoyDZgdmKINin2YTYqti12K/ZitixOiAiICsgZXJyLm1lc3NhZ2UsICJlcnJvciIpOwogIH0KfSk7Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1wb3J0Q2F0ZWdvcnlFeGNlbEJ0biIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogIGNvbnN0IGNhdGVnb3J5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKS52YWx1ZTsKICBpZiAoIWNhdGVnb3J5SWQpIHsgc2hvd1RvYXN0KCLYp9iu2KrYsSDZgdim2Kkg2YXYs9iq2YfYr9mB2Kkg2KPZiNmE2KfZiyEiLCAiZXJyb3IiKTsgcmV0dXJuOyB9CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5SW1wb3J0SW5wdXQiKS5jbGljaygpOwp9KTsKCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeUltcG9ydElucHV0IikuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIiwgZnVuY3Rpb24gKGUpIHsKICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgaWYgKCFmaWxlKSByZXR1cm47CiAgY29uc3QgY2F0ZWdvcnlJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpLnZhbHVlOwogIGlmICghY2F0ZWdvcnlJZCkgeyBzaG93VG9hc3QoItin2K7YqtixINmB2KbYqSDZhdiz2KrZh9iv2YHYqSDYo9mI2YTYp9mLISIsICJlcnJvciIpOyByZXR1cm47IH0KCiAgY29uc3QgZXh0ID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTsKICBpZiAoZXh0ID09PSAiY3N2IikgewogICAgUGFwYS5wYXJzZShmaWxlLCB7CiAgICAgIGhlYWRlcjogdHJ1ZSwKICAgICAgc2tpcEVtcHR5TGluZXM6IHRydWUsCiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAocmVzdWx0cykgewogICAgICAgIHByb2Nlc3NJbXBvcnRSb3dzKHJlc3VsdHMuZGF0YSwgY2F0ZWdvcnlJZCk7CiAgICAgIH0sCiAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgc2hvd1RvYXN0KCLYrti32KMg2KjZgtix2KfYodipIENTVjogIiArIGVyci5tZXNzYWdlLCAiZXJyb3IiKTsKICAgICAgfQogICAgfSk7CiAgfSBlbHNlIGlmIChbInhsc3giLCAieGxzIl0uaW5jbHVkZXMoZXh0KSkgewogICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXYpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZXYudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgY29uc3Qgd29ya2Jvb2sgPSBYTFNYLnJlYWQoZGF0YSwgeyB0eXBlOiAnYXJyYXknIH0pOwogICAgICAgIGNvbnN0IGZpcnN0ID0gd29ya2Jvb2suU2hlZXROYW1lc1swXTsKICAgICAgICBjb25zdCBqc29uID0gWExTWC51dGlscy5zaGVldF90b19qc29uKHdvcmtib29rLlNoZWV0c1tmaXJzdF0sIHsgZGVmdmFsOiAiIiB9KTsKICAgICAgICBwcm9jZXNzSW1wb3J0Um93cyhqc29uLCBjYXRlZ29yeUlkKTsKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgc2hvd1RvYXN0KCLYrti32KMg2KjZgtix2KfYodipINmF2YTZgSBFeGNlbDogIiArIGVyci5tZXNzYWdlLCAiZXJyb3IiKTsKICAgICAgfQogICAgfTsKICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlKTsKICB9IGVsc2UgewogICAgc2hvd1RvYXN0KCLZitix2KzZiSDYsdmB2Lkg2YXZhNmBINio2LXZiti62KkgQ1NWINij2YggRXhjZWwg2YHZgti3LiIsICJlcnJvciIpOwogIH0KICAvLyDYqtmB2LHZiti6INmC2YrZhdipINin2YTZhdmE2YEg2YTZhtmB2LMg2KfZhNil2K/Yrtin2YQg2YTYqtmF2YPZitmGINix2YHYuSDZhtmB2LMg2KfZhNmF2YTZgSDZhNin2K3Zgtin2YsKICBlLnRhcmdldC52YWx1ZSA9ICIiOwp9KTsKCmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NJbXBvcnRSb3dzKHJvd3MsIGNhdGVnb3J5SWQpIHsKICBpZiAoIUFycmF5LmlzQXJyYXkocm93cykgfHwgcm93cy5sZW5ndGggPT09IDApIHsgc2hvd1RvYXN0KCLYp9mE2YXZhNmBINmB2KfYsdi6INij2Ygg2KfZhNi12YrYutipINi62YrYsSDZhdiv2LnZiNmF2KkuIiwgImVycm9yIik7IHJldHVybjsgfQogIGxldCBhZGRlZCA9IDAsIHNraXBwZWQgPSAwOwogIGNvbnN0IGJhdGNoTGltaXQgPSA0MDA7IC8vIHNhZmV0eQogIGNvbnN0IHByb21pc2VzID0gW107CgogIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHsKICAgIC8vINiq2YjZgti5INij2LnZhdiv2Kk6ICLYp9mE2LPYpNin2YQiLCAi2KfZhNiu2YrYp9ixIDEiLi4i2KfZhNiu2YrYp9ixIDQiLCAi2KfZhNil2KzYp9io2Kkg2KfZhNi12K3Zitit2KkiICgxLTQpLCAi2LHYp9io2Lcg2KfZhNi12YjYsdipIgogICAgY29uc3QgdGV4dCA9IChyb3dbItin2YTYs9ik2KfZhCJdIHx8IHJvd1sicXVlc3Rpb24iXSB8fCAiIikudG9TdHJpbmcoKS50cmltKCk7CiAgICBpZiAoIXRleHQpIHsgc2tpcHBlZCsrOyBjb250aW51ZTsgfQogICAgY29uc3Qgb3B0aW9ucyA9IFtdOwogICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gNDsgaSsrKSB7CiAgICAgIGNvbnN0IHZhbCA9IHJvd1tg2KfZhNiu2YrYp9ixICR7aX1gXSB8fCByb3dbYG9wdGlvbiAke2l9YF0gfHwgcm93W2BvcHRpb24ke2l9YF0gfHwgIiI7CiAgICAgIGlmICh2YWwgJiYgdmFsLnRvU3RyaW5nKCkudHJpbSgpKSBvcHRpb25zLnB1c2goeyB0ZXh0OiB2YWwudG9TdHJpbmcoKS50cmltKCkgfSk7CiAgICB9CiAgICBpZiAob3B0aW9ucy5sZW5ndGggPCAyKSB7IHNraXBwZWQrKzsgY29udGludWU7IH0KICAgIGxldCBjb3JyZWN0ID0gcGFyc2VJbnQocm93WyLYp9mE2KXYrNin2KjYqSDYp9mE2LXYrdmK2K3YqSJdIHx8IHJvd1siY29ycmVjdCJdIHx8IHJvd1siYW5zd2VyIl0gfHwgIiIpOwogICAgaWYgKGlzTmFOKGNvcnJlY3QpKSBjb3JyZWN0ID0gMTsKICAgIGNvcnJlY3QgPSBNYXRoLm1heCgxLCBNYXRoLm1pbig0LCBjb3JyZWN0KSkgLSAxOyAvLyB0byB6ZXJvLWJhc2VkCgogICAgY29uc3QgZG9jRGF0YSA9IHsKICAgICAgdGV4dCwKICAgICAgb3B0aW9ucywKICAgICAgY29ycmVjdEFuc3dlcjogY29ycmVjdCwKICAgICAgaW1hZ2VVcmw6IChyb3dbItix2KfYqNi3INin2YTYtdmI2LHYqSJdIHx8IHJvd1siaW1hZ2VVcmwiXSB8fCByb3dbImltYWdlIl0gfHwgIiIpLnRvU3RyaW5nKCkudHJpbSgpIHx8ICIiLAogICAgICBjYXRlZ29yeUlkLAogICAgICBjcmVhdGVkQnk6IGN1cnJlbnRVc2VyRGF0YT8ubmFtZSB8fCBjdXJyZW50VXNlcj8uZW1haWwgfHwgImltcG9ydCIsCiAgICAgIGNyZWF0ZWRBdDogZmlyZWJhc2UuZmlyZXN0b3JlLkZpZWxkVmFsdWUuc2VydmVyVGltZXN0YW1wKCkKICAgIH07CgogICAgLy8g2KPYttmBINil2YTZiSBGaXJlc3RvcmUgKNio2K/ZiNmGINin2YbYqti42KfYsSDZhNmD2YQg2LnZhdmE2YrYqSDZhNiq2LPYsdmK2LkpCiAgICBwcm9taXNlcy5wdXNoKGRiLmNvbGxlY3Rpb24oInF1ZXN0aW9uQmFuayIpLmFkZChkb2NEYXRhKS50aGVuKCgpID0+IGFkZGVkKyspLmNhdGNoKCgpID0+IHNraXBwZWQrKykpOwogICAgLy8g2YjZgtmB2Kkg2K3YrNmF2YrYqSDZhNmF2YbYuSDYp9mE2YXYrdin2YHYuNipINi52YTZiSDYudiv2K8g2YjYudmI2K8g2YPYqNmK2LEg2KzYr9in2YsKICAgIGlmIChwcm9taXNlcy5sZW5ndGggPiBiYXRjaExpbWl0KSB7CiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTsKICAgICAgcHJvbWlzZXMubGVuZ3RoID0gMDsKICAgIH0KICB9CiAgaWYgKHByb21pc2VzLmxlbmd0aCkgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpOwogIHNob3dUb2FzdChg2KrZhSDYp9mE2KfYs9iq2YrYsdin2K86ICR7YWRkZWR92Iwg2KrZhSDYqtiu2LfZijogJHtza2lwcGVkfWAsICJzdWNjZXNzIik7CiAgbG9hZFF1ZXN0aW9uQmFuaygpOyAvLyDYpdi52KfYr9ipINiq2K3ZhdmK2YQg2LnYsdi2INin2YTYqNmG2YMKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KrYrdmF2YrZhCDYp9mE2YHYptin2Kog2KjYtNmD2YQg2LTYrNix2Yog2YXYuSDYudiv2K8g2KfZhNij2LPYptmE2Kkg2KjYrNmI2KfYsSDZg9mEINmB2KbYqQovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIHJlZnJlc2hBbGxDYXRlZ29yeUxhYmVscygpIHsKICAvLyDYp9mE2YLYp9im2YXYqSDYp9mE2LHYptmK2LPZitipINmB2Yog2KjZhtmDINin2YTYo9iz2KbZhNipCiAgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpLnZhbHVlLCAicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKTsKICAvLyDZgtin2KbZhdipINin2YTZgdim2Kkg2YHZiiDZhtin2YHYsNipINil2LbYp9mB2Kkg2LPYpNin2YQg2KzYr9mK2K8KICBsb2FkUXVlc3Rpb25CYW5rQ2F0ZWdvcmllc1RyZWUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInF1ZXN0aW9uQmFua0NhdGVnb3J5QWRkIik/LnZhbHVlIHx8ICIiLCAicXVlc3Rpb25CYW5rQ2F0ZWdvcnlBZGQiKTsKICAvLyDZgtin2KbZhdipINin2YTZgdim2Kkg2YHZiiDZhtin2YHYsNipINin2YTYp9iz2KrZitix2KfYrwogIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW1wb3J0QmFua0NhdGVnb3J5Iik/LnZhbHVlIHx8ICIiLCAiaW1wb3J0QmFua0NhdGVnb3J5Iik7CiAgLy8g2YLYp9im2YXYqSDYp9mE2YHYptipINin2YTYsdim2YrYs9mK2Kkg2YHZiiDZhtin2YHYsNipINil2LbYp9mB2Kkg2YHYptipINis2K/Zitiv2KkKICBsb2FkUGFyZW50Q2F0ZWdvcmllcyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicGFyZW50Q2F0ZWdvcnlTZWxlY3QiKT8udmFsdWUgfHwgIiIpOwp9Ci8vINiq2K3ZhdmK2YQg2KfZhNmB2KbYp9iqINio2LTZg9mEINi02KzYsdmKINmF2Lkg2LnYr9ivINin2YTYo9iz2KbZhNipINio2KzZiNin2LEg2YPZhCDZgdim2KnYjCDZiNi52K/YryDZg9mEINin2YTYo9iz2KbZhNipINio2KzZiNin2LEgItmD2YQg2KfZhNmB2KbYp9iqIgpmdW5jdGlvbiBsb2FkUXVlc3Rpb25CYW5rQ2F0ZWdvcmllc1RyZWUoc2VsZWN0ZWQgPSAiIiwgc2VsZWN0SWQgPSAicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKSB7CiAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0SWQpOwogIHNlbGVjdC5pbm5lckhUTUwgPSAiIjsKICAvLyDYrNmE2Kgg2KzZhdmK2Lkg2KfZhNmB2KbYp9iqCiAgZGIuY29sbGVjdGlvbigicXVlc3Rpb25DYXRlZ29yaWVzIikub3JkZXJCeSgibmFtZSIpLmdldCgpLnRoZW4oYXN5bmMgc25hcHNob3QgPT4gewogICAgLy8g2KjZhtin2KEg2LTYrNix2Kkg2KfZhNmB2KbYp9iqCiAgICBjb25zdCBjYXRlZ29yaWVzID0ge307CiAgICBxdWVzdGlvbkNhdGVnb3JpZXNDYWNoZSA9IHt9OwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjYXRlZ29yaWVzW2RvYy5pZF0gPSB7IC4uLmRvYy5kYXRhKCksIGlkOiBkb2MuaWQsIGNoaWxkcmVuOiBbXSwgY291bnQ6IDAgfTsKICAgICAgcXVlc3Rpb25DYXRlZ29yaWVzQ2FjaGVbZG9jLmlkXSA9IGRvYy5kYXRhKCkubmFtZTsKICAgIH0pOwogICAgT2JqZWN0LnZhbHVlcyhjYXRlZ29yaWVzKS5mb3JFYWNoKGNhdCA9PiB7CiAgICAgIGlmIChjYXQucGFyZW50SWQgJiYgY2F0ZWdvcmllc1tjYXQucGFyZW50SWRdKSB7CiAgICAgICAgY2F0ZWdvcmllc1tjYXQucGFyZW50SWRdLmNoaWxkcmVuLnB1c2goY2F0KTsKICAgICAgfQogICAgfSk7CiAgICBjb25zdCByb290cyA9IE9iamVjdC52YWx1ZXMoY2F0ZWdvcmllcykuZmlsdGVyKGNhdCA9PiAhY2F0LnBhcmVudElkKTsKCiAgICAvLyDYrNmE2Kgg2LnYr9ivINin2YTYo9iz2KbZhNipINmE2YPZhCDZgdim2KkgKNmF2LHYqSDZiNin2K3Yr9ipKQogICAgY29uc3QgcXVlc3Rpb25zU25hcHNob3QgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJxdWVzdGlvbkJhbmsiKS5nZXQoKTsKICAgIGNvbnN0IGNvdW50cyA9IHt9OwogICAgbGV0IHRvdGFsQ291bnQgPSAwOwogICAgcXVlc3Rpb25zU25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCBxID0gZG9jLmRhdGEoKTsKICAgICAgaWYgKHEuY2F0ZWdvcnlJZCkgewogICAgICAgIGNvdW50c1txLmNhdGVnb3J5SWRdID0gKGNvdW50c1txLmNhdGVnb3J5SWRdIHx8IDApICsgMTsKICAgICAgfQogICAgICB0b3RhbENvdW50Kys7CiAgICB9KTsKICAgIC8vINi22Lkg2KfZhNi52K/YryDZgdmKINmD2YQg2YHYptipCiAgICBPYmplY3Qua2V5cyhjb3VudHMpLmZvckVhY2goY2F0SWQgPT4gewogICAgICBpZiAoY2F0ZWdvcmllc1tjYXRJZF0pIGNhdGVnb3JpZXNbY2F0SWRdLmNvdW50ID0gY291bnRzW2NhdElkXTsKICAgIH0pOwoKICAgIC8vINiv2KfZhNipINmE2KXYuNmH2KfYsSDYp9mE2YHYptin2Kog2KjYtNmD2YQg2YXYqtiv2KfYrtmEINmF2Lkg2KfZhNi52K/YrwogICAgZnVuY3Rpb24gcmVuZGVyT3B0aW9ucyhjYXRzLCBwcmVmaXggPSAiIikgewogICAgICBsZXQgaHRtbCA9ICIiOwogICAgICBjYXRzLmZvckVhY2goY2F0ID0+IHsKICAgICAgICBodG1sICs9IGA8b3B0aW9uIHZhbHVlPSIke2NhdC5pZH0iICR7c2VsZWN0ZWQgPT09IGNhdC5pZCA/ICJzZWxlY3RlZCIgOiAiIn0+JHtwcmVmaXh9JHtjYXQubmFtZX0gKCR7Y2F0LmNvdW50fSk8L29wdGlvbj5gOwogICAgICAgIGlmIChjYXQuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICBodG1sICs9IHJlbmRlck9wdGlvbnMoY2F0LmNoaWxkcmVuLCBwcmVmaXggKyAi4oCUICIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBodG1sOwogICAgfQoKICAgIHNlbGVjdC5pbm5lckhUTUwgPSBgPG9wdGlvbiB2YWx1ZT0nJz7Zg9mEINin2YTZgdim2KfYqiAoJHt0b3RhbENvdW50fSk8L29wdGlvbj5gICsgcmVuZGVyT3B0aW9ucyhyb290cyk7CiAgfSk7Cn0KCi8vIPCflI0g2YPYtNmBINmB2KrYrSDYo9iv2YjYp9iqINin2YTZhdi32YjYsSDYqNin2LPYqtiu2K/Yp9mFINin2YTZgdix2YIg2KfZhNiy2YXZhtmKINmB2YogZGVidWdnZXIKCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8g2KfYs9iq2KjYr9mEINmD2YQg2KfYs9iq2K/Yudin2KEgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXMoc2VsZWN0ZWQsICJxdWVzdGlvbkJhbmtDYXRlZ29yeSIpCi8vINio2YAgbG9hZFF1ZXN0aW9uQmFua0NhdGVnb3JpZXNUcmVlKHNlbGVjdGVkLCAicXVlc3Rpb25CYW5rQ2F0ZWdvcnkiKQoKLy8g2YXYq9in2YQg2LnZhtivINmB2KrYrSDYqNmG2YMg2KfZhNij2LPYptmE2Kk6CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtZW51UXVlc3Rpb25CYW5rIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbihlKSB7CiAgZS5wcmV2ZW50RGVmYXVsdCgpOwogIHNldEFjdGl2ZU1lbnVJdGVtKHRoaXMpOwogIHNob3dQYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJxdWVzdGlvbkJhbmtQYWdlIikpOwogIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZSgpOyAvLyDYtNis2LHZigogIGxvYWRRdWVzdGlvbkJhbmsoKTsKfSk7CgovLyDZiNij2YrYttin2Ysg2LnZhtivINil2LbYp9mB2Kkg2LPYpNin2YQg2KzYr9mK2K8g2KXYsNinINij2LHYr9iqINmG2YHYsyDYp9mE2LTYrNix2Kkg2YHZiiDZhtin2YHYsNipINin2YTYpdi22KfZgdipOgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRRdWVzdGlvbkJhbmtCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFF1ZXN0aW9uQmFua01vZGFsIikuc3R5bGUuZGlzcGxheSA9ICJmbGV4IjsKICAvLyDYp9it2LDZgSDYo9mIINin2K7ZgdmQINi02KzYsdipINin2YTZgdim2KfYqiDZgdmKINmG2KfZgdiw2Kkg2KfZhNil2LbYp9mB2KkKICBjb25zdCB0cmVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhdGVnb3JpZXNUcmVlQ29udGFpbmVyIik7CiAgaWYgKHRyZWUpIHsKICAgIC8vINil2YXYpyDYpdiy2KfZhNipINin2YTYudmG2LXYsSDZhdmGIERPTToKICAgIC8vIHRyZWUucmVtb3ZlKCk7CiAgICAvLyDYo9mIINil2K7Zgdin2KTZhyDZgdmC2Lc6CiAgICB0cmVlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgfQogIGxvYWRRdWVzdGlvbkJhbmtDYXRlZ29yaWVzVHJlZSgiIiwgInF1ZXN0aW9uQmFua0NhdGVnb3J5QWRkIik7Cn07Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIHNlbGVjdFN0dWRlbnRzQnlOdW1iZXIoc2VsZWN0SWQsIG51bWJlcikgewogIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdElkKTsKICBpZiAoIXNlbGVjdCkgcmV0dXJuOwogIC8vINit2YHYuCDYrdin2YTYqSDYp9mE2LLYsSDYp9mE2LPYp9io2YIg2YTZg9mEINmC2KfYptmF2KkKICBpZiAoIXNlbGVjdC5fbGFzdFNlbGVjdGVkTnVtYmVyKSBzZWxlY3QuX2xhc3RTZWxlY3RlZE51bWJlciA9IG51bGw7CiAgLy8g2KXYsNinINi22LrYt9iqINmG2YHYsyDYp9mE2LHZgtmFINmF2LHYqtmK2YYg2KPYstmEINin2YTYqtit2K/ZitivCiAgaWYgKHNlbGVjdC5fbGFzdFNlbGVjdGVkTnVtYmVyID09PSBudW1iZXIpIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgc2VsZWN0Lm9wdGlvbnNbaV0uc2VsZWN0ZWQgPSBmYWxzZTsKICAgIH0KICAgIHNlbGVjdC5fbGFzdFNlbGVjdGVkTnVtYmVyID0gbnVsbDsKICB9IGVsc2UgewogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkrKykgewogICAgICBjb25zdCBuYW1lID0gc2VsZWN0Lm9wdGlvbnNbaV0udGV4dENvbnRlbnQgfHwgc2VsZWN0Lm9wdGlvbnNbaV0uaW5uZXJUZXh0IHx8ICIiOwogICAgICBzZWxlY3Qub3B0aW9uc1tpXS5zZWxlY3RlZCA9IG5hbWUuaW5jbHVkZXMobnVtYmVyKTsKICAgIH0KICAgIHNlbGVjdC5fbGFzdFNlbGVjdGVkTnVtYmVyID0gbnVtYmVyOwogIH0KfQovLyDYudmG2K8g2KXYutmE2KfZgiDYp9mE2LXZgdit2Kkg2KPZiCDYp9mE2KrYqNmI2YrYqNiMINit2K/YqyBsYXN0QWN0aXZlINmE2YrYuNmH2LEg2LrZitixINmG2LTYtwovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYudmG2K8g2KrYrdmF2YrZhCDYqNmK2KfZhtin2Kog2KfZhNmF2LPYqtiu2K/ZhSDYo9mIINi52YbYryDYqtiz2KzZitmEINin2YTYr9iu2YjZhAphc3luYyBmdW5jdGlvbiBlbnN1cmVUZWFjaGVySGFzQWxsUGVybWlzc2lvbnModXNlcklkKSB7CiAgLy8g2KzZhNioINio2YrYp9mG2KfYqiDYp9mE2YXYs9iq2K7Yr9mFCiAgY29uc3QgdXNlckRvYyA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHVzZXJJZCkuZ2V0KCk7CiAgaWYgKCF1c2VyRG9jLmV4aXN0cykgcmV0dXJuOwogIGNvbnN0IHVzZXIgPSB1c2VyRG9jLmRhdGEoKTsKICBpZiAodXNlci5yb2xlICE9PSAidGVhY2hlciIpIHJldHVybjsKCiAgLy8g2KzZhNioINmD2YQg2KfZhNin2K7Yqtio2KfYsdin2Kog2YjYp9mE2YjYp9is2KjYp9iqINmI2KfZhNmF2YLYsdix2KfYqgogIGNvbnN0IFtleGFtc1NuYXAsIHNlbGZUZXN0c1NuYXAsIHNsaWRlc1NuYXBdID0gYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgZGIuY29sbGVjdGlvbigiZXhhbXMiKS5nZXQoKSwKICAgIGRiLmNvbGxlY3Rpb24oInNlbGZUZXN0cyIpLmdldCgpLAogICAgZGIuY29sbGVjdGlvbigic2xpZGVzIikuZ2V0KCkKICBdKTsKICBjb25zdCBhbGxFeGFtcyA9IGV4YW1zU25hcC5kb2NzLm1hcChkb2MgPT4gZG9jLmlkKTsKICBjb25zdCBhbGxTZWxmVGVzdHMgPSBzZWxmVGVzdHNTbmFwLmRvY3MubWFwKGRvYyA9PiBkb2MuaWQpOwogIGNvbnN0IGFsbENvdXJzZXMgPSBzbGlkZXNTbmFwLmRvY3MubWFwKGRvYyA9PiBkb2MuaWQpOwoKICAvLyDYqtit2K/ZitirINi12YTYp9it2YrYp9iqINin2YTZhdi52YTZhSDZhNmK2LTYp9mH2K8g2YPZhCDYtNmK2KEKICBhd2FpdCBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyh1c2VySWQpLnNldCh7CiAgICBhbGxvd2VkRXhhbXM6IGFsbEV4YW1zLAogICAgYWxsb3dlZFNlbGZUZXN0czogYWxsU2VsZlRlc3RzLAogICAgYWxsb3dlZENvdXJzZXM6IGFsbENvdXJzZXMKICB9LCB7IG1lcmdlOiB0cnVlIH0pOwp9CgovLyDYp9iz2KrYr9i52ZAg2KfZhNiv2KfZhNipINi52YbYryDYqtiz2KzZitmEINiv2K7ZiNmEINin2YTZhdi52YTZhSDYo9mIINiq2K3ZhdmK2YQg2KjZitin2YbYp9iq2YcKYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZWQoYXN5bmMgdXNlciA9PiB7CiAgaWYgKHVzZXIpIHsKICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyh1c2VyLnVpZCkuZ2V0KCk7CiAgICBpZiAodXNlckRvYy5leGlzdHMgJiYgdXNlckRvYy5kYXRhKCkucm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICAgIGF3YWl0IGVuc3VyZVRlYWNoZXJIYXNBbGxQZXJtaXNzaW9ucyh1c2VyLnVpZCk7CiAgICB9CiAgICAvLyAuLi5leGlzdGluZyBjb2RlLi4uCiAgfQogIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KfSk7CgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYo9i22YEg2YfYsNinINin2YTZg9mI2K8g2YHZiiDZhtmH2KfZitipINmF2YTZgSA8c2NyaXB0PiDYo9mIINio2LnYryDYqti52LHZitmBIHNldHVwQXV0aGVudGljYXRlZFVJINmF2KjYp9i02LHYqQoKLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmB2Yog2YbZh9in2YrYqSDZhdmE2YEgPHNjcmlwdD4g2KPZiCDYqNi52K8g2KrYudix2YrZgSBzZXR1cEF1dGhlbnRpY2F0ZWRVSSDZhdio2KfYtNix2KkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4Kd2luZG93Lm9wZW5TdHVkZW50UGVybWlzc2lvbnNNb2RhbCA9IGFzeW5jIGZ1bmN0aW9uKHN0dWRlbnRJZCwgc3R1ZGVudE5hbWUpIHsKICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50UGVybWlzc2lvbnNNb2RhbCIpOwogIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3R1ZGVudFBlcm1pc3Npb25zQm9keSIpOwogIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdHVkZW50UGVybWlzc2lvbnNUaXRsZSIpLmlubmVySFRNTCA9IGDYqtit2K/ZitivINin2YTYtdmE2KfYrdmK2KfYqiDZhNmE2LfYp9mE2Kg6IDxzcGFuIHN0eWxlPSJjb2xvcjojMGE3MGZmIj4ke3N0dWRlbnROYW1lfTwvc3Bhbj5gOwogIGJvZHkuaW5uZXJIVE1MID0gItis2KfYsdmKINin2YTYqtit2YXZitmELi4uIjsKCiAgdHJ5IHsKICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLmRvYyhzdHVkZW50SWQpLmdldCgpOwogICAgY29uc3Qgc3R1ZGVudFllYXIgPSB1c2VyRG9jLmV4aXN0cyA/ICh1c2VyRG9jLmRhdGEoKS55ZWFyIHx8ICIiKSA6ICIiOwogICAgY29uc3Qgc3R1ZGVudFRlcm0gPSB1c2VyRG9jLmV4aXN0cyA/ICh1c2VyRG9jLmRhdGEoKS50ZXJtIHx8ICIiKSA6ICIiOwoKICAgIC8vINis2YTYqCDZg9mEINin2YTYp9iu2KrYqNin2LHYp9iqINmI2KfZhNmI2KfYrNio2KfYqiDYq9mFINmB2YTYqtix2Kkg2YXYrdmE2YrYp9mLINit2LPYqCDYs9mG2Kkg2Ygg2KrYsdmFINin2YTYt9in2YTYqAogICAgY29uc3QgW2V4YW1zU25hcCwgc2VsZlRlc3RzU25hcCwgY291cnNlc1NuYXBdID0gYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgICBkYi5jb2xsZWN0aW9uKCJleGFtcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCksCiAgICAgIGRiLmNvbGxlY3Rpb24oInNlbGZUZXN0cyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCksCiAgICAgIGRiLmNvbGxlY3Rpb24oInNsaWRlcyIpLm9yZGVyQnkoImNyZWF0ZWRBdCIsICJkZXNjIikuZ2V0KCkKICAgIF0pOwoKICAgIGNvbnN0IGFsbG93ZWRFeGFtcyA9IHVzZXJEb2MuZXhpc3RzICYmIEFycmF5LmlzQXJyYXkodXNlckRvYy5kYXRhKCkuYWxsb3dlZEV4YW1zKSA/IHVzZXJEb2MuZGF0YSgpLmFsbG93ZWRFeGFtcyA6IFtdOwogICAgY29uc3QgYWxsb3dlZFNlbGZUZXN0cyA9IHVzZXJEb2MuZXhpc3RzICYmIEFycmF5LmlzQXJyYXkodXNlckRvYy5kYXRhKCkuYWxsb3dlZFNlbGZUZXN0cykgPyB1c2VyRG9jLmRhdGEoKS5hbGxvd2VkU2VsZlRlc3RzIDogW107CiAgICBjb25zdCBhbGxvd2VkQ291cnNlcyA9IHVzZXJEb2MuZXhpc3RzICYmIEFycmF5LmlzQXJyYXkodXNlckRvYy5kYXRhKCkuYWxsb3dlZENvdXJzZXMpID8gdXNlckRvYy5kYXRhKCkuYWxsb3dlZENvdXJzZXMgOiBbXTsKCiAgICAvLyDZgdmE2KrYsdipOiDZgtio2YjZhCDYp9mE2LnZhti12LEg2YHZgti3INil2LDYpyDYqti32KfYqNmCINmF2Lkg2LPZhtipINin2YTYt9in2YTYqCAo2KPZiCDZhNmFINmK2K3Yr9ivINin2YTYudmG2LXYsSDYs9mG2KkpIEFORCDYqtix2YUg2KfZhNi32KfZhNioICjYo9mIINmE2YUg2YrYrdiv2K8g2KfZhNi52YbYtdixINiq2LHZhSkKICAgIGNvbnN0IG1hdGNoZXNZZWFyVGVybSA9IChpdGVtKSA9PiB7CiAgICAgIC8vINil2LDYpyDZhNmFINmK2K3Yr9ivINin2YTYt9in2YTYqCDYs9mG2Kkv2KrYsdmFINmG2LnYsdi2INin2YTZg9mECiAgICAgIGlmICghc3R1ZGVudFllYXIgJiYgIXN0dWRlbnRUZXJtKSByZXR1cm4gdHJ1ZTsKICAgICAgaWYgKHN0dWRlbnRZZWFyICYmIGl0ZW0ueWVhciAmJiBpdGVtLnllYXIgIT09IHN0dWRlbnRZZWFyKSByZXR1cm4gZmFsc2U7CiAgICAgIGlmIChzdHVkZW50VGVybSAmJiBpdGVtLnRlcm0gJiYgaXRlbS50ZXJtICE9PSBzdHVkZW50VGVybSkgcmV0dXJuIGZhbHNlOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CgogICAgbGV0IGh0bWwgPSBgPGRpdiBzdHlsZT0ibWFyZ2luLWJvdHRvbToxMnB4OyI+CiAgICAgIDxzdHJvbmcgc3R5bGU9ImNvbG9yOiMwYTcwZmY7Ij7Yp9mE2KfYrtiq2KjYp9ix2KfYqiDYp9mE2YXYqtin2K3YqSAoJHtzdHVkZW50WWVhciB8fCAn2YPZhCDYp9mE2LPZhtmI2KfYqid9IC0gJHtzdHVkZW50VGVybSB8fCAn2YPZhCDYp9mE2KrYsdmF2YrYp9iqJ30pOjwvc3Ryb25nPgogICAgICA8ZGl2IHN0eWxlPSJtYXgtaGVpZ2h0OjI0MHB4O292ZXJmbG93LXk6YXV0bztib3JkZXI6MXB4IHNvbGlkICNlZWU7cGFkZGluZzo4cHg7Ym9yZGVyLXJhZGl1czo4cHg7YmFja2dyb3VuZDojZmZmO21hcmdpbi10b3A6OHB4OyI+YDsKCiAgICBleGFtc1NuYXAuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCBleGFtID0gZG9jLmRhdGEoKTsKICAgICAgaWYgKCFtYXRjaGVzWWVhclRlcm0oZXhhbSkpIHJldHVybjsKICAgICAgY29uc3QgY2hlY2tlZCA9IGFsbG93ZWRFeGFtcy5pbmNsdWRlcyhkb2MuaWQpID8gImNoZWNrZWQiIDogIiI7CiAgICAgIGh0bWwgKz0gYDxsYWJlbCBzdHlsZT0iZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjZweCA4cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2YxZjFmMTsiPgogICAgICAgIDxzcGFuIHN0eWxlPSJmbGV4OjE7dGV4dC1hbGlnbjpyaWdodCI+JHsoZXhhbS50aXRsZSB8fCBleGFtLmRlc2NyaXB0aW9uIHx8ICfYqNiv2YjZhiDYudmG2YjYp9mGJyl9PC9zcGFuPgogICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgY2xhc3M9InN0dWRlbnQtZXhhbS1wZXJtIiB2YWx1ZT0iJHtkb2MuaWR9IiAke2NoZWNrZWR9PgogICAgICA8L2xhYmVsPmA7CiAgICB9KTsKCiAgICBodG1sICs9IGA8L2Rpdj48L2Rpdj5gOwoKICAgIGh0bWwgKz0gYDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTJweDsiPgogICAgICA8c3Ryb25nIHN0eWxlPSJjb2xvcjojMGE3MGZmOyI+2KfZhNmI2KfYrNio2KfYqiDYp9mE2YXZhtiy2YTZitipINin2YTZhdiq2KfYrdipICgke3N0dWRlbnRZZWFyIHx8ICfZg9mEINin2YTYs9mG2YjYp9iqJ30gLSAke3N0dWRlbnRUZXJtIHx8ICfZg9mEINin2YTYqtix2YXZitin2KonfSk6PC9zdHJvbmc+CiAgICAgIDxkaXYgc3R5bGU9Im1heC1oZWlnaHQ6MjQwcHg7b3ZlcmZsb3cteTphdXRvO2JvcmRlcjoxcHggc29saWQgI2VlZTtwYWRkaW5nOjhweDtib3JkZXItcmFkaXVzOjhweDtiYWNrZ3JvdW5kOiNmZmY7bWFyZ2luLXRvcDo4cHg7Ij5gOwoKICAgIHNlbGZUZXN0c1NuYXAuZm9yRWFjaChkb2MgPT4gewogICAgICBjb25zdCB0ZXN0ID0gZG9jLmRhdGEoKTsKICAgICAgaWYgKCFtYXRjaGVzWWVhclRlcm0odGVzdCkpIHJldHVybjsKICAgICAgY29uc3QgY2hlY2tlZCA9IGFsbG93ZWRTZWxmVGVzdHMuaW5jbHVkZXMoZG9jLmlkKSA/ICJjaGVja2VkIiA6ICIiOwogICAgICBodG1sICs9IGA8bGFiZWwgc3R5bGU9ImRpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7cGFkZGluZzo2cHggOHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNmMWYxZjE7Ij4KICAgICAgICA8c3BhbiBzdHlsZT0iZmxleDoxO3RleHQtYWxpZ246cmlnaHQiPiR7KHRlc3QudGl0bGUgfHwgdGVzdC5kZXNjcmlwdGlvbiB8fCAn2KjYr9mI2YYg2LnZhtmI2KfZhicpfTwvc3Bhbj4KICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJzdHVkZW50LXNlbGZ0ZXN0LXBlcm0iIHZhbHVlPSIke2RvYy5pZH0iICR7Y2hlY2tlZH0+CiAgICAgIDwvbGFiZWw+YDsKICAgIH0pOwoKICAgIGh0bWwgKz0gYDwvZGl2PjwvZGl2PmA7CgogICAgLy8g2KfZhNmF2YLYsdix2KfYqiAtINmE2Kcg2YbYt9io2ZHZgiDZgdmE2KrYsdipINi12KfYsdmF2Kkg2YfZhtinINmE2YPZhiDZitmF2YPZhiDYpdi22KfZgdiq2YfYpyDYpdiw2Kcg2KPYsdiv2KoKICAgIGh0bWwgKz0gYDxkaXYgc3R5bGU9Im1hcmdpbi1ib3R0b206MTJweDsiPgogICAgICA8c3Ryb25nIHN0eWxlPSJjb2xvcjojMGE3MGZmOyI+2KfZhNmF2YLYsdix2KfYqjo8L3N0cm9uZz4KICAgICAgPGRpdiBzdHlsZT0ibWF4LWhlaWdodDoxODBweDtvdmVyZmxvdy15OmF1dG87Ym9yZGVyOjFweCBzb2xpZCAjZWVlO3BhZGRpbmc6OHB4O2JvcmRlci1yYWRpdXM6OHB4O2JhY2tncm91bmQ6I2ZmZjttYXJnaW4tdG9wOjhweDsiPmA7CiAgICBjb3Vyc2VzU25hcC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgIGNvbnN0IGNvdXJzZSA9IGRvYy5kYXRhKCk7CiAgICAgIGNvbnN0IGNoZWNrZWQgPSBhbGxvd2VkQ291cnNlcy5pbmNsdWRlcyhkb2MuaWQpID8gImNoZWNrZWQiIDogIiI7CiAgICAgIGh0bWwgKz0gYDxsYWJlbCBzdHlsZT0iZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjZweCA4cHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2YxZjFmMTsiPgogICAgICAgIDxzcGFuIHN0eWxlPSJmbGV4OjE7dGV4dC1hbGlnbjpyaWdodCI+JHsoY291cnNlLnRpdGxlIHx8ICcnKX08L3NwYW4+CiAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0ic3R1ZGVudC1jb3Vyc2UtcGVybSIgdmFsdWU9IiR7ZG9jLmlkfSIgJHtjaGVja2VkfT4KICAgICAgPC9sYWJlbD5gOwogICAgfSk7CiAgICBodG1sICs9IGA8L2Rpdj48L2Rpdj5gOwoKICAgIGJvZHkuaW5uZXJIVE1MID0gaHRtbDsKICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAiZmxleCI7CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNhdmVTdHVkZW50UGVybWlzc2lvbnNCdG4iKS5vbmNsaWNrID0gYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgIGNvbnN0IGV4YW1zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuc3R1ZGVudC1leGFtLXBlcm06Y2hlY2tlZCIpKS5tYXAoY2IgPT4gY2IudmFsdWUpOwogICAgICBjb25zdCBzZWxmVGVzdHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5zdHVkZW50LXNlbGZ0ZXN0LXBlcm06Y2hlY2tlZCIpKS5tYXAoY2IgPT4gY2IudmFsdWUpOwogICAgICBjb25zdCBjb3Vyc2VzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuc3R1ZGVudC1jb3Vyc2UtcGVybTpjaGVja2VkIikpLm1hcChjYiA9PiBjYi52YWx1ZSk7CiAgICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHN0dWRlbnRJZCkuc2V0KHsKICAgICAgICBhbGxvd2VkRXhhbXM6IGV4YW1zLAogICAgICAgIGFsbG93ZWRTZWxmVGVzdHM6IHNlbGZUZXN0cywKICAgICAgICBhbGxvd2VkQ291cnNlczogY291cnNlcwogICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pOwogICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICBzaG93VG9hc3QoItiq2YUg2KrYrdiv2YrYqyDYp9mE2LXZhNin2K3Zitin2KohIiwgInN1Y2Nlc3MiKTsKICAgIH07CgogIH0gY2F0Y2ggKGVycikgewogICAgYm9keS5pbm5lckhUTUwgPSBgPGRpdiBzdHlsZT0iY29sb3I6cmVkOyI+2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINin2YTYqtit2YXZitmEOiAke2Vyci5tZXNzYWdlfTwvZGl2PmA7CiAgfQp9OwovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINin2LPYqtio2K/ZhCDYr9in2YTYqSBzaG93V2VsY29tZUJhY2tDZWxlYnJhdGlvbiDYqNmH2LDYpyDYp9mE2YPZiNivINmE2KzYudmEINin2YTYsdiz2KfZhNipINmI2KfZhNij2YTZiNin2YYg2YXYqtmG2KfYs9mC2Kkg2YjYudi12LHZitipINmI2YXYqtis2KfZiNio2Kkg2YXYuSDYrNmF2YrYuSDYp9mE2LTYp9i02KfYqgpmdW5jdGlvbiBzaG93V2VsY29tZUJhY2tDZWxlYnJhdGlvbihsYXN0QWN0aXZlRGF0ZSkgewogIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgid2VsY29tZUJhY2tDZWxlYnJhdGlvbiIpKSByZXR1cm47CgogIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgbW9kYWwuaWQgPSAid2VsY29tZUJhY2tDZWxlYnJhdGlvbiI7CiAgbW9kYWwuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOwogIG1vZGFsLnN0eWxlLnRvcCA9ICIwIjsKICBtb2RhbC5zdHlsZS5sZWZ0ID0gIjAiOwogIG1vZGFsLnN0eWxlLndpZHRoID0gIjEwMHZ3IjsKICBtb2RhbC5zdHlsZS5oZWlnaHQgPSAiMTAwdmgiOwogIG1vZGFsLnN0eWxlLmJhY2tncm91bmQgPSAicmdiYSgxMCwxMTIsMjU1LDAuMTMpIjsKICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gImZsZXgiOwogIG1vZGFsLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gImNlbnRlciI7CiAgbW9kYWwuc3R5bGUuYWxpZ25JdGVtcyA9ICJjZW50ZXIiOwogIG1vZGFsLnN0eWxlLnpJbmRleCA9ICI5OTk5OSI7CgogIGxldCBsYXN0QWN0aXZlU3RyID0gIiI7CiAgaWYgKGxhc3RBY3RpdmVEYXRlIGluc3RhbmNlb2YgRGF0ZSkgewogICAgbGFzdEFjdGl2ZVN0ciA9IGDYotiu2LEg2K/YrtmI2YQg2YTZgyDZg9in2YYg2KjYqtin2LHZitiuIDxiIHN0eWxlPSJjb2xvcjojMGE3MGZmIj4ke2xhc3RBY3RpdmVEYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpfSAke2xhc3RBY3RpdmVEYXRlLnRvTG9jYWxlVGltZVN0cmluZygpfTwvYj5gOwogIH0KCiAgbW9kYWwuaW5uZXJIVE1MID0gYAogICAgPGRpdiBpZD0id2VsY29tZUJhY2tDZWxlYnJhdGlvbkNvbnRlbnQiIHN0eWxlPSIKICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2UzZjBmZiA2MCUsICNmZmZiZTYgMTAwJSk7CiAgICAgIGJvcmRlci1yYWRpdXM6IDI4cHg7CiAgICAgIHBhZGRpbmc6IDQ0cHggMjRweCAzNHB4IDI0cHg7CiAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDQwcHggMCByZ2JhKDEwLDExMiwyNTUsMC4xOCksIDAgMnB4IDEycHggIzBhNzBmZjExOwogICAgICBtYXgtd2lkdGg6IDM3MHB4OwogICAgICB3aWR0aDogOTZ2dzsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBhbmltYXRpb246IGZhZGVJbiAwLjdzOwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIGRpcmVjdGlvbjogcnRsOwogICAgICBib3JkZXI6IDNweCBzb2xpZCAjMGE3MGZmMjI7CiAgICAgIG92ZXJmbG93OiB2aXNpYmxlOwogICAgICBmb250LWZhbWlseTogJ1RhamF3YWwnLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAgICI+CiAgICAgIDxjYW52YXMgaWQ9ImNvbmZldHRpQ2FudmFzIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OjE7Ij48L2NhbnZhcz4KICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbi1ib3R0b206MTJweDt6LWluZGV4OjI7cG9zaXRpb246cmVsYXRpdmU7Ij4KICAgICAgICA8c3BhbiBzdHlsZT0iYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCMxNGVlODggNjAlLCMwYTcwZmYgMTAwJSk7Ym9yZGVyLXJhZGl1czo1MCU7cGFkZGluZzoxOHB4O2JveC1zaGFkb3c6MCA0cHggMThweCAjMGE3MGZmMjI7Ij4KICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY3Jvd24iIHN0eWxlPSJmb250LXNpemU6Mi4ycmVtO2NvbG9yOiNmZjk4MDA7dGV4dC1zaGFkb3c6MCAycHggOHB4ICNmZjk4MDA1NTsiPjwvaT4KICAgICAgICA8L3NwYW4+CiAgICAgIDwvZGl2PgogICAgICA8aDIgc3R5bGU9ImZvbnQtc2l6ZToxLjNyZW07Y29sb3I6IzBhNzBmZjttYXJnaW4tYm90dG9tOjEycHg7Zm9udC13ZWlnaHQ6Ym9sZDtsZXR0ZXItc3BhY2luZzoxcHg7ei1pbmRleDoyO3Bvc2l0aW9uOnJlbGF0aXZlO2xpbmUtaGVpZ2h0OjEuNTsiPgogICAgICAgIPCfjokg2KPZh9mE2KfZiyDYqNi52YjYr9iq2YMg2KXZhNmJIDxzcGFuIHN0eWxlPSJjb2xvcjojMTRlZTg4OyI+2KfZhNmB2YrYstmK2KfYoSDYp9mE2YTYsNmK2LDZhyAgPC9zcGFuPiDwn46JCiAgICAgIDwvaDI+CiAgICAgIDxkaXYgc3R5bGU9ImZvbnQtc2l6ZToxLjA4cmVtO2NvbG9yOiMyMjI7bWFyZ2luLWJvdHRvbToyMnB4O2xpbmUtaGVpZ2h0OjI7d29yZC1icmVhazpicmVhay13b3JkO3RleHQtYWxpZ246Y2VudGVyO3otaW5kZXg6Mjtwb3NpdGlvbjpyZWxhdGl2ZTsiPgogICAgICAgICR7bGFzdEFjdGl2ZVN0ciA/IGxhc3RBY3RpdmVTdHIgKyAiPGJyPiIgOiAiIn0KICAgICAgICA8c3BhbiBzdHlsZT0iY29sb3I6IzE0ZWU4ODtmb250LXdlaWdodDpib2xkOyI+2YTZgtivINin2LTYqtmC2YbYpyDYpdmE2YrZgyE8L3NwYW4+PGJyPgogICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjojMGE3MGZmO2ZvbnQtd2VpZ2h0OmJvbGQ7Ij7Zhtiq2YXZhtmJINmE2YMg2YrZiNmF2KfZiyDZhdmE2YrYptin2Ysg2KjYp9mE2YbYrNin2K0g2YjYp9mE2LPYudin2K/YqS48L3NwYW4+PGJyPgogICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MXJlbTtjb2xvcjojZmY5ODAwOyI+2KfYqNiv2KMg2YXYutin2YXYsdiq2YMg2KfZhNmK2YjZhSDwn5qAPC9zcGFuPgogICAgICA8L2Rpdj4KICAgICAgPGJ1dHRvbiBpZD0iY2xvc2VXZWxjb21lQmFja0J0biIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyIgc3R5bGU9InBhZGRpbmc6MTJweCAzMnB4O2ZvbnQtc2l6ZToxLjA4cmVtO2JvcmRlci1yYWRpdXM6MTJweDttYXJnaW4tdG9wOjEwcHg7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoOTBkZWcsIzBhNzBmZiwjMTRlZTg4KTtib3JkZXI6bm9uZTt6LWluZGV4OjI7cG9zaXRpb246cmVsYXRpdmU7Ym94LXNoYWRvdzowIDJweCAxMnB4ICMwYTcwZmYyMjsiPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtYm9sdCIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweDsiPjwvaT4g2YTZhtio2K/YoyEKICAgICAgPC9idXR0b24+CiAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6MThweDt6LWluZGV4OjI7cG9zaXRpb246cmVsYXRpdmU7Ij4KICAgICAgICA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjEuNXJlbTsiPuKcqPCfjJ/wn46K8J+OiDwvc3Bhbj4KICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDxzdHlsZT4KICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7CiAgICAgICAgI3dlbGNvbWVCYWNrQ2VsZWJyYXRpb25Db250ZW50IHsKICAgICAgICAgIG1heC13aWR0aDogOTh2dyAhaW1wb3J0YW50OwogICAgICAgICAgd2lkdGg6IDk4dncgIWltcG9ydGFudDsKICAgICAgICAgIHBhZGRpbmc6IDE4cHggNHZ3IDE4cHggNHZ3ICFpbXBvcnRhbnQ7CiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNHB4ICFpbXBvcnRhbnQ7CiAgICAgICAgfQogICAgICAgICN3ZWxjb21lQmFja0NlbGVicmF0aW9uQ29udGVudCBoMiB7CiAgICAgICAgICBmb250LXNpemU6IDEuMDdyZW0gIWltcG9ydGFudDsKICAgICAgICB9CiAgICAgICAgI3dlbGNvbWVCYWNrQ2VsZWJyYXRpb25Db250ZW50IGRpdiB7CiAgICAgICAgICBmb250LXNpemU6IDAuOTdyZW0gIWltcG9ydGFudDsKICAgICAgICB9CiAgICAgICAgI2Nsb3NlV2VsY29tZUJhY2tCdG4gewogICAgICAgICAgZm9udC1zaXplOiAxcmVtICFpbXBvcnRhbnQ7CiAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEwdncgIWltcG9ydGFudDsKICAgICAgICB9CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgYDsKICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTsKCiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNsb3NlV2VsY29tZUJhY2tCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgICBtb2RhbC5yZW1vdmUoKTsKICB9OwoKICAvLyDYqtij2KvZitixINmF2YHYsdmC2LnYp9iqINin2K3YqtmB2KfZhNmK2Kkg2YXYqtmD2LHYsdipINmI2YXZhNmI2YbYqSDZhNmB2KrYsdipINij2LfZiNmEINmI2KPZg9ir2LEg2YPYq9in2YHYqQogIGZ1bmN0aW9uIGxhdW5jaENvbmZldHRpQnVyc3QoKSB7CiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29uZmV0dGlDYW52YXMiKTsKICAgIGlmICghY2FudmFzKSByZXR1cm47CiAgICBjYW52YXMud2lkdGggPSBjYW52YXMub2Zmc2V0V2lkdGg7CiAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLm9mZnNldEhlaWdodDsKICAgIGNvbnN0IGNvbmZldHRpID0gd2luZG93LmNvbmZldHRpLmNyZWF0ZShjYW52YXMsIHsgcmVzaXplOiB0cnVlLCB1c2VXb3JrZXI6IHRydWUgfSk7CiAgICBsZXQgYnVyc3RzID0gMDsKICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICBidXJzdHMrKzsKICAgICAgY29uZmV0dGkoewogICAgICAgIHBhcnRpY2xlQ291bnQ6IDEyMCArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo0MCksCiAgICAgICAgc3ByZWFkOiAxNDAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNDApLAogICAgICAgIG9yaWdpbjogeyB5OiAwLjQgKyBNYXRoLnJhbmRvbSgpKjAuMyB9LAogICAgICAgIHN0YXJ0VmVsb2NpdHk6IDQ1ICsgTWF0aC5yYW5kb20oKSoxNSwKICAgICAgICBncmF2aXR5OiAwLjU1ICsgTWF0aC5yYW5kb20oKSowLjE1LAogICAgICAgIHNjYWxhcjogMS4xICsgTWF0aC5yYW5kb20oKSowLjMsCiAgICAgICAgc2hhcGVzOiBbJ2NpcmNsZScsICdzcXVhcmUnLCAnc3RhciddLAogICAgICAgIGNvbG9yczogWycjMGE3MGZmJywgJyMxNGVlODgnLCAnI2ZmOTgwMCcsICcjZmYyNjAwJywgJyNmZmZiZTYnLCAnI2UzZjBmZicsICcjZmM1YzY1JywgJyM0Y2FmNTAnLCAnI2Y0NDMzNicsICcjZmZkNjAwJ10KICAgICAgfSk7CiAgICAgIGlmIChidXJzdHMgPj0gMTApIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOyAvLyDZhdiv2Kkg2KPYt9mI2YQgKDEwINin2YbZgdis2KfYsdin2KopCiAgICB9LCA2NTApOwogIH0KCiAgc2V0VGltZW91dCgoKSA9PiB7CiAgICBpZiAod2luZG93LmNvbmZldHRpKSB7CiAgICAgIGxhdW5jaENvbmZldHRpQnVyc3QoKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgICBzY3JpcHQuc3JjID0gImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vY2FudmFzLWNvbmZldHRpQDEuNi4wL2Rpc3QvY29uZmV0dGkuYnJvd3Nlci5taW4uanMiOwogICAgICBzY3JpcHQub25sb2FkID0gbGF1bmNoQ29uZmV0dGlCdXJzdDsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpOwogICAgfQogIH0sIDUwMCk7Cn0KLy8gLi4u2K/Yp9iu2YQgc2V0dXBBdXRoZW50aWNhdGVkVUkoKSDYqNi52K8g2LbYqNi3INin2YTZhdiq2LrZitix2KfYqiDZhdio2KfYtNix2KkuLi4KCmlmICh1c2VyUm9sZSA9PT0gInN0dWRlbnQiKSB7CiAgbGV0IGxhc3RBY3RpdmUgPSBudWxsOwogIGlmIChjdXJyZW50VXNlckRhdGE/Lmxhc3RBY3RpdmUpIHsKICAgIGlmICh0eXBlb2YgY3VycmVudFVzZXJEYXRhLmxhc3RBY3RpdmUgPT09ICJvYmplY3QiICYmIHR5cGVvZiBjdXJyZW50VXNlckRhdGEubGFzdEFjdGl2ZS50b0RhdGUgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgbGFzdEFjdGl2ZSA9IGN1cnJlbnRVc2VyRGF0YS5sYXN0QWN0aXZlLnRvRGF0ZSgpOwogICAgfSBlbHNlIGlmICh0eXBlb2YgY3VycmVudFVzZXJEYXRhLmxhc3RBY3RpdmUgPT09ICJudW1iZXIiKSB7CiAgICAgIGxhc3RBY3RpdmUgPSBuZXcgRGF0ZShjdXJyZW50VXNlckRhdGEubGFzdEFjdGl2ZSk7CiAgICB9CiAgfQogIHNob3dXZWxjb21lQmFja0NlbGVicmF0aW9uKGxhc3RBY3RpdmUpOwp9Ci8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vINiv2YjYp9mEIGFkZE9wdGlvbi9yZW1vdmVRdWVzdGlvbiDZhdmI2KzZiNiv2Kkg2YTYr9mK2YMg2KjYp9mE2YHYudmEINmI2KrYudmF2YQg2YXYuSDYp9mE2KPYs9im2YTYqSDYp9mE2YXYs9iq2YjYsdiv2KkKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2KPYttmBINmH2LDYpyDYp9mE2YPZiNivINmB2Yog2YbZh9in2YrYqSDZhdmE2YEgPHNjcmlwdD4g2KPZiCDYqNi52K8g2KrYudix2YrZgSDYr9mI2KfZhCDYqtit2K/ZitirINin2YTYt9mE2KfYqCDZhdio2KfYtNix2KkKCi8vINiv2KfZhNipINiq2KzYudmEINi12YHYrdipINin2YTYt9in2YTYqCDYqti52YXZhCDYsdmK2YHYsdi0INiq2YTZgtin2KbZiiDYpdiw2Kcg2LfZhNioINin2YTZhdi52YTZhSDYsNmE2YMKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgoKLy8g2LbYuSDZh9iw2Kcg2KfZhNmD2YjYryDZgdmKINmG2YfYp9mK2Kkg2YXZhNmBIDxzY3JpcHQ+INij2Ygg2KjYudivINiq2LnYsdmK2YEgc2V0dXBBdXRoZW50aWNhdGVkVUkg2YXYqNin2LTYsdipCgovLyDYr9in2YTYqSDYqtis2LnZhCDYtdmB2K3YqSDYp9mE2LfYp9mE2Kgg2KrYuNmH2LEg2LHYs9in2YTYqSDYpdis2KjYp9ix2YrYqSDYudmG2K8g2LfZhNioINin2YTZhdi52YTZhSDYqtit2K/ZitirINin2YTYtdmB2K3YqSAo2KrYrdiv2YrYqyDYqtmE2YLYp9im2Yog2YTZhNmD2YQpCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCgovLyDYr9in2YTYqSDZhNmE2YXYudmE2YU6INil2LHYs9in2YQg2KPZhdixINix2YrZgdix2LQg2YTYt9in2YTYqCDZhdi52YrZhiDYo9mIINmE2YPZhCDYp9mE2LfZhNin2KgKd2luZG93LnNlbmRTdHVkZW50UmVsb2FkID0gZnVuY3Rpb24oc3R1ZGVudElkID0gbnVsbCkgewogIGlmICh1c2VyUm9sZSAhPT0gInRlYWNoZXIiKSByZXR1cm47CiAgaWYgKHN0dWRlbnRJZCkgewogICAgZGIuY29sbGVjdGlvbigic3R1ZGVudFJlbG9hZHMiKS5kb2Moc3R1ZGVudElkKS5zZXQoeyByZWxvYWQ6IHRydWUgfSk7CiAgfSBlbHNlIHsKICAgIC8vINmE2YPZhCDYp9mE2LfZhNin2KgKICAgIGRiLmNvbGxlY3Rpb24oInVzZXJzIikud2hlcmUoInJvbGUiLCAiPT0iLCAic3R1ZGVudCIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgZGIuY29sbGVjdGlvbigic3R1ZGVudFJlbG9hZHMiKS5kb2MoZG9jLmlkKS5zZXQoeyByZWxvYWQ6IHRydWUgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgfQogIHNob3dUb2FzdCgi2KrZhSDYpdix2LPYp9mEINij2YXYsSDYqtit2K/ZitirINin2YTYtdmB2K3YqSDZhNmE2LfYp9mE2Kgv2KfZhNi32YTYp9ioLiIsICJzdWNjZXNzIik7Cn07Cgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24oKSB7CiAgLy8g2LLYsSDYqtit2K/ZitirINiq2YTZgtin2KbZiiDZhNmE2YPZhAogIGNvbnN0IHN0dWRlbnRzVGFibGVIZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3R1ZGVudHNQYWdlIC5ncmFkZXMtdGFibGUgdGhlYWQgdHInKTsKICBpZiAoc3R1ZGVudHNUYWJsZUhlYWRlciAmJiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZvcmNlUmVsb2FkQWxsQnRuJykpIHsKICAgIGNvbnN0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTsKICAgIHRoLmlubmVySFRNTCA9IGA8YnV0dG9uIGlkPSJmb3JjZVJlbG9hZEFsbEJ0biIgY2xhc3M9ImJ0biBidG4td2FybmluZyBidG4tc20iIHRpdGxlPSLYpdis2KjYp9ixINmD2YQg2KfZhNi32YTYp9ioINi52YTZiSDYqtit2K/ZitirINin2YTYtdmB2K3YqSI+PGkgY2xhc3M9ImZhcyBmYS1zeW5jLWFsdCI+PC9pPiDYqtit2K/ZitirINiq2YTZgtin2KbZiiDZhNmE2YPZhDwvYnV0dG9uPmA7CiAgICBzdHVkZW50c1RhYmxlSGVhZGVyLmFwcGVuZENoaWxkKHRoKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JjZVJlbG9hZEFsbEJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgaWYgKGNvbmZpcm0oItmH2YQg2KrYsdmK2K8g2KXYrNio2KfYsSDYrNmF2YrYuSDYp9mE2LfZhNin2Kgg2LnZhNmJINiq2K3Yr9mK2Ksg2KfZhNi12YHYrdipINin2YTYotmG2J8iKSkgewogICAgICAgIHdpbmRvdy5zZW5kU3R1ZGVudFJlbG9hZChudWxsKTsKICAgICAgICAvLyDZhNinINiq2LjZh9ixINin2YTYsdiz2KfZhNipINmE2YTZhdi52YTZhdiMINmB2YLYtyDYp9mE2LfZhNin2Kgg2LPZiti42YfYsSDZhNmH2YUg2KrZhNmC2KfYptmK2KfZiyDYudmG2K8g2KfYs9iq2YLYqNin2YQgcmVsb2FkINmF2YYg2YLYp9i52K/YqSDYp9mE2KjZitin2YbYp9iqCiAgICAgIH0KICAgIH07CiAgfQp9KTsKLy8g2LnZhtivINiq2K3ZhdmK2YQg2KfZhNi32YTYp9ioINij2LbZgSDYstixINiq2K3Yr9mK2Ksg2KrZhNmC2KfYptmKINmE2YPZhCDYt9in2YTYqAoKICAvLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIHNob3dBY2Nlc3NEZW5pZWRNb2RhbCgpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2Nlc3NEZW5pZWRNb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7Cn0KCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCmNvbnN0IElURU1TX1BFUl9QQUdFID0gNTsgLy8g2LnYr9ivINin2YTYudmG2KfYtdixINmE2YPZhCDYtdmB2K3YqSAo2LTYsdin2KbYrSAvINmI2KfYrNio2KfYqikKIC8vINi52LHYtiDYp9mE2LTYsdin2KbYrSDYqNiv2YjZhiDYo9mKINij2LLYsdin2LEg2KrYsdmC2YrZhSAo2KfZhNmF2YLYsdix2KfYqiDZhNinINiq2K3YqtmI2Yog2LnZhNmJIFBhZ2VyKQpmdW5jdGlvbiBsb2FkU2xpZGVzKHBhZ2UgPSAxKSB7CiAgY29uc3Qgc2xpZGVzR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZXNHcmlkIik7CiAgc2xpZGVzR3JpZC5pbm5lckhUTUwgPSAiPHA+2KzYp9ix2Yog2KrYrdmF2YrZhCDYp9mE2LTYsdin2KbYrS4uLjwvcD4iOwoKICBkYi5jb2xsZWN0aW9uKCJzbGlkZXMiKS5vcmRlckJ5KCJjcmVhdGVkQXQiLCAiZGVzYyIpLmdldCgpLnRoZW4oc25hcHNob3QgPT4gewogICAgaWYgKHNuYXBzaG90LmVtcHR5KSB7CiAgICAgIHNsaWRlc0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2LTYsdin2KbYrSDZhdiq2KfYrdipINit2KfZhNmK2KfZizwvcD4iOwogICAgICAvLyDYpdiy2KfZhNipINin2YTZgCBwYWdlciDYpdiw2Kcg2YPYp9mG2Kog2YXZiNis2YjYr9ipCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZXNQYWdlclRvcCIpPy5yZW1vdmUoKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGFsbFNsaWRlcyA9IFtdOwogICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gYWxsU2xpZGVzLnB1c2goeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTsKCiAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKGFsbFNsaWRlcy5sZW5ndGggLyBJVEVNU19QRVJfUEFHRSkpOwogICAgY29uc3QgY3VycmVudFBhZ2UgPSBNYXRoLm1heCgxLCBNYXRoLm1pbihwYWdlLCB0b3RhbFBhZ2VzKSk7CiAgICBjb25zdCBzdGFydCA9IChjdXJyZW50UGFnZSAtIDEpICogSVRFTVNfUEVSX1BBR0U7CiAgICBjb25zdCBwYWdlU2xpZGVzID0gYWxsU2xpZGVzLnNsaWNlKHN0YXJ0LCBzdGFydCArIElURU1TX1BFUl9QQUdFKTsKCiAgICBzbGlkZXNHcmlkLmlubmVySFRNTCA9ICIiOwogICAgcGFnZVNsaWRlcy5mb3JFYWNoKHMgPT4gc2xpZGVzR3JpZC5hcHBlbmRDaGlsZChjcmVhdGVTbGlkZUNhcmQocywgcy5pZCkpKTsKCiAgICAvLyB0b3AgcGFnZXIgb25seSAo2KPYuNmH2LHZh9inINmE2YTYt9in2YTYqCDZiNin2YTZhdi52YTZhSkKICAgIGxldCBwYWdlclRvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbGlkZXNQYWdlclRvcCIpOwogICAgaWYgKCFwYWdlclRvcCkgewogICAgICBwYWdlclRvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBwYWdlclRvcC5pZCA9ICJzbGlkZXNQYWdlclRvcCI7CiAgICAgIHBhZ2VyVG9wLnN0eWxlID0gImRpc3BsYXk6ZmxleDtnYXA6MTBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW46OHB4IDA7IjsKICAgICAgLy8g2KPYr9iu2YQg2KfZhNmAIHBhZ2VyINmB2YjZgiDZgtin2KbZhdipINin2YTYtNix2KfYptitCiAgICAgIHNsaWRlc0dyaWQucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUocGFnZXJUb3AsIHNsaWRlc0dyaWQpOwogICAgfQogICAgcGFnZXJUb3AuaW5uZXJIVE1MID0gYAogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIGlkPSJzbGlkZXNQcmV2QnRuVG9wIiAke2N1cnJlbnRQYWdlID09PSAxID8gJ2Rpc2FibGVkJyA6ICcnfT7Yp9mE2LPYp9io2YI8L2J1dHRvbj4KICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtd2VpZ2h0OjcwMDtjb2xvcjojMGE3MGZmOyI+2LXZgdit2KkgJHtjdXJyZW50UGFnZX0g2YXZhiAke3RvdGFsUGFnZXN9PC9zcGFuPgogICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLW91dGxpbmUiIGlkPSJzbGlkZXNOZXh0QnRuVG9wIiAke2N1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzID8gJ2Rpc2FibGVkJyA6ICcnfT7Yp9mE2KrYp9mE2Yo8L2J1dHRvbj4KICAgIGA7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVzUHJldkJ0blRvcCIpLm9uY2xpY2sgPSAoKSA9PiBsb2FkU2xpZGVzKGN1cnJlbnRQYWdlIC0gMSk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2xpZGVzTmV4dEJ0blRvcCIpLm9uY2xpY2sgPSAoKSA9PiBsb2FkU2xpZGVzKGN1cnJlbnRQYWdlICsgMSk7CiAgfSkuY2F0Y2goZXJyID0+IHsKICAgIHNsaWRlc0dyaWQuaW5uZXJIVE1MID0gIjxwPtit2K/YqyDYrti32KMg2KPYq9mG2KfYoSDYqtit2YXZitmEINin2YTYtNix2KfYptitOiAiICsgZXJyLm1lc3NhZ2UgKyAiPC9wPiI7CiAgfSk7Cn0KCi8vINiq2LHZgtmK2YUg2KfYrtiq2KjYp9ix2KfYqiAi2KfYrtiq2KjYsSDZhtmB2LPZgyIg4oCUINij2LLYsdin2LEg2YHZiiDYp9mE2KPYudmE2Ykg2YHZgti3CmZ1bmN0aW9uIGxvYWRTZWxmVGVzdHMocGFnZSA9IDEpIHsKICBjb25zdCBzZWxmVGVzdHNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlbGZUZXN0c0dyaWQiKTsKICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2K7Yqtio2KfYsdin2KogXCLYp9iu2KrYqNixINmG2YHYs9mDXCIuLi48L3A+IjsKCiAgZGIuY29sbGVjdGlvbignc2VsZlRlc3RzJykub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICI8cD7ZhNinINiq2YjYrNivINin2K7Yqtio2KfYsdin2KogXCLYp9iu2KrYqNixINmG2YHYs9mDXCIg2YXYqtin2K3YqSDYrdin2YTZitin2Ys8L3A+IjsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IGFsbFRlc3RzID0gW107CiAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiBhbGxUZXN0cy5wdXNoKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9KSk7CgogICAgbGV0IGZpbHRlcmVkID0gYWxsVGVzdHM7CiAgICBpZiAodXNlclJvbGUgPT09ICJzdHVkZW50IiAmJiBjdXJyZW50VXNlckRhdGEpIHsKICAgICAgZmlsdGVyZWQgPSBhbGxUZXN0cy5maWx0ZXIodCA9PiB0LnllYXIgPT09IGN1cnJlbnRVc2VyRGF0YS55ZWFyICYmIHQudGVybSA9PT0gY3VycmVudFVzZXJEYXRhLnRlcm0pOwogICAgfQoKICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoZmlsdGVyZWQubGVuZ3RoIC8gSVRFTVNfUEVSX1BBR0UpKTsKICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gTWF0aC5tYXgoMSwgTWF0aC5taW4ocGFnZSwgdG90YWxQYWdlcykpOwogICAgY29uc3Qgc3RhcnQgPSAoY3VycmVudFBhZ2UgLSAxKSAqIElURU1TX1BFUl9QQUdFOwogICAgY29uc3QgcGFnZVRlc3RzID0gZmlsdGVyZWQuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgSVRFTVNfUEVSX1BBR0UpOwoKICAgIHNlbGZUZXN0c0dyaWQuaW5uZXJIVE1MID0gIiI7CiAgICBwYWdlVGVzdHMuZm9yRWFjaCh0ID0+IHNlbGZUZXN0c0dyaWQuYXBwZW5kQ2hpbGQoY3JlYXRlU2VsZlRlc3RDYXJkKHQsIHQuaWQpKSk7CgogICAgLy8gdG9wIHBhZ2VyIG9ubHkKICAgIGxldCBwYWdlclRvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNQYWdlclRvcCIpOwogICAgaWYgKCFwYWdlclRvcCkgewogICAgICBwYWdlclRvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBwYWdlclRvcC5pZCA9ICJzZWxmVGVzdHNQYWdlclRvcCI7CiAgICAgIHBhZ2VyVG9wLnN0eWxlID0gImRpc3BsYXk6ZmxleDtnYXA6MTBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjttYXJnaW46OHB4IDA7IjsKICAgICAgc2VsZlRlc3RzR3JpZC5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShwYWdlclRvcCwgc2VsZlRlc3RzR3JpZCk7CiAgICB9CiAgICBwYWdlclRvcC5pbm5lckhUTUwgPSBgCiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9InNlbGZUZXN0c1ByZXZCdG5Ub3AiICR7Y3VycmVudFBhZ2UgPT09IDEgPyAnZGlzYWJsZWQnIDogJyd9Ptin2YTYs9in2KjZgjwvYnV0dG9uPgogICAgICA8c3BhbiBzdHlsZT0iZm9udC13ZWlnaHQ6NzAwO2NvbG9yOiMwYTcwZmY7Ij7YtdmB2K3YqSAke2N1cnJlbnRQYWdlfSDZhdmGICR7dG90YWxQYWdlc308L3NwYW4+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9InNlbGZUZXN0c05leHRCdG5Ub3AiICR7Y3VycmVudFBhZ2UgPT09IHRvdGFsUGFnZXMgPyAnZGlzYWJsZWQnIDogJyd9Ptin2YTYqtin2YTZijwvYnV0dG9uPgogICAgYDsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNQcmV2QnRuVG9wIikub25jbGljayA9ICgpID0+IGxvYWRTZWxmVGVzdHMoY3VycmVudFBhZ2UgLSAxKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWxmVGVzdHNOZXh0QnRuVG9wIikub25jbGljayA9ICgpID0+IGxvYWRTZWxmVGVzdHMoY3VycmVudFBhZ2UgKyAxKTsKICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICBzZWxmVGVzdHNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9iu2KrYqNin2LHYp9iqIFwi2KfYrtiq2KjYsSDZhtmB2LPZg1wiOiAiICsgZXJyb3IubWVzc2FnZSArICc8L3A+JzsKICB9KTsKfQoKLy8g2KrYsdmC2YrZhSDZhNmE2KfYrtiq2KjYp9ix2KfYqiAoUmVjZW50IEV4YW1zKSDigJQg2KPYstix2KfYsSDZgdmKINin2YTYo9i52YTZiSDZgdmC2LcKZnVuY3Rpb24gbG9hZFJlY2VudEV4YW1zKHBhZ2UgPSAxKSB7CiAgY29uc3QgZXhhbXNHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlY2VudEV4YW1zIik7CiAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7YrNin2LHZiiDYqtit2YXZitmEINin2YTYp9iu2KrYqNin2LHYp9iqLi4uPC9wPiI7CgogIGRiLmNvbGxlY3Rpb24oImV4YW1zIikub3JkZXJCeSgiY3JlYXRlZEF0IiwgImRlc2MiKS5nZXQoKS50aGVuKHNuYXBzaG90ID0+IHsKICAgIGlmIChzbmFwc2hvdC5lbXB0eSkgewogICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxwPtmE2Kcg2KrZiNis2K8g2KfYrtiq2KjYp9ix2KfYqiDZhdiq2KfYrdipINit2KfZhNmK2KfZizwvcD4iOwogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgYWxsRXhhbXMgPSBbXTsKICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IGFsbEV4YW1zLnB1c2goeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0pKTsKCiAgICAvLyDZgdmE2KrYsdipINit2LPYqCDYr9mI2LEg2KfZhNmF2LPYqtiu2K/ZhSDZiNiz2YbYqS/Yqtix2YUg2KfZhNi32KfZhNioCiAgICBsZXQgZmlsdGVyZWQgPSBhbGxFeGFtczsKICAgIGlmICh1c2VyUm9sZSA9PT0gInRlYWNoZXIiKSB7CiAgICAgIC8vINmE2YTZhdi52YTZhSDYp9i52LHYtiDYp9mE2YPZhCAo2KPZiCDZitmF2YPZhtmDINiq2K7YtdmK2LUg2KfZhNmB2YTYqtix2KkpCiAgICAgIGZpbHRlcmVkID0gYWxsRXhhbXM7CiAgICB9IGVsc2UgewogICAgICBpZiAoIWN1cnJlbnRVc2VyRGF0YSB8fCAhY3VycmVudFVzZXJEYXRhLnllYXIpIHsKICAgICAgICBleGFtc0dyaWQuaW5uZXJIVE1MID0gIjxkaXYgc3R5bGU9J2NvbG9yOiNlNjdlMjI7Zm9udC13ZWlnaHQ6Ym9sZDtmb250LXNpemU6MS4xcmVtO3BhZGRpbmc6MjBweDsnPtmK2LHYrNmJINiq2K3Yr9mK2K8g2KfZhNiz2YbYqSDYp9mE2K/Ysdin2LPZitipINmF2YYg2KfZhNmF2YTZgSDYp9mE2LTYrti12Yog2YTYudix2LYg2KfZhNin2K7Yqtio2KfYsdin2KouPC9kaXY+IjsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZmlsdGVyZWQgPSBhbGxFeGFtcy5maWx0ZXIoZXhhbSA9PiBleGFtLnllYXIgPT09IGN1cnJlbnRVc2VyRGF0YS55ZWFyICYmIGV4YW0udGVybSA9PT0gY3VycmVudFVzZXJEYXRhLnRlcm0pOwogICAgfQoKICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoZmlsdGVyZWQubGVuZ3RoIC8gSVRFTVNfUEVSX1BBR0UpKTsKICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gTWF0aC5tYXgoMSwgTWF0aC5taW4ocGFnZSwgdG90YWxQYWdlcykpOwogICAgY29uc3Qgc3RhcnQgPSAoY3VycmVudFBhZ2UgLSAxKSAqIElURU1TX1BFUl9QQUdFOwogICAgY29uc3QgcGFnZUV4YW1zID0gZmlsdGVyZWQuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgSVRFTVNfUEVSX1BBR0UpOwoKICAgIGV4YW1zR3JpZC5pbm5lckhUTUwgPSAiIjsKICAgIHBhZ2VFeGFtcy5mb3JFYWNoKGUgPT4gewogICAgICBjb25zdCBjYXJkID0gY3JlYXRlRXhhbUNhcmQoZSwgZS5pZCk7CiAgICAgIGV4YW1zR3JpZC5hcHBlbmRDaGlsZChjYXJkKTsKICAgIH0pOwoKICAgIC8vIHRvcCBwYWdlciBvbmx5CiAgICBsZXQgcGFnZXJUb3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVjZW50RXhhbXNQYWdlclRvcCIpOwogICAgaWYgKCFwYWdlclRvcCkgewogICAgICBwYWdlclRvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBwYWdlclRvcC5pZCA9ICJyZWNlbnRFeGFtc1BhZ2VyVG9wIjsKICAgICAgcGFnZXJUb3Auc3R5bGUgPSAiZGlzcGxheTpmbGV4O2dhcDoxMHB4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO21hcmdpbjo4cHggMDsiOwogICAgICBleGFtc0dyaWQucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUocGFnZXJUb3AsIGV4YW1zR3JpZCk7CiAgICB9CiAgICBwYWdlclRvcC5pbm5lckhUTUwgPSBgCiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tb3V0bGluZSIgaWQ9ImV4YW1zUHJldkJ0blRvcCIgJHtjdXJyZW50UGFnZSA9PT0gMSA/ICdkaXNhYmxlZCcgOiAnJ30+2KfZhNiz2KfYqNmCPC9idXR0b24+CiAgICAgIDxzcGFuIHN0eWxlPSJmb250LXdlaWdodDo3MDA7Y29sb3I6IzBhNzBmZjsiPti12YHYrdipICR7Y3VycmVudFBhZ2V9INmF2YYgJHt0b3RhbFBhZ2VzfTwvc3Bhbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lIiBpZD0iZXhhbXNOZXh0QnRuVG9wIiAke2N1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzID8gJ2Rpc2FibGVkJyA6ICcnfT7Yp9mE2KrYp9mE2Yo8L2J1dHRvbj4KICAgIGA7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXhhbXNQcmV2QnRuVG9wIikub25jbGljayA9ICgpID0+IGxvYWRSZWNlbnRFeGFtcyhjdXJyZW50UGFnZSAtIDEpOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImV4YW1zTmV4dEJ0blRvcCIpLm9uY2xpY2sgPSAoKSA9PiBsb2FkUmVjZW50RXhhbXMoY3VycmVudFBhZ2UgKyAxKTsKICB9KS5jYXRjaChlcnIgPT4gewogICAgZXhhbXNHcmlkLmlubmVySFRNTCA9ICI8cD7Yrdiv2Ksg2K7Yt9ijINij2KvZhtin2KEg2KrYrdmF2YrZhCDYp9mE2KfYrtiq2KjYp9ix2KfYqjogIiArIGVyci5tZXNzYWdlICsgIjwvcD4iOwogIH0pOwp9CgoKCgooZnVuY3Rpb24oKXsKICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdFVzQnRuJyk7CiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFjdFVzTW9kYWwnKTsKICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZUNvbnRhY3RVc01vZGFsJyk7CgogIGlmIChidG4gJiYgbW9kYWwpIHsKICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCcpOwogICAgY2xvc2VCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJyk7CiAgICAvLyDYpdi62YTYp9mCINi52YbYryDYp9mE2YbZgtixINiu2KfYsdisINin2YTZhdit2KrZiNmJCiAgICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7IGlmIChlLnRhcmdldCA9PT0gbW9kYWwpIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IH0pOwogIH0KfSkoKTsKLy8gLi4uZXhpc3RpbmcgY29kZS4uLgovLyDYr9mI2KfZhCDYsdmB2Lkg2YXZhNmB2KfYqiDYudin2YXYqSDYpdmE2YkgR29vZ2xlIERyaXZlICsg2LHYqNi3INin2YTYrdmC2YjZhCDYsNin2Kog2KfZhNi12YTYqQovLyAuLi5leGlzdGluZyBjb2RlLi4uCmZ1bmN0aW9uIGVuYWJsZUZpbGVVcGxvYWRPbklucHV0cygpIHsKICBpZiAod2luZG93Ll9sZXNzb25GaWxlVXBsb2FkSW5pdGlhbGl6ZWQpIHJldHVybjsKICB3aW5kb3cuX2xlc3NvbkZpbGVVcGxvYWRJbml0aWFsaXplZCA9IHRydWU7CgogIGxldCBjdXJyZW50VGFyZ2V0SW5wdXQgPSBudWxsOwogIGNvbnN0IGZpbGVQaWNrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogIGZpbGVQaWNrZXIudHlwZSA9ICdmaWxlJzsKICBmaWxlUGlja2VyLmFjY2VwdCA9ICcucGRmLGFwcGxpY2F0aW9uL3BkZic7CiAgZmlsZVBpY2tlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZmlsZVBpY2tlcik7CgogIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZpbGVVcGxvYWRGb3JJbnB1dChpbnB1dCwgZmlsZSkgewogICAgaWYgKCFpbnB1dCB8fCAhZmlsZSkgcmV0dXJuOwogICAgY29uc3Qgb2xkID0gaW5wdXQudmFsdWU7CiAgICBpbnB1dC52YWx1ZSA9ICfYrNin2LHZiiDYp9mE2LHZgdi5INil2YTZiSBEcml2ZS4uLic7CiAgICB0cnkgewogICAgICBjb25zb2xlLmluZm8oJ2hhbmRsZUZpbGVVcGxvYWRGb3JJbnB1dDogc3RhcnQgdXBsb2FkJywgZmlsZS5uYW1lKTsKICAgICAgY29uc3QgdXJsID0gYXdhaXQgdXBsb2FkRmlsZVRvR29vZ2xlRHJpdmUoZmlsZSk7CiAgICAgIGlucHV0LnZhbHVlID0gdXJsOwogICAgICBzaG93VG9hc3QoJ9iq2YUg2LHZgdi5INin2YTZhdmE2YEg2KXZhNmJIERyaXZlJywgJ3N1Y2Nlc3MnKTsKICAgICAgY29uc29sZS5pbmZvKCdoYW5kbGVGaWxlVXBsb2FkRm9ySW5wdXQ6IHVwbG9hZGVkLCB1cmw9JywgdXJsKTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICBjb25zb2xlLmVycm9yKCdoYW5kbGVGaWxlVXBsb2FkRm9ySW5wdXQgZXJyb3I6JywgZXJyKTsKICAgICAgaW5wdXQudmFsdWUgPSBvbGQ7CiAgICAgIHNob3dUb2FzdCgn2YHYtNmEINix2YHYuSDYp9mE2YXZhNmBINil2YTZiSBEcml2ZTogJyArIChlcnIubWVzc2FnZSB8fCAnJyksICdlcnJvcicpOwogICAgfQogIH0KCiAgLy8gZmlsZVBpY2tlciBjaGFuZ2UgLT4gdXBsb2FkCiAgZmlsZVBpY2tlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBhc3luYyAoZSkgPT4gewogICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07CiAgICBpZiAoIWZpbGUgfHwgIWN1cnJlbnRUYXJnZXRJbnB1dCkgeyBmaWxlUGlja2VyLnZhbHVlID0gJyc7IGN1cnJlbnRUYXJnZXRJbnB1dCA9IG51bGw7IHJldHVybjsgfQogICAgYXdhaXQgaGFuZGxlRmlsZVVwbG9hZEZvcklucHV0KGN1cnJlbnRUYXJnZXRJbnB1dCwgZmlsZSk7CiAgICBmaWxlUGlja2VyLnZhbHVlID0gJyc7CiAgICBjdXJyZW50VGFyZ2V0SW5wdXQgPSBudWxsOwogIH0pOwoKCgoKCgoKCgovLyAuLi5leGlzdGluZyBjb2RlLi4uCi8vIC4uLmV4aXN0aW5nIGNvZGUuLi4KICAgZnVuY3Rpb24gYXR0YWNoVXBsb2FkQnV0dG9uKGlucHV0KSB7CiAgICBpZiAoIWlucHV0IHx8IGlucHV0Ll91cGxvYWRCdG5BdHRhY2hlZCkgcmV0dXJuOwogICAgaW5wdXQuX3VwbG9hZEJ0bkF0dGFjaGVkID0gdHJ1ZTsKCiAgICB0cnkgewogICAgICBjb25zdCBwYXJlbnQgPSBpbnB1dC5wYXJlbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHk7CgogICAgICAvLyDYpdiw2Kcg2KfZhNit2YLZhCDYr9in2K7ZhCDYtdmBINmF2K7Ytdi1INmE2Kcg2YbZg9ix2LEg2KfZhNiq2LrZhNmK2YEKICAgICAgbGV0IHdyYXBwZXIgPSBwYXJlbnQ7CiAgICAgIGlmICghcGFyZW50LmNsYXNzTGlzdC5jb250YWlucyB8fCAhcGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnbGVzc29uLXVwbG9hZC1yb3cnKSkgewogICAgICAgIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdsZXNzb24tdXBsb2FkLXJvdyc7CiAgICAgICAgd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOwogICAgICAgIHdyYXBwZXIuc3R5bGUuZ2FwID0gJzhweCc7CiAgICAgICAgd3JhcHBlci5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7CiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh3cmFwcGVyLCBpbnB1dCk7CiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChpbnB1dCk7CiAgICAgIH0KCiAgICAgIC8vINmE2Kcg2KrZg9ix2LEg2KfZhNiy2LEKICAgICAgbGV0IGJ0biA9IHdyYXBwZXIucXVlcnlTZWxlY3RvcignLmxlc3Nvbi11cGxvYWQtYnRuJyk7CiAgICAgIGlmICghYnRuKSB7CiAgICAgICAgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7CiAgICAgICAgYnRuLnR5cGUgPSAnYnV0dG9uJzsKICAgICAgICBidG4uY2xhc3NOYW1lID0gJ2xlc3Nvbi11cGxvYWQtYnRuIGJ0biBidG4tb3V0bGluZSc7CiAgICAgICAgYnRuLnRleHRDb250ZW50ID0gJ9ix2YHYuSDZhdmE2YEnOwogICAgICAgIGJ0bi5zdHlsZS5taW5XaWR0aCA9ICc5NnB4JzsKICAgICAgICBidG4uc3R5bGUuZmxleCA9ICcwIDAgYXV0byc7CiAgICAgICAgYnRuLnN0eWxlLm1hcmdpbkxlZnQgPSAnOHB4JzsKICAgICAgICBidG4uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInOwogICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYnRuKTsKICAgICAgfQoKICAgICAgLy8g2K3Yr9irINin2YTZhtmC2LE6INiz2KzZhCDYp9mE2K/YrtmI2YQg2KPZiNmE2KfZiyDYq9mFINin2YHYqtitIGZpbGUgcGlja2VyCiAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChlKSA9PiB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGN1cnJlbnRUYXJnZXRJbnB1dCA9IGlucHV0OwogICAgICAgIHRyeSB7CiAgICAgICAgICAvLyDYt9mE2Kgg2KrZiNmD2YYg2KrZgdin2LnZhNmKINi22YXZhiDZhtmB2LMg2K3Yr9irINin2YTZhtmC2LEgKNmE2KrYrNmG2Kgg2K3YuNixINin2YTZhtmI2KfZgdiwKQogICAgICAgICAgYXdhaXQgZ29vZ2xlRHJpdmVTaWduSW4oKTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dvb2dsZURyaXZlU2lnbkluIGZhaWxlZCcsIGVycik7CiAgICAgICAgICBzaG93VG9hc3QoJ9mB2LTZhCDYqtiz2KzZitmEINin2YTYr9iu2YjZhCDYpdmE2YkgR29vZ2xlIERyaXZlOiAnICsgKGVyci5tZXNzYWdlIHx8ICcnKSwgJ2Vycm9yJyk7CiAgICAgICAgICBjdXJyZW50VGFyZ2V0SW5wdXQgPSBudWxsOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICAvLyDYqNi52K8g2YbYrNin2K0g2KfZhNiv2K7ZiNmEINin2YHYqtitINit2YjYp9ixINin2K7YqtmK2KfYsSDYp9mE2YXZhNmBCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZpbGVQaWNrZXIuY2xpY2soKTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZpbGVQaWNrZXIuY2xpY2sgZXJyb3InLCBlcnIpOwogICAgICAgICAgc2hvd1RvYXN0KCfZhNinINmK2YXZg9mGINmB2KrYrSDZhtin2YHYsNipINin2K7YqtmK2KfYsSDYp9mE2YXZhNmBOiAnICsgKGVyci5tZXNzYWdlIHx8ICcnKSwgJ2Vycm9yJyk7CiAgICAgICAgICBjdXJyZW50VGFyZ2V0SW5wdXQgPSBudWxsOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgY29uc29sZS5lcnJvcignYXR0YWNoVXBsb2FkQnV0dG9uIGVycm9yJywgZXJyKTsKICAgIH0KICB9CgogIC8vINmI2LXZhCDYp9mE2KPYstix2KfYsSDZhNmE2LnZhtin2LXYsSDYp9mE2K3Yp9mE2YrYqQogIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sZXNzb24tZG93bmxvYWQnKS5mb3JFYWNoKGlucHV0ID0+IGF0dGFjaFVwbG9hZEJ1dHRvbihpbnB1dCkpOwoKICAvLyDYsdin2YLYqCBET00g2YTYudmG2KfYtdixINmF2LPYqtmC2KjZhNmK2KkKICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dHMgPT4gewogICAgbXV0cy5mb3JFYWNoKG0gPT4gewogICAgICBtLmFkZGVkTm9kZXMgJiYgbS5hZGRlZE5vZGVzLmZvckVhY2gobm9kZSA9PiB7CiAgICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkgcmV0dXJuOwogICAgICAgIGlmIChub2RlLm1hdGNoZXMgJiYgbm9kZS5tYXRjaGVzKCcubGVzc29uLWRvd25sb2FkJykpIGF0dGFjaFVwbG9hZEJ1dHRvbihub2RlKTsKICAgICAgICBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwgJiYgbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCcubGVzc29uLWRvd25sb2FkJykuZm9yRWFjaChpID0+IGF0dGFjaFVwbG9hZEJ1dHRvbihpKSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSk7CiAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKCiAgLy8g2YTYtdmCINiu2YHZitmBICjYp9iu2KrZitin2LHZiikKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsIGFzeW5jIChlKSA9PiB7CiAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDsKICAgIGlmICghdGFyZ2V0IHx8ICF0YXJnZXQuY2xhc3NMaXN0IHx8ICF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsZXNzb24tZG93bmxvYWQnKSkgcmV0dXJuOwogICAgdHJ5IHsKICAgICAgY29uc3QgaXRlbXMgPSAoZS5jbGlwYm9hcmREYXRhIHx8IHdpbmRvdy5jbGlwYm9hcmREYXRhKT8uaXRlbXMgfHwgW107CiAgICAgIGZvciAobGV0IGl0IG9mIGl0ZW1zKSB7CiAgICAgICAgaWYgKGl0LmtpbmQgPT09ICdmaWxlJykgewogICAgICAgICAgY29uc3QgZmlsZSA9IGl0LmdldEFzRmlsZSgpOwogICAgICAgICAgaWYgKCFmaWxlKSBjb250aW51ZTsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIGF3YWl0IGhhbmRsZUZpbGVVcGxvYWRGb3JJbnB1dCh0YXJnZXQsIGZpbGUpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsgY29uc29sZS5lcnJvcigncGFzdGUgaGFuZGxlciBlcnJvcjonLCBlcnIpOyB9CiAgfSk7Cn0KCgoKCgo8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+'))));</script>